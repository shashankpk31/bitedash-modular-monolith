(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))o(u);new MutationObserver(u=>{for(const h of u)if(h.type==="childList")for(const p of h.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&o(p)}).observe(document,{childList:!0,subtree:!0});function i(u){const h={};return u.integrity&&(h.integrity=u.integrity),u.referrerPolicy&&(h.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?h.credentials="include":u.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function o(u){if(u.ep)return;u.ep=!0;const h=i(u);fetch(u.href,h)}})();function eE(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var j1={exports:{}},wc={};var fb;function t6(){if(fb)return wc;fb=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(o,u,h){var p=null;if(h!==void 0&&(p=""+h),u.key!==void 0&&(p=""+u.key),"key"in u){h={};for(var x in u)x!=="key"&&(h[x]=u[x])}else h=u;return u=h.ref,{$$typeof:e,type:o,key:p,ref:u!==void 0?u:null,props:h}}return wc.Fragment=t,wc.jsx=i,wc.jsxs=i,wc}var mb;function n6(){return mb||(mb=1,j1.exports=t6()),j1.exports}var m=n6(),L1={exports:{}},et={};var gb;function r6(){if(gb)return et;gb=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),p=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),b=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),R=Symbol.iterator;function _($){return $===null||typeof $!="object"?null:($=R&&$[R]||$["@@iterator"],typeof $=="function"?$:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,P={};function Y($,ge,Me){this.props=$,this.context=ge,this.refs=P,this.updater=Me||D}Y.prototype.isReactComponent={},Y.prototype.setState=function($,ge){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,ge,"setState")},Y.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function j(){}j.prototype=Y.prototype;function U($,ge,Me){this.props=$,this.context=ge,this.refs=P,this.updater=Me||D}var V=U.prototype=new j;V.constructor=U,L(V,Y.prototype),V.isPureReactComponent=!0;var I=Array.isArray;function X(){}var z={H:null,A:null,T:null,S:null},H=Object.prototype.hasOwnProperty;function Q($,ge,Me){var _e=Me.ref;return{$$typeof:e,type:$,key:ge,ref:_e!==void 0?_e:null,props:Me}}function Ee($,ge){return Q($.type,ge,$.props)}function ae($){return typeof $=="object"&&$!==null&&$.$$typeof===e}function ve($){var ge={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(Me){return ge[Me]})}var me=/\/+/g;function Le($,ge){return typeof $=="object"&&$!==null&&$.key!=null?ve(""+$.key):ge.toString(36)}function ne($){switch($.status){case"fulfilled":return $.value;case"rejected":throw $.reason;default:switch(typeof $.status=="string"?$.then(X,X):($.status="pending",$.then(function(ge){$.status==="pending"&&($.status="fulfilled",$.value=ge)},function(ge){$.status==="pending"&&($.status="rejected",$.reason=ge)})),$.status){case"fulfilled":return $.value;case"rejected":throw $.reason}}throw $}function ie($,ge,Me,_e,Ze){var Ie=typeof $;(Ie==="undefined"||Ie==="boolean")&&($=null);var yt=!1;if($===null)yt=!0;else switch(Ie){case"bigint":case"string":case"number":yt=!0;break;case"object":switch($.$$typeof){case e:case t:yt=!0;break;case E:return yt=$._init,ie(yt($._payload),ge,Me,_e,Ze)}}if(yt)return Ze=Ze($),yt=_e===""?"."+Le($,0):_e,I(Ze)?(Me="",yt!=null&&(Me=yt.replace(me,"$&/")+"/"),ie(Ze,ge,Me,"",function(vi){return vi})):Ze!=null&&(ae(Ze)&&(Ze=Ee(Ze,Me+(Ze.key==null||$&&$.key===Ze.key?"":(""+Ze.key).replace(me,"$&/")+"/")+yt)),ge.push(Ze)),1;yt=0;var bt=_e===""?".":_e+":";if(I($))for(var Ht=0;Ht<$.length;Ht++)_e=$[Ht],Ie=bt+Le(_e,Ht),yt+=ie(_e,ge,Me,Ie,Ze);else if(Ht=_($),typeof Ht=="function")for($=Ht.call($),Ht=0;!(_e=$.next()).done;)_e=_e.value,Ie=bt+Le(_e,Ht++),yt+=ie(_e,ge,Me,Ie,Ze);else if(Ie==="object"){if(typeof $.then=="function")return ie(ne($),ge,Me,_e,Ze);throw ge=String($),Error("Objects are not valid as a React child (found: "+(ge==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":ge)+"). If you meant to render a collection of children, use an array instead.")}return yt}function ue($,ge,Me){if($==null)return $;var _e=[],Ze=0;return ie($,_e,"","",function(Ie){return ge.call(Me,Ie,Ze++)}),_e}function xe($){if($._status===-1){var ge=$._result;ge=ge(),ge.then(function(Me){($._status===0||$._status===-1)&&($._status=1,$._result=Me)},function(Me){($._status===0||$._status===-1)&&($._status=2,$._result=Me)}),$._status===-1&&($._status=0,$._result=ge)}if($._status===1)return $._result.default;throw $._result}var ke=typeof reportError=="function"?reportError:function($){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ge=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof $=="object"&&$!==null&&typeof $.message=="string"?String($.message):String($),error:$});if(!window.dispatchEvent(ge))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",$);return}console.error($)},ye={map:ue,forEach:function($,ge,Me){ue($,function(){ge.apply(this,arguments)},Me)},count:function($){var ge=0;return ue($,function(){ge++}),ge},toArray:function($){return ue($,function(ge){return ge})||[]},only:function($){if(!ae($))throw Error("React.Children.only expected to receive a single React element child.");return $}};return et.Activity=S,et.Children=ye,et.Component=Y,et.Fragment=i,et.Profiler=u,et.PureComponent=U,et.StrictMode=o,et.Suspense=w,et.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=z,et.__COMPILER_RUNTIME={__proto__:null,c:function($){return z.H.useMemoCache($)}},et.cache=function($){return function(){return $.apply(null,arguments)}},et.cacheSignal=function(){return null},et.cloneElement=function($,ge,Me){if($==null)throw Error("The argument must be a React element, but you passed "+$+".");var _e=L({},$.props),Ze=$.key;if(ge!=null)for(Ie in ge.key!==void 0&&(Ze=""+ge.key),ge)!H.call(ge,Ie)||Ie==="key"||Ie==="__self"||Ie==="__source"||Ie==="ref"&&ge.ref===void 0||(_e[Ie]=ge[Ie]);var Ie=arguments.length-2;if(Ie===1)_e.children=Me;else if(1<Ie){for(var yt=Array(Ie),bt=0;bt<Ie;bt++)yt[bt]=arguments[bt+2];_e.children=yt}return Q($.type,Ze,_e)},et.createContext=function($){return $={$$typeof:p,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null},$.Provider=$,$.Consumer={$$typeof:h,_context:$},$},et.createElement=function($,ge,Me){var _e,Ze={},Ie=null;if(ge!=null)for(_e in ge.key!==void 0&&(Ie=""+ge.key),ge)H.call(ge,_e)&&_e!=="key"&&_e!=="__self"&&_e!=="__source"&&(Ze[_e]=ge[_e]);var yt=arguments.length-2;if(yt===1)Ze.children=Me;else if(1<yt){for(var bt=Array(yt),Ht=0;Ht<yt;Ht++)bt[Ht]=arguments[Ht+2];Ze.children=bt}if($&&$.defaultProps)for(_e in yt=$.defaultProps,yt)Ze[_e]===void 0&&(Ze[_e]=yt[_e]);return Q($,Ie,Ze)},et.createRef=function(){return{current:null}},et.forwardRef=function($){return{$$typeof:x,render:$}},et.isValidElement=ae,et.lazy=function($){return{$$typeof:E,_payload:{_status:-1,_result:$},_init:xe}},et.memo=function($,ge){return{$$typeof:b,type:$,compare:ge===void 0?null:ge}},et.startTransition=function($){var ge=z.T,Me={};z.T=Me;try{var _e=$(),Ze=z.S;Ze!==null&&Ze(Me,_e),typeof _e=="object"&&_e!==null&&typeof _e.then=="function"&&_e.then(X,ke)}catch(Ie){ke(Ie)}finally{ge!==null&&Me.types!==null&&(ge.types=Me.types),z.T=ge}},et.unstable_useCacheRefresh=function(){return z.H.useCacheRefresh()},et.use=function($){return z.H.use($)},et.useActionState=function($,ge,Me){return z.H.useActionState($,ge,Me)},et.useCallback=function($,ge){return z.H.useCallback($,ge)},et.useContext=function($){return z.H.useContext($)},et.useDebugValue=function(){},et.useDeferredValue=function($,ge){return z.H.useDeferredValue($,ge)},et.useEffect=function($,ge){return z.H.useEffect($,ge)},et.useEffectEvent=function($){return z.H.useEffectEvent($)},et.useId=function(){return z.H.useId()},et.useImperativeHandle=function($,ge,Me){return z.H.useImperativeHandle($,ge,Me)},et.useInsertionEffect=function($,ge){return z.H.useInsertionEffect($,ge)},et.useLayoutEffect=function($,ge){return z.H.useLayoutEffect($,ge)},et.useMemo=function($,ge){return z.H.useMemo($,ge)},et.useOptimistic=function($,ge){return z.H.useOptimistic($,ge)},et.useReducer=function($,ge,Me){return z.H.useReducer($,ge,Me)},et.useRef=function($){return z.H.useRef($)},et.useState=function($){return z.H.useState($)},et.useSyncExternalStore=function($,ge,Me){return z.H.useSyncExternalStore($,ge,Me)},et.useTransition=function(){return z.H.useTransition()},et.version="19.2.4",et}var pb;function rg(){return pb||(pb=1,L1.exports=r6()),L1.exports}var F=rg();const en=eE(F);var B1={exports:{}},Ec={},k1={exports:{}},P1={};var yb;function i6(){return yb||(yb=1,(function(e){function t(ie,ue){var xe=ie.length;ie.push(ue);e:for(;0<xe;){var ke=xe-1>>>1,ye=ie[ke];if(0<u(ye,ue))ie[ke]=ue,ie[xe]=ye,xe=ke;else break e}}function i(ie){return ie.length===0?null:ie[0]}function o(ie){if(ie.length===0)return null;var ue=ie[0],xe=ie.pop();if(xe!==ue){ie[0]=xe;e:for(var ke=0,ye=ie.length,$=ye>>>1;ke<$;){var ge=2*(ke+1)-1,Me=ie[ge],_e=ge+1,Ze=ie[_e];if(0>u(Me,xe))_e<ye&&0>u(Ze,Me)?(ie[ke]=Ze,ie[_e]=xe,ke=_e):(ie[ke]=Me,ie[ge]=xe,ke=ge);else if(_e<ye&&0>u(Ze,xe))ie[ke]=Ze,ie[_e]=xe,ke=_e;else break e}}return ue}function u(ie,ue){var xe=ie.sortIndex-ue.sortIndex;return xe!==0?xe:ie.id-ue.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;e.unstable_now=function(){return h.now()}}else{var p=Date,x=p.now();e.unstable_now=function(){return p.now()-x}}var w=[],b=[],E=1,S=null,R=3,_=!1,D=!1,L=!1,P=!1,Y=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;function V(ie){for(var ue=i(b);ue!==null;){if(ue.callback===null)o(b);else if(ue.startTime<=ie)o(b),ue.sortIndex=ue.expirationTime,t(w,ue);else break;ue=i(b)}}function I(ie){if(L=!1,V(ie),!D)if(i(w)!==null)D=!0,X||(X=!0,ve());else{var ue=i(b);ue!==null&&ne(I,ue.startTime-ie)}}var X=!1,z=-1,H=5,Q=-1;function Ee(){return P?!0:!(e.unstable_now()-Q<H)}function ae(){if(P=!1,X){var ie=e.unstable_now();Q=ie;var ue=!0;try{e:{D=!1,L&&(L=!1,j(z),z=-1),_=!0;var xe=R;try{t:{for(V(ie),S=i(w);S!==null&&!(S.expirationTime>ie&&Ee());){var ke=S.callback;if(typeof ke=="function"){S.callback=null,R=S.priorityLevel;var ye=ke(S.expirationTime<=ie);if(ie=e.unstable_now(),typeof ye=="function"){S.callback=ye,V(ie),ue=!0;break t}S===i(w)&&o(w),V(ie)}else o(w);S=i(w)}if(S!==null)ue=!0;else{var $=i(b);$!==null&&ne(I,$.startTime-ie),ue=!1}}break e}finally{S=null,R=xe,_=!1}ue=void 0}}finally{ue?ve():X=!1}}}var ve;if(typeof U=="function")ve=function(){U(ae)};else if(typeof MessageChannel<"u"){var me=new MessageChannel,Le=me.port2;me.port1.onmessage=ae,ve=function(){Le.postMessage(null)}}else ve=function(){Y(ae,0)};function ne(ie,ue){z=Y(function(){ie(e.unstable_now())},ue)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ie){ie.callback=null},e.unstable_forceFrameRate=function(ie){0>ie||125<ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<ie?Math.floor(1e3/ie):5},e.unstable_getCurrentPriorityLevel=function(){return R},e.unstable_next=function(ie){switch(R){case 1:case 2:case 3:var ue=3;break;default:ue=R}var xe=R;R=ue;try{return ie()}finally{R=xe}},e.unstable_requestPaint=function(){P=!0},e.unstable_runWithPriority=function(ie,ue){switch(ie){case 1:case 2:case 3:case 4:case 5:break;default:ie=3}var xe=R;R=ie;try{return ue()}finally{R=xe}},e.unstable_scheduleCallback=function(ie,ue,xe){var ke=e.unstable_now();switch(typeof xe=="object"&&xe!==null?(xe=xe.delay,xe=typeof xe=="number"&&0<xe?ke+xe:ke):xe=ke,ie){case 1:var ye=-1;break;case 2:ye=250;break;case 5:ye=1073741823;break;case 4:ye=1e4;break;default:ye=5e3}return ye=xe+ye,ie={id:E++,callback:ue,priorityLevel:ie,startTime:xe,expirationTime:ye,sortIndex:-1},xe>ke?(ie.sortIndex=xe,t(b,ie),i(w)===null&&ie===i(b)&&(L?(j(z),z=-1):L=!0,ne(I,xe-ke))):(ie.sortIndex=ye,t(w,ie),D||_||(D=!0,X||(X=!0,ve()))),ie},e.unstable_shouldYield=Ee,e.unstable_wrapCallback=function(ie){var ue=R;return function(){var xe=R;R=ue;try{return ie.apply(this,arguments)}finally{R=xe}}}})(P1)),P1}var bb;function s6(){return bb||(bb=1,k1.exports=i6()),k1.exports}var U1={exports:{}},rr={};var vb;function a6(){if(vb)return rr;vb=1;var e=rg();function t(w){var b="https://react.dev/errors/"+w;if(1<arguments.length){b+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)b+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+w+"; visit "+b+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var o={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},u=Symbol.for("react.portal");function h(w,b,E){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:S==null?null:""+S,children:w,containerInfo:b,implementation:E}}var p=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function x(w,b){if(w==="font")return"";if(typeof b=="string")return b==="use-credentials"?b:""}return rr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,rr.createPortal=function(w,b){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!b||b.nodeType!==1&&b.nodeType!==9&&b.nodeType!==11)throw Error(t(299));return h(w,b,null,E)},rr.flushSync=function(w){var b=p.T,E=o.p;try{if(p.T=null,o.p=2,w)return w()}finally{p.T=b,o.p=E,o.d.f()}},rr.preconnect=function(w,b){typeof w=="string"&&(b?(b=b.crossOrigin,b=typeof b=="string"?b==="use-credentials"?b:"":void 0):b=null,o.d.C(w,b))},rr.prefetchDNS=function(w){typeof w=="string"&&o.d.D(w)},rr.preinit=function(w,b){if(typeof w=="string"&&b&&typeof b.as=="string"){var E=b.as,S=x(E,b.crossOrigin),R=typeof b.integrity=="string"?b.integrity:void 0,_=typeof b.fetchPriority=="string"?b.fetchPriority:void 0;E==="style"?o.d.S(w,typeof b.precedence=="string"?b.precedence:void 0,{crossOrigin:S,integrity:R,fetchPriority:_}):E==="script"&&o.d.X(w,{crossOrigin:S,integrity:R,fetchPriority:_,nonce:typeof b.nonce=="string"?b.nonce:void 0})}},rr.preinitModule=function(w,b){if(typeof w=="string")if(typeof b=="object"&&b!==null){if(b.as==null||b.as==="script"){var E=x(b.as,b.crossOrigin);o.d.M(w,{crossOrigin:E,integrity:typeof b.integrity=="string"?b.integrity:void 0,nonce:typeof b.nonce=="string"?b.nonce:void 0})}}else b==null&&o.d.M(w)},rr.preload=function(w,b){if(typeof w=="string"&&typeof b=="object"&&b!==null&&typeof b.as=="string"){var E=b.as,S=x(E,b.crossOrigin);o.d.L(w,E,{crossOrigin:S,integrity:typeof b.integrity=="string"?b.integrity:void 0,nonce:typeof b.nonce=="string"?b.nonce:void 0,type:typeof b.type=="string"?b.type:void 0,fetchPriority:typeof b.fetchPriority=="string"?b.fetchPriority:void 0,referrerPolicy:typeof b.referrerPolicy=="string"?b.referrerPolicy:void 0,imageSrcSet:typeof b.imageSrcSet=="string"?b.imageSrcSet:void 0,imageSizes:typeof b.imageSizes=="string"?b.imageSizes:void 0,media:typeof b.media=="string"?b.media:void 0})}},rr.preloadModule=function(w,b){if(typeof w=="string")if(b){var E=x(b.as,b.crossOrigin);o.d.m(w,{as:typeof b.as=="string"&&b.as!=="script"?b.as:void 0,crossOrigin:E,integrity:typeof b.integrity=="string"?b.integrity:void 0})}else o.d.m(w)},rr.requestFormReset=function(w){o.d.r(w)},rr.unstable_batchedUpdates=function(w,b){return w(b)},rr.useFormState=function(w,b,E){return p.H.useFormState(w,b,E)},rr.useFormStatus=function(){return p.H.useHostTransitionStatus()},rr.version="19.2.4",rr}var xb;function o6(){if(xb)return U1.exports;xb=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),U1.exports=a6(),U1.exports}var wb;function l6(){if(wb)return Ec;wb=1;var e=s6(),t=rg(),i=o6();function o(n){var s="https://react.dev/errors/"+n;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)s+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function h(n){var s=n,c=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(c=s.return),n=s.return;while(n)}return s.tag===3?c:null}function p(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function x(n){if(n.tag===31){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function w(n){if(h(n)!==n)throw Error(o(188))}function b(n){var s=n.alternate;if(!s){if(s=h(n),s===null)throw Error(o(188));return s!==n?null:n}for(var c=n,g=s;;){var C=c.return;if(C===null)break;var N=C.alternate;if(N===null){if(g=C.return,g!==null){c=g;continue}break}if(C.child===N.child){for(N=C.child;N;){if(N===c)return w(C),n;if(N===g)return w(C),s;N=N.sibling}throw Error(o(188))}if(c.return!==g.return)c=C,g=N;else{for(var M=!1,G=C.child;G;){if(G===c){M=!0,c=C,g=N;break}if(G===g){M=!0,g=C,c=N;break}G=G.sibling}if(!M){for(G=N.child;G;){if(G===c){M=!0,c=N,g=C;break}if(G===g){M=!0,g=N,c=C;break}G=G.sibling}if(!M)throw Error(o(189))}}if(c.alternate!==g)throw Error(o(190))}if(c.tag!==3)throw Error(o(188));return c.stateNode.current===c?n:s}function E(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n;for(n=n.child;n!==null;){if(s=E(n),s!==null)return s;n=n.sibling}return null}var S=Object.assign,R=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),Y=Symbol.for("react.profiler"),j=Symbol.for("react.consumer"),U=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),X=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),H=Symbol.for("react.lazy"),Q=Symbol.for("react.activity"),Ee=Symbol.for("react.memo_cache_sentinel"),ae=Symbol.iterator;function ve(n){return n===null||typeof n!="object"?null:(n=ae&&n[ae]||n["@@iterator"],typeof n=="function"?n:null)}var me=Symbol.for("react.client.reference");function Le(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===me?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case L:return"Fragment";case Y:return"Profiler";case P:return"StrictMode";case I:return"Suspense";case X:return"SuspenseList";case Q:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case D:return"Portal";case U:return n.displayName||"Context";case j:return(n._context.displayName||"Context")+".Consumer";case V:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case z:return s=n.displayName||null,s!==null?s:Le(n.type)||"Memo";case H:s=n._payload,n=n._init;try{return Le(n(s))}catch{}}return null}var ne=Array.isArray,ie=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,xe={pending:!1,data:null,method:null,action:null},ke=[],ye=-1;function $(n){return{current:n}}function ge(n){0>ye||(n.current=ke[ye],ke[ye]=null,ye--)}function Me(n,s){ye++,ke[ye]=n.current,n.current=s}var _e=$(null),Ze=$(null),Ie=$(null),yt=$(null);function bt(n,s){switch(Me(Ie,s),Me(Ze,n),Me(_e,null),s.nodeType){case 9:case 11:n=(n=s.documentElement)&&(n=n.namespaceURI)?B2(n):0;break;default:if(n=s.tagName,s=s.namespaceURI)s=B2(s),n=k2(s,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}ge(_e),Me(_e,n)}function Ht(){ge(_e),ge(Ze),ge(Ie)}function vi(n){n.memoizedState!==null&&Me(yt,n);var s=_e.current,c=k2(s,n.type);s!==c&&(Me(Ze,n),Me(_e,c))}function Ln(n){Ze.current===n&&(ge(_e),ge(Ze)),yt.current===n&&(ge(yt),yc._currentValue=xe)}var js,vt;function xr(n){if(js===void 0)try{throw Error()}catch(c){var s=c.stack.trim().match(/\n( *(at )?)/);js=s&&s[1]||"",vt=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+js+n+vt}var wr=!1;function rs(n,s){if(!n||wr)return"";wr=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var g={DetermineComponentFrameRoot:function(){try{if(s){var Se=function(){throw Error()};if(Object.defineProperty(Se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Se,[])}catch(be){var de=be}Reflect.construct(n,[],Se)}else{try{Se.call()}catch(be){de=be}n.call(Se.prototype)}}else{try{throw Error()}catch(be){de=be}(Se=n())&&typeof Se.catch=="function"&&Se.catch(function(){})}}catch(be){if(be&&de&&typeof be.stack=="string")return[be.stack,de.stack]}return[null,null]}};g.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var C=Object.getOwnPropertyDescriptor(g.DetermineComponentFrameRoot,"name");C&&C.configurable&&Object.defineProperty(g.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var N=g.DetermineComponentFrameRoot(),M=N[0],G=N[1];if(M&&G){var K=M.split(`
`),ce=G.split(`
`);for(C=g=0;g<K.length&&!K[g].includes("DetermineComponentFrameRoot");)g++;for(;C<ce.length&&!ce[C].includes("DetermineComponentFrameRoot");)C++;if(g===K.length||C===ce.length)for(g=K.length-1,C=ce.length-1;1<=g&&0<=C&&K[g]!==ce[C];)C--;for(;1<=g&&0<=C;g--,C--)if(K[g]!==ce[C]){if(g!==1||C!==1)do if(g--,C--,0>C||K[g]!==ce[C]){var we=`
`+K[g].replace(" at new "," at ");return n.displayName&&we.includes("<anonymous>")&&(we=we.replace("<anonymous>",n.displayName)),we}while(1<=g&&0<=C);break}}}finally{wr=!1,Error.prepareStackTrace=c}return(c=n?n.displayName||n.name:"")?xr(c):""}function Bn(n,s){switch(n.tag){case 26:case 27:case 5:return xr(n.type);case 16:return xr("Lazy");case 13:return n.child!==s&&s!==null?xr("Suspense Fallback"):xr("Suspense");case 19:return xr("SuspenseList");case 0:case 15:return rs(n.type,!1);case 11:return rs(n.type.render,!1);case 1:return rs(n.type,!0);case 31:return xr("Activity");default:return""}}function jt(n){try{var s="",c=null;do s+=Bn(n,c),c=n,n=n.return;while(n);return s}catch(g){return`
Error generating stack: `+g.message+`
`+g.stack}}var ot=Object.prototype.hasOwnProperty,Ls=e.unstable_scheduleCallback,ze=e.unstable_cancelCallback,vo=e.unstable_shouldYield,lu=e.unstable_requestPaint,on=e.unstable_now,Rl=e.unstable_getCurrentPriorityLevel,Er=e.unstable_ImmediatePriority,Ol=e.unstable_UserBlockingPriority,Lr=e.unstable_NormalPriority,Wn=e.unstable_LowPriority,Ml=e.unstable_IdlePriority,xo=e.log,Ph=e.unstable_setDisableYieldValue,Wt=null,Oe=null;function Ut(n){if(typeof xo=="function"&&Ph(n),Oe&&typeof Oe.setStrictMode=="function")try{Oe.setStrictMode(Wt,n)}catch{}}var nt=Math.clz32?Math.clz32:Il,nn=Math.log,Ia=Math.LN2;function Il(n){return n>>>=0,n===0?32:31-(nn(n)/Ia|0)|0}var _a=256,ht=262144,Jr=4194304;function ki(n){var s=n&42;if(s!==0)return s;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Da(n,s,c){var g=n.pendingLanes;if(g===0)return 0;var C=0,N=n.suspendedLanes,M=n.pingedLanes;n=n.warmLanes;var G=g&134217727;return G!==0?(g=G&~N,g!==0?C=ki(g):(M&=G,M!==0?C=ki(M):c||(c=G&~n,c!==0&&(C=ki(c))))):(G=g&~N,G!==0?C=ki(G):M!==0?C=ki(M):c||(c=g&~n,c!==0&&(C=ki(c)))),C===0?0:s!==0&&s!==C&&(s&N)===0&&(N=C&-C,c=s&-s,N>=c||N===32&&(c&4194048)!==0)?s:C}function Qn(n,s){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&s)===0}function _l(n,s){switch(n){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function kn(){var n=Jr;return Jr<<=1,(Jr&62914560)===0&&(Jr=4194304),n}function Pi(n){for(var s=[],c=0;31>c;c++)s.push(n);return s}function Ui(n,s){n.pendingLanes|=s,s!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function ei(n,s,c,g,C,N){var M=n.pendingLanes;n.pendingLanes=c,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=c,n.entangledLanes&=c,n.errorRecoveryDisabledLanes&=c,n.shellSuspendCounter=0;var G=n.entanglements,K=n.expirationTimes,ce=n.hiddenUpdates;for(c=M&~c;0<c;){var we=31-nt(c),Se=1<<we;G[we]=0,K[we]=-1;var de=ce[we];if(de!==null)for(ce[we]=null,we=0;we<de.length;we++){var be=de[we];be!==null&&(be.lane&=-536870913)}c&=~Se}g!==0&&cu(n,g,0),N!==0&&C===0&&n.tag!==0&&(n.suspendedLanes|=N&~(M&~s))}function cu(n,s,c){n.pendingLanes|=s,n.suspendedLanes&=~s;var g=31-nt(s);n.entangledLanes|=s,n.entanglements[g]=n.entanglements[g]|1073741824|c&261930}function zi(n,s){var c=n.entangledLanes|=s;for(n=n.entanglements;c;){var g=31-nt(c),C=1<<g;C&s|n[g]&s&&(n[g]|=s),c&=~C}}function wo(n,s){var c=s&-s;return c=(c&42)!==0?1:Gn(c),(c&(n.suspendedLanes|s))!==0?0:c}function Gn(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function xi(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function lr(){var n=ue.p;return n!==0?n:(n=window.event,n===void 0?32:ab(n.type))}function Be(n,s){var c=ue.p;try{return ue.p=n,s()}finally{ue.p=c}}var cr=Math.random().toString(36).slice(2),xn="__reactFiber$"+cr,Lt="__reactProps$"+cr,Br="__reactContainer$"+cr,Bs="__reactEvents$"+cr,Eo="__reactListeners$"+cr,ti="__reactHandles$"+cr,uu="__reactResources$"+cr,ja="__reactMarker$"+cr;function Cr(n){delete n[xn],delete n[Lt],delete n[Bs],delete n[Eo],delete n[ti]}function hn(n){var s=n[xn];if(s)return s;for(var c=n.parentNode;c;){if(s=c[Br]||c[xn]){if(c=s.alternate,s.child!==null||c!==null&&c.child!==null)for(n=q2(n);n!==null;){if(c=n[xn])return c;n=q2(n)}return s}n=c,c=n.parentNode}return null}function Nt(n){if(n=n[xn]||n[Br]){var s=n.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return n}return null}function ks(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n.stateNode;throw Error(o(33))}function ur(n){var s=n[uu];return s||(s=n[uu]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function fn(n){n[ja]=!0}var Ae=new Set,du={};function It(n,s){kr(n,s),kr(n+"Capture",s)}function kr(n,s){for(du[n]=s,n=0;n<s.length;n++)Ae.add(s[n])}var Uh=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),wt={},xt={};function lt(n){return ot.call(xt,n)?!0:ot.call(wt,n)?!1:Uh.test(n)?xt[n]=!0:(wt[n]=!0,!1)}function Ps(n,s,c){if(lt(s))if(c===null)n.removeAttribute(s);else{switch(typeof c){case"undefined":case"function":case"symbol":n.removeAttribute(s);return;case"boolean":var g=s.toLowerCase().slice(0,5);if(g!=="data-"&&g!=="aria-"){n.removeAttribute(s);return}}n.setAttribute(s,""+c)}}function Us(n,s,c){if(c===null)n.removeAttribute(s);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttribute(s,""+c)}}function Pr(n,s,c,g){if(g===null)n.removeAttribute(c);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(c);return}n.setAttributeNS(s,c,""+g)}}function Et(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function wi(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function zh(n,s,c){var g=Object.getOwnPropertyDescriptor(n.constructor.prototype,s);if(!n.hasOwnProperty(s)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var C=g.get,N=g.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return C.call(this)},set:function(M){c=""+M,N.call(this,M)}}),Object.defineProperty(n,s,{enumerable:g.enumerable}),{getValue:function(){return c},setValue:function(M){c=""+M},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function Zt(n){if(!n._valueTracker){var s=wi(n)?"checked":"value";n._valueTracker=zh(n,s,""+n[s])}}function Ei(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var c=s.getValue(),g="";return n&&(g=wi(n)?n.checked?"true":"false":n.value),n=g,n!==c?(s.setValue(n),!0):!1}function Co(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var zs=/[\n"\\]/g;function at(n){return n.replace(zs,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Tn(n,s,c,g,C,N,M,G){n.name="",M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?n.type=M:n.removeAttribute("type"),s!=null?M==="number"?(s===0&&n.value===""||n.value!=s)&&(n.value=""+Et(s)):n.value!==""+Et(s)&&(n.value=""+Et(s)):M!=="submit"&&M!=="reset"||n.removeAttribute("value"),s!=null?W(n,M,Et(s)):c!=null?W(n,M,Et(c)):g!=null&&n.removeAttribute("value"),C==null&&N!=null&&(n.defaultChecked=!!N),C!=null&&(n.checked=C&&typeof C!="function"&&typeof C!="symbol"),G!=null&&typeof G!="function"&&typeof G!="symbol"&&typeof G!="boolean"?n.name=""+Et(G):n.removeAttribute("name")}function oe(n,s,c,g,C,N,M,G){if(N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(n.type=N),s!=null||c!=null){if(!(N!=="submit"&&N!=="reset"||s!=null)){Zt(n);return}c=c!=null?""+Et(c):"",s=s!=null?""+Et(s):c,G||s===n.value||(n.value=s),n.defaultValue=s}g=g??C,g=typeof g!="function"&&typeof g!="symbol"&&!!g,n.checked=G?n.checked:!!g,n.defaultChecked=!!g,M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"&&(n.name=M),Zt(n)}function W(n,s,c){s==="number"&&Co(n.ownerDocument)===n||n.defaultValue===""+c||(n.defaultValue=""+c)}function He(n,s,c,g){if(n=n.options,s){s={};for(var C=0;C<c.length;C++)s["$"+c[C]]=!0;for(c=0;c<n.length;c++)C=s.hasOwnProperty("$"+n[c].value),n[c].selected!==C&&(n[c].selected=C),C&&g&&(n[c].defaultSelected=!0)}else{for(c=""+Et(c),s=null,C=0;C<n.length;C++){if(n[C].value===c){n[C].selected=!0,g&&(n[C].defaultSelected=!0);return}s!==null||n[C].disabled||(s=n[C])}s!==null&&(s.selected=!0)}}function wn(n,s,c){if(s!=null&&(s=""+Et(s),s!==n.value&&(n.value=s),c==null)){n.defaultValue!==s&&(n.defaultValue=s);return}n.defaultValue=c!=null?""+Et(c):""}function dr(n,s,c,g){if(s==null){if(g!=null){if(c!=null)throw Error(o(92));if(ne(g)){if(1<g.length)throw Error(o(93));g=g[0]}c=g}c==null&&(c=""),s=c}c=Et(s),n.defaultValue=c,g=n.textContent,g===c&&g!==""&&g!==null&&(n.value=g),Zt(n)}function Fs(n,s){if(s){var c=n.firstChild;if(c&&c===n.lastChild&&c.nodeType===3){c.nodeValue=s;return}}n.textContent=s}var Dl=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function hr(n,s,c){var g=s.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?g?n.setProperty(s,""):s==="float"?n.cssFloat="":n[s]="":g?n.setProperty(s,c):typeof c!="number"||c===0||Dl.has(s)?s==="float"?n.cssFloat=c:n[s]=(""+c).trim():n[s]=c+"px"}function Ge(n,s,c){if(s!=null&&typeof s!="object")throw Error(o(62));if(n=n.style,c!=null){for(var g in c)!c.hasOwnProperty(g)||s!=null&&s.hasOwnProperty(g)||(g.indexOf("--")===0?n.setProperty(g,""):g==="float"?n.cssFloat="":n[g]="");for(var C in s)g=s[C],s.hasOwnProperty(C)&&c[C]!==g&&hr(n,C,g)}else for(var N in s)s.hasOwnProperty(N)&&hr(n,N,s[N])}function qt(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Fh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Vs(n){return Fh.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function Sr(){}var La=null;function jl(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Kt=null,ni=null;function Ci(n){var s=Nt(n);if(s&&(n=s.stateNode)){var c=n[Lt]||null;e:switch(n=s.stateNode,s.type){case"input":if(Tn(n,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),s=c.name,c.type==="radio"&&s!=null){for(c=n;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+at(""+s)+'"][type="radio"]'),s=0;s<c.length;s++){var g=c[s];if(g!==n&&g.form===n.form){var C=g[Lt]||null;if(!C)throw Error(o(90));Tn(g,C.value,C.defaultValue,C.defaultValue,C.checked,C.defaultChecked,C.type,C.name)}}for(s=0;s<c.length;s++)g=c[s],g.form===n.form&&Ei(g)}break e;case"textarea":wn(n,c.value,c.defaultValue);break e;case"select":s=c.value,s!=null&&He(n,!!c.multiple,s,!1)}}}var Xe=!1;function fu(n,s,c){if(Xe)return n(s,c);Xe=!0;try{var g=n(s);return g}finally{if(Xe=!1,(Kt!==null||ni!==null)&&(id(),Kt&&(s=Kt,n=ni,ni=Kt=null,Ci(s),n)))for(s=0;s<n.length;s++)Ci(n[s])}}function $e(n,s){var c=n.stateNode;if(c===null)return null;var g=c[Lt]||null;if(g===null)return null;c=g[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(n=n.type,g=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!g;break e;default:n=!1}if(n)return null;if(c&&typeof c!="function")throw Error(o(231,s,typeof c));return c}var Gt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ll=!1;if(Gt)try{var is={};Object.defineProperty(is,"passive",{get:function(){Ll=!0}}),window.addEventListener("test",is,is),window.removeEventListener("test",is,is)}catch{Ll=!1}var Si=null,Ai=null,So=null;function Hs(){if(So)return So;var n,s=Ai,c=s.length,g,C="value"in Si?Si.value:Si.textContent,N=C.length;for(n=0;n<c&&s[n]===C[n];n++);var M=c-n;for(g=1;g<=M&&s[c-g]===C[N-g];g++);return So=C.slice(n,1<g?1-g:void 0)}function Fi(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function Vi(){return!0}function Bl(){return!1}function Rn(n){function s(c,g,C,N,M){this._reactName=c,this._targetInst=C,this.type=g,this.nativeEvent=N,this.target=M,this.currentTarget=null;for(var G in n)n.hasOwnProperty(G)&&(c=n[G],this[G]=c?c(N):N[G]);return this.isDefaultPrevented=(N.defaultPrevented!=null?N.defaultPrevented:N.returnValue===!1)?Vi:Bl,this.isPropagationStopped=Bl,this}return S(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Vi)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Vi)},persist:function(){},isPersistent:Vi}),s}var Ur={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pn=Rn(Ur),qs=S({},Ur,{view:0,detail:0}),mu=Rn(qs),Ao,kl,Ba,No=S({},qs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ka,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Ba&&(Ba&&n.type==="mousemove"?(Ao=n.screenX-Ba.screenX,kl=n.screenY-Ba.screenY):kl=Ao=0,Ba=n),Ao)},movementY:function(n){return"movementY"in n?n.movementY:kl}}),Tt=Rn(No),gu=S({},No,{dataTransfer:0}),To=Rn(gu),Hi=S({},qs,{relatedTarget:0}),Pl=Rn(Hi),fe=S({},Ur,{animationName:0,elapsedTime:0,pseudoElement:0}),rt=Rn(fe),Un=S({},Ur,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Ro=Rn(Un),pu=S({},Ur,{data:0}),yu=Rn(pu),Vh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Hh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ul={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function En(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=Ul[n])?!!s[n]:!1}function ka(){return En}var rn=S({},qs,{key:function(n){if(n.key){var s=Vh[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=Fi(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Hh[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ka,charCode:function(n){return n.type==="keypress"?Fi(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Fi(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Oo=Rn(rn),ss=S({},No,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_t=Rn(ss),We=S({},qs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ka}),qh=Rn(We),Yt=S({},Ur,{propertyName:0,elapsedTime:0,pseudoElement:0}),as=Rn(Yt),Gs=S({},No,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Gh=Rn(Gs),ri=S({},Ur,{newState:0,oldState:0}),zl=Rn(ri),bu=[9,13,27,32],Pa=Gt&&"CompositionEvent"in window,Ys=null;Gt&&"documentMode"in document&&(Ys=document.documentMode);var vu=Gt&&"TextEvent"in window&&!Ys,xu=Gt&&(!Pa||Ys&&8<Ys&&11>=Ys),os=" ",Mo=!1;function wu(n,s){switch(n){case"keyup":return bu.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xs(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Ws=!1;function qi(n,s){switch(n){case"compositionend":return Xs(s);case"keypress":return s.which!==32?null:(Mo=!0,os);case"textInput":return n=s.data,n===os&&Mo?null:n;default:return null}}function Io(n,s){if(Ws)return n==="compositionend"||!Pa&&wu(n,s)?(n=Hs(),So=Ai=Si=null,Ws=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return xu&&s.locale!=="ko"?null:s.data;default:return null}}var Ar={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fl(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!Ar[n.type]:s==="textarea"}function zr(n,s,c,g){Kt?ni?ni.push(g):ni=[g]:Kt=g,s=dd(s,"onChange"),0<s.length&&(c=new Pn("onChange","change",null,c,g),n.push({event:c,listeners:s}))}var Ua=null,ls=null;function Yh(n){M2(n,0)}function za(n){var s=ks(n);if(Ei(s))return n}function Fr(n,s){if(n==="change")return s}var Eu=!1;if(Gt){var Fa;if(Gt){var cs="oninput"in document;if(!cs){var ft=document.createElement("div");ft.setAttribute("oninput","return;"),cs=typeof ft.oninput=="function"}Fa=cs}else Fa=!1;Eu=Fa&&(!document.documentMode||9<document.documentMode)}function Va(){Ua&&(Ua.detachEvent("onpropertychange",B),ls=Ua=null)}function B(n){if(n.propertyName==="value"&&za(ls)){var s=[];zr(s,ls,n,jl(n)),fu(Yh,s)}}function r(n,s,c){n==="focusin"?(Va(),Ua=s,ls=c,Ua.attachEvent("onpropertychange",B)):n==="focusout"&&Va()}function a(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return za(ls)}function l(n,s){if(n==="click")return za(s)}function d(n,s){if(n==="input"||n==="change")return za(s)}function f(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var y=typeof Object.is=="function"?Object.is:f;function v(n,s){if(y(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var c=Object.keys(n),g=Object.keys(s);if(c.length!==g.length)return!1;for(g=0;g<c.length;g++){var C=c[g];if(!ot.call(s,C)||!y(n[C],s[C]))return!1}return!0}function A(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function T(n,s){var c=A(n);n=0;for(var g;c;){if(c.nodeType===3){if(g=n+c.textContent.length,n<=s&&g>=s)return{node:c,offset:s-n};n=g}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=A(c)}}function O(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?O(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function k(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var s=Co(n.document);s instanceof n.HTMLIFrameElement;){try{var c=typeof s.contentWindow.location.href=="string"}catch{c=!1}if(c)n=s.contentWindow;else break;s=Co(n.document)}return s}function q(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}var Z=Gt&&"documentMode"in document&&11>=document.documentMode,J=null,ee=null,se=null,he=!1;function Re(n,s,c){var g=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;he||J==null||J!==Co(g)||(g=J,"selectionStart"in g&&q(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),se&&v(se,g)||(se=g,g=dd(ee,"onSelect"),0<g.length&&(s=new Pn("onSelect","select",null,s,c),n.push({event:s,listeners:g}),s.target=J)))}function Te(n,s){var c={};return c[n.toLowerCase()]=s.toLowerCase(),c["Webkit"+n]="webkit"+s,c["Moz"+n]="moz"+s,c}var Ne={animationend:Te("Animation","AnimationEnd"),animationiteration:Te("Animation","AnimationIteration"),animationstart:Te("Animation","AnimationStart"),transitionrun:Te("Transition","TransitionRun"),transitionstart:Te("Transition","TransitionStart"),transitioncancel:Te("Transition","TransitionCancel"),transitionend:Te("Transition","TransitionEnd")},st={},Je={};Gt&&(Je=document.createElement("div").style,"AnimationEvent"in window||(delete Ne.animationend.animation,delete Ne.animationiteration.animation,delete Ne.animationstart.animation),"TransitionEvent"in window||delete Ne.transitionend.transition);function mn(n){if(st[n])return st[n];if(!Ne[n])return n;var s=Ne[n],c;for(c in s)if(s.hasOwnProperty(c)&&c in Je)return st[n]=s[c];return n}var Nr=mn("animationend"),Zn=mn("animationiteration"),Dt=mn("animationstart"),zn=mn("transitionrun"),fr=mn("transitionstart"),Qs=mn("transitioncancel"),us=mn("transitionend"),Cu=new Map,Vl="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Vl.push("scrollEnd");function Ni(n,s){Cu.set(n,s),It(s,[n])}var Su=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},ii=[],_o=0,Xh=0;function Au(){for(var n=_o,s=Xh=_o=0;s<n;){var c=ii[s];ii[s++]=null;var g=ii[s];ii[s++]=null;var C=ii[s];ii[s++]=null;var N=ii[s];if(ii[s++]=null,g!==null&&C!==null){var M=g.pending;M===null?C.next=C:(C.next=M.next,M.next=C),g.pending=C}N!==0&&dp(c,C,N)}}function Nu(n,s,c,g){ii[_o++]=n,ii[_o++]=s,ii[_o++]=c,ii[_o++]=g,Xh|=g,n.lanes|=g,n=n.alternate,n!==null&&(n.lanes|=g)}function Wh(n,s,c,g){return Nu(n,s,c,g),Tu(n)}function Ha(n,s){return Nu(n,null,null,s),Tu(n)}function dp(n,s,c){n.lanes|=c;var g=n.alternate;g!==null&&(g.lanes|=c);for(var C=!1,N=n.return;N!==null;)N.childLanes|=c,g=N.alternate,g!==null&&(g.childLanes|=c),N.tag===22&&(n=N.stateNode,n===null||n._visibility&1||(C=!0)),n=N,N=N.return;return n.tag===3?(N=n.stateNode,C&&s!==null&&(C=31-nt(c),n=N.hiddenUpdates,g=n[C],g===null?n[C]=[s]:g.push(s),s.lane=c|536870912),N):null}function Tu(n){if(50<uc)throw uc=0,i1=null,Error(o(185));for(var s=n.return;s!==null;)n=s,s=n.return;return n.tag===3?n.stateNode:null}var Do={};function PC(n,s,c,g){this.tag=n,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vr(n,s,c,g){return new PC(n,s,c,g)}function Qh(n){return n=n.prototype,!(!n||!n.isReactComponent)}function ds(n,s){var c=n.alternate;return c===null?(c=Vr(n.tag,s,n.key,n.mode),c.elementType=n.elementType,c.type=n.type,c.stateNode=n.stateNode,c.alternate=n,n.alternate=c):(c.pendingProps=s,c.type=n.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=n.flags&65011712,c.childLanes=n.childLanes,c.lanes=n.lanes,c.child=n.child,c.memoizedProps=n.memoizedProps,c.memoizedState=n.memoizedState,c.updateQueue=n.updateQueue,s=n.dependencies,c.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},c.sibling=n.sibling,c.index=n.index,c.ref=n.ref,c.refCleanup=n.refCleanup,c}function hp(n,s){n.flags&=65011714;var c=n.alternate;return c===null?(n.childLanes=0,n.lanes=s,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=c.childLanes,n.lanes=c.lanes,n.child=c.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=c.memoizedProps,n.memoizedState=c.memoizedState,n.updateQueue=c.updateQueue,n.type=c.type,s=c.dependencies,n.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),n}function Ru(n,s,c,g,C,N){var M=0;if(g=n,typeof n=="function")Qh(n)&&(M=1);else if(typeof n=="string")M=HS(n,c,_e.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case Q:return n=Vr(31,c,s,C),n.elementType=Q,n.lanes=N,n;case L:return qa(c.children,C,N,s);case P:M=8,C|=24;break;case Y:return n=Vr(12,c,s,C|2),n.elementType=Y,n.lanes=N,n;case I:return n=Vr(13,c,s,C),n.elementType=I,n.lanes=N,n;case X:return n=Vr(19,c,s,C),n.elementType=X,n.lanes=N,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case U:M=10;break e;case j:M=9;break e;case V:M=11;break e;case z:M=14;break e;case H:M=16,g=null;break e}M=29,c=Error(o(130,n===null?"null":typeof n,"")),g=null}return s=Vr(M,c,s,C),s.elementType=n,s.type=g,s.lanes=N,s}function qa(n,s,c,g){return n=Vr(7,n,g,s),n.lanes=c,n}function Zh(n,s,c){return n=Vr(6,n,null,s),n.lanes=c,n}function fp(n){var s=Vr(18,null,null,0);return s.stateNode=n,s}function Kh(n,s,c){return s=Vr(4,n.children!==null?n.children:[],n.key,s),s.lanes=c,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}var mp=new WeakMap;function si(n,s){if(typeof n=="object"&&n!==null){var c=mp.get(n);return c!==void 0?c:(s={value:n,source:s,stack:jt(s)},mp.set(n,s),s)}return{value:n,source:s,stack:jt(s)}}var jo=[],Lo=0,Ou=null,Hl=0,ai=[],oi=0,Zs=null,Gi=1,Yi="";function hs(n,s){jo[Lo++]=Hl,jo[Lo++]=Ou,Ou=n,Hl=s}function gp(n,s,c){ai[oi++]=Gi,ai[oi++]=Yi,ai[oi++]=Zs,Zs=n;var g=Gi;n=Yi;var C=32-nt(g)-1;g&=~(1<<C),c+=1;var N=32-nt(s)+C;if(30<N){var M=C-C%5;N=(g&(1<<M)-1).toString(32),g>>=M,C-=M,Gi=1<<32-nt(s)+C|c<<C|g,Yi=N+n}else Gi=1<<N|c<<C|g,Yi=n}function $h(n){n.return!==null&&(hs(n,1),gp(n,1,0))}function Jh(n){for(;n===Ou;)Ou=jo[--Lo],jo[Lo]=null,Hl=jo[--Lo],jo[Lo]=null;for(;n===Zs;)Zs=ai[--oi],ai[oi]=null,Yi=ai[--oi],ai[oi]=null,Gi=ai[--oi],ai[oi]=null}function pp(n,s){ai[oi++]=Gi,ai[oi++]=Yi,ai[oi++]=Zs,Gi=s.id,Yi=s.overflow,Zs=n}var Kn=null,$t=null,pt=!1,Ks=null,li=!1,ef=Error(o(519));function $s(n){var s=Error(o(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ql(si(s,n)),ef}function yp(n){var s=n.stateNode,c=n.type,g=n.memoizedProps;switch(s[xn]=n,s[Lt]=g,c){case"dialog":ut("cancel",s),ut("close",s);break;case"iframe":case"object":case"embed":ut("load",s);break;case"video":case"audio":for(c=0;c<hc.length;c++)ut(hc[c],s);break;case"source":ut("error",s);break;case"img":case"image":case"link":ut("error",s),ut("load",s);break;case"details":ut("toggle",s);break;case"input":ut("invalid",s),oe(s,g.value,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name,!0);break;case"select":ut("invalid",s);break;case"textarea":ut("invalid",s),dr(s,g.value,g.defaultValue,g.children)}c=g.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||s.textContent===""+c||g.suppressHydrationWarning===!0||j2(s.textContent,c)?(g.popover!=null&&(ut("beforetoggle",s),ut("toggle",s)),g.onScroll!=null&&ut("scroll",s),g.onScrollEnd!=null&&ut("scrollend",s),g.onClick!=null&&(s.onclick=Sr),s=!0):s=!1,s||$s(n,!0)}function bp(n){for(Kn=n.return;Kn;)switch(Kn.tag){case 5:case 31:case 13:li=!1;return;case 27:case 3:li=!0;return;default:Kn=Kn.return}}function Bo(n){if(n!==Kn)return!1;if(!pt)return bp(n),pt=!0,!1;var s=n.tag,c;if((c=s!==3&&s!==27)&&((c=s===5)&&(c=n.type,c=!(c!=="form"&&c!=="button")||v1(n.type,n.memoizedProps)),c=!c),c&&$t&&$s(n),bp(n),s===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(o(317));$t=H2(n)}else if(s===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(o(317));$t=H2(n)}else s===27?(s=$t,ha(n.type)?(n=S1,S1=null,$t=n):$t=s):$t=Kn?ui(n.stateNode.nextSibling):null;return!0}function Ga(){$t=Kn=null,pt=!1}function tf(){var n=Ks;return n!==null&&(Mr===null?Mr=n:Mr.push.apply(Mr,n),Ks=null),n}function ql(n){Ks===null?Ks=[n]:Ks.push(n)}var nf=$(null),Ya=null,fs=null;function Js(n,s,c){Me(nf,s._currentValue),s._currentValue=c}function ms(n){n._currentValue=nf.current,ge(nf)}function rf(n,s,c){for(;n!==null;){var g=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,g!==null&&(g.childLanes|=s)):g!==null&&(g.childLanes&s)!==s&&(g.childLanes|=s),n===c)break;n=n.return}}function sf(n,s,c,g){var C=n.child;for(C!==null&&(C.return=n);C!==null;){var N=C.dependencies;if(N!==null){var M=C.child;N=N.firstContext;e:for(;N!==null;){var G=N;N=C;for(var K=0;K<s.length;K++)if(G.context===s[K]){N.lanes|=c,G=N.alternate,G!==null&&(G.lanes|=c),rf(N.return,c,n),g||(M=null);break e}N=G.next}}else if(C.tag===18){if(M=C.return,M===null)throw Error(o(341));M.lanes|=c,N=M.alternate,N!==null&&(N.lanes|=c),rf(M,c,n),M=null}else M=C.child;if(M!==null)M.return=C;else for(M=C;M!==null;){if(M===n){M=null;break}if(C=M.sibling,C!==null){C.return=M.return,M=C;break}M=M.return}C=M}}function ko(n,s,c,g){n=null;for(var C=s,N=!1;C!==null;){if(!N){if((C.flags&524288)!==0)N=!0;else if((C.flags&262144)!==0)break}if(C.tag===10){var M=C.alternate;if(M===null)throw Error(o(387));if(M=M.memoizedProps,M!==null){var G=C.type;y(C.pendingProps.value,M.value)||(n!==null?n.push(G):n=[G])}}else if(C===yt.current){if(M=C.alternate,M===null)throw Error(o(387));M.memoizedState.memoizedState!==C.memoizedState.memoizedState&&(n!==null?n.push(yc):n=[yc])}C=C.return}n!==null&&sf(s,n,c,g),s.flags|=262144}function Mu(n){for(n=n.firstContext;n!==null;){if(!y(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Xa(n){Ya=n,fs=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function $n(n){return vp(Ya,n)}function Iu(n,s){return Ya===null&&Xa(n),vp(n,s)}function vp(n,s){var c=s._currentValue;if(s={context:s,memoizedValue:c,next:null},fs===null){if(n===null)throw Error(o(308));fs=s,n.dependencies={lanes:0,firstContext:s},n.flags|=524288}else fs=fs.next=s;return c}var UC=typeof AbortController<"u"?AbortController:function(){var n=[],s=this.signal={aborted:!1,addEventListener:function(c,g){n.push(g)}};this.abort=function(){s.aborted=!0,n.forEach(function(c){return c()})}},zC=e.unstable_scheduleCallback,FC=e.unstable_NormalPriority,On={$$typeof:U,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function af(){return{controller:new UC,data:new Map,refCount:0}}function Gl(n){n.refCount--,n.refCount===0&&zC(FC,function(){n.controller.abort()})}var Yl=null,of=0,Po=0,Uo=null;function VC(n,s){if(Yl===null){var c=Yl=[];of=0,Po=u1(),Uo={status:"pending",value:void 0,then:function(g){c.push(g)}}}return of++,s.then(xp,xp),s}function xp(){if(--of===0&&Yl!==null){Uo!==null&&(Uo.status="fulfilled");var n=Yl;Yl=null,Po=0,Uo=null;for(var s=0;s<n.length;s++)(0,n[s])()}}function HC(n,s){var c=[],g={status:"pending",value:null,reason:null,then:function(C){c.push(C)}};return n.then(function(){g.status="fulfilled",g.value=s;for(var C=0;C<c.length;C++)(0,c[C])(s)},function(C){for(g.status="rejected",g.reason=C,C=0;C<c.length;C++)(0,c[C])(void 0)}),g}var wp=ie.S;ie.S=function(n,s){i2=on(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&VC(n,s),wp!==null&&wp(n,s)};var Wa=$(null);function lf(){var n=Wa.current;return n!==null?n:Xt.pooledCache}function _u(n,s){s===null?Me(Wa,Wa.current):Me(Wa,s.pool)}function Ep(){var n=lf();return n===null?null:{parent:On._currentValue,pool:n}}var zo=Error(o(460)),cf=Error(o(474)),Du=Error(o(542)),ju={then:function(){}};function Cp(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Sp(n,s,c){switch(c=n[c],c===void 0?n.push(s):c!==s&&(s.then(Sr,Sr),s=c),s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,Np(n),n;default:if(typeof s.status=="string")s.then(Sr,Sr);else{if(n=Xt,n!==null&&100<n.shellSuspendCounter)throw Error(o(482));n=s,n.status="pending",n.then(function(g){if(s.status==="pending"){var C=s;C.status="fulfilled",C.value=g}},function(g){if(s.status==="pending"){var C=s;C.status="rejected",C.reason=g}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,Np(n),n}throw Za=s,zo}}function Qa(n){try{var s=n._init;return s(n._payload)}catch(c){throw c!==null&&typeof c=="object"&&typeof c.then=="function"?(Za=c,zo):c}}var Za=null;function Ap(){if(Za===null)throw Error(o(459));var n=Za;return Za=null,n}function Np(n){if(n===zo||n===Du)throw Error(o(483))}var Fo=null,Xl=0;function Lu(n){var s=Xl;return Xl+=1,Fo===null&&(Fo=[]),Sp(Fo,n,s)}function Wl(n,s){s=s.props.ref,n.ref=s!==void 0?s:null}function Bu(n,s){throw s.$$typeof===R?Error(o(525)):(n=Object.prototype.toString.call(s),Error(o(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n)))}function Tp(n){function s(re,te){if(n){var le=re.deletions;le===null?(re.deletions=[te],re.flags|=16):le.push(te)}}function c(re,te){if(!n)return null;for(;te!==null;)s(re,te),te=te.sibling;return null}function g(re){for(var te=new Map;re!==null;)re.key!==null?te.set(re.key,re):te.set(re.index,re),re=re.sibling;return te}function C(re,te){return re=ds(re,te),re.index=0,re.sibling=null,re}function N(re,te,le){return re.index=le,n?(le=re.alternate,le!==null?(le=le.index,le<te?(re.flags|=67108866,te):le):(re.flags|=67108866,te)):(re.flags|=1048576,te)}function M(re){return n&&re.alternate===null&&(re.flags|=67108866),re}function G(re,te,le,Ce){return te===null||te.tag!==6?(te=Zh(le,re.mode,Ce),te.return=re,te):(te=C(te,le),te.return=re,te)}function K(re,te,le,Ce){var Ye=le.type;return Ye===L?we(re,te,le.props.children,Ce,le.key):te!==null&&(te.elementType===Ye||typeof Ye=="object"&&Ye!==null&&Ye.$$typeof===H&&Qa(Ye)===te.type)?(te=C(te,le.props),Wl(te,le),te.return=re,te):(te=Ru(le.type,le.key,le.props,null,re.mode,Ce),Wl(te,le),te.return=re,te)}function ce(re,te,le,Ce){return te===null||te.tag!==4||te.stateNode.containerInfo!==le.containerInfo||te.stateNode.implementation!==le.implementation?(te=Kh(le,re.mode,Ce),te.return=re,te):(te=C(te,le.children||[]),te.return=re,te)}function we(re,te,le,Ce,Ye){return te===null||te.tag!==7?(te=qa(le,re.mode,Ce,Ye),te.return=re,te):(te=C(te,le),te.return=re,te)}function Se(re,te,le){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return te=Zh(""+te,re.mode,le),te.return=re,te;if(typeof te=="object"&&te!==null){switch(te.$$typeof){case _:return le=Ru(te.type,te.key,te.props,null,re.mode,le),Wl(le,te),le.return=re,le;case D:return te=Kh(te,re.mode,le),te.return=re,te;case H:return te=Qa(te),Se(re,te,le)}if(ne(te)||ve(te))return te=qa(te,re.mode,le,null),te.return=re,te;if(typeof te.then=="function")return Se(re,Lu(te),le);if(te.$$typeof===U)return Se(re,Iu(re,te),le);Bu(re,te)}return null}function de(re,te,le,Ce){var Ye=te!==null?te.key:null;if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return Ye!==null?null:G(re,te,""+le,Ce);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case _:return le.key===Ye?K(re,te,le,Ce):null;case D:return le.key===Ye?ce(re,te,le,Ce):null;case H:return le=Qa(le),de(re,te,le,Ce)}if(ne(le)||ve(le))return Ye!==null?null:we(re,te,le,Ce,null);if(typeof le.then=="function")return de(re,te,Lu(le),Ce);if(le.$$typeof===U)return de(re,te,Iu(re,le),Ce);Bu(re,le)}return null}function be(re,te,le,Ce,Ye){if(typeof Ce=="string"&&Ce!==""||typeof Ce=="number"||typeof Ce=="bigint")return re=re.get(le)||null,G(te,re,""+Ce,Ye);if(typeof Ce=="object"&&Ce!==null){switch(Ce.$$typeof){case _:return re=re.get(Ce.key===null?le:Ce.key)||null,K(te,re,Ce,Ye);case D:return re=re.get(Ce.key===null?le:Ce.key)||null,ce(te,re,Ce,Ye);case H:return Ce=Qa(Ce),be(re,te,le,Ce,Ye)}if(ne(Ce)||ve(Ce))return re=re.get(le)||null,we(te,re,Ce,Ye,null);if(typeof Ce.then=="function")return be(re,te,le,Lu(Ce),Ye);if(Ce.$$typeof===U)return be(re,te,le,Iu(te,Ce),Ye);Bu(te,Ce)}return null}function Fe(re,te,le,Ce){for(var Ye=null,Ct=null,qe=te,it=te=0,gt=null;qe!==null&&it<le.length;it++){qe.index>it?(gt=qe,qe=null):gt=qe.sibling;var St=de(re,qe,le[it],Ce);if(St===null){qe===null&&(qe=gt);break}n&&qe&&St.alternate===null&&s(re,qe),te=N(St,te,it),Ct===null?Ye=St:Ct.sibling=St,Ct=St,qe=gt}if(it===le.length)return c(re,qe),pt&&hs(re,it),Ye;if(qe===null){for(;it<le.length;it++)qe=Se(re,le[it],Ce),qe!==null&&(te=N(qe,te,it),Ct===null?Ye=qe:Ct.sibling=qe,Ct=qe);return pt&&hs(re,it),Ye}for(qe=g(qe);it<le.length;it++)gt=be(qe,re,it,le[it],Ce),gt!==null&&(n&&gt.alternate!==null&&qe.delete(gt.key===null?it:gt.key),te=N(gt,te,it),Ct===null?Ye=gt:Ct.sibling=gt,Ct=gt);return n&&qe.forEach(function(ya){return s(re,ya)}),pt&&hs(re,it),Ye}function Qe(re,te,le,Ce){if(le==null)throw Error(o(151));for(var Ye=null,Ct=null,qe=te,it=te=0,gt=null,St=le.next();qe!==null&&!St.done;it++,St=le.next()){qe.index>it?(gt=qe,qe=null):gt=qe.sibling;var ya=de(re,qe,St.value,Ce);if(ya===null){qe===null&&(qe=gt);break}n&&qe&&ya.alternate===null&&s(re,qe),te=N(ya,te,it),Ct===null?Ye=ya:Ct.sibling=ya,Ct=ya,qe=gt}if(St.done)return c(re,qe),pt&&hs(re,it),Ye;if(qe===null){for(;!St.done;it++,St=le.next())St=Se(re,St.value,Ce),St!==null&&(te=N(St,te,it),Ct===null?Ye=St:Ct.sibling=St,Ct=St);return pt&&hs(re,it),Ye}for(qe=g(qe);!St.done;it++,St=le.next())St=be(qe,re,it,St.value,Ce),St!==null&&(n&&St.alternate!==null&&qe.delete(St.key===null?it:St.key),te=N(St,te,it),Ct===null?Ye=St:Ct.sibling=St,Ct=St);return n&&qe.forEach(function(e6){return s(re,e6)}),pt&&hs(re,it),Ye}function Vt(re,te,le,Ce){if(typeof le=="object"&&le!==null&&le.type===L&&le.key===null&&(le=le.props.children),typeof le=="object"&&le!==null){switch(le.$$typeof){case _:e:{for(var Ye=le.key;te!==null;){if(te.key===Ye){if(Ye=le.type,Ye===L){if(te.tag===7){c(re,te.sibling),Ce=C(te,le.props.children),Ce.return=re,re=Ce;break e}}else if(te.elementType===Ye||typeof Ye=="object"&&Ye!==null&&Ye.$$typeof===H&&Qa(Ye)===te.type){c(re,te.sibling),Ce=C(te,le.props),Wl(Ce,le),Ce.return=re,re=Ce;break e}c(re,te);break}else s(re,te);te=te.sibling}le.type===L?(Ce=qa(le.props.children,re.mode,Ce,le.key),Ce.return=re,re=Ce):(Ce=Ru(le.type,le.key,le.props,null,re.mode,Ce),Wl(Ce,le),Ce.return=re,re=Ce)}return M(re);case D:e:{for(Ye=le.key;te!==null;){if(te.key===Ye)if(te.tag===4&&te.stateNode.containerInfo===le.containerInfo&&te.stateNode.implementation===le.implementation){c(re,te.sibling),Ce=C(te,le.children||[]),Ce.return=re,re=Ce;break e}else{c(re,te);break}else s(re,te);te=te.sibling}Ce=Kh(le,re.mode,Ce),Ce.return=re,re=Ce}return M(re);case H:return le=Qa(le),Vt(re,te,le,Ce)}if(ne(le))return Fe(re,te,le,Ce);if(ve(le)){if(Ye=ve(le),typeof Ye!="function")throw Error(o(150));return le=Ye.call(le),Qe(re,te,le,Ce)}if(typeof le.then=="function")return Vt(re,te,Lu(le),Ce);if(le.$$typeof===U)return Vt(re,te,Iu(re,le),Ce);Bu(re,le)}return typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint"?(le=""+le,te!==null&&te.tag===6?(c(re,te.sibling),Ce=C(te,le),Ce.return=re,re=Ce):(c(re,te),Ce=Zh(le,re.mode,Ce),Ce.return=re,re=Ce),M(re)):c(re,te)}return function(re,te,le,Ce){try{Xl=0;var Ye=Vt(re,te,le,Ce);return Fo=null,Ye}catch(qe){if(qe===zo||qe===Du)throw qe;var Ct=Vr(29,qe,null,re.mode);return Ct.lanes=Ce,Ct.return=re,Ct}}}var Ka=Tp(!0),Rp=Tp(!1),ea=!1;function uf(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function df(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function ta(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function na(n,s,c){var g=n.updateQueue;if(g===null)return null;if(g=g.shared,(Rt&2)!==0){var C=g.pending;return C===null?s.next=s:(s.next=C.next,C.next=s),g.pending=s,s=Tu(n),dp(n,null,c),s}return Nu(n,g,s,c),Tu(n)}function Ql(n,s,c){if(s=s.updateQueue,s!==null&&(s=s.shared,(c&4194048)!==0)){var g=s.lanes;g&=n.pendingLanes,c|=g,s.lanes=c,zi(n,c)}}function hf(n,s){var c=n.updateQueue,g=n.alternate;if(g!==null&&(g=g.updateQueue,c===g)){var C=null,N=null;if(c=c.firstBaseUpdate,c!==null){do{var M={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};N===null?C=N=M:N=N.next=M,c=c.next}while(c!==null);N===null?C=N=s:N=N.next=s}else C=N=s;c={baseState:g.baseState,firstBaseUpdate:C,lastBaseUpdate:N,shared:g.shared,callbacks:g.callbacks},n.updateQueue=c;return}n=c.lastBaseUpdate,n===null?c.firstBaseUpdate=s:n.next=s,c.lastBaseUpdate=s}var ff=!1;function Zl(){if(ff){var n=Uo;if(n!==null)throw n}}function Kl(n,s,c,g){ff=!1;var C=n.updateQueue;ea=!1;var N=C.firstBaseUpdate,M=C.lastBaseUpdate,G=C.shared.pending;if(G!==null){C.shared.pending=null;var K=G,ce=K.next;K.next=null,M===null?N=ce:M.next=ce,M=K;var we=n.alternate;we!==null&&(we=we.updateQueue,G=we.lastBaseUpdate,G!==M&&(G===null?we.firstBaseUpdate=ce:G.next=ce,we.lastBaseUpdate=K))}if(N!==null){var Se=C.baseState;M=0,we=ce=K=null,G=N;do{var de=G.lane&-536870913,be=de!==G.lane;if(be?(mt&de)===de:(g&de)===de){de!==0&&de===Po&&(ff=!0),we!==null&&(we=we.next={lane:0,tag:G.tag,payload:G.payload,callback:null,next:null});e:{var Fe=n,Qe=G;de=s;var Vt=c;switch(Qe.tag){case 1:if(Fe=Qe.payload,typeof Fe=="function"){Se=Fe.call(Vt,Se,de);break e}Se=Fe;break e;case 3:Fe.flags=Fe.flags&-65537|128;case 0:if(Fe=Qe.payload,de=typeof Fe=="function"?Fe.call(Vt,Se,de):Fe,de==null)break e;Se=S({},Se,de);break e;case 2:ea=!0}}de=G.callback,de!==null&&(n.flags|=64,be&&(n.flags|=8192),be=C.callbacks,be===null?C.callbacks=[de]:be.push(de))}else be={lane:de,tag:G.tag,payload:G.payload,callback:G.callback,next:null},we===null?(ce=we=be,K=Se):we=we.next=be,M|=de;if(G=G.next,G===null){if(G=C.shared.pending,G===null)break;be=G,G=be.next,be.next=null,C.lastBaseUpdate=be,C.shared.pending=null}}while(!0);we===null&&(K=Se),C.baseState=K,C.firstBaseUpdate=ce,C.lastBaseUpdate=we,N===null&&(C.shared.lanes=0),oa|=M,n.lanes=M,n.memoizedState=Se}}function Op(n,s){if(typeof n!="function")throw Error(o(191,n));n.call(s)}function Mp(n,s){var c=n.callbacks;if(c!==null)for(n.callbacks=null,n=0;n<c.length;n++)Op(c[n],s)}var Vo=$(null),ku=$(0);function Ip(n,s){n=Cs,Me(ku,n),Me(Vo,s),Cs=n|s.baseLanes}function mf(){Me(ku,Cs),Me(Vo,Vo.current)}function gf(){Cs=ku.current,ge(Vo),ge(ku)}var Hr=$(null),ci=null;function ra(n){var s=n.alternate;Me(Cn,Cn.current&1),Me(Hr,n),ci===null&&(s===null||Vo.current!==null||s.memoizedState!==null)&&(ci=n)}function pf(n){Me(Cn,Cn.current),Me(Hr,n),ci===null&&(ci=n)}function _p(n){n.tag===22?(Me(Cn,Cn.current),Me(Hr,n),ci===null&&(ci=n)):ia()}function ia(){Me(Cn,Cn.current),Me(Hr,Hr.current)}function qr(n){ge(Hr),ci===n&&(ci=null),ge(Cn)}var Cn=$(0);function Pu(n){for(var s=n;s!==null;){if(s.tag===13){var c=s.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||E1(c)||C1(c)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var gs=0,tt=null,zt=null,Mn=null,Uu=!1,Ho=!1,$a=!1,zu=0,$l=0,qo=null,qC=0;function gn(){throw Error(o(321))}function yf(n,s){if(s===null)return!1;for(var c=0;c<s.length&&c<n.length;c++)if(!y(n[c],s[c]))return!1;return!0}function bf(n,s,c,g,C,N){return gs=N,tt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,ie.H=n===null||n.memoizedState===null?gy:Df,$a=!1,N=c(g,C),$a=!1,Ho&&(N=jp(s,c,g,C)),Dp(n),N}function Dp(n){ie.H=tc;var s=zt!==null&&zt.next!==null;if(gs=0,Mn=zt=tt=null,Uu=!1,$l=0,qo=null,s)throw Error(o(300));n===null||In||(n=n.dependencies,n!==null&&Mu(n)&&(In=!0))}function jp(n,s,c,g){tt=n;var C=0;do{if(Ho&&(qo=null),$l=0,Ho=!1,25<=C)throw Error(o(301));if(C+=1,Mn=zt=null,n.updateQueue!=null){var N=n.updateQueue;N.lastEffect=null,N.events=null,N.stores=null,N.memoCache!=null&&(N.memoCache.index=0)}ie.H=py,N=s(c,g)}while(Ho);return N}function GC(){var n=ie.H,s=n.useState()[0];return s=typeof s.then=="function"?Jl(s):s,n=n.useState()[0],(zt!==null?zt.memoizedState:null)!==n&&(tt.flags|=1024),s}function vf(){var n=zu!==0;return zu=0,n}function xf(n,s,c){s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~c}function wf(n){if(Uu){for(n=n.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Uu=!1}gs=0,Mn=zt=tt=null,Ho=!1,$l=zu=0,qo=null}function mr(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mn===null?tt.memoizedState=Mn=n:Mn=Mn.next=n,Mn}function Sn(){if(zt===null){var n=tt.alternate;n=n!==null?n.memoizedState:null}else n=zt.next;var s=Mn===null?tt.memoizedState:Mn.next;if(s!==null)Mn=s,zt=n;else{if(n===null)throw tt.alternate===null?Error(o(467)):Error(o(310));zt=n,n={memoizedState:zt.memoizedState,baseState:zt.baseState,baseQueue:zt.baseQueue,queue:zt.queue,next:null},Mn===null?tt.memoizedState=Mn=n:Mn=Mn.next=n}return Mn}function Fu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Jl(n){var s=$l;return $l+=1,qo===null&&(qo=[]),n=Sp(qo,n,s),s=tt,(Mn===null?s.memoizedState:Mn.next)===null&&(s=s.alternate,ie.H=s===null||s.memoizedState===null?gy:Df),n}function Vu(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Jl(n);if(n.$$typeof===U)return $n(n)}throw Error(o(438,String(n)))}function Ef(n){var s=null,c=tt.updateQueue;if(c!==null&&(s=c.memoCache),s==null){var g=tt.alternate;g!==null&&(g=g.updateQueue,g!==null&&(g=g.memoCache,g!=null&&(s={data:g.data.map(function(C){return C.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),c===null&&(c=Fu(),tt.updateQueue=c),c.memoCache=s,c=s.data[s.index],c===void 0)for(c=s.data[s.index]=Array(n),g=0;g<n;g++)c[g]=Ee;return s.index++,c}function ps(n,s){return typeof s=="function"?s(n):s}function Hu(n){var s=Sn();return Cf(s,zt,n)}function Cf(n,s,c){var g=n.queue;if(g===null)throw Error(o(311));g.lastRenderedReducer=c;var C=n.baseQueue,N=g.pending;if(N!==null){if(C!==null){var M=C.next;C.next=N.next,N.next=M}s.baseQueue=C=N,g.pending=null}if(N=n.baseState,C===null)n.memoizedState=N;else{s=C.next;var G=M=null,K=null,ce=s,we=!1;do{var Se=ce.lane&-536870913;if(Se!==ce.lane?(mt&Se)===Se:(gs&Se)===Se){var de=ce.revertLane;if(de===0)K!==null&&(K=K.next={lane:0,revertLane:0,gesture:null,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null}),Se===Po&&(we=!0);else if((gs&de)===de){ce=ce.next,de===Po&&(we=!0);continue}else Se={lane:0,revertLane:ce.revertLane,gesture:null,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null},K===null?(G=K=Se,M=N):K=K.next=Se,tt.lanes|=de,oa|=de;Se=ce.action,$a&&c(N,Se),N=ce.hasEagerState?ce.eagerState:c(N,Se)}else de={lane:Se,revertLane:ce.revertLane,gesture:ce.gesture,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null},K===null?(G=K=de,M=N):K=K.next=de,tt.lanes|=Se,oa|=Se;ce=ce.next}while(ce!==null&&ce!==s);if(K===null?M=N:K.next=G,!y(N,n.memoizedState)&&(In=!0,we&&(c=Uo,c!==null)))throw c;n.memoizedState=N,n.baseState=M,n.baseQueue=K,g.lastRenderedState=N}return C===null&&(g.lanes=0),[n.memoizedState,g.dispatch]}function Sf(n){var s=Sn(),c=s.queue;if(c===null)throw Error(o(311));c.lastRenderedReducer=n;var g=c.dispatch,C=c.pending,N=s.memoizedState;if(C!==null){c.pending=null;var M=C=C.next;do N=n(N,M.action),M=M.next;while(M!==C);y(N,s.memoizedState)||(In=!0),s.memoizedState=N,s.baseQueue===null&&(s.baseState=N),c.lastRenderedState=N}return[N,g]}function Lp(n,s,c){var g=tt,C=Sn(),N=pt;if(N){if(c===void 0)throw Error(o(407));c=c()}else c=s();var M=!y((zt||C).memoizedState,c);if(M&&(C.memoizedState=c,In=!0),C=C.queue,Tf(Pp.bind(null,g,C,n),[n]),C.getSnapshot!==s||M||Mn!==null&&Mn.memoizedState.tag&1){if(g.flags|=2048,Go(9,{destroy:void 0},kp.bind(null,g,C,c,s),null),Xt===null)throw Error(o(349));N||(gs&127)!==0||Bp(g,s,c)}return c}function Bp(n,s,c){n.flags|=16384,n={getSnapshot:s,value:c},s=tt.updateQueue,s===null?(s=Fu(),tt.updateQueue=s,s.stores=[n]):(c=s.stores,c===null?s.stores=[n]:c.push(n))}function kp(n,s,c,g){s.value=c,s.getSnapshot=g,Up(s)&&zp(n)}function Pp(n,s,c){return c(function(){Up(s)&&zp(n)})}function Up(n){var s=n.getSnapshot;n=n.value;try{var c=s();return!y(n,c)}catch{return!0}}function zp(n){var s=Ha(n,2);s!==null&&Ir(s,n,2)}function Af(n){var s=mr();if(typeof n=="function"){var c=n;if(n=c(),$a){Ut(!0);try{c()}finally{Ut(!1)}}}return s.memoizedState=s.baseState=n,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ps,lastRenderedState:n},s}function Fp(n,s,c,g){return n.baseState=c,Cf(n,zt,typeof g=="function"?g:ps)}function YC(n,s,c,g,C){if(Yu(n))throw Error(o(485));if(n=s.action,n!==null){var N={payload:C,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(M){N.listeners.push(M)}};ie.T!==null?c(!0):N.isTransition=!1,g(N),c=s.pending,c===null?(N.next=s.pending=N,Vp(s,N)):(N.next=c.next,s.pending=c.next=N)}}function Vp(n,s){var c=s.action,g=s.payload,C=n.state;if(s.isTransition){var N=ie.T,M={};ie.T=M;try{var G=c(C,g),K=ie.S;K!==null&&K(M,G),Hp(n,s,G)}catch(ce){Nf(n,s,ce)}finally{N!==null&&M.types!==null&&(N.types=M.types),ie.T=N}}else try{N=c(C,g),Hp(n,s,N)}catch(ce){Nf(n,s,ce)}}function Hp(n,s,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(g){qp(n,s,g)},function(g){return Nf(n,s,g)}):qp(n,s,c)}function qp(n,s,c){s.status="fulfilled",s.value=c,Gp(s),n.state=c,s=n.pending,s!==null&&(c=s.next,c===s?n.pending=null:(c=c.next,s.next=c,Vp(n,c)))}function Nf(n,s,c){var g=n.pending;if(n.pending=null,g!==null){g=g.next;do s.status="rejected",s.reason=c,Gp(s),s=s.next;while(s!==g)}n.action=null}function Gp(n){n=n.listeners;for(var s=0;s<n.length;s++)(0,n[s])()}function Yp(n,s){return s}function Xp(n,s){if(pt){var c=Xt.formState;if(c!==null){e:{var g=tt;if(pt){if($t){t:{for(var C=$t,N=li;C.nodeType!==8;){if(!N){C=null;break t}if(C=ui(C.nextSibling),C===null){C=null;break t}}N=C.data,C=N==="F!"||N==="F"?C:null}if(C){$t=ui(C.nextSibling),g=C.data==="F!";break e}}$s(g)}g=!1}g&&(s=c[0])}}return c=mr(),c.memoizedState=c.baseState=s,g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yp,lastRenderedState:s},c.queue=g,c=hy.bind(null,tt,g),g.dispatch=c,g=Af(!1),N=_f.bind(null,tt,!1,g.queue),g=mr(),C={state:s,dispatch:null,action:n,pending:null},g.queue=C,c=YC.bind(null,tt,C,N,c),C.dispatch=c,g.memoizedState=n,[s,c,!1]}function Wp(n){var s=Sn();return Qp(s,zt,n)}function Qp(n,s,c){if(s=Cf(n,s,Yp)[0],n=Hu(ps)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var g=Jl(s)}catch(M){throw M===zo?Du:M}else g=s;s=Sn();var C=s.queue,N=C.dispatch;return c!==s.memoizedState&&(tt.flags|=2048,Go(9,{destroy:void 0},XC.bind(null,C,c),null)),[g,N,n]}function XC(n,s){n.action=s}function Zp(n){var s=Sn(),c=zt;if(c!==null)return Qp(s,c,n);Sn(),s=s.memoizedState,c=Sn();var g=c.queue.dispatch;return c.memoizedState=n,[s,g,!1]}function Go(n,s,c,g){return n={tag:n,create:c,deps:g,inst:s,next:null},s=tt.updateQueue,s===null&&(s=Fu(),tt.updateQueue=s),c=s.lastEffect,c===null?s.lastEffect=n.next=n:(g=c.next,c.next=n,n.next=g,s.lastEffect=n),n}function Kp(){return Sn().memoizedState}function qu(n,s,c,g){var C=mr();tt.flags|=n,C.memoizedState=Go(1|s,{destroy:void 0},c,g===void 0?null:g)}function Gu(n,s,c,g){var C=Sn();g=g===void 0?null:g;var N=C.memoizedState.inst;zt!==null&&g!==null&&yf(g,zt.memoizedState.deps)?C.memoizedState=Go(s,N,c,g):(tt.flags|=n,C.memoizedState=Go(1|s,N,c,g))}function $p(n,s){qu(8390656,8,n,s)}function Tf(n,s){Gu(2048,8,n,s)}function WC(n){tt.flags|=4;var s=tt.updateQueue;if(s===null)s=Fu(),tt.updateQueue=s,s.events=[n];else{var c=s.events;c===null?s.events=[n]:c.push(n)}}function Jp(n){var s=Sn().memoizedState;return WC({ref:s,nextImpl:n}),function(){if((Rt&2)!==0)throw Error(o(440));return s.impl.apply(void 0,arguments)}}function ey(n,s){return Gu(4,2,n,s)}function ty(n,s){return Gu(4,4,n,s)}function ny(n,s){if(typeof s=="function"){n=n();var c=s(n);return function(){typeof c=="function"?c():s(null)}}if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function ry(n,s,c){c=c!=null?c.concat([n]):null,Gu(4,4,ny.bind(null,s,n),c)}function Rf(){}function iy(n,s){var c=Sn();s=s===void 0?null:s;var g=c.memoizedState;return s!==null&&yf(s,g[1])?g[0]:(c.memoizedState=[n,s],n)}function sy(n,s){var c=Sn();s=s===void 0?null:s;var g=c.memoizedState;if(s!==null&&yf(s,g[1]))return g[0];if(g=n(),$a){Ut(!0);try{n()}finally{Ut(!1)}}return c.memoizedState=[g,s],g}function Of(n,s,c){return c===void 0||(gs&1073741824)!==0&&(mt&261930)===0?n.memoizedState=s:(n.memoizedState=c,n=a2(),tt.lanes|=n,oa|=n,c)}function ay(n,s,c,g){return y(c,s)?c:Vo.current!==null?(n=Of(n,c,g),y(n,s)||(In=!0),n):(gs&42)===0||(gs&1073741824)!==0&&(mt&261930)===0?(In=!0,n.memoizedState=c):(n=a2(),tt.lanes|=n,oa|=n,s)}function oy(n,s,c,g,C){var N=ue.p;ue.p=N!==0&&8>N?N:8;var M=ie.T,G={};ie.T=G,_f(n,!1,s,c);try{var K=C(),ce=ie.S;if(ce!==null&&ce(G,K),K!==null&&typeof K=="object"&&typeof K.then=="function"){var we=HC(K,g);ec(n,s,we,Xr(n))}else ec(n,s,g,Xr(n))}catch(Se){ec(n,s,{then:function(){},status:"rejected",reason:Se},Xr())}finally{ue.p=N,M!==null&&G.types!==null&&(M.types=G.types),ie.T=M}}function QC(){}function Mf(n,s,c,g){if(n.tag!==5)throw Error(o(476));var C=ly(n).queue;oy(n,C,s,xe,c===null?QC:function(){return cy(n),c(g)})}function ly(n){var s=n.memoizedState;if(s!==null)return s;s={memoizedState:xe,baseState:xe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ps,lastRenderedState:xe},next:null};var c={};return s.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ps,lastRenderedState:c},next:null},n.memoizedState=s,n=n.alternate,n!==null&&(n.memoizedState=s),s}function cy(n){var s=ly(n);s.next===null&&(s=n.alternate.memoizedState),ec(n,s.next.queue,{},Xr())}function If(){return $n(yc)}function uy(){return Sn().memoizedState}function dy(){return Sn().memoizedState}function ZC(n){for(var s=n.return;s!==null;){switch(s.tag){case 24:case 3:var c=Xr();n=ta(c);var g=na(s,n,c);g!==null&&(Ir(g,s,c),Ql(g,s,c)),s={cache:af()},n.payload=s;return}s=s.return}}function KC(n,s,c){var g=Xr();c={lane:g,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Yu(n)?fy(s,c):(c=Wh(n,s,c,g),c!==null&&(Ir(c,n,g),my(c,s,g)))}function hy(n,s,c){var g=Xr();ec(n,s,c,g)}function ec(n,s,c,g){var C={lane:g,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null};if(Yu(n))fy(s,C);else{var N=n.alternate;if(n.lanes===0&&(N===null||N.lanes===0)&&(N=s.lastRenderedReducer,N!==null))try{var M=s.lastRenderedState,G=N(M,c);if(C.hasEagerState=!0,C.eagerState=G,y(G,M))return Nu(n,s,C,0),Xt===null&&Au(),!1}catch{}if(c=Wh(n,s,C,g),c!==null)return Ir(c,n,g),my(c,s,g),!0}return!1}function _f(n,s,c,g){if(g={lane:2,revertLane:u1(),gesture:null,action:g,hasEagerState:!1,eagerState:null,next:null},Yu(n)){if(s)throw Error(o(479))}else s=Wh(n,c,g,2),s!==null&&Ir(s,n,2)}function Yu(n){var s=n.alternate;return n===tt||s!==null&&s===tt}function fy(n,s){Ho=Uu=!0;var c=n.pending;c===null?s.next=s:(s.next=c.next,c.next=s),n.pending=s}function my(n,s,c){if((c&4194048)!==0){var g=s.lanes;g&=n.pendingLanes,c|=g,s.lanes=c,zi(n,c)}}var tc={readContext:$n,use:Vu,useCallback:gn,useContext:gn,useEffect:gn,useImperativeHandle:gn,useLayoutEffect:gn,useInsertionEffect:gn,useMemo:gn,useReducer:gn,useRef:gn,useState:gn,useDebugValue:gn,useDeferredValue:gn,useTransition:gn,useSyncExternalStore:gn,useId:gn,useHostTransitionStatus:gn,useFormState:gn,useActionState:gn,useOptimistic:gn,useMemoCache:gn,useCacheRefresh:gn};tc.useEffectEvent=gn;var gy={readContext:$n,use:Vu,useCallback:function(n,s){return mr().memoizedState=[n,s===void 0?null:s],n},useContext:$n,useEffect:$p,useImperativeHandle:function(n,s,c){c=c!=null?c.concat([n]):null,qu(4194308,4,ny.bind(null,s,n),c)},useLayoutEffect:function(n,s){return qu(4194308,4,n,s)},useInsertionEffect:function(n,s){qu(4,2,n,s)},useMemo:function(n,s){var c=mr();s=s===void 0?null:s;var g=n();if($a){Ut(!0);try{n()}finally{Ut(!1)}}return c.memoizedState=[g,s],g},useReducer:function(n,s,c){var g=mr();if(c!==void 0){var C=c(s);if($a){Ut(!0);try{c(s)}finally{Ut(!1)}}}else C=s;return g.memoizedState=g.baseState=C,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:C},g.queue=n,n=n.dispatch=KC.bind(null,tt,n),[g.memoizedState,n]},useRef:function(n){var s=mr();return n={current:n},s.memoizedState=n},useState:function(n){n=Af(n);var s=n.queue,c=hy.bind(null,tt,s);return s.dispatch=c,[n.memoizedState,c]},useDebugValue:Rf,useDeferredValue:function(n,s){var c=mr();return Of(c,n,s)},useTransition:function(){var n=Af(!1);return n=oy.bind(null,tt,n.queue,!0,!1),mr().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,s,c){var g=tt,C=mr();if(pt){if(c===void 0)throw Error(o(407));c=c()}else{if(c=s(),Xt===null)throw Error(o(349));(mt&127)!==0||Bp(g,s,c)}C.memoizedState=c;var N={value:c,getSnapshot:s};return C.queue=N,$p(Pp.bind(null,g,N,n),[n]),g.flags|=2048,Go(9,{destroy:void 0},kp.bind(null,g,N,c,s),null),c},useId:function(){var n=mr(),s=Xt.identifierPrefix;if(pt){var c=Yi,g=Gi;c=(g&~(1<<32-nt(g)-1)).toString(32)+c,s="_"+s+"R_"+c,c=zu++,0<c&&(s+="H"+c.toString(32)),s+="_"}else c=qC++,s="_"+s+"r_"+c.toString(32)+"_";return n.memoizedState=s},useHostTransitionStatus:If,useFormState:Xp,useActionState:Xp,useOptimistic:function(n){var s=mr();s.memoizedState=s.baseState=n;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=c,s=_f.bind(null,tt,!0,c),c.dispatch=s,[n,s]},useMemoCache:Ef,useCacheRefresh:function(){return mr().memoizedState=ZC.bind(null,tt)},useEffectEvent:function(n){var s=mr(),c={impl:n};return s.memoizedState=c,function(){if((Rt&2)!==0)throw Error(o(440));return c.impl.apply(void 0,arguments)}}},Df={readContext:$n,use:Vu,useCallback:iy,useContext:$n,useEffect:Tf,useImperativeHandle:ry,useInsertionEffect:ey,useLayoutEffect:ty,useMemo:sy,useReducer:Hu,useRef:Kp,useState:function(){return Hu(ps)},useDebugValue:Rf,useDeferredValue:function(n,s){var c=Sn();return ay(c,zt.memoizedState,n,s)},useTransition:function(){var n=Hu(ps)[0],s=Sn().memoizedState;return[typeof n=="boolean"?n:Jl(n),s]},useSyncExternalStore:Lp,useId:uy,useHostTransitionStatus:If,useFormState:Wp,useActionState:Wp,useOptimistic:function(n,s){var c=Sn();return Fp(c,zt,n,s)},useMemoCache:Ef,useCacheRefresh:dy};Df.useEffectEvent=Jp;var py={readContext:$n,use:Vu,useCallback:iy,useContext:$n,useEffect:Tf,useImperativeHandle:ry,useInsertionEffect:ey,useLayoutEffect:ty,useMemo:sy,useReducer:Sf,useRef:Kp,useState:function(){return Sf(ps)},useDebugValue:Rf,useDeferredValue:function(n,s){var c=Sn();return zt===null?Of(c,n,s):ay(c,zt.memoizedState,n,s)},useTransition:function(){var n=Sf(ps)[0],s=Sn().memoizedState;return[typeof n=="boolean"?n:Jl(n),s]},useSyncExternalStore:Lp,useId:uy,useHostTransitionStatus:If,useFormState:Zp,useActionState:Zp,useOptimistic:function(n,s){var c=Sn();return zt!==null?Fp(c,zt,n,s):(c.baseState=n,[n,c.queue.dispatch])},useMemoCache:Ef,useCacheRefresh:dy};py.useEffectEvent=Jp;function jf(n,s,c,g){s=n.memoizedState,c=c(g,s),c=c==null?s:S({},s,c),n.memoizedState=c,n.lanes===0&&(n.updateQueue.baseState=c)}var Lf={enqueueSetState:function(n,s,c){n=n._reactInternals;var g=Xr(),C=ta(g);C.payload=s,c!=null&&(C.callback=c),s=na(n,C,g),s!==null&&(Ir(s,n,g),Ql(s,n,g))},enqueueReplaceState:function(n,s,c){n=n._reactInternals;var g=Xr(),C=ta(g);C.tag=1,C.payload=s,c!=null&&(C.callback=c),s=na(n,C,g),s!==null&&(Ir(s,n,g),Ql(s,n,g))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var c=Xr(),g=ta(c);g.tag=2,s!=null&&(g.callback=s),s=na(n,g,c),s!==null&&(Ir(s,n,c),Ql(s,n,c))}};function yy(n,s,c,g,C,N,M){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(g,N,M):s.prototype&&s.prototype.isPureReactComponent?!v(c,g)||!v(C,N):!0}function by(n,s,c,g){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(c,g),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(c,g),s.state!==n&&Lf.enqueueReplaceState(s,s.state,null)}function Ja(n,s){var c=s;if("ref"in s){c={};for(var g in s)g!=="ref"&&(c[g]=s[g])}if(n=n.defaultProps){c===s&&(c=S({},c));for(var C in n)c[C]===void 0&&(c[C]=n[C])}return c}function vy(n){Su(n)}function xy(n){console.error(n)}function wy(n){Su(n)}function Xu(n,s){try{var c=n.onUncaughtError;c(s.value,{componentStack:s.stack})}catch(g){setTimeout(function(){throw g})}}function Ey(n,s,c){try{var g=n.onCaughtError;g(c.value,{componentStack:c.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(C){setTimeout(function(){throw C})}}function Bf(n,s,c){return c=ta(c),c.tag=3,c.payload={element:null},c.callback=function(){Xu(n,s)},c}function Cy(n){return n=ta(n),n.tag=3,n}function Sy(n,s,c,g){var C=c.type.getDerivedStateFromError;if(typeof C=="function"){var N=g.value;n.payload=function(){return C(N)},n.callback=function(){Ey(s,c,g)}}var M=c.stateNode;M!==null&&typeof M.componentDidCatch=="function"&&(n.callback=function(){Ey(s,c,g),typeof C!="function"&&(la===null?la=new Set([this]):la.add(this));var G=g.stack;this.componentDidCatch(g.value,{componentStack:G!==null?G:""})})}function $C(n,s,c,g,C){if(c.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){if(s=c.alternate,s!==null&&ko(s,c,C,!0),c=Hr.current,c!==null){switch(c.tag){case 31:case 13:return ci===null?sd():c.alternate===null&&pn===0&&(pn=3),c.flags&=-257,c.flags|=65536,c.lanes=C,g===ju?c.flags|=16384:(s=c.updateQueue,s===null?c.updateQueue=new Set([g]):s.add(g),o1(n,g,C)),!1;case 22:return c.flags|=65536,g===ju?c.flags|=16384:(s=c.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([g])},c.updateQueue=s):(c=s.retryQueue,c===null?s.retryQueue=new Set([g]):c.add(g)),o1(n,g,C)),!1}throw Error(o(435,c.tag))}return o1(n,g,C),sd(),!1}if(pt)return s=Hr.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=C,g!==ef&&(n=Error(o(422),{cause:g}),ql(si(n,c)))):(g!==ef&&(s=Error(o(423),{cause:g}),ql(si(s,c))),n=n.current.alternate,n.flags|=65536,C&=-C,n.lanes|=C,g=si(g,c),C=Bf(n.stateNode,g,C),hf(n,C),pn!==4&&(pn=2)),!1;var N=Error(o(520),{cause:g});if(N=si(N,c),cc===null?cc=[N]:cc.push(N),pn!==4&&(pn=2),s===null)return!0;g=si(g,c),c=s;do{switch(c.tag){case 3:return c.flags|=65536,n=C&-C,c.lanes|=n,n=Bf(c.stateNode,g,n),hf(c,n),!1;case 1:if(s=c.type,N=c.stateNode,(c.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(la===null||!la.has(N))))return c.flags|=65536,C&=-C,c.lanes|=C,C=Cy(C),Sy(C,n,c,g),hf(c,C),!1}c=c.return}while(c!==null);return!1}var kf=Error(o(461)),In=!1;function Jn(n,s,c,g){s.child=n===null?Rp(s,null,c,g):Ka(s,n.child,c,g)}function Ay(n,s,c,g,C){c=c.render;var N=s.ref;if("ref"in g){var M={};for(var G in g)G!=="ref"&&(M[G]=g[G])}else M=g;return Xa(s),g=bf(n,s,c,M,N,C),G=vf(),n!==null&&!In?(xf(n,s,C),ys(n,s,C)):(pt&&G&&$h(s),s.flags|=1,Jn(n,s,g,C),s.child)}function Ny(n,s,c,g,C){if(n===null){var N=c.type;return typeof N=="function"&&!Qh(N)&&N.defaultProps===void 0&&c.compare===null?(s.tag=15,s.type=N,Ty(n,s,N,g,C)):(n=Ru(c.type,null,g,s,s.mode,C),n.ref=s.ref,n.return=s,s.child=n)}if(N=n.child,!Gf(n,C)){var M=N.memoizedProps;if(c=c.compare,c=c!==null?c:v,c(M,g)&&n.ref===s.ref)return ys(n,s,C)}return s.flags|=1,n=ds(N,g),n.ref=s.ref,n.return=s,s.child=n}function Ty(n,s,c,g,C){if(n!==null){var N=n.memoizedProps;if(v(N,g)&&n.ref===s.ref)if(In=!1,s.pendingProps=g=N,Gf(n,C))(n.flags&131072)!==0&&(In=!0);else return s.lanes=n.lanes,ys(n,s,C)}return Pf(n,s,c,g,C)}function Ry(n,s,c,g){var C=g.children,N=n!==null?n.memoizedState:null;if(n===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),g.mode==="hidden"){if((s.flags&128)!==0){if(N=N!==null?N.baseLanes|c:c,n!==null){for(g=s.child=n.child,C=0;g!==null;)C=C|g.lanes|g.childLanes,g=g.sibling;g=C&~N}else g=0,s.child=null;return Oy(n,s,N,c,g)}if((c&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},n!==null&&_u(s,N!==null?N.cachePool:null),N!==null?Ip(s,N):mf(),_p(s);else return g=s.lanes=536870912,Oy(n,s,N!==null?N.baseLanes|c:c,c,g)}else N!==null?(_u(s,N.cachePool),Ip(s,N),ia(),s.memoizedState=null):(n!==null&&_u(s,null),mf(),ia());return Jn(n,s,C,c),s.child}function nc(n,s){return n!==null&&n.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function Oy(n,s,c,g,C){var N=lf();return N=N===null?null:{parent:On._currentValue,pool:N},s.memoizedState={baseLanes:c,cachePool:N},n!==null&&_u(s,null),mf(),_p(s),n!==null&&ko(n,s,g,!0),s.childLanes=C,null}function Wu(n,s){return s=Zu({mode:s.mode,children:s.children},n.mode),s.ref=n.ref,n.child=s,s.return=n,s}function My(n,s,c){return Ka(s,n.child,null,c),n=Wu(s,s.pendingProps),n.flags|=2,qr(s),s.memoizedState=null,n}function JC(n,s,c){var g=s.pendingProps,C=(s.flags&128)!==0;if(s.flags&=-129,n===null){if(pt){if(g.mode==="hidden")return n=Wu(s,g),s.lanes=536870912,nc(null,n);if(pf(s),(n=$t)?(n=V2(n,li),n=n!==null&&n.data==="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:Zs!==null?{id:Gi,overflow:Yi}:null,retryLane:536870912,hydrationErrors:null},c=fp(n),c.return=s,s.child=c,Kn=s,$t=null)):n=null,n===null)throw $s(s);return s.lanes=536870912,null}return Wu(s,g)}var N=n.memoizedState;if(N!==null){var M=N.dehydrated;if(pf(s),C)if(s.flags&256)s.flags&=-257,s=My(n,s,c);else if(s.memoizedState!==null)s.child=n.child,s.flags|=128,s=null;else throw Error(o(558));else if(In||ko(n,s,c,!1),C=(c&n.childLanes)!==0,In||C){if(g=Xt,g!==null&&(M=wo(g,c),M!==0&&M!==N.retryLane))throw N.retryLane=M,Ha(n,M),Ir(g,n,M),kf;sd(),s=My(n,s,c)}else n=N.treeContext,$t=ui(M.nextSibling),Kn=s,pt=!0,Ks=null,li=!1,n!==null&&pp(s,n),s=Wu(s,g),s.flags|=4096;return s}return n=ds(n.child,{mode:g.mode,children:g.children}),n.ref=s.ref,s.child=n,n.return=s,n}function Qu(n,s){var c=s.ref;if(c===null)n!==null&&n.ref!==null&&(s.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(o(284));(n===null||n.ref!==c)&&(s.flags|=4194816)}}function Pf(n,s,c,g,C){return Xa(s),c=bf(n,s,c,g,void 0,C),g=vf(),n!==null&&!In?(xf(n,s,C),ys(n,s,C)):(pt&&g&&$h(s),s.flags|=1,Jn(n,s,c,C),s.child)}function Iy(n,s,c,g,C,N){return Xa(s),s.updateQueue=null,c=jp(s,g,c,C),Dp(n),g=vf(),n!==null&&!In?(xf(n,s,N),ys(n,s,N)):(pt&&g&&$h(s),s.flags|=1,Jn(n,s,c,N),s.child)}function _y(n,s,c,g,C){if(Xa(s),s.stateNode===null){var N=Do,M=c.contextType;typeof M=="object"&&M!==null&&(N=$n(M)),N=new c(g,N),s.memoizedState=N.state!==null&&N.state!==void 0?N.state:null,N.updater=Lf,s.stateNode=N,N._reactInternals=s,N=s.stateNode,N.props=g,N.state=s.memoizedState,N.refs={},uf(s),M=c.contextType,N.context=typeof M=="object"&&M!==null?$n(M):Do,N.state=s.memoizedState,M=c.getDerivedStateFromProps,typeof M=="function"&&(jf(s,c,M,g),N.state=s.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof N.getSnapshotBeforeUpdate=="function"||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(M=N.state,typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount(),M!==N.state&&Lf.enqueueReplaceState(N,N.state,null),Kl(s,g,N,C),Zl(),N.state=s.memoizedState),typeof N.componentDidMount=="function"&&(s.flags|=4194308),g=!0}else if(n===null){N=s.stateNode;var G=s.memoizedProps,K=Ja(c,G);N.props=K;var ce=N.context,we=c.contextType;M=Do,typeof we=="object"&&we!==null&&(M=$n(we));var Se=c.getDerivedStateFromProps;we=typeof Se=="function"||typeof N.getSnapshotBeforeUpdate=="function",G=s.pendingProps!==G,we||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(G||ce!==M)&&by(s,N,g,M),ea=!1;var de=s.memoizedState;N.state=de,Kl(s,g,N,C),Zl(),ce=s.memoizedState,G||de!==ce||ea?(typeof Se=="function"&&(jf(s,c,Se,g),ce=s.memoizedState),(K=ea||yy(s,c,K,g,de,ce,M))?(we||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount()),typeof N.componentDidMount=="function"&&(s.flags|=4194308)):(typeof N.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=g,s.memoizedState=ce),N.props=g,N.state=ce,N.context=M,g=K):(typeof N.componentDidMount=="function"&&(s.flags|=4194308),g=!1)}else{N=s.stateNode,df(n,s),M=s.memoizedProps,we=Ja(c,M),N.props=we,Se=s.pendingProps,de=N.context,ce=c.contextType,K=Do,typeof ce=="object"&&ce!==null&&(K=$n(ce)),G=c.getDerivedStateFromProps,(ce=typeof G=="function"||typeof N.getSnapshotBeforeUpdate=="function")||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(M!==Se||de!==K)&&by(s,N,g,K),ea=!1,de=s.memoizedState,N.state=de,Kl(s,g,N,C),Zl();var be=s.memoizedState;M!==Se||de!==be||ea||n!==null&&n.dependencies!==null&&Mu(n.dependencies)?(typeof G=="function"&&(jf(s,c,G,g),be=s.memoizedState),(we=ea||yy(s,c,we,g,de,be,K)||n!==null&&n.dependencies!==null&&Mu(n.dependencies))?(ce||typeof N.UNSAFE_componentWillUpdate!="function"&&typeof N.componentWillUpdate!="function"||(typeof N.componentWillUpdate=="function"&&N.componentWillUpdate(g,be,K),typeof N.UNSAFE_componentWillUpdate=="function"&&N.UNSAFE_componentWillUpdate(g,be,K)),typeof N.componentDidUpdate=="function"&&(s.flags|=4),typeof N.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof N.componentDidUpdate!="function"||M===n.memoizedProps&&de===n.memoizedState||(s.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||M===n.memoizedProps&&de===n.memoizedState||(s.flags|=1024),s.memoizedProps=g,s.memoizedState=be),N.props=g,N.state=be,N.context=K,g=we):(typeof N.componentDidUpdate!="function"||M===n.memoizedProps&&de===n.memoizedState||(s.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||M===n.memoizedProps&&de===n.memoizedState||(s.flags|=1024),g=!1)}return N=g,Qu(n,s),g=(s.flags&128)!==0,N||g?(N=s.stateNode,c=g&&typeof c.getDerivedStateFromError!="function"?null:N.render(),s.flags|=1,n!==null&&g?(s.child=Ka(s,n.child,null,C),s.child=Ka(s,null,c,C)):Jn(n,s,c,C),s.memoizedState=N.state,n=s.child):n=ys(n,s,C),n}function Dy(n,s,c,g){return Ga(),s.flags|=256,Jn(n,s,c,g),s.child}var Uf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function zf(n){return{baseLanes:n,cachePool:Ep()}}function Ff(n,s,c){return n=n!==null?n.childLanes&~c:0,s&&(n|=Yr),n}function jy(n,s,c){var g=s.pendingProps,C=!1,N=(s.flags&128)!==0,M;if((M=N)||(M=n!==null&&n.memoizedState===null?!1:(Cn.current&2)!==0),M&&(C=!0,s.flags&=-129),M=(s.flags&32)!==0,s.flags&=-33,n===null){if(pt){if(C?ra(s):ia(),(n=$t)?(n=V2(n,li),n=n!==null&&n.data!=="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:Zs!==null?{id:Gi,overflow:Yi}:null,retryLane:536870912,hydrationErrors:null},c=fp(n),c.return=s,s.child=c,Kn=s,$t=null)):n=null,n===null)throw $s(s);return C1(n)?s.lanes=32:s.lanes=536870912,null}var G=g.children;return g=g.fallback,C?(ia(),C=s.mode,G=Zu({mode:"hidden",children:G},C),g=qa(g,C,c,null),G.return=s,g.return=s,G.sibling=g,s.child=G,g=s.child,g.memoizedState=zf(c),g.childLanes=Ff(n,M,c),s.memoizedState=Uf,nc(null,g)):(ra(s),Vf(s,G))}var K=n.memoizedState;if(K!==null&&(G=K.dehydrated,G!==null)){if(N)s.flags&256?(ra(s),s.flags&=-257,s=Hf(n,s,c)):s.memoizedState!==null?(ia(),s.child=n.child,s.flags|=128,s=null):(ia(),G=g.fallback,C=s.mode,g=Zu({mode:"visible",children:g.children},C),G=qa(G,C,c,null),G.flags|=2,g.return=s,G.return=s,g.sibling=G,s.child=g,Ka(s,n.child,null,c),g=s.child,g.memoizedState=zf(c),g.childLanes=Ff(n,M,c),s.memoizedState=Uf,s=nc(null,g));else if(ra(s),C1(G)){if(M=G.nextSibling&&G.nextSibling.dataset,M)var ce=M.dgst;M=ce,g=Error(o(419)),g.stack="",g.digest=M,ql({value:g,source:null,stack:null}),s=Hf(n,s,c)}else if(In||ko(n,s,c,!1),M=(c&n.childLanes)!==0,In||M){if(M=Xt,M!==null&&(g=wo(M,c),g!==0&&g!==K.retryLane))throw K.retryLane=g,Ha(n,g),Ir(M,n,g),kf;E1(G)||sd(),s=Hf(n,s,c)}else E1(G)?(s.flags|=192,s.child=n.child,s=null):(n=K.treeContext,$t=ui(G.nextSibling),Kn=s,pt=!0,Ks=null,li=!1,n!==null&&pp(s,n),s=Vf(s,g.children),s.flags|=4096);return s}return C?(ia(),G=g.fallback,C=s.mode,K=n.child,ce=K.sibling,g=ds(K,{mode:"hidden",children:g.children}),g.subtreeFlags=K.subtreeFlags&65011712,ce!==null?G=ds(ce,G):(G=qa(G,C,c,null),G.flags|=2),G.return=s,g.return=s,g.sibling=G,s.child=g,nc(null,g),g=s.child,G=n.child.memoizedState,G===null?G=zf(c):(C=G.cachePool,C!==null?(K=On._currentValue,C=C.parent!==K?{parent:K,pool:K}:C):C=Ep(),G={baseLanes:G.baseLanes|c,cachePool:C}),g.memoizedState=G,g.childLanes=Ff(n,M,c),s.memoizedState=Uf,nc(n.child,g)):(ra(s),c=n.child,n=c.sibling,c=ds(c,{mode:"visible",children:g.children}),c.return=s,c.sibling=null,n!==null&&(M=s.deletions,M===null?(s.deletions=[n],s.flags|=16):M.push(n)),s.child=c,s.memoizedState=null,c)}function Vf(n,s){return s=Zu({mode:"visible",children:s},n.mode),s.return=n,n.child=s}function Zu(n,s){return n=Vr(22,n,null,s),n.lanes=0,n}function Hf(n,s,c){return Ka(s,n.child,null,c),n=Vf(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function Ly(n,s,c){n.lanes|=s;var g=n.alternate;g!==null&&(g.lanes|=s),rf(n.return,s,c)}function qf(n,s,c,g,C,N){var M=n.memoizedState;M===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:g,tail:c,tailMode:C,treeForkCount:N}:(M.isBackwards=s,M.rendering=null,M.renderingStartTime=0,M.last=g,M.tail=c,M.tailMode=C,M.treeForkCount=N)}function By(n,s,c){var g=s.pendingProps,C=g.revealOrder,N=g.tail;g=g.children;var M=Cn.current,G=(M&2)!==0;if(G?(M=M&1|2,s.flags|=128):M&=1,Me(Cn,M),Jn(n,s,g,c),g=pt?Hl:0,!G&&n!==null&&(n.flags&128)!==0)e:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Ly(n,c,s);else if(n.tag===19)Ly(n,c,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(C){case"forwards":for(c=s.child,C=null;c!==null;)n=c.alternate,n!==null&&Pu(n)===null&&(C=c),c=c.sibling;c=C,c===null?(C=s.child,s.child=null):(C=c.sibling,c.sibling=null),qf(s,!1,C,c,N,g);break;case"backwards":case"unstable_legacy-backwards":for(c=null,C=s.child,s.child=null;C!==null;){if(n=C.alternate,n!==null&&Pu(n)===null){s.child=C;break}n=C.sibling,C.sibling=c,c=C,C=n}qf(s,!0,c,null,N,g);break;case"together":qf(s,!1,null,null,void 0,g);break;default:s.memoizedState=null}return s.child}function ys(n,s,c){if(n!==null&&(s.dependencies=n.dependencies),oa|=s.lanes,(c&s.childLanes)===0)if(n!==null){if(ko(n,s,c,!1),(c&s.childLanes)===0)return null}else return null;if(n!==null&&s.child!==n.child)throw Error(o(153));if(s.child!==null){for(n=s.child,c=ds(n,n.pendingProps),s.child=c,c.return=s;n.sibling!==null;)n=n.sibling,c=c.sibling=ds(n,n.pendingProps),c.return=s;c.sibling=null}return s.child}function Gf(n,s){return(n.lanes&s)!==0?!0:(n=n.dependencies,!!(n!==null&&Mu(n)))}function eS(n,s,c){switch(s.tag){case 3:bt(s,s.stateNode.containerInfo),Js(s,On,n.memoizedState.cache),Ga();break;case 27:case 5:vi(s);break;case 4:bt(s,s.stateNode.containerInfo);break;case 10:Js(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,pf(s),null;break;case 13:var g=s.memoizedState;if(g!==null)return g.dehydrated!==null?(ra(s),s.flags|=128,null):(c&s.child.childLanes)!==0?jy(n,s,c):(ra(s),n=ys(n,s,c),n!==null?n.sibling:null);ra(s);break;case 19:var C=(n.flags&128)!==0;if(g=(c&s.childLanes)!==0,g||(ko(n,s,c,!1),g=(c&s.childLanes)!==0),C){if(g)return By(n,s,c);s.flags|=128}if(C=s.memoizedState,C!==null&&(C.rendering=null,C.tail=null,C.lastEffect=null),Me(Cn,Cn.current),g)break;return null;case 22:return s.lanes=0,Ry(n,s,c,s.pendingProps);case 24:Js(s,On,n.memoizedState.cache)}return ys(n,s,c)}function ky(n,s,c){if(n!==null)if(n.memoizedProps!==s.pendingProps)In=!0;else{if(!Gf(n,c)&&(s.flags&128)===0)return In=!1,eS(n,s,c);In=(n.flags&131072)!==0}else In=!1,pt&&(s.flags&1048576)!==0&&gp(s,Hl,s.index);switch(s.lanes=0,s.tag){case 16:e:{var g=s.pendingProps;if(n=Qa(s.elementType),s.type=n,typeof n=="function")Qh(n)?(g=Ja(n,g),s.tag=1,s=_y(null,s,n,g,c)):(s.tag=0,s=Pf(null,s,n,g,c));else{if(n!=null){var C=n.$$typeof;if(C===V){s.tag=11,s=Ay(null,s,n,g,c);break e}else if(C===z){s.tag=14,s=Ny(null,s,n,g,c);break e}}throw s=Le(n)||n,Error(o(306,s,""))}}return s;case 0:return Pf(n,s,s.type,s.pendingProps,c);case 1:return g=s.type,C=Ja(g,s.pendingProps),_y(n,s,g,C,c);case 3:e:{if(bt(s,s.stateNode.containerInfo),n===null)throw Error(o(387));g=s.pendingProps;var N=s.memoizedState;C=N.element,df(n,s),Kl(s,g,null,c);var M=s.memoizedState;if(g=M.cache,Js(s,On,g),g!==N.cache&&sf(s,[On],c,!0),Zl(),g=M.element,N.isDehydrated)if(N={element:g,isDehydrated:!1,cache:M.cache},s.updateQueue.baseState=N,s.memoizedState=N,s.flags&256){s=Dy(n,s,g,c);break e}else if(g!==C){C=si(Error(o(424)),s),ql(C),s=Dy(n,s,g,c);break e}else for(n=s.stateNode.containerInfo,n.nodeType===9?n=n.body:n=n.nodeName==="HTML"?n.ownerDocument.body:n,$t=ui(n.firstChild),Kn=s,pt=!0,Ks=null,li=!0,c=Rp(s,null,g,c),s.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(Ga(),g===C){s=ys(n,s,c);break e}Jn(n,s,g,c)}s=s.child}return s;case 26:return Qu(n,s),n===null?(c=W2(s.type,null,s.pendingProps,null))?s.memoizedState=c:pt||(c=s.type,n=s.pendingProps,g=hd(Ie.current).createElement(c),g[xn]=s,g[Lt]=n,er(g,c,n),fn(g),s.stateNode=g):s.memoizedState=W2(s.type,n.memoizedProps,s.pendingProps,n.memoizedState),null;case 27:return vi(s),n===null&&pt&&(g=s.stateNode=G2(s.type,s.pendingProps,Ie.current),Kn=s,li=!0,C=$t,ha(s.type)?(S1=C,$t=ui(g.firstChild)):$t=C),Jn(n,s,s.pendingProps.children,c),Qu(n,s),n===null&&(s.flags|=4194304),s.child;case 5:return n===null&&pt&&((C=g=$t)&&(g=MS(g,s.type,s.pendingProps,li),g!==null?(s.stateNode=g,Kn=s,$t=ui(g.firstChild),li=!1,C=!0):C=!1),C||$s(s)),vi(s),C=s.type,N=s.pendingProps,M=n!==null?n.memoizedProps:null,g=N.children,v1(C,N)?g=null:M!==null&&v1(C,M)&&(s.flags|=32),s.memoizedState!==null&&(C=bf(n,s,GC,null,null,c),yc._currentValue=C),Qu(n,s),Jn(n,s,g,c),s.child;case 6:return n===null&&pt&&((n=c=$t)&&(c=IS(c,s.pendingProps,li),c!==null?(s.stateNode=c,Kn=s,$t=null,n=!0):n=!1),n||$s(s)),null;case 13:return jy(n,s,c);case 4:return bt(s,s.stateNode.containerInfo),g=s.pendingProps,n===null?s.child=Ka(s,null,g,c):Jn(n,s,g,c),s.child;case 11:return Ay(n,s,s.type,s.pendingProps,c);case 7:return Jn(n,s,s.pendingProps,c),s.child;case 8:return Jn(n,s,s.pendingProps.children,c),s.child;case 12:return Jn(n,s,s.pendingProps.children,c),s.child;case 10:return g=s.pendingProps,Js(s,s.type,g.value),Jn(n,s,g.children,c),s.child;case 9:return C=s.type._context,g=s.pendingProps.children,Xa(s),C=$n(C),g=g(C),s.flags|=1,Jn(n,s,g,c),s.child;case 14:return Ny(n,s,s.type,s.pendingProps,c);case 15:return Ty(n,s,s.type,s.pendingProps,c);case 19:return By(n,s,c);case 31:return JC(n,s,c);case 22:return Ry(n,s,c,s.pendingProps);case 24:return Xa(s),g=$n(On),n===null?(C=lf(),C===null&&(C=Xt,N=af(),C.pooledCache=N,N.refCount++,N!==null&&(C.pooledCacheLanes|=c),C=N),s.memoizedState={parent:g,cache:C},uf(s),Js(s,On,C)):((n.lanes&c)!==0&&(df(n,s),Kl(s,null,null,c),Zl()),C=n.memoizedState,N=s.memoizedState,C.parent!==g?(C={parent:g,cache:g},s.memoizedState=C,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=C),Js(s,On,g)):(g=N.cache,Js(s,On,g),g!==C.cache&&sf(s,[On],c,!0))),Jn(n,s,s.pendingProps.children,c),s.child;case 29:throw s.pendingProps}throw Error(o(156,s.tag))}function bs(n){n.flags|=4}function Yf(n,s,c,g,C){if((s=(n.mode&32)!==0)&&(s=!1),s){if(n.flags|=16777216,(C&335544128)===C)if(n.stateNode.complete)n.flags|=8192;else if(u2())n.flags|=8192;else throw Za=ju,cf}else n.flags&=-16777217}function Py(n,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!J2(s))if(u2())n.flags|=8192;else throw Za=ju,cf}function Ku(n,s){s!==null&&(n.flags|=4),n.flags&16384&&(s=n.tag!==22?kn():536870912,n.lanes|=s,Qo|=s)}function rc(n,s){if(!pt)switch(n.tailMode){case"hidden":s=n.tail;for(var c=null;s!==null;)s.alternate!==null&&(c=s),s=s.sibling;c===null?n.tail=null:c.sibling=null;break;case"collapsed":c=n.tail;for(var g=null;c!==null;)c.alternate!==null&&(g=c),c=c.sibling;g===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:g.sibling=null}}function Jt(n){var s=n.alternate!==null&&n.alternate.child===n.child,c=0,g=0;if(s)for(var C=n.child;C!==null;)c|=C.lanes|C.childLanes,g|=C.subtreeFlags&65011712,g|=C.flags&65011712,C.return=n,C=C.sibling;else for(C=n.child;C!==null;)c|=C.lanes|C.childLanes,g|=C.subtreeFlags,g|=C.flags,C.return=n,C=C.sibling;return n.subtreeFlags|=g,n.childLanes=c,s}function tS(n,s,c){var g=s.pendingProps;switch(Jh(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jt(s),null;case 1:return Jt(s),null;case 3:return c=s.stateNode,g=null,n!==null&&(g=n.memoizedState.cache),s.memoizedState.cache!==g&&(s.flags|=2048),ms(On),Ht(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(n===null||n.child===null)&&(Bo(s)?bs(s):n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,tf())),Jt(s),null;case 26:var C=s.type,N=s.memoizedState;return n===null?(bs(s),N!==null?(Jt(s),Py(s,N)):(Jt(s),Yf(s,C,null,g,c))):N?N!==n.memoizedState?(bs(s),Jt(s),Py(s,N)):(Jt(s),s.flags&=-16777217):(n=n.memoizedProps,n!==g&&bs(s),Jt(s),Yf(s,C,n,g,c)),null;case 27:if(Ln(s),c=Ie.current,C=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==g&&bs(s);else{if(!g){if(s.stateNode===null)throw Error(o(166));return Jt(s),null}n=_e.current,Bo(s)?yp(s):(n=G2(C,g,c),s.stateNode=n,bs(s))}return Jt(s),null;case 5:if(Ln(s),C=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==g&&bs(s);else{if(!g){if(s.stateNode===null)throw Error(o(166));return Jt(s),null}if(N=_e.current,Bo(s))yp(s);else{var M=hd(Ie.current);switch(N){case 1:N=M.createElementNS("http://www.w3.org/2000/svg",C);break;case 2:N=M.createElementNS("http://www.w3.org/1998/Math/MathML",C);break;default:switch(C){case"svg":N=M.createElementNS("http://www.w3.org/2000/svg",C);break;case"math":N=M.createElementNS("http://www.w3.org/1998/Math/MathML",C);break;case"script":N=M.createElement("div"),N.innerHTML="<script><\/script>",N=N.removeChild(N.firstChild);break;case"select":N=typeof g.is=="string"?M.createElement("select",{is:g.is}):M.createElement("select"),g.multiple?N.multiple=!0:g.size&&(N.size=g.size);break;default:N=typeof g.is=="string"?M.createElement(C,{is:g.is}):M.createElement(C)}}N[xn]=s,N[Lt]=g;e:for(M=s.child;M!==null;){if(M.tag===5||M.tag===6)N.appendChild(M.stateNode);else if(M.tag!==4&&M.tag!==27&&M.child!==null){M.child.return=M,M=M.child;continue}if(M===s)break e;for(;M.sibling===null;){if(M.return===null||M.return===s)break e;M=M.return}M.sibling.return=M.return,M=M.sibling}s.stateNode=N;e:switch(er(N,C,g),C){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}g&&bs(s)}}return Jt(s),Yf(s,s.type,n===null?null:n.memoizedProps,s.pendingProps,c),null;case 6:if(n&&s.stateNode!=null)n.memoizedProps!==g&&bs(s);else{if(typeof g!="string"&&s.stateNode===null)throw Error(o(166));if(n=Ie.current,Bo(s)){if(n=s.stateNode,c=s.memoizedProps,g=null,C=Kn,C!==null)switch(C.tag){case 27:case 5:g=C.memoizedProps}n[xn]=s,n=!!(n.nodeValue===c||g!==null&&g.suppressHydrationWarning===!0||j2(n.nodeValue,c)),n||$s(s,!0)}else n=hd(n).createTextNode(g),n[xn]=s,s.stateNode=n}return Jt(s),null;case 31:if(c=s.memoizedState,n===null||n.memoizedState!==null){if(g=Bo(s),c!==null){if(n===null){if(!g)throw Error(o(318));if(n=s.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(o(557));n[xn]=s}else Ga(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Jt(s),n=!1}else c=tf(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=c),n=!0;if(!n)return s.flags&256?(qr(s),s):(qr(s),null);if((s.flags&128)!==0)throw Error(o(558))}return Jt(s),null;case 13:if(g=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(C=Bo(s),g!==null&&g.dehydrated!==null){if(n===null){if(!C)throw Error(o(318));if(C=s.memoizedState,C=C!==null?C.dehydrated:null,!C)throw Error(o(317));C[xn]=s}else Ga(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Jt(s),C=!1}else C=tf(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=C),C=!0;if(!C)return s.flags&256?(qr(s),s):(qr(s),null)}return qr(s),(s.flags&128)!==0?(s.lanes=c,s):(c=g!==null,n=n!==null&&n.memoizedState!==null,c&&(g=s.child,C=null,g.alternate!==null&&g.alternate.memoizedState!==null&&g.alternate.memoizedState.cachePool!==null&&(C=g.alternate.memoizedState.cachePool.pool),N=null,g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(N=g.memoizedState.cachePool.pool),N!==C&&(g.flags|=2048)),c!==n&&c&&(s.child.flags|=8192),Ku(s,s.updateQueue),Jt(s),null);case 4:return Ht(),n===null&&m1(s.stateNode.containerInfo),Jt(s),null;case 10:return ms(s.type),Jt(s),null;case 19:if(ge(Cn),g=s.memoizedState,g===null)return Jt(s),null;if(C=(s.flags&128)!==0,N=g.rendering,N===null)if(C)rc(g,!1);else{if(pn!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(N=Pu(n),N!==null){for(s.flags|=128,rc(g,!1),n=N.updateQueue,s.updateQueue=n,Ku(s,n),s.subtreeFlags=0,n=c,c=s.child;c!==null;)hp(c,n),c=c.sibling;return Me(Cn,Cn.current&1|2),pt&&hs(s,g.treeForkCount),s.child}n=n.sibling}g.tail!==null&&on()>nd&&(s.flags|=128,C=!0,rc(g,!1),s.lanes=4194304)}else{if(!C)if(n=Pu(N),n!==null){if(s.flags|=128,C=!0,n=n.updateQueue,s.updateQueue=n,Ku(s,n),rc(g,!0),g.tail===null&&g.tailMode==="hidden"&&!N.alternate&&!pt)return Jt(s),null}else 2*on()-g.renderingStartTime>nd&&c!==536870912&&(s.flags|=128,C=!0,rc(g,!1),s.lanes=4194304);g.isBackwards?(N.sibling=s.child,s.child=N):(n=g.last,n!==null?n.sibling=N:s.child=N,g.last=N)}return g.tail!==null?(n=g.tail,g.rendering=n,g.tail=n.sibling,g.renderingStartTime=on(),n.sibling=null,c=Cn.current,Me(Cn,C?c&1|2:c&1),pt&&hs(s,g.treeForkCount),n):(Jt(s),null);case 22:case 23:return qr(s),gf(),g=s.memoizedState!==null,n!==null?n.memoizedState!==null!==g&&(s.flags|=8192):g&&(s.flags|=8192),g?(c&536870912)!==0&&(s.flags&128)===0&&(Jt(s),s.subtreeFlags&6&&(s.flags|=8192)):Jt(s),c=s.updateQueue,c!==null&&Ku(s,c.retryQueue),c=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(c=n.memoizedState.cachePool.pool),g=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(g=s.memoizedState.cachePool.pool),g!==c&&(s.flags|=2048),n!==null&&ge(Wa),null;case 24:return c=null,n!==null&&(c=n.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),ms(On),Jt(s),null;case 25:return null;case 30:return null}throw Error(o(156,s.tag))}function nS(n,s){switch(Jh(s),s.tag){case 1:return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return ms(On),Ht(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 26:case 27:case 5:return Ln(s),null;case 31:if(s.memoizedState!==null){if(qr(s),s.alternate===null)throw Error(o(340));Ga()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 13:if(qr(s),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(o(340));Ga()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return ge(Cn),null;case 4:return Ht(),null;case 10:return ms(s.type),null;case 22:case 23:return qr(s),gf(),n!==null&&ge(Wa),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 24:return ms(On),null;case 25:return null;default:return null}}function Uy(n,s){switch(Jh(s),s.tag){case 3:ms(On),Ht();break;case 26:case 27:case 5:Ln(s);break;case 4:Ht();break;case 31:s.memoizedState!==null&&qr(s);break;case 13:qr(s);break;case 19:ge(Cn);break;case 10:ms(s.type);break;case 22:case 23:qr(s),gf(),n!==null&&ge(Wa);break;case 24:ms(On)}}function ic(n,s){try{var c=s.updateQueue,g=c!==null?c.lastEffect:null;if(g!==null){var C=g.next;c=C;do{if((c.tag&n)===n){g=void 0;var N=c.create,M=c.inst;g=N(),M.destroy=g}c=c.next}while(c!==C)}}catch(G){kt(s,s.return,G)}}function sa(n,s,c){try{var g=s.updateQueue,C=g!==null?g.lastEffect:null;if(C!==null){var N=C.next;g=N;do{if((g.tag&n)===n){var M=g.inst,G=M.destroy;if(G!==void 0){M.destroy=void 0,C=s;var K=c,ce=G;try{ce()}catch(we){kt(C,K,we)}}}g=g.next}while(g!==N)}}catch(we){kt(s,s.return,we)}}function zy(n){var s=n.updateQueue;if(s!==null){var c=n.stateNode;try{Mp(s,c)}catch(g){kt(n,n.return,g)}}}function Fy(n,s,c){c.props=Ja(n.type,n.memoizedProps),c.state=n.memoizedState;try{c.componentWillUnmount()}catch(g){kt(n,s,g)}}function sc(n,s){try{var c=n.ref;if(c!==null){switch(n.tag){case 26:case 27:case 5:var g=n.stateNode;break;case 30:g=n.stateNode;break;default:g=n.stateNode}typeof c=="function"?n.refCleanup=c(g):c.current=g}}catch(C){kt(n,s,C)}}function Xi(n,s){var c=n.ref,g=n.refCleanup;if(c!==null)if(typeof g=="function")try{g()}catch(C){kt(n,s,C)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(C){kt(n,s,C)}else c.current=null}function Vy(n){var s=n.type,c=n.memoizedProps,g=n.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":c.autoFocus&&g.focus();break e;case"img":c.src?g.src=c.src:c.srcSet&&(g.srcset=c.srcSet)}}catch(C){kt(n,n.return,C)}}function Xf(n,s,c){try{var g=n.stateNode;SS(g,n.type,c,s),g[Lt]=s}catch(C){kt(n,n.return,C)}}function Hy(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&ha(n.type)||n.tag===4}function Wf(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Hy(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&ha(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Qf(n,s,c){var g=n.tag;if(g===5||g===6)n=n.stateNode,s?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(n,s):(s=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,s.appendChild(n),c=c._reactRootContainer,c!=null||s.onclick!==null||(s.onclick=Sr));else if(g!==4&&(g===27&&ha(n.type)&&(c=n.stateNode,s=null),n=n.child,n!==null))for(Qf(n,s,c),n=n.sibling;n!==null;)Qf(n,s,c),n=n.sibling}function $u(n,s,c){var g=n.tag;if(g===5||g===6)n=n.stateNode,s?c.insertBefore(n,s):c.appendChild(n);else if(g!==4&&(g===27&&ha(n.type)&&(c=n.stateNode),n=n.child,n!==null))for($u(n,s,c),n=n.sibling;n!==null;)$u(n,s,c),n=n.sibling}function qy(n){var s=n.stateNode,c=n.memoizedProps;try{for(var g=n.type,C=s.attributes;C.length;)s.removeAttributeNode(C[0]);er(s,g,c),s[xn]=n,s[Lt]=c}catch(N){kt(n,n.return,N)}}var vs=!1,_n=!1,Zf=!1,Gy=typeof WeakSet=="function"?WeakSet:Set,Yn=null;function rS(n,s){if(n=n.containerInfo,y1=vd,n=k(n),q(n)){if("selectionStart"in n)var c={start:n.selectionStart,end:n.selectionEnd};else e:{c=(c=n.ownerDocument)&&c.defaultView||window;var g=c.getSelection&&c.getSelection();if(g&&g.rangeCount!==0){c=g.anchorNode;var C=g.anchorOffset,N=g.focusNode;g=g.focusOffset;try{c.nodeType,N.nodeType}catch{c=null;break e}var M=0,G=-1,K=-1,ce=0,we=0,Se=n,de=null;t:for(;;){for(var be;Se!==c||C!==0&&Se.nodeType!==3||(G=M+C),Se!==N||g!==0&&Se.nodeType!==3||(K=M+g),Se.nodeType===3&&(M+=Se.nodeValue.length),(be=Se.firstChild)!==null;)de=Se,Se=be;for(;;){if(Se===n)break t;if(de===c&&++ce===C&&(G=M),de===N&&++we===g&&(K=M),(be=Se.nextSibling)!==null)break;Se=de,de=Se.parentNode}Se=be}c=G===-1||K===-1?null:{start:G,end:K}}else c=null}c=c||{start:0,end:0}}else c=null;for(b1={focusedElem:n,selectionRange:c},vd=!1,Yn=s;Yn!==null;)if(s=Yn,n=s.child,(s.subtreeFlags&1028)!==0&&n!==null)n.return=s,Yn=n;else for(;Yn!==null;){switch(s=Yn,N=s.alternate,n=s.flags,s.tag){case 0:if((n&4)!==0&&(n=s.updateQueue,n=n!==null?n.events:null,n!==null))for(c=0;c<n.length;c++)C=n[c],C.ref.impl=C.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&N!==null){n=void 0,c=s,C=N.memoizedProps,N=N.memoizedState,g=c.stateNode;try{var Fe=Ja(c.type,C);n=g.getSnapshotBeforeUpdate(Fe,N),g.__reactInternalSnapshotBeforeUpdate=n}catch(Qe){kt(c,c.return,Qe)}}break;case 3:if((n&1024)!==0){if(n=s.stateNode.containerInfo,c=n.nodeType,c===9)w1(n);else if(c===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":w1(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(o(163))}if(n=s.sibling,n!==null){n.return=s.return,Yn=n;break}Yn=s.return}}function Yy(n,s,c){var g=c.flags;switch(c.tag){case 0:case 11:case 15:ws(n,c),g&4&&ic(5,c);break;case 1:if(ws(n,c),g&4)if(n=c.stateNode,s===null)try{n.componentDidMount()}catch(M){kt(c,c.return,M)}else{var C=Ja(c.type,s.memoizedProps);s=s.memoizedState;try{n.componentDidUpdate(C,s,n.__reactInternalSnapshotBeforeUpdate)}catch(M){kt(c,c.return,M)}}g&64&&zy(c),g&512&&sc(c,c.return);break;case 3:if(ws(n,c),g&64&&(n=c.updateQueue,n!==null)){if(s=null,c.child!==null)switch(c.child.tag){case 27:case 5:s=c.child.stateNode;break;case 1:s=c.child.stateNode}try{Mp(n,s)}catch(M){kt(c,c.return,M)}}break;case 27:s===null&&g&4&&qy(c);case 26:case 5:ws(n,c),s===null&&g&4&&Vy(c),g&512&&sc(c,c.return);break;case 12:ws(n,c);break;case 31:ws(n,c),g&4&&Qy(n,c);break;case 13:ws(n,c),g&4&&Zy(n,c),g&64&&(n=c.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(c=hS.bind(null,c),_S(n,c))));break;case 22:if(g=c.memoizedState!==null||vs,!g){s=s!==null&&s.memoizedState!==null||_n,C=vs;var N=_n;vs=g,(_n=s)&&!N?Es(n,c,(c.subtreeFlags&8772)!==0):ws(n,c),vs=C,_n=N}break;case 30:break;default:ws(n,c)}}function Xy(n){var s=n.alternate;s!==null&&(n.alternate=null,Xy(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&Cr(s)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var sn=null,Tr=!1;function xs(n,s,c){for(c=c.child;c!==null;)Wy(n,s,c),c=c.sibling}function Wy(n,s,c){if(Oe&&typeof Oe.onCommitFiberUnmount=="function")try{Oe.onCommitFiberUnmount(Wt,c)}catch{}switch(c.tag){case 26:_n||Xi(c,s),xs(n,s,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:_n||Xi(c,s);var g=sn,C=Tr;ha(c.type)&&(sn=c.stateNode,Tr=!1),xs(n,s,c),mc(c.stateNode),sn=g,Tr=C;break;case 5:_n||Xi(c,s);case 6:if(g=sn,C=Tr,sn=null,xs(n,s,c),sn=g,Tr=C,sn!==null)if(Tr)try{(sn.nodeType===9?sn.body:sn.nodeName==="HTML"?sn.ownerDocument.body:sn).removeChild(c.stateNode)}catch(N){kt(c,s,N)}else try{sn.removeChild(c.stateNode)}catch(N){kt(c,s,N)}break;case 18:sn!==null&&(Tr?(n=sn,z2(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,c.stateNode),rl(n)):z2(sn,c.stateNode));break;case 4:g=sn,C=Tr,sn=c.stateNode.containerInfo,Tr=!0,xs(n,s,c),sn=g,Tr=C;break;case 0:case 11:case 14:case 15:sa(2,c,s),_n||sa(4,c,s),xs(n,s,c);break;case 1:_n||(Xi(c,s),g=c.stateNode,typeof g.componentWillUnmount=="function"&&Fy(c,s,g)),xs(n,s,c);break;case 21:xs(n,s,c);break;case 22:_n=(g=_n)||c.memoizedState!==null,xs(n,s,c),_n=g;break;default:xs(n,s,c)}}function Qy(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{rl(n)}catch(c){kt(s,s.return,c)}}}function Zy(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{rl(n)}catch(c){kt(s,s.return,c)}}function iS(n){switch(n.tag){case 31:case 13:case 19:var s=n.stateNode;return s===null&&(s=n.stateNode=new Gy),s;case 22:return n=n.stateNode,s=n._retryCache,s===null&&(s=n._retryCache=new Gy),s;default:throw Error(o(435,n.tag))}}function Ju(n,s){var c=iS(n);s.forEach(function(g){if(!c.has(g)){c.add(g);var C=fS.bind(null,n,g);g.then(C,C)}})}function Rr(n,s){var c=s.deletions;if(c!==null)for(var g=0;g<c.length;g++){var C=c[g],N=n,M=s,G=M;e:for(;G!==null;){switch(G.tag){case 27:if(ha(G.type)){sn=G.stateNode,Tr=!1;break e}break;case 5:sn=G.stateNode,Tr=!1;break e;case 3:case 4:sn=G.stateNode.containerInfo,Tr=!0;break e}G=G.return}if(sn===null)throw Error(o(160));Wy(N,M,C),sn=null,Tr=!1,N=C.alternate,N!==null&&(N.return=null),C.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)Ky(s,n),s=s.sibling}var Ti=null;function Ky(n,s){var c=n.alternate,g=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Rr(s,n),Or(n),g&4&&(sa(3,n,n.return),ic(3,n),sa(5,n,n.return));break;case 1:Rr(s,n),Or(n),g&512&&(_n||c===null||Xi(c,c.return)),g&64&&vs&&(n=n.updateQueue,n!==null&&(g=n.callbacks,g!==null&&(c=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=c===null?g:c.concat(g))));break;case 26:var C=Ti;if(Rr(s,n),Or(n),g&512&&(_n||c===null||Xi(c,c.return)),g&4){var N=c!==null?c.memoizedState:null;if(g=n.memoizedState,c===null)if(g===null)if(n.stateNode===null){e:{g=n.type,c=n.memoizedProps,C=C.ownerDocument||C;t:switch(g){case"title":N=C.getElementsByTagName("title")[0],(!N||N[ja]||N[xn]||N.namespaceURI==="http://www.w3.org/2000/svg"||N.hasAttribute("itemprop"))&&(N=C.createElement(g),C.head.insertBefore(N,C.querySelector("head > title"))),er(N,g,c),N[xn]=n,fn(N),g=N;break e;case"link":var M=K2("link","href",C).get(g+(c.href||""));if(M){for(var G=0;G<M.length;G++)if(N=M[G],N.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&N.getAttribute("rel")===(c.rel==null?null:c.rel)&&N.getAttribute("title")===(c.title==null?null:c.title)&&N.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){M.splice(G,1);break t}}N=C.createElement(g),er(N,g,c),C.head.appendChild(N);break;case"meta":if(M=K2("meta","content",C).get(g+(c.content||""))){for(G=0;G<M.length;G++)if(N=M[G],N.getAttribute("content")===(c.content==null?null:""+c.content)&&N.getAttribute("name")===(c.name==null?null:c.name)&&N.getAttribute("property")===(c.property==null?null:c.property)&&N.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&N.getAttribute("charset")===(c.charSet==null?null:c.charSet)){M.splice(G,1);break t}}N=C.createElement(g),er(N,g,c),C.head.appendChild(N);break;default:throw Error(o(468,g))}N[xn]=n,fn(N),g=N}n.stateNode=g}else $2(C,n.type,n.stateNode);else n.stateNode=Z2(C,g,n.memoizedProps);else N!==g?(N===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):N.count--,g===null?$2(C,n.type,n.stateNode):Z2(C,g,n.memoizedProps)):g===null&&n.stateNode!==null&&Xf(n,n.memoizedProps,c.memoizedProps)}break;case 27:Rr(s,n),Or(n),g&512&&(_n||c===null||Xi(c,c.return)),c!==null&&g&4&&Xf(n,n.memoizedProps,c.memoizedProps);break;case 5:if(Rr(s,n),Or(n),g&512&&(_n||c===null||Xi(c,c.return)),n.flags&32){C=n.stateNode;try{Fs(C,"")}catch(Fe){kt(n,n.return,Fe)}}g&4&&n.stateNode!=null&&(C=n.memoizedProps,Xf(n,C,c!==null?c.memoizedProps:C)),g&1024&&(Zf=!0);break;case 6:if(Rr(s,n),Or(n),g&4){if(n.stateNode===null)throw Error(o(162));g=n.memoizedProps,c=n.stateNode;try{c.nodeValue=g}catch(Fe){kt(n,n.return,Fe)}}break;case 3:if(gd=null,C=Ti,Ti=fd(s.containerInfo),Rr(s,n),Ti=C,Or(n),g&4&&c!==null&&c.memoizedState.isDehydrated)try{rl(s.containerInfo)}catch(Fe){kt(n,n.return,Fe)}Zf&&(Zf=!1,$y(n));break;case 4:g=Ti,Ti=fd(n.stateNode.containerInfo),Rr(s,n),Or(n),Ti=g;break;case 12:Rr(s,n),Or(n);break;case 31:Rr(s,n),Or(n),g&4&&(g=n.updateQueue,g!==null&&(n.updateQueue=null,Ju(n,g)));break;case 13:Rr(s,n),Or(n),n.child.flags&8192&&n.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(td=on()),g&4&&(g=n.updateQueue,g!==null&&(n.updateQueue=null,Ju(n,g)));break;case 22:C=n.memoizedState!==null;var K=c!==null&&c.memoizedState!==null,ce=vs,we=_n;if(vs=ce||C,_n=we||K,Rr(s,n),_n=we,vs=ce,Or(n),g&8192)e:for(s=n.stateNode,s._visibility=C?s._visibility&-2:s._visibility|1,C&&(c===null||K||vs||_n||eo(n)),c=null,s=n;;){if(s.tag===5||s.tag===26){if(c===null){K=c=s;try{if(N=K.stateNode,C)M=N.style,typeof M.setProperty=="function"?M.setProperty("display","none","important"):M.display="none";else{G=K.stateNode;var Se=K.memoizedProps.style,de=Se!=null&&Se.hasOwnProperty("display")?Se.display:null;G.style.display=de==null||typeof de=="boolean"?"":(""+de).trim()}}catch(Fe){kt(K,K.return,Fe)}}}else if(s.tag===6){if(c===null){K=s;try{K.stateNode.nodeValue=C?"":K.memoizedProps}catch(Fe){kt(K,K.return,Fe)}}}else if(s.tag===18){if(c===null){K=s;try{var be=K.stateNode;C?F2(be,!0):F2(K.stateNode,!1)}catch(Fe){kt(K,K.return,Fe)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===n)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break e;for(;s.sibling===null;){if(s.return===null||s.return===n)break e;c===s&&(c=null),s=s.return}c===s&&(c=null),s.sibling.return=s.return,s=s.sibling}g&4&&(g=n.updateQueue,g!==null&&(c=g.retryQueue,c!==null&&(g.retryQueue=null,Ju(n,c))));break;case 19:Rr(s,n),Or(n),g&4&&(g=n.updateQueue,g!==null&&(n.updateQueue=null,Ju(n,g)));break;case 30:break;case 21:break;default:Rr(s,n),Or(n)}}function Or(n){var s=n.flags;if(s&2){try{for(var c,g=n.return;g!==null;){if(Hy(g)){c=g;break}g=g.return}if(c==null)throw Error(o(160));switch(c.tag){case 27:var C=c.stateNode,N=Wf(n);$u(n,N,C);break;case 5:var M=c.stateNode;c.flags&32&&(Fs(M,""),c.flags&=-33);var G=Wf(n);$u(n,G,M);break;case 3:case 4:var K=c.stateNode.containerInfo,ce=Wf(n);Qf(n,ce,K);break;default:throw Error(o(161))}}catch(we){kt(n,n.return,we)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function $y(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var s=n;$y(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),n=n.sibling}}function ws(n,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Yy(n,s.alternate,s),s=s.sibling}function eo(n){for(n=n.child;n!==null;){var s=n;switch(s.tag){case 0:case 11:case 14:case 15:sa(4,s,s.return),eo(s);break;case 1:Xi(s,s.return);var c=s.stateNode;typeof c.componentWillUnmount=="function"&&Fy(s,s.return,c),eo(s);break;case 27:mc(s.stateNode);case 26:case 5:Xi(s,s.return),eo(s);break;case 22:s.memoizedState===null&&eo(s);break;case 30:eo(s);break;default:eo(s)}n=n.sibling}}function Es(n,s,c){for(c=c&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var g=s.alternate,C=n,N=s,M=N.flags;switch(N.tag){case 0:case 11:case 15:Es(C,N,c),ic(4,N);break;case 1:if(Es(C,N,c),g=N,C=g.stateNode,typeof C.componentDidMount=="function")try{C.componentDidMount()}catch(ce){kt(g,g.return,ce)}if(g=N,C=g.updateQueue,C!==null){var G=g.stateNode;try{var K=C.shared.hiddenCallbacks;if(K!==null)for(C.shared.hiddenCallbacks=null,C=0;C<K.length;C++)Op(K[C],G)}catch(ce){kt(g,g.return,ce)}}c&&M&64&&zy(N),sc(N,N.return);break;case 27:qy(N);case 26:case 5:Es(C,N,c),c&&g===null&&M&4&&Vy(N),sc(N,N.return);break;case 12:Es(C,N,c);break;case 31:Es(C,N,c),c&&M&4&&Qy(C,N);break;case 13:Es(C,N,c),c&&M&4&&Zy(C,N);break;case 22:N.memoizedState===null&&Es(C,N,c),sc(N,N.return);break;case 30:break;default:Es(C,N,c)}s=s.sibling}}function Kf(n,s){var c=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(c=n.memoizedState.cachePool.pool),n=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(n=s.memoizedState.cachePool.pool),n!==c&&(n!=null&&n.refCount++,c!=null&&Gl(c))}function $f(n,s){n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&Gl(n))}function Ri(n,s,c,g){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Jy(n,s,c,g),s=s.sibling}function Jy(n,s,c,g){var C=s.flags;switch(s.tag){case 0:case 11:case 15:Ri(n,s,c,g),C&2048&&ic(9,s);break;case 1:Ri(n,s,c,g);break;case 3:Ri(n,s,c,g),C&2048&&(n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&Gl(n)));break;case 12:if(C&2048){Ri(n,s,c,g),n=s.stateNode;try{var N=s.memoizedProps,M=N.id,G=N.onPostCommit;typeof G=="function"&&G(M,s.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(K){kt(s,s.return,K)}}else Ri(n,s,c,g);break;case 31:Ri(n,s,c,g);break;case 13:Ri(n,s,c,g);break;case 23:break;case 22:N=s.stateNode,M=s.alternate,s.memoizedState!==null?N._visibility&2?Ri(n,s,c,g):ac(n,s):N._visibility&2?Ri(n,s,c,g):(N._visibility|=2,Yo(n,s,c,g,(s.subtreeFlags&10256)!==0||!1)),C&2048&&Kf(M,s);break;case 24:Ri(n,s,c,g),C&2048&&$f(s.alternate,s);break;default:Ri(n,s,c,g)}}function Yo(n,s,c,g,C){for(C=C&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var N=n,M=s,G=c,K=g,ce=M.flags;switch(M.tag){case 0:case 11:case 15:Yo(N,M,G,K,C),ic(8,M);break;case 23:break;case 22:var we=M.stateNode;M.memoizedState!==null?we._visibility&2?Yo(N,M,G,K,C):ac(N,M):(we._visibility|=2,Yo(N,M,G,K,C)),C&&ce&2048&&Kf(M.alternate,M);break;case 24:Yo(N,M,G,K,C),C&&ce&2048&&$f(M.alternate,M);break;default:Yo(N,M,G,K,C)}s=s.sibling}}function ac(n,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var c=n,g=s,C=g.flags;switch(g.tag){case 22:ac(c,g),C&2048&&Kf(g.alternate,g);break;case 24:ac(c,g),C&2048&&$f(g.alternate,g);break;default:ac(c,g)}s=s.sibling}}var oc=8192;function Xo(n,s,c){if(n.subtreeFlags&oc)for(n=n.child;n!==null;)e2(n,s,c),n=n.sibling}function e2(n,s,c){switch(n.tag){case 26:Xo(n,s,c),n.flags&oc&&n.memoizedState!==null&&qS(c,Ti,n.memoizedState,n.memoizedProps);break;case 5:Xo(n,s,c);break;case 3:case 4:var g=Ti;Ti=fd(n.stateNode.containerInfo),Xo(n,s,c),Ti=g;break;case 22:n.memoizedState===null&&(g=n.alternate,g!==null&&g.memoizedState!==null?(g=oc,oc=16777216,Xo(n,s,c),oc=g):Xo(n,s,c));break;default:Xo(n,s,c)}}function t2(n){var s=n.alternate;if(s!==null&&(n=s.child,n!==null)){s.child=null;do s=n.sibling,n.sibling=null,n=s;while(n!==null)}}function lc(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var c=0;c<s.length;c++){var g=s[c];Yn=g,r2(g,n)}t2(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)n2(n),n=n.sibling}function n2(n){switch(n.tag){case 0:case 11:case 15:lc(n),n.flags&2048&&sa(9,n,n.return);break;case 3:lc(n);break;case 12:lc(n);break;case 22:var s=n.stateNode;n.memoizedState!==null&&s._visibility&2&&(n.return===null||n.return.tag!==13)?(s._visibility&=-3,ed(n)):lc(n);break;default:lc(n)}}function ed(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var c=0;c<s.length;c++){var g=s[c];Yn=g,r2(g,n)}t2(n)}for(n=n.child;n!==null;){switch(s=n,s.tag){case 0:case 11:case 15:sa(8,s,s.return),ed(s);break;case 22:c=s.stateNode,c._visibility&2&&(c._visibility&=-3,ed(s));break;default:ed(s)}n=n.sibling}}function r2(n,s){for(;Yn!==null;){var c=Yn;switch(c.tag){case 0:case 11:case 15:sa(8,c,s);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var g=c.memoizedState.cachePool.pool;g!=null&&g.refCount++}break;case 24:Gl(c.memoizedState.cache)}if(g=c.child,g!==null)g.return=c,Yn=g;else e:for(c=n;Yn!==null;){g=Yn;var C=g.sibling,N=g.return;if(Xy(g),g===c){Yn=null;break e}if(C!==null){C.return=N,Yn=C;break e}Yn=N}}}var sS={getCacheForType:function(n){var s=$n(On),c=s.data.get(n);return c===void 0&&(c=n(),s.data.set(n,c)),c},cacheSignal:function(){return $n(On).controller.signal}},aS=typeof WeakMap=="function"?WeakMap:Map,Rt=0,Xt=null,ct=null,mt=0,Bt=0,Gr=null,aa=!1,Wo=!1,Jf=!1,Cs=0,pn=0,oa=0,to=0,e1=0,Yr=0,Qo=0,cc=null,Mr=null,t1=!1,td=0,i2=0,nd=1/0,rd=null,la=null,Fn=0,ca=null,Zo=null,Ss=0,n1=0,r1=null,s2=null,uc=0,i1=null;function Xr(){return(Rt&2)!==0&&mt!==0?mt&-mt:ie.T!==null?u1():lr()}function a2(){if(Yr===0)if((mt&536870912)===0||pt){var n=ht;ht<<=1,(ht&3932160)===0&&(ht=262144),Yr=n}else Yr=536870912;return n=Hr.current,n!==null&&(n.flags|=32),Yr}function Ir(n,s,c){(n===Xt&&(Bt===2||Bt===9)||n.cancelPendingCommit!==null)&&(Ko(n,0),ua(n,mt,Yr,!1)),Ui(n,c),((Rt&2)===0||n!==Xt)&&(n===Xt&&((Rt&2)===0&&(to|=c),pn===4&&ua(n,mt,Yr,!1)),Wi(n))}function o2(n,s,c){if((Rt&6)!==0)throw Error(o(327));var g=!c&&(s&127)===0&&(s&n.expiredLanes)===0||Qn(n,s),C=g?cS(n,s):a1(n,s,!0),N=g;do{if(C===0){Wo&&!g&&ua(n,s,0,!1);break}else{if(c=n.current.alternate,N&&!oS(c)){C=a1(n,s,!1),N=!1;continue}if(C===2){if(N=s,n.errorRecoveryDisabledLanes&N)var M=0;else M=n.pendingLanes&-536870913,M=M!==0?M:M&536870912?536870912:0;if(M!==0){s=M;e:{var G=n;C=cc;var K=G.current.memoizedState.isDehydrated;if(K&&(Ko(G,M).flags|=256),M=a1(G,M,!1),M!==2){if(Jf&&!K){G.errorRecoveryDisabledLanes|=N,to|=N,C=4;break e}N=Mr,Mr=C,N!==null&&(Mr===null?Mr=N:Mr.push.apply(Mr,N))}C=M}if(N=!1,C!==2)continue}}if(C===1){Ko(n,0),ua(n,s,0,!0);break}e:{switch(g=n,N=C,N){case 0:case 1:throw Error(o(345));case 4:if((s&4194048)!==s)break;case 6:ua(g,s,Yr,!aa);break e;case 2:Mr=null;break;case 3:case 5:break;default:throw Error(o(329))}if((s&62914560)===s&&(C=td+300-on(),10<C)){if(ua(g,s,Yr,!aa),Da(g,0,!0)!==0)break e;Ss=s,g.timeoutHandle=P2(l2.bind(null,g,c,Mr,rd,t1,s,Yr,to,Qo,aa,N,"Throttled",-0,0),C);break e}l2(g,c,Mr,rd,t1,s,Yr,to,Qo,aa,N,null,-0,0)}}break}while(!0);Wi(n)}function l2(n,s,c,g,C,N,M,G,K,ce,we,Se,de,be){if(n.timeoutHandle=-1,Se=s.subtreeFlags,Se&8192||(Se&16785408)===16785408){Se={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Sr},e2(s,N,Se);var Fe=(N&62914560)===N?td-on():(N&4194048)===N?i2-on():0;if(Fe=GS(Se,Fe),Fe!==null){Ss=N,n.cancelPendingCommit=Fe(p2.bind(null,n,s,N,c,g,C,M,G,K,we,Se,null,de,be)),ua(n,N,M,!ce);return}}p2(n,s,N,c,g,C,M,G,K)}function oS(n){for(var s=n;;){var c=s.tag;if((c===0||c===11||c===15)&&s.flags&16384&&(c=s.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var g=0;g<c.length;g++){var C=c[g],N=C.getSnapshot;C=C.value;try{if(!y(N(),C))return!1}catch{return!1}}if(c=s.child,s.subtreeFlags&16384&&c!==null)c.return=s,s=c;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ua(n,s,c,g){s&=~e1,s&=~to,n.suspendedLanes|=s,n.pingedLanes&=~s,g&&(n.warmLanes|=s),g=n.expirationTimes;for(var C=s;0<C;){var N=31-nt(C),M=1<<N;g[N]=-1,C&=~M}c!==0&&cu(n,c,s)}function id(){return(Rt&6)===0?(dc(0),!1):!0}function s1(){if(ct!==null){if(Bt===0)var n=ct.return;else n=ct,fs=Ya=null,wf(n),Fo=null,Xl=0,n=ct;for(;n!==null;)Uy(n.alternate,n),n=n.return;ct=null}}function Ko(n,s){var c=n.timeoutHandle;c!==-1&&(n.timeoutHandle=-1,TS(c)),c=n.cancelPendingCommit,c!==null&&(n.cancelPendingCommit=null,c()),Ss=0,s1(),Xt=n,ct=c=ds(n.current,null),mt=s,Bt=0,Gr=null,aa=!1,Wo=Qn(n,s),Jf=!1,Qo=Yr=e1=to=oa=pn=0,Mr=cc=null,t1=!1,(s&8)!==0&&(s|=s&32);var g=n.entangledLanes;if(g!==0)for(n=n.entanglements,g&=s;0<g;){var C=31-nt(g),N=1<<C;s|=n[C],g&=~N}return Cs=s,Au(),c}function c2(n,s){tt=null,ie.H=tc,s===zo||s===Du?(s=Ap(),Bt=3):s===cf?(s=Ap(),Bt=4):Bt=s===kf?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Gr=s,ct===null&&(pn=1,Xu(n,si(s,n.current)))}function u2(){var n=Hr.current;return n===null?!0:(mt&4194048)===mt?ci===null:(mt&62914560)===mt||(mt&536870912)!==0?n===ci:!1}function d2(){var n=ie.H;return ie.H=tc,n===null?tc:n}function h2(){var n=ie.A;return ie.A=sS,n}function sd(){pn=4,aa||(mt&4194048)!==mt&&Hr.current!==null||(Wo=!0),(oa&134217727)===0&&(to&134217727)===0||Xt===null||ua(Xt,mt,Yr,!1)}function a1(n,s,c){var g=Rt;Rt|=2;var C=d2(),N=h2();(Xt!==n||mt!==s)&&(rd=null,Ko(n,s)),s=!1;var M=pn;e:do try{if(Bt!==0&&ct!==null){var G=ct,K=Gr;switch(Bt){case 8:s1(),M=6;break e;case 3:case 2:case 9:case 6:Hr.current===null&&(s=!0);var ce=Bt;if(Bt=0,Gr=null,$o(n,G,K,ce),c&&Wo){M=0;break e}break;default:ce=Bt,Bt=0,Gr=null,$o(n,G,K,ce)}}lS(),M=pn;break}catch(we){c2(n,we)}while(!0);return s&&n.shellSuspendCounter++,fs=Ya=null,Rt=g,ie.H=C,ie.A=N,ct===null&&(Xt=null,mt=0,Au()),M}function lS(){for(;ct!==null;)f2(ct)}function cS(n,s){var c=Rt;Rt|=2;var g=d2(),C=h2();Xt!==n||mt!==s?(rd=null,nd=on()+500,Ko(n,s)):Wo=Qn(n,s);e:do try{if(Bt!==0&&ct!==null){s=ct;var N=Gr;t:switch(Bt){case 1:Bt=0,Gr=null,$o(n,s,N,1);break;case 2:case 9:if(Cp(N)){Bt=0,Gr=null,m2(s);break}s=function(){Bt!==2&&Bt!==9||Xt!==n||(Bt=7),Wi(n)},N.then(s,s);break e;case 3:Bt=7;break e;case 4:Bt=5;break e;case 7:Cp(N)?(Bt=0,Gr=null,m2(s)):(Bt=0,Gr=null,$o(n,s,N,7));break;case 5:var M=null;switch(ct.tag){case 26:M=ct.memoizedState;case 5:case 27:var G=ct;if(M?J2(M):G.stateNode.complete){Bt=0,Gr=null;var K=G.sibling;if(K!==null)ct=K;else{var ce=G.return;ce!==null?(ct=ce,ad(ce)):ct=null}break t}}Bt=0,Gr=null,$o(n,s,N,5);break;case 6:Bt=0,Gr=null,$o(n,s,N,6);break;case 8:s1(),pn=6;break e;default:throw Error(o(462))}}uS();break}catch(we){c2(n,we)}while(!0);return fs=Ya=null,ie.H=g,ie.A=C,Rt=c,ct!==null?0:(Xt=null,mt=0,Au(),pn)}function uS(){for(;ct!==null&&!vo();)f2(ct)}function f2(n){var s=ky(n.alternate,n,Cs);n.memoizedProps=n.pendingProps,s===null?ad(n):ct=s}function m2(n){var s=n,c=s.alternate;switch(s.tag){case 15:case 0:s=Iy(c,s,s.pendingProps,s.type,void 0,mt);break;case 11:s=Iy(c,s,s.pendingProps,s.type.render,s.ref,mt);break;case 5:wf(s);default:Uy(c,s),s=ct=hp(s,Cs),s=ky(c,s,Cs)}n.memoizedProps=n.pendingProps,s===null?ad(n):ct=s}function $o(n,s,c,g){fs=Ya=null,wf(s),Fo=null,Xl=0;var C=s.return;try{if($C(n,C,s,c,mt)){pn=1,Xu(n,si(c,n.current)),ct=null;return}}catch(N){if(C!==null)throw ct=C,N;pn=1,Xu(n,si(c,n.current)),ct=null;return}s.flags&32768?(pt||g===1?n=!0:Wo||(mt&536870912)!==0?n=!1:(aa=n=!0,(g===2||g===9||g===3||g===6)&&(g=Hr.current,g!==null&&g.tag===13&&(g.flags|=16384))),g2(s,n)):ad(s)}function ad(n){var s=n;do{if((s.flags&32768)!==0){g2(s,aa);return}n=s.return;var c=tS(s.alternate,s,Cs);if(c!==null){ct=c;return}if(s=s.sibling,s!==null){ct=s;return}ct=s=n}while(s!==null);pn===0&&(pn=5)}function g2(n,s){do{var c=nS(n.alternate,n);if(c!==null){c.flags&=32767,ct=c;return}if(c=n.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!s&&(n=n.sibling,n!==null)){ct=n;return}ct=n=c}while(n!==null);pn=6,ct=null}function p2(n,s,c,g,C,N,M,G,K){n.cancelPendingCommit=null;do od();while(Fn!==0);if((Rt&6)!==0)throw Error(o(327));if(s!==null){if(s===n.current)throw Error(o(177));if(N=s.lanes|s.childLanes,N|=Xh,ei(n,c,N,M,G,K),n===Xt&&(ct=Xt=null,mt=0),Zo=s,ca=n,Ss=c,n1=N,r1=C,s2=g,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,mS(Lr,function(){return w2(),null})):(n.callbackNode=null,n.callbackPriority=0),g=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||g){g=ie.T,ie.T=null,C=ue.p,ue.p=2,M=Rt,Rt|=4;try{rS(n,s,c)}finally{Rt=M,ue.p=C,ie.T=g}}Fn=1,y2(),b2(),v2()}}function y2(){if(Fn===1){Fn=0;var n=ca,s=Zo,c=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||c){c=ie.T,ie.T=null;var g=ue.p;ue.p=2;var C=Rt;Rt|=4;try{Ky(s,n);var N=b1,M=k(n.containerInfo),G=N.focusedElem,K=N.selectionRange;if(M!==G&&G&&G.ownerDocument&&O(G.ownerDocument.documentElement,G)){if(K!==null&&q(G)){var ce=K.start,we=K.end;if(we===void 0&&(we=ce),"selectionStart"in G)G.selectionStart=ce,G.selectionEnd=Math.min(we,G.value.length);else{var Se=G.ownerDocument||document,de=Se&&Se.defaultView||window;if(de.getSelection){var be=de.getSelection(),Fe=G.textContent.length,Qe=Math.min(K.start,Fe),Vt=K.end===void 0?Qe:Math.min(K.end,Fe);!be.extend&&Qe>Vt&&(M=Vt,Vt=Qe,Qe=M);var re=T(G,Qe),te=T(G,Vt);if(re&&te&&(be.rangeCount!==1||be.anchorNode!==re.node||be.anchorOffset!==re.offset||be.focusNode!==te.node||be.focusOffset!==te.offset)){var le=Se.createRange();le.setStart(re.node,re.offset),be.removeAllRanges(),Qe>Vt?(be.addRange(le),be.extend(te.node,te.offset)):(le.setEnd(te.node,te.offset),be.addRange(le))}}}}for(Se=[],be=G;be=be.parentNode;)be.nodeType===1&&Se.push({element:be,left:be.scrollLeft,top:be.scrollTop});for(typeof G.focus=="function"&&G.focus(),G=0;G<Se.length;G++){var Ce=Se[G];Ce.element.scrollLeft=Ce.left,Ce.element.scrollTop=Ce.top}}vd=!!y1,b1=y1=null}finally{Rt=C,ue.p=g,ie.T=c}}n.current=s,Fn=2}}function b2(){if(Fn===2){Fn=0;var n=ca,s=Zo,c=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||c){c=ie.T,ie.T=null;var g=ue.p;ue.p=2;var C=Rt;Rt|=4;try{Yy(n,s.alternate,s)}finally{Rt=C,ue.p=g,ie.T=c}}Fn=3}}function v2(){if(Fn===4||Fn===3){Fn=0,lu();var n=ca,s=Zo,c=Ss,g=s2;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Fn=5:(Fn=0,Zo=ca=null,x2(n,n.pendingLanes));var C=n.pendingLanes;if(C===0&&(la=null),xi(c),s=s.stateNode,Oe&&typeof Oe.onCommitFiberRoot=="function")try{Oe.onCommitFiberRoot(Wt,s,void 0,(s.current.flags&128)===128)}catch{}if(g!==null){s=ie.T,C=ue.p,ue.p=2,ie.T=null;try{for(var N=n.onRecoverableError,M=0;M<g.length;M++){var G=g[M];N(G.value,{componentStack:G.stack})}}finally{ie.T=s,ue.p=C}}(Ss&3)!==0&&od(),Wi(n),C=n.pendingLanes,(c&261930)!==0&&(C&42)!==0?n===i1?uc++:(uc=0,i1=n):uc=0,dc(0)}}function x2(n,s){(n.pooledCacheLanes&=s)===0&&(s=n.pooledCache,s!=null&&(n.pooledCache=null,Gl(s)))}function od(){return y2(),b2(),v2(),w2()}function w2(){if(Fn!==5)return!1;var n=ca,s=n1;n1=0;var c=xi(Ss),g=ie.T,C=ue.p;try{ue.p=32>c?32:c,ie.T=null,c=r1,r1=null;var N=ca,M=Ss;if(Fn=0,Zo=ca=null,Ss=0,(Rt&6)!==0)throw Error(o(331));var G=Rt;if(Rt|=4,n2(N.current),Jy(N,N.current,M,c),Rt=G,dc(0,!1),Oe&&typeof Oe.onPostCommitFiberRoot=="function")try{Oe.onPostCommitFiberRoot(Wt,N)}catch{}return!0}finally{ue.p=C,ie.T=g,x2(n,s)}}function E2(n,s,c){s=si(c,s),s=Bf(n.stateNode,s,2),n=na(n,s,2),n!==null&&(Ui(n,2),Wi(n))}function kt(n,s,c){if(n.tag===3)E2(n,n,c);else for(;s!==null;){if(s.tag===3){E2(s,n,c);break}else if(s.tag===1){var g=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(la===null||!la.has(g))){n=si(c,n),c=Cy(2),g=na(s,c,2),g!==null&&(Sy(c,g,s,n),Ui(g,2),Wi(g));break}}s=s.return}}function o1(n,s,c){var g=n.pingCache;if(g===null){g=n.pingCache=new aS;var C=new Set;g.set(s,C)}else C=g.get(s),C===void 0&&(C=new Set,g.set(s,C));C.has(c)||(Jf=!0,C.add(c),n=dS.bind(null,n,s,c),s.then(n,n))}function dS(n,s,c){var g=n.pingCache;g!==null&&g.delete(s),n.pingedLanes|=n.suspendedLanes&c,n.warmLanes&=~c,Xt===n&&(mt&c)===c&&(pn===4||pn===3&&(mt&62914560)===mt&&300>on()-td?(Rt&2)===0&&Ko(n,0):e1|=c,Qo===mt&&(Qo=0)),Wi(n)}function C2(n,s){s===0&&(s=kn()),n=Ha(n,s),n!==null&&(Ui(n,s),Wi(n))}function hS(n){var s=n.memoizedState,c=0;s!==null&&(c=s.retryLane),C2(n,c)}function fS(n,s){var c=0;switch(n.tag){case 31:case 13:var g=n.stateNode,C=n.memoizedState;C!==null&&(c=C.retryLane);break;case 19:g=n.stateNode;break;case 22:g=n.stateNode._retryCache;break;default:throw Error(o(314))}g!==null&&g.delete(s),C2(n,c)}function mS(n,s){return Ls(n,s)}var ld=null,Jo=null,l1=!1,cd=!1,c1=!1,da=0;function Wi(n){n!==Jo&&n.next===null&&(Jo===null?ld=Jo=n:Jo=Jo.next=n),cd=!0,l1||(l1=!0,pS())}function dc(n,s){if(!c1&&cd){c1=!0;do for(var c=!1,g=ld;g!==null;){if(n!==0){var C=g.pendingLanes;if(C===0)var N=0;else{var M=g.suspendedLanes,G=g.pingedLanes;N=(1<<31-nt(42|n)+1)-1,N&=C&~(M&~G),N=N&201326741?N&201326741|1:N?N|2:0}N!==0&&(c=!0,T2(g,N))}else N=mt,N=Da(g,g===Xt?N:0,g.cancelPendingCommit!==null||g.timeoutHandle!==-1),(N&3)===0||Qn(g,N)||(c=!0,T2(g,N));g=g.next}while(c);c1=!1}}function gS(){S2()}function S2(){cd=l1=!1;var n=0;da!==0&&NS()&&(n=da);for(var s=on(),c=null,g=ld;g!==null;){var C=g.next,N=A2(g,s);N===0?(g.next=null,c===null?ld=C:c.next=C,C===null&&(Jo=c)):(c=g,(n!==0||(N&3)!==0)&&(cd=!0)),g=C}Fn!==0&&Fn!==5||dc(n),da!==0&&(da=0)}function A2(n,s){for(var c=n.suspendedLanes,g=n.pingedLanes,C=n.expirationTimes,N=n.pendingLanes&-62914561;0<N;){var M=31-nt(N),G=1<<M,K=C[M];K===-1?((G&c)===0||(G&g)!==0)&&(C[M]=_l(G,s)):K<=s&&(n.expiredLanes|=G),N&=~G}if(s=Xt,c=mt,c=Da(n,n===s?c:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),g=n.callbackNode,c===0||n===s&&(Bt===2||Bt===9)||n.cancelPendingCommit!==null)return g!==null&&g!==null&&ze(g),n.callbackNode=null,n.callbackPriority=0;if((c&3)===0||Qn(n,c)){if(s=c&-c,s===n.callbackPriority)return s;switch(g!==null&&ze(g),xi(c)){case 2:case 8:c=Ol;break;case 32:c=Lr;break;case 268435456:c=Ml;break;default:c=Lr}return g=N2.bind(null,n),c=Ls(c,g),n.callbackPriority=s,n.callbackNode=c,s}return g!==null&&g!==null&&ze(g),n.callbackPriority=2,n.callbackNode=null,2}function N2(n,s){if(Fn!==0&&Fn!==5)return n.callbackNode=null,n.callbackPriority=0,null;var c=n.callbackNode;if(od()&&n.callbackNode!==c)return null;var g=mt;return g=Da(n,n===Xt?g:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),g===0?null:(o2(n,g,s),A2(n,on()),n.callbackNode!=null&&n.callbackNode===c?N2.bind(null,n):null)}function T2(n,s){if(od())return null;o2(n,s,!0)}function pS(){RS(function(){(Rt&6)!==0?Ls(Er,gS):S2()})}function u1(){if(da===0){var n=Po;n===0&&(n=_a,_a<<=1,(_a&261888)===0&&(_a=256)),da=n}return da}function R2(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Vs(""+n)}function O2(n,s){var c=s.ownerDocument.createElement("input");return c.name=s.name,c.value=s.value,n.id&&c.setAttribute("form",n.id),s.parentNode.insertBefore(c,s),n=new FormData(n),c.parentNode.removeChild(c),n}function yS(n,s,c,g,C){if(s==="submit"&&c&&c.stateNode===C){var N=R2((C[Lt]||null).action),M=g.submitter;M&&(s=(s=M[Lt]||null)?R2(s.formAction):M.getAttribute("formAction"),s!==null&&(N=s,M=null));var G=new Pn("action","action",null,g,C);n.push({event:G,listeners:[{instance:null,listener:function(){if(g.defaultPrevented){if(da!==0){var K=M?O2(C,M):new FormData(C);Mf(c,{pending:!0,data:K,method:C.method,action:N},null,K)}}else typeof N=="function"&&(G.preventDefault(),K=M?O2(C,M):new FormData(C),Mf(c,{pending:!0,data:K,method:C.method,action:N},N,K))},currentTarget:C}]})}}for(var d1=0;d1<Vl.length;d1++){var h1=Vl[d1],bS=h1.toLowerCase(),vS=h1[0].toUpperCase()+h1.slice(1);Ni(bS,"on"+vS)}Ni(Nr,"onAnimationEnd"),Ni(Zn,"onAnimationIteration"),Ni(Dt,"onAnimationStart"),Ni("dblclick","onDoubleClick"),Ni("focusin","onFocus"),Ni("focusout","onBlur"),Ni(zn,"onTransitionRun"),Ni(fr,"onTransitionStart"),Ni(Qs,"onTransitionCancel"),Ni(us,"onTransitionEnd"),kr("onMouseEnter",["mouseout","mouseover"]),kr("onMouseLeave",["mouseout","mouseover"]),kr("onPointerEnter",["pointerout","pointerover"]),kr("onPointerLeave",["pointerout","pointerover"]),It("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),It("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),It("onBeforeInput",["compositionend","keypress","textInput","paste"]),It("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),It("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),It("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(hc));function M2(n,s){s=(s&4)!==0;for(var c=0;c<n.length;c++){var g=n[c],C=g.event;g=g.listeners;e:{var N=void 0;if(s)for(var M=g.length-1;0<=M;M--){var G=g[M],K=G.instance,ce=G.currentTarget;if(G=G.listener,K!==N&&C.isPropagationStopped())break e;N=G,C.currentTarget=ce;try{N(C)}catch(we){Su(we)}C.currentTarget=null,N=K}else for(M=0;M<g.length;M++){if(G=g[M],K=G.instance,ce=G.currentTarget,G=G.listener,K!==N&&C.isPropagationStopped())break e;N=G,C.currentTarget=ce;try{N(C)}catch(we){Su(we)}C.currentTarget=null,N=K}}}}function ut(n,s){var c=s[Bs];c===void 0&&(c=s[Bs]=new Set);var g=n+"__bubble";c.has(g)||(I2(s,n,2,!1),c.add(g))}function f1(n,s,c){var g=0;s&&(g|=4),I2(c,n,g,s)}var ud="_reactListening"+Math.random().toString(36).slice(2);function m1(n){if(!n[ud]){n[ud]=!0,Ae.forEach(function(c){c!=="selectionchange"&&(xS.has(c)||f1(c,!1,n),f1(c,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[ud]||(s[ud]=!0,f1("selectionchange",!1,s))}}function I2(n,s,c,g){switch(ab(s)){case 2:var C=WS;break;case 8:C=QS;break;default:C=O1}c=C.bind(null,s,c,n),C=void 0,!Ll||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(C=!0),g?C!==void 0?n.addEventListener(s,c,{capture:!0,passive:C}):n.addEventListener(s,c,!0):C!==void 0?n.addEventListener(s,c,{passive:C}):n.addEventListener(s,c,!1)}function g1(n,s,c,g,C){var N=g;if((s&1)===0&&(s&2)===0&&g!==null)e:for(;;){if(g===null)return;var M=g.tag;if(M===3||M===4){var G=g.stateNode.containerInfo;if(G===C)break;if(M===4)for(M=g.return;M!==null;){var K=M.tag;if((K===3||K===4)&&M.stateNode.containerInfo===C)return;M=M.return}for(;G!==null;){if(M=hn(G),M===null)return;if(K=M.tag,K===5||K===6||K===26||K===27){g=N=M;continue e}G=G.parentNode}}g=g.return}fu(function(){var ce=N,we=jl(c),Se=[];e:{var de=Cu.get(n);if(de!==void 0){var be=Pn,Fe=n;switch(n){case"keypress":if(Fi(c)===0)break e;case"keydown":case"keyup":be=Oo;break;case"focusin":Fe="focus",be=Pl;break;case"focusout":Fe="blur",be=Pl;break;case"beforeblur":case"afterblur":be=Pl;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":be=Tt;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":be=To;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":be=qh;break;case Nr:case Zn:case Dt:be=rt;break;case us:be=as;break;case"scroll":case"scrollend":be=mu;break;case"wheel":be=Gh;break;case"copy":case"cut":case"paste":be=Ro;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":be=_t;break;case"toggle":case"beforetoggle":be=zl}var Qe=(s&4)!==0,Vt=!Qe&&(n==="scroll"||n==="scrollend"),re=Qe?de!==null?de+"Capture":null:de;Qe=[];for(var te=ce,le;te!==null;){var Ce=te;if(le=Ce.stateNode,Ce=Ce.tag,Ce!==5&&Ce!==26&&Ce!==27||le===null||re===null||(Ce=$e(te,re),Ce!=null&&Qe.push(fc(te,Ce,le))),Vt)break;te=te.return}0<Qe.length&&(de=new be(de,Fe,null,c,we),Se.push({event:de,listeners:Qe}))}}if((s&7)===0){e:{if(de=n==="mouseover"||n==="pointerover",be=n==="mouseout"||n==="pointerout",de&&c!==La&&(Fe=c.relatedTarget||c.fromElement)&&(hn(Fe)||Fe[Br]))break e;if((be||de)&&(de=we.window===we?we:(de=we.ownerDocument)?de.defaultView||de.parentWindow:window,be?(Fe=c.relatedTarget||c.toElement,be=ce,Fe=Fe?hn(Fe):null,Fe!==null&&(Vt=h(Fe),Qe=Fe.tag,Fe!==Vt||Qe!==5&&Qe!==27&&Qe!==6)&&(Fe=null)):(be=null,Fe=ce),be!==Fe)){if(Qe=Tt,Ce="onMouseLeave",re="onMouseEnter",te="mouse",(n==="pointerout"||n==="pointerover")&&(Qe=_t,Ce="onPointerLeave",re="onPointerEnter",te="pointer"),Vt=be==null?de:ks(be),le=Fe==null?de:ks(Fe),de=new Qe(Ce,te+"leave",be,c,we),de.target=Vt,de.relatedTarget=le,Ce=null,hn(we)===ce&&(Qe=new Qe(re,te+"enter",Fe,c,we),Qe.target=le,Qe.relatedTarget=Vt,Ce=Qe),Vt=Ce,be&&Fe)t:{for(Qe=wS,re=be,te=Fe,le=0,Ce=re;Ce;Ce=Qe(Ce))le++;Ce=0;for(var Ye=te;Ye;Ye=Qe(Ye))Ce++;for(;0<le-Ce;)re=Qe(re),le--;for(;0<Ce-le;)te=Qe(te),Ce--;for(;le--;){if(re===te||te!==null&&re===te.alternate){Qe=re;break t}re=Qe(re),te=Qe(te)}Qe=null}else Qe=null;be!==null&&_2(Se,de,be,Qe,!1),Fe!==null&&Vt!==null&&_2(Se,Vt,Fe,Qe,!0)}}e:{if(de=ce?ks(ce):window,be=de.nodeName&&de.nodeName.toLowerCase(),be==="select"||be==="input"&&de.type==="file")var Ct=Fr;else if(Fl(de))if(Eu)Ct=d;else{Ct=a;var qe=r}else be=de.nodeName,!be||be.toLowerCase()!=="input"||de.type!=="checkbox"&&de.type!=="radio"?ce&&qt(ce.elementType)&&(Ct=Fr):Ct=l;if(Ct&&(Ct=Ct(n,ce))){zr(Se,Ct,c,we);break e}qe&&qe(n,de,ce),n==="focusout"&&ce&&de.type==="number"&&ce.memoizedProps.value!=null&&W(de,"number",de.value)}switch(qe=ce?ks(ce):window,n){case"focusin":(Fl(qe)||qe.contentEditable==="true")&&(J=qe,ee=ce,se=null);break;case"focusout":se=ee=J=null;break;case"mousedown":he=!0;break;case"contextmenu":case"mouseup":case"dragend":he=!1,Re(Se,c,we);break;case"selectionchange":if(Z)break;case"keydown":case"keyup":Re(Se,c,we)}var it;if(Pa)e:{switch(n){case"compositionstart":var gt="onCompositionStart";break e;case"compositionend":gt="onCompositionEnd";break e;case"compositionupdate":gt="onCompositionUpdate";break e}gt=void 0}else Ws?wu(n,c)&&(gt="onCompositionEnd"):n==="keydown"&&c.keyCode===229&&(gt="onCompositionStart");gt&&(xu&&c.locale!=="ko"&&(Ws||gt!=="onCompositionStart"?gt==="onCompositionEnd"&&Ws&&(it=Hs()):(Si=we,Ai="value"in Si?Si.value:Si.textContent,Ws=!0)),qe=dd(ce,gt),0<qe.length&&(gt=new yu(gt,n,null,c,we),Se.push({event:gt,listeners:qe}),it?gt.data=it:(it=Xs(c),it!==null&&(gt.data=it)))),(it=vu?qi(n,c):Io(n,c))&&(gt=dd(ce,"onBeforeInput"),0<gt.length&&(qe=new yu("onBeforeInput","beforeinput",null,c,we),Se.push({event:qe,listeners:gt}),qe.data=it)),yS(Se,n,ce,c,we)}M2(Se,s)})}function fc(n,s,c){return{instance:n,listener:s,currentTarget:c}}function dd(n,s){for(var c=s+"Capture",g=[];n!==null;){var C=n,N=C.stateNode;if(C=C.tag,C!==5&&C!==26&&C!==27||N===null||(C=$e(n,c),C!=null&&g.unshift(fc(n,C,N)),C=$e(n,s),C!=null&&g.push(fc(n,C,N))),n.tag===3)return g;n=n.return}return[]}function wS(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function _2(n,s,c,g,C){for(var N=s._reactName,M=[];c!==null&&c!==g;){var G=c,K=G.alternate,ce=G.stateNode;if(G=G.tag,K!==null&&K===g)break;G!==5&&G!==26&&G!==27||ce===null||(K=ce,C?(ce=$e(c,N),ce!=null&&M.unshift(fc(c,ce,K))):C||(ce=$e(c,N),ce!=null&&M.push(fc(c,ce,K)))),c=c.return}M.length!==0&&n.push({event:s,listeners:M})}var ES=/\r\n?/g,CS=/\u0000|\uFFFD/g;function D2(n){return(typeof n=="string"?n:""+n).replace(ES,`
`).replace(CS,"")}function j2(n,s){return s=D2(s),D2(n)===s}function Ft(n,s,c,g,C,N){switch(c){case"children":typeof g=="string"?s==="body"||s==="textarea"&&g===""||Fs(n,g):(typeof g=="number"||typeof g=="bigint")&&s!=="body"&&Fs(n,""+g);break;case"className":Us(n,"class",g);break;case"tabIndex":Us(n,"tabindex",g);break;case"dir":case"role":case"viewBox":case"width":case"height":Us(n,c,g);break;case"style":Ge(n,g,N);break;case"data":if(s!=="object"){Us(n,"data",g);break}case"src":case"href":if(g===""&&(s!=="a"||c!=="href")){n.removeAttribute(c);break}if(g==null||typeof g=="function"||typeof g=="symbol"||typeof g=="boolean"){n.removeAttribute(c);break}g=Vs(""+g),n.setAttribute(c,g);break;case"action":case"formAction":if(typeof g=="function"){n.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof N=="function"&&(c==="formAction"?(s!=="input"&&Ft(n,s,"name",C.name,C,null),Ft(n,s,"formEncType",C.formEncType,C,null),Ft(n,s,"formMethod",C.formMethod,C,null),Ft(n,s,"formTarget",C.formTarget,C,null)):(Ft(n,s,"encType",C.encType,C,null),Ft(n,s,"method",C.method,C,null),Ft(n,s,"target",C.target,C,null)));if(g==null||typeof g=="symbol"||typeof g=="boolean"){n.removeAttribute(c);break}g=Vs(""+g),n.setAttribute(c,g);break;case"onClick":g!=null&&(n.onclick=Sr);break;case"onScroll":g!=null&&ut("scroll",n);break;case"onScrollEnd":g!=null&&ut("scrollend",n);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(o(61));if(c=g.__html,c!=null){if(C.children!=null)throw Error(o(60));n.innerHTML=c}}break;case"multiple":n.multiple=g&&typeof g!="function"&&typeof g!="symbol";break;case"muted":n.muted=g&&typeof g!="function"&&typeof g!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(g==null||typeof g=="function"||typeof g=="boolean"||typeof g=="symbol"){n.removeAttribute("xlink:href");break}c=Vs(""+g),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":g!=null&&typeof g!="function"&&typeof g!="symbol"?n.setAttribute(c,""+g):n.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":g&&typeof g!="function"&&typeof g!="symbol"?n.setAttribute(c,""):n.removeAttribute(c);break;case"capture":case"download":g===!0?n.setAttribute(c,""):g!==!1&&g!=null&&typeof g!="function"&&typeof g!="symbol"?n.setAttribute(c,g):n.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":g!=null&&typeof g!="function"&&typeof g!="symbol"&&!isNaN(g)&&1<=g?n.setAttribute(c,g):n.removeAttribute(c);break;case"rowSpan":case"start":g==null||typeof g=="function"||typeof g=="symbol"||isNaN(g)?n.removeAttribute(c):n.setAttribute(c,g);break;case"popover":ut("beforetoggle",n),ut("toggle",n),Ps(n,"popover",g);break;case"xlinkActuate":Pr(n,"http://www.w3.org/1999/xlink","xlink:actuate",g);break;case"xlinkArcrole":Pr(n,"http://www.w3.org/1999/xlink","xlink:arcrole",g);break;case"xlinkRole":Pr(n,"http://www.w3.org/1999/xlink","xlink:role",g);break;case"xlinkShow":Pr(n,"http://www.w3.org/1999/xlink","xlink:show",g);break;case"xlinkTitle":Pr(n,"http://www.w3.org/1999/xlink","xlink:title",g);break;case"xlinkType":Pr(n,"http://www.w3.org/1999/xlink","xlink:type",g);break;case"xmlBase":Pr(n,"http://www.w3.org/XML/1998/namespace","xml:base",g);break;case"xmlLang":Pr(n,"http://www.w3.org/XML/1998/namespace","xml:lang",g);break;case"xmlSpace":Pr(n,"http://www.w3.org/XML/1998/namespace","xml:space",g);break;case"is":Ps(n,"is",g);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=hu.get(c)||c,Ps(n,c,g))}}function p1(n,s,c,g,C,N){switch(c){case"style":Ge(n,g,N);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(o(61));if(c=g.__html,c!=null){if(C.children!=null)throw Error(o(60));n.innerHTML=c}}break;case"children":typeof g=="string"?Fs(n,g):(typeof g=="number"||typeof g=="bigint")&&Fs(n,""+g);break;case"onScroll":g!=null&&ut("scroll",n);break;case"onScrollEnd":g!=null&&ut("scrollend",n);break;case"onClick":g!=null&&(n.onclick=Sr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!du.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(C=c.endsWith("Capture"),s=c.slice(2,C?c.length-7:void 0),N=n[Lt]||null,N=N!=null?N[c]:null,typeof N=="function"&&n.removeEventListener(s,N,C),typeof g=="function")){typeof N!="function"&&N!==null&&(c in n?n[c]=null:n.hasAttribute(c)&&n.removeAttribute(c)),n.addEventListener(s,g,C);break e}c in n?n[c]=g:g===!0?n.setAttribute(c,""):Ps(n,c,g)}}}function er(n,s,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ut("error",n),ut("load",n);var g=!1,C=!1,N;for(N in c)if(c.hasOwnProperty(N)){var M=c[N];if(M!=null)switch(N){case"src":g=!0;break;case"srcSet":C=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,s));default:Ft(n,s,N,M,c,null)}}C&&Ft(n,s,"srcSet",c.srcSet,c,null),g&&Ft(n,s,"src",c.src,c,null);return;case"input":ut("invalid",n);var G=N=M=C=null,K=null,ce=null;for(g in c)if(c.hasOwnProperty(g)){var we=c[g];if(we!=null)switch(g){case"name":C=we;break;case"type":M=we;break;case"checked":K=we;break;case"defaultChecked":ce=we;break;case"value":N=we;break;case"defaultValue":G=we;break;case"children":case"dangerouslySetInnerHTML":if(we!=null)throw Error(o(137,s));break;default:Ft(n,s,g,we,c,null)}}oe(n,N,G,K,ce,M,C,!1);return;case"select":ut("invalid",n),g=M=N=null;for(C in c)if(c.hasOwnProperty(C)&&(G=c[C],G!=null))switch(C){case"value":N=G;break;case"defaultValue":M=G;break;case"multiple":g=G;default:Ft(n,s,C,G,c,null)}s=N,c=M,n.multiple=!!g,s!=null?He(n,!!g,s,!1):c!=null&&He(n,!!g,c,!0);return;case"textarea":ut("invalid",n),N=C=g=null;for(M in c)if(c.hasOwnProperty(M)&&(G=c[M],G!=null))switch(M){case"value":g=G;break;case"defaultValue":C=G;break;case"children":N=G;break;case"dangerouslySetInnerHTML":if(G!=null)throw Error(o(91));break;default:Ft(n,s,M,G,c,null)}dr(n,g,C,N);return;case"option":for(K in c)c.hasOwnProperty(K)&&(g=c[K],g!=null)&&(K==="selected"?n.selected=g&&typeof g!="function"&&typeof g!="symbol":Ft(n,s,K,g,c,null));return;case"dialog":ut("beforetoggle",n),ut("toggle",n),ut("cancel",n),ut("close",n);break;case"iframe":case"object":ut("load",n);break;case"video":case"audio":for(g=0;g<hc.length;g++)ut(hc[g],n);break;case"image":ut("error",n),ut("load",n);break;case"details":ut("toggle",n);break;case"embed":case"source":case"link":ut("error",n),ut("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ce in c)if(c.hasOwnProperty(ce)&&(g=c[ce],g!=null))switch(ce){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,s));default:Ft(n,s,ce,g,c,null)}return;default:if(qt(s)){for(we in c)c.hasOwnProperty(we)&&(g=c[we],g!==void 0&&p1(n,s,we,g,c,void 0));return}}for(G in c)c.hasOwnProperty(G)&&(g=c[G],g!=null&&Ft(n,s,G,g,c,null))}function SS(n,s,c,g){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var C=null,N=null,M=null,G=null,K=null,ce=null,we=null;for(be in c){var Se=c[be];if(c.hasOwnProperty(be)&&Se!=null)switch(be){case"checked":break;case"value":break;case"defaultValue":K=Se;default:g.hasOwnProperty(be)||Ft(n,s,be,null,g,Se)}}for(var de in g){var be=g[de];if(Se=c[de],g.hasOwnProperty(de)&&(be!=null||Se!=null))switch(de){case"type":N=be;break;case"name":C=be;break;case"checked":ce=be;break;case"defaultChecked":we=be;break;case"value":M=be;break;case"defaultValue":G=be;break;case"children":case"dangerouslySetInnerHTML":if(be!=null)throw Error(o(137,s));break;default:be!==Se&&Ft(n,s,de,be,g,Se)}}Tn(n,M,G,K,ce,we,N,C);return;case"select":be=M=G=de=null;for(N in c)if(K=c[N],c.hasOwnProperty(N)&&K!=null)switch(N){case"value":break;case"multiple":be=K;default:g.hasOwnProperty(N)||Ft(n,s,N,null,g,K)}for(C in g)if(N=g[C],K=c[C],g.hasOwnProperty(C)&&(N!=null||K!=null))switch(C){case"value":de=N;break;case"defaultValue":G=N;break;case"multiple":M=N;default:N!==K&&Ft(n,s,C,N,g,K)}s=G,c=M,g=be,de!=null?He(n,!!c,de,!1):!!g!=!!c&&(s!=null?He(n,!!c,s,!0):He(n,!!c,c?[]:"",!1));return;case"textarea":be=de=null;for(G in c)if(C=c[G],c.hasOwnProperty(G)&&C!=null&&!g.hasOwnProperty(G))switch(G){case"value":break;case"children":break;default:Ft(n,s,G,null,g,C)}for(M in g)if(C=g[M],N=c[M],g.hasOwnProperty(M)&&(C!=null||N!=null))switch(M){case"value":de=C;break;case"defaultValue":be=C;break;case"children":break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(o(91));break;default:C!==N&&Ft(n,s,M,C,g,N)}wn(n,de,be);return;case"option":for(var Fe in c)de=c[Fe],c.hasOwnProperty(Fe)&&de!=null&&!g.hasOwnProperty(Fe)&&(Fe==="selected"?n.selected=!1:Ft(n,s,Fe,null,g,de));for(K in g)de=g[K],be=c[K],g.hasOwnProperty(K)&&de!==be&&(de!=null||be!=null)&&(K==="selected"?n.selected=de&&typeof de!="function"&&typeof de!="symbol":Ft(n,s,K,de,g,be));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Qe in c)de=c[Qe],c.hasOwnProperty(Qe)&&de!=null&&!g.hasOwnProperty(Qe)&&Ft(n,s,Qe,null,g,de);for(ce in g)if(de=g[ce],be=c[ce],g.hasOwnProperty(ce)&&de!==be&&(de!=null||be!=null))switch(ce){case"children":case"dangerouslySetInnerHTML":if(de!=null)throw Error(o(137,s));break;default:Ft(n,s,ce,de,g,be)}return;default:if(qt(s)){for(var Vt in c)de=c[Vt],c.hasOwnProperty(Vt)&&de!==void 0&&!g.hasOwnProperty(Vt)&&p1(n,s,Vt,void 0,g,de);for(we in g)de=g[we],be=c[we],!g.hasOwnProperty(we)||de===be||de===void 0&&be===void 0||p1(n,s,we,de,g,be);return}}for(var re in c)de=c[re],c.hasOwnProperty(re)&&de!=null&&!g.hasOwnProperty(re)&&Ft(n,s,re,null,g,de);for(Se in g)de=g[Se],be=c[Se],!g.hasOwnProperty(Se)||de===be||de==null&&be==null||Ft(n,s,Se,de,g,be)}function L2(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function AS(){if(typeof performance.getEntriesByType=="function"){for(var n=0,s=0,c=performance.getEntriesByType("resource"),g=0;g<c.length;g++){var C=c[g],N=C.transferSize,M=C.initiatorType,G=C.duration;if(N&&G&&L2(M)){for(M=0,G=C.responseEnd,g+=1;g<c.length;g++){var K=c[g],ce=K.startTime;if(ce>G)break;var we=K.transferSize,Se=K.initiatorType;we&&L2(Se)&&(K=K.responseEnd,M+=we*(K<G?1:(G-ce)/(K-ce)))}if(--g,s+=8*(N+M)/(C.duration/1e3),n++,10<n)break}}if(0<n)return s/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var y1=null,b1=null;function hd(n){return n.nodeType===9?n:n.ownerDocument}function B2(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function k2(n,s){if(n===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&s==="foreignObject"?0:n}function v1(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var x1=null;function NS(){var n=window.event;return n&&n.type==="popstate"?n===x1?!1:(x1=n,!0):(x1=null,!1)}var P2=typeof setTimeout=="function"?setTimeout:void 0,TS=typeof clearTimeout=="function"?clearTimeout:void 0,U2=typeof Promise=="function"?Promise:void 0,RS=typeof queueMicrotask=="function"?queueMicrotask:typeof U2<"u"?function(n){return U2.resolve(null).then(n).catch(OS)}:P2;function OS(n){setTimeout(function(){throw n})}function ha(n){return n==="head"}function z2(n,s){var c=s,g=0;do{var C=c.nextSibling;if(n.removeChild(c),C&&C.nodeType===8)if(c=C.data,c==="/$"||c==="/&"){if(g===0){n.removeChild(C),rl(s);return}g--}else if(c==="$"||c==="$?"||c==="$~"||c==="$!"||c==="&")g++;else if(c==="html")mc(n.ownerDocument.documentElement);else if(c==="head"){c=n.ownerDocument.head,mc(c);for(var N=c.firstChild;N;){var M=N.nextSibling,G=N.nodeName;N[ja]||G==="SCRIPT"||G==="STYLE"||G==="LINK"&&N.rel.toLowerCase()==="stylesheet"||c.removeChild(N),N=M}}else c==="body"&&mc(n.ownerDocument.body);c=C}while(c);rl(s)}function F2(n,s){var c=n;n=0;do{var g=c.nextSibling;if(c.nodeType===1?s?(c._stashedDisplay=c.style.display,c.style.display="none"):(c.style.display=c._stashedDisplay||"",c.getAttribute("style")===""&&c.removeAttribute("style")):c.nodeType===3&&(s?(c._stashedText=c.nodeValue,c.nodeValue=""):c.nodeValue=c._stashedText||""),g&&g.nodeType===8)if(c=g.data,c==="/$"){if(n===0)break;n--}else c!=="$"&&c!=="$?"&&c!=="$~"&&c!=="$!"||n++;c=g}while(c)}function w1(n){var s=n.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var c=s;switch(s=s.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":w1(c),Cr(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}n.removeChild(c)}}function MS(n,s,c,g){for(;n.nodeType===1;){var C=c;if(n.nodeName.toLowerCase()!==s.toLowerCase()){if(!g&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(g){if(!n[ja])switch(s){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(N=n.getAttribute("rel"),N==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(N!==C.rel||n.getAttribute("href")!==(C.href==null||C.href===""?null:C.href)||n.getAttribute("crossorigin")!==(C.crossOrigin==null?null:C.crossOrigin)||n.getAttribute("title")!==(C.title==null?null:C.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(N=n.getAttribute("src"),(N!==(C.src==null?null:C.src)||n.getAttribute("type")!==(C.type==null?null:C.type)||n.getAttribute("crossorigin")!==(C.crossOrigin==null?null:C.crossOrigin))&&N&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(s==="input"&&n.type==="hidden"){var N=C.name==null?null:""+C.name;if(C.type==="hidden"&&n.getAttribute("name")===N)return n}else return n;if(n=ui(n.nextSibling),n===null)break}return null}function IS(n,s,c){if(s==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!c||(n=ui(n.nextSibling),n===null))return null;return n}function V2(n,s){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!s||(n=ui(n.nextSibling),n===null))return null;return n}function E1(n){return n.data==="$?"||n.data==="$~"}function C1(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function _S(n,s){var c=n.ownerDocument;if(n.data==="$~")n._reactRetry=s;else if(n.data!=="$?"||c.readyState!=="loading")s();else{var g=function(){s(),c.removeEventListener("DOMContentLoaded",g)};c.addEventListener("DOMContentLoaded",g),n._reactRetry=g}}function ui(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return n}var S1=null;function H2(n){n=n.nextSibling;for(var s=0;n;){if(n.nodeType===8){var c=n.data;if(c==="/$"||c==="/&"){if(s===0)return ui(n.nextSibling);s--}else c!=="$"&&c!=="$!"&&c!=="$?"&&c!=="$~"&&c!=="&"||s++}n=n.nextSibling}return null}function q2(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var c=n.data;if(c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"){if(s===0)return n;s--}else c!=="/$"&&c!=="/&"||s++}n=n.previousSibling}return null}function G2(n,s,c){switch(s=hd(c),n){case"html":if(n=s.documentElement,!n)throw Error(o(452));return n;case"head":if(n=s.head,!n)throw Error(o(453));return n;case"body":if(n=s.body,!n)throw Error(o(454));return n;default:throw Error(o(451))}}function mc(n){for(var s=n.attributes;s.length;)n.removeAttributeNode(s[0]);Cr(n)}var di=new Map,Y2=new Set;function fd(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var As=ue.d;ue.d={f:DS,r:jS,D:LS,C:BS,L:kS,m:PS,X:zS,S:US,M:FS};function DS(){var n=As.f(),s=id();return n||s}function jS(n){var s=Nt(n);s!==null&&s.tag===5&&s.type==="form"?cy(s):As.r(n)}var el=typeof document>"u"?null:document;function X2(n,s,c){var g=el;if(g&&typeof s=="string"&&s){var C=at(s);C='link[rel="'+n+'"][href="'+C+'"]',typeof c=="string"&&(C+='[crossorigin="'+c+'"]'),Y2.has(C)||(Y2.add(C),n={rel:n,crossOrigin:c,href:s},g.querySelector(C)===null&&(s=g.createElement("link"),er(s,"link",n),fn(s),g.head.appendChild(s)))}}function LS(n){As.D(n),X2("dns-prefetch",n,null)}function BS(n,s){As.C(n,s),X2("preconnect",n,s)}function kS(n,s,c){As.L(n,s,c);var g=el;if(g&&n&&s){var C='link[rel="preload"][as="'+at(s)+'"]';s==="image"&&c&&c.imageSrcSet?(C+='[imagesrcset="'+at(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(C+='[imagesizes="'+at(c.imageSizes)+'"]')):C+='[href="'+at(n)+'"]';var N=C;switch(s){case"style":N=tl(n);break;case"script":N=nl(n)}di.has(N)||(n=S({rel:"preload",href:s==="image"&&c&&c.imageSrcSet?void 0:n,as:s},c),di.set(N,n),g.querySelector(C)!==null||s==="style"&&g.querySelector(gc(N))||s==="script"&&g.querySelector(pc(N))||(s=g.createElement("link"),er(s,"link",n),fn(s),g.head.appendChild(s)))}}function PS(n,s){As.m(n,s);var c=el;if(c&&n){var g=s&&typeof s.as=="string"?s.as:"script",C='link[rel="modulepreload"][as="'+at(g)+'"][href="'+at(n)+'"]',N=C;switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":N=nl(n)}if(!di.has(N)&&(n=S({rel:"modulepreload",href:n},s),di.set(N,n),c.querySelector(C)===null)){switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(pc(N)))return}g=c.createElement("link"),er(g,"link",n),fn(g),c.head.appendChild(g)}}}function US(n,s,c){As.S(n,s,c);var g=el;if(g&&n){var C=ur(g).hoistableStyles,N=tl(n);s=s||"default";var M=C.get(N);if(!M){var G={loading:0,preload:null};if(M=g.querySelector(gc(N)))G.loading=5;else{n=S({rel:"stylesheet",href:n,"data-precedence":s},c),(c=di.get(N))&&A1(n,c);var K=M=g.createElement("link");fn(K),er(K,"link",n),K._p=new Promise(function(ce,we){K.onload=ce,K.onerror=we}),K.addEventListener("load",function(){G.loading|=1}),K.addEventListener("error",function(){G.loading|=2}),G.loading|=4,md(M,s,g)}M={type:"stylesheet",instance:M,count:1,state:G},C.set(N,M)}}}function zS(n,s){As.X(n,s);var c=el;if(c&&n){var g=ur(c).hoistableScripts,C=nl(n),N=g.get(C);N||(N=c.querySelector(pc(C)),N||(n=S({src:n,async:!0},s),(s=di.get(C))&&N1(n,s),N=c.createElement("script"),fn(N),er(N,"link",n),c.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},g.set(C,N))}}function FS(n,s){As.M(n,s);var c=el;if(c&&n){var g=ur(c).hoistableScripts,C=nl(n),N=g.get(C);N||(N=c.querySelector(pc(C)),N||(n=S({src:n,async:!0,type:"module"},s),(s=di.get(C))&&N1(n,s),N=c.createElement("script"),fn(N),er(N,"link",n),c.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},g.set(C,N))}}function W2(n,s,c,g){var C=(C=Ie.current)?fd(C):null;if(!C)throw Error(o(446));switch(n){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(s=tl(c.href),c=ur(C).hoistableStyles,g=c.get(s),g||(g={type:"style",instance:null,count:0,state:null},c.set(s,g)),g):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){n=tl(c.href);var N=ur(C).hoistableStyles,M=N.get(n);if(M||(C=C.ownerDocument||C,M={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},N.set(n,M),(N=C.querySelector(gc(n)))&&!N._p&&(M.instance=N,M.state.loading=5),di.has(n)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},di.set(n,c),N||VS(C,n,c,M.state))),s&&g===null)throw Error(o(528,""));return M}if(s&&g!==null)throw Error(o(529,""));return null;case"script":return s=c.async,c=c.src,typeof c=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=nl(c),c=ur(C).hoistableScripts,g=c.get(s),g||(g={type:"script",instance:null,count:0,state:null},c.set(s,g)),g):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,n))}}function tl(n){return'href="'+at(n)+'"'}function gc(n){return'link[rel="stylesheet"]['+n+"]"}function Q2(n){return S({},n,{"data-precedence":n.precedence,precedence:null})}function VS(n,s,c,g){n.querySelector('link[rel="preload"][as="style"]['+s+"]")?g.loading=1:(s=n.createElement("link"),g.preload=s,s.addEventListener("load",function(){return g.loading|=1}),s.addEventListener("error",function(){return g.loading|=2}),er(s,"link",c),fn(s),n.head.appendChild(s))}function nl(n){return'[src="'+at(n)+'"]'}function pc(n){return"script[async]"+n}function Z2(n,s,c){if(s.count++,s.instance===null)switch(s.type){case"style":var g=n.querySelector('style[data-href~="'+at(c.href)+'"]');if(g)return s.instance=g,fn(g),g;var C=S({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return g=(n.ownerDocument||n).createElement("style"),fn(g),er(g,"style",C),md(g,c.precedence,n),s.instance=g;case"stylesheet":C=tl(c.href);var N=n.querySelector(gc(C));if(N)return s.state.loading|=4,s.instance=N,fn(N),N;g=Q2(c),(C=di.get(C))&&A1(g,C),N=(n.ownerDocument||n).createElement("link"),fn(N);var M=N;return M._p=new Promise(function(G,K){M.onload=G,M.onerror=K}),er(N,"link",g),s.state.loading|=4,md(N,c.precedence,n),s.instance=N;case"script":return N=nl(c.src),(C=n.querySelector(pc(N)))?(s.instance=C,fn(C),C):(g=c,(C=di.get(N))&&(g=S({},c),N1(g,C)),n=n.ownerDocument||n,C=n.createElement("script"),fn(C),er(C,"link",g),n.head.appendChild(C),s.instance=C);case"void":return null;default:throw Error(o(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(g=s.instance,s.state.loading|=4,md(g,c.precedence,n));return s.instance}function md(n,s,c){for(var g=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),C=g.length?g[g.length-1]:null,N=C,M=0;M<g.length;M++){var G=g[M];if(G.dataset.precedence===s)N=G;else if(N!==C)break}N?N.parentNode.insertBefore(n,N.nextSibling):(s=c.nodeType===9?c.head:c,s.insertBefore(n,s.firstChild))}function A1(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.title==null&&(n.title=s.title)}function N1(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.integrity==null&&(n.integrity=s.integrity)}var gd=null;function K2(n,s,c){if(gd===null){var g=new Map,C=gd=new Map;C.set(c,g)}else C=gd,g=C.get(c),g||(g=new Map,C.set(c,g));if(g.has(n))return g;for(g.set(n,null),c=c.getElementsByTagName(n),C=0;C<c.length;C++){var N=c[C];if(!(N[ja]||N[xn]||n==="link"&&N.getAttribute("rel")==="stylesheet")&&N.namespaceURI!=="http://www.w3.org/2000/svg"){var M=N.getAttribute(s)||"";M=n+M;var G=g.get(M);G?G.push(N):g.set(M,[N])}}return g}function $2(n,s,c){n=n.ownerDocument||n,n.head.insertBefore(c,s==="title"?n.querySelector("head > title"):null)}function HS(n,s,c){if(c===1||s.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;return s.rel==="stylesheet"?(n=s.disabled,typeof s.precedence=="string"&&n==null):!0;case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function J2(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function qS(n,s,c,g){if(c.type==="stylesheet"&&(typeof g.media!="string"||matchMedia(g.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var C=tl(g.href),N=s.querySelector(gc(C));if(N){s=N._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(n.count++,n=pd.bind(n),s.then(n,n)),c.state.loading|=4,c.instance=N,fn(N);return}N=s.ownerDocument||s,g=Q2(g),(C=di.get(C))&&A1(g,C),N=N.createElement("link"),fn(N);var M=N;M._p=new Promise(function(G,K){M.onload=G,M.onerror=K}),er(N,"link",g),c.instance=N}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(c,s),(s=c.state.preload)&&(c.state.loading&3)===0&&(n.count++,c=pd.bind(n),s.addEventListener("load",c),s.addEventListener("error",c))}}var T1=0;function GS(n,s){return n.stylesheets&&n.count===0&&bd(n,n.stylesheets),0<n.count||0<n.imgCount?function(c){var g=setTimeout(function(){if(n.stylesheets&&bd(n,n.stylesheets),n.unsuspend){var N=n.unsuspend;n.unsuspend=null,N()}},6e4+s);0<n.imgBytes&&T1===0&&(T1=62500*AS());var C=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&bd(n,n.stylesheets),n.unsuspend)){var N=n.unsuspend;n.unsuspend=null,N()}},(n.imgBytes>T1?50:800)+s);return n.unsuspend=c,function(){n.unsuspend=null,clearTimeout(g),clearTimeout(C)}}:null}function pd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)bd(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var yd=null;function bd(n,s){n.stylesheets=null,n.unsuspend!==null&&(n.count++,yd=new Map,s.forEach(YS,n),yd=null,pd.call(n))}function YS(n,s){if(!(s.state.loading&4)){var c=yd.get(n);if(c)var g=c.get(null);else{c=new Map,yd.set(n,c);for(var C=n.querySelectorAll("link[data-precedence],style[data-precedence]"),N=0;N<C.length;N++){var M=C[N];(M.nodeName==="LINK"||M.getAttribute("media")!=="not all")&&(c.set(M.dataset.precedence,M),g=M)}g&&c.set(null,g)}C=s.instance,M=C.getAttribute("data-precedence"),N=c.get(M)||g,N===g&&c.set(null,C),c.set(M,C),this.count++,g=pd.bind(this),C.addEventListener("load",g),C.addEventListener("error",g),N?N.parentNode.insertBefore(C,N.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(C,n.firstChild)),s.state.loading|=4}}var yc={$$typeof:U,Provider:null,Consumer:null,_currentValue:xe,_currentValue2:xe,_threadCount:0};function XS(n,s,c,g,C,N,M,G,K){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Pi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pi(0),this.hiddenUpdates=Pi(null),this.identifierPrefix=g,this.onUncaughtError=C,this.onCaughtError=N,this.onRecoverableError=M,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=K,this.incompleteTransitions=new Map}function eb(n,s,c,g,C,N,M,G,K,ce,we,Se){return n=new XS(n,s,c,M,K,ce,we,Se,G),s=1,N===!0&&(s|=24),N=Vr(3,null,null,s),n.current=N,N.stateNode=n,s=af(),s.refCount++,n.pooledCache=s,s.refCount++,N.memoizedState={element:g,isDehydrated:c,cache:s},uf(N),n}function tb(n){return n?(n=Do,n):Do}function nb(n,s,c,g,C,N){C=tb(C),g.context===null?g.context=C:g.pendingContext=C,g=ta(s),g.payload={element:c},N=N===void 0?null:N,N!==null&&(g.callback=N),c=na(n,g,s),c!==null&&(Ir(c,n,s),Ql(c,n,s))}function rb(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var c=n.retryLane;n.retryLane=c!==0&&c<s?c:s}}function R1(n,s){rb(n,s),(n=n.alternate)&&rb(n,s)}function ib(n){if(n.tag===13||n.tag===31){var s=Ha(n,67108864);s!==null&&Ir(s,n,67108864),R1(n,67108864)}}function sb(n){if(n.tag===13||n.tag===31){var s=Xr();s=Gn(s);var c=Ha(n,s);c!==null&&Ir(c,n,s),R1(n,s)}}var vd=!0;function WS(n,s,c,g){var C=ie.T;ie.T=null;var N=ue.p;try{ue.p=2,O1(n,s,c,g)}finally{ue.p=N,ie.T=C}}function QS(n,s,c,g){var C=ie.T;ie.T=null;var N=ue.p;try{ue.p=8,O1(n,s,c,g)}finally{ue.p=N,ie.T=C}}function O1(n,s,c,g){if(vd){var C=M1(g);if(C===null)g1(n,s,g,xd,c),ob(n,g);else if(KS(C,n,s,c,g))g.stopPropagation();else if(ob(n,g),s&4&&-1<ZS.indexOf(n)){for(;C!==null;){var N=Nt(C);if(N!==null)switch(N.tag){case 3:if(N=N.stateNode,N.current.memoizedState.isDehydrated){var M=ki(N.pendingLanes);if(M!==0){var G=N;for(G.pendingLanes|=2,G.entangledLanes|=2;M;){var K=1<<31-nt(M);G.entanglements[1]|=K,M&=~K}Wi(N),(Rt&6)===0&&(nd=on()+500,dc(0))}}break;case 31:case 13:G=Ha(N,2),G!==null&&Ir(G,N,2),id(),R1(N,2)}if(N=M1(g),N===null&&g1(n,s,g,xd,c),N===C)break;C=N}C!==null&&g.stopPropagation()}else g1(n,s,g,null,c)}}function M1(n){return n=jl(n),I1(n)}var xd=null;function I1(n){if(xd=null,n=hn(n),n!==null){var s=h(n);if(s===null)n=null;else{var c=s.tag;if(c===13){if(n=p(s),n!==null)return n;n=null}else if(c===31){if(n=x(s),n!==null)return n;n=null}else if(c===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null)}}return xd=n,null}function ab(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Rl()){case Er:return 2;case Ol:return 8;case Lr:case Wn:return 32;case Ml:return 268435456;default:return 32}default:return 32}}var _1=!1,fa=null,ma=null,ga=null,bc=new Map,vc=new Map,pa=[],ZS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ob(n,s){switch(n){case"focusin":case"focusout":fa=null;break;case"dragenter":case"dragleave":ma=null;break;case"mouseover":case"mouseout":ga=null;break;case"pointerover":case"pointerout":bc.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":vc.delete(s.pointerId)}}function xc(n,s,c,g,C,N){return n===null||n.nativeEvent!==N?(n={blockedOn:s,domEventName:c,eventSystemFlags:g,nativeEvent:N,targetContainers:[C]},s!==null&&(s=Nt(s),s!==null&&ib(s)),n):(n.eventSystemFlags|=g,s=n.targetContainers,C!==null&&s.indexOf(C)===-1&&s.push(C),n)}function KS(n,s,c,g,C){switch(s){case"focusin":return fa=xc(fa,n,s,c,g,C),!0;case"dragenter":return ma=xc(ma,n,s,c,g,C),!0;case"mouseover":return ga=xc(ga,n,s,c,g,C),!0;case"pointerover":var N=C.pointerId;return bc.set(N,xc(bc.get(N)||null,n,s,c,g,C)),!0;case"gotpointercapture":return N=C.pointerId,vc.set(N,xc(vc.get(N)||null,n,s,c,g,C)),!0}return!1}function lb(n){var s=hn(n.target);if(s!==null){var c=h(s);if(c!==null){if(s=c.tag,s===13){if(s=p(c),s!==null){n.blockedOn=s,Be(n.priority,function(){sb(c)});return}}else if(s===31){if(s=x(c),s!==null){n.blockedOn=s,Be(n.priority,function(){sb(c)});return}}else if(s===3&&c.stateNode.current.memoizedState.isDehydrated){n.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}n.blockedOn=null}function wd(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var c=M1(n.nativeEvent);if(c===null){c=n.nativeEvent;var g=new c.constructor(c.type,c);La=g,c.target.dispatchEvent(g),La=null}else return s=Nt(c),s!==null&&ib(s),n.blockedOn=c,!1;s.shift()}return!0}function cb(n,s,c){wd(n)&&c.delete(s)}function $S(){_1=!1,fa!==null&&wd(fa)&&(fa=null),ma!==null&&wd(ma)&&(ma=null),ga!==null&&wd(ga)&&(ga=null),bc.forEach(cb),vc.forEach(cb)}function Ed(n,s){n.blockedOn===s&&(n.blockedOn=null,_1||(_1=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,$S)))}var Cd=null;function ub(n){Cd!==n&&(Cd=n,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Cd===n&&(Cd=null);for(var s=0;s<n.length;s+=3){var c=n[s],g=n[s+1],C=n[s+2];if(typeof g!="function"){if(I1(g||c)===null)continue;break}var N=Nt(c);N!==null&&(n.splice(s,3),s-=3,Mf(N,{pending:!0,data:C,method:c.method,action:g},g,C))}}))}function rl(n){function s(K){return Ed(K,n)}fa!==null&&Ed(fa,n),ma!==null&&Ed(ma,n),ga!==null&&Ed(ga,n),bc.forEach(s),vc.forEach(s);for(var c=0;c<pa.length;c++){var g=pa[c];g.blockedOn===n&&(g.blockedOn=null)}for(;0<pa.length&&(c=pa[0],c.blockedOn===null);)lb(c),c.blockedOn===null&&pa.shift();if(c=(n.ownerDocument||n).$$reactFormReplay,c!=null)for(g=0;g<c.length;g+=3){var C=c[g],N=c[g+1],M=C[Lt]||null;if(typeof N=="function")M||ub(c);else if(M){var G=null;if(N&&N.hasAttribute("formAction")){if(C=N,M=N[Lt]||null)G=M.formAction;else if(I1(C)!==null)continue}else G=M.action;typeof G=="function"?c[g+1]=G:(c.splice(g,3),g-=3),ub(c)}}}function db(){function n(N){N.canIntercept&&N.info==="react-transition"&&N.intercept({handler:function(){return new Promise(function(M){return C=M})},focusReset:"manual",scroll:"manual"})}function s(){C!==null&&(C(),C=null),g||setTimeout(c,20)}function c(){if(!g&&!navigation.transition){var N=navigation.currentEntry;N&&N.url!=null&&navigation.navigate(N.url,{state:N.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var g=!1,C=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(c,100),function(){g=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),C!==null&&(C(),C=null)}}}function D1(n){this._internalRoot=n}Sd.prototype.render=D1.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(o(409));var c=s.current,g=Xr();nb(c,g,n,s,null,null)},Sd.prototype.unmount=D1.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;nb(n.current,2,null,n,null,null),id(),s[Br]=null}};function Sd(n){this._internalRoot=n}Sd.prototype.unstable_scheduleHydration=function(n){if(n){var s=lr();n={blockedOn:null,target:n,priority:s};for(var c=0;c<pa.length&&s!==0&&s<pa[c].priority;c++);pa.splice(c,0,n),c===0&&lb(n)}};var hb=t.version;if(hb!=="19.2.4")throw Error(o(527,hb,"19.2.4"));ue.findDOMNode=function(n){var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(o(188)):(n=Object.keys(n).join(","),Error(o(268,n)));return n=b(s),n=n!==null?E(n):null,n=n===null?null:n.stateNode,n};var JS={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:ie,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ad=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ad.isDisabled&&Ad.supportsFiber)try{Wt=Ad.inject(JS),Oe=Ad}catch{}}return Ec.createRoot=function(n,s){if(!u(n))throw Error(o(299));var c=!1,g="",C=vy,N=xy,M=wy;return s!=null&&(s.unstable_strictMode===!0&&(c=!0),s.identifierPrefix!==void 0&&(g=s.identifierPrefix),s.onUncaughtError!==void 0&&(C=s.onUncaughtError),s.onCaughtError!==void 0&&(N=s.onCaughtError),s.onRecoverableError!==void 0&&(M=s.onRecoverableError)),s=eb(n,1,!1,null,null,c,g,null,C,N,M,db),n[Br]=s.current,m1(n),new D1(s)},Ec.hydrateRoot=function(n,s,c){if(!u(n))throw Error(o(299));var g=!1,C="",N=vy,M=xy,G=wy,K=null;return c!=null&&(c.unstable_strictMode===!0&&(g=!0),c.identifierPrefix!==void 0&&(C=c.identifierPrefix),c.onUncaughtError!==void 0&&(N=c.onUncaughtError),c.onCaughtError!==void 0&&(M=c.onCaughtError),c.onRecoverableError!==void 0&&(G=c.onRecoverableError),c.formState!==void 0&&(K=c.formState)),s=eb(n,1,!0,s,c??null,g,C,K,N,M,G,db),s.context=tb(null),c=s.current,g=Xr(),g=Gn(g),C=ta(g),C.callback=null,na(c,C,g),c=g,s.current.lanes=c,Ui(s,c),Wi(s),n[Br]=s.current,m1(n),new Sd(s)},Ec.version="19.2.4",Ec}var Eb;function c6(){if(Eb)return B1.exports;Eb=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),B1.exports=l6(),B1.exports}var u6=c6();var Cb="popstate";function d6(e={}){function t(o,u){let{pathname:h,search:p,hash:x}=o.location;return gm("",{pathname:h,search:p,hash:x},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function i(o,u){return typeof u=="string"?u:jc(u)}return f6(t,i,null,e)}function an(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Di(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function h6(){return Math.random().toString(36).substring(2,10)}function Sb(e,t){return{usr:e.state,key:e.key,idx:t}}function gm(e,t,i=null,o){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?yl(t):t,state:i,key:t&&t.key||o||h6()}}function jc({pathname:e="/",search:t="",hash:i=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function yl(e){let t={};if(e){let i=e.indexOf("#");i>=0&&(t.hash=e.substring(i),e=e.substring(0,i));let o=e.indexOf("?");o>=0&&(t.search=e.substring(o),e=e.substring(0,o)),e&&(t.pathname=e)}return t}function f6(e,t,i,o={}){let{window:u=document.defaultView,v5Compat:h=!1}=o,p=u.history,x="POP",w=null,b=E();b==null&&(b=0,p.replaceState({...p.state,idx:b},""));function E(){return(p.state||{idx:null}).idx}function S(){x="POP";let P=E(),Y=P==null?null:P-b;b=P,w&&w({action:x,location:L.location,delta:Y})}function R(P,Y){x="PUSH";let j=gm(L.location,P,Y);b=E()+1;let U=Sb(j,b),V=L.createHref(j);try{p.pushState(U,"",V)}catch(I){if(I instanceof DOMException&&I.name==="DataCloneError")throw I;u.location.assign(V)}h&&w&&w({action:x,location:L.location,delta:1})}function _(P,Y){x="REPLACE";let j=gm(L.location,P,Y);b=E();let U=Sb(j,b),V=L.createHref(j);p.replaceState(U,"",V),h&&w&&w({action:x,location:L.location,delta:0})}function D(P){return m6(P)}let L={get action(){return x},get location(){return e(u,p)},listen(P){if(w)throw new Error("A history only accepts one active listener");return u.addEventListener(Cb,S),w=P,()=>{u.removeEventListener(Cb,S),w=null}},createHref(P){return t(u,P)},createURL:D,encodeLocation(P){let Y=D(P);return{pathname:Y.pathname,search:Y.search,hash:Y.hash}},push:R,replace:_,go(P){return p.go(P)}};return L}function m6(e,t=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),an(i,"No window.location.(origin|href) available to create URL");let o=typeof e=="string"?e:jc(e);return o=o.replace(/ $/,"%20"),!t&&o.startsWith("//")&&(o=i+o),new URL(o,i)}function tE(e,t,i="/"){return g6(e,t,i,!1)}function g6(e,t,i,o){let u=typeof t=="string"?yl(t):t,h=Os(u.pathname||"/",i);if(h==null)return null;let p=nE(e);p6(p);let x=null;for(let w=0;x==null&&w<p.length;++w){let b=T6(h);x=A6(p[w],b,o)}return x}function nE(e,t=[],i=[],o="",u=!1){let h=(p,x,w=u,b)=>{let E={relativePath:b===void 0?p.path||"":b,caseSensitive:p.caseSensitive===!0,childrenIndex:x,route:p};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(o)&&w)return;an(E.relativePath.startsWith(o),`Absolute route path "${E.relativePath}" nested under path "${o}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(o.length)}let S=Rs([o,E.relativePath]),R=i.concat(E);p.children&&p.children.length>0&&(an(p.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${S}".`),nE(p.children,t,R,S,w)),!(p.path==null&&!p.index)&&t.push({path:S,score:C6(S,p.index),routesMeta:R})};return e.forEach((p,x)=>{if(p.path===""||!p.path?.includes("?"))h(p,x);else for(let w of rE(p.path))h(p,x,!0,w)}),t}function rE(e){let t=e.split("/");if(t.length===0)return[];let[i,...o]=t,u=i.endsWith("?"),h=i.replace(/\?$/,"");if(o.length===0)return u?[h,""]:[h];let p=rE(o.join("/")),x=[];return x.push(...p.map(w=>w===""?h:[h,w].join("/"))),u&&x.push(...p),x.map(w=>e.startsWith("/")&&w===""?"/":w)}function p6(e){e.sort((t,i)=>t.score!==i.score?i.score-t.score:S6(t.routesMeta.map(o=>o.childrenIndex),i.routesMeta.map(o=>o.childrenIndex)))}var y6=/^:[\w-]+$/,b6=3,v6=2,x6=1,w6=10,E6=-2,Ab=e=>e==="*";function C6(e,t){let i=e.split("/"),o=i.length;return i.some(Ab)&&(o+=E6),t&&(o+=v6),i.filter(u=>!Ab(u)).reduce((u,h)=>u+(y6.test(h)?b6:h===""?x6:w6),o)}function S6(e,t){return e.length===t.length&&e.slice(0,-1).every((o,u)=>o===t[u])?e[e.length-1]-t[t.length-1]:0}function A6(e,t,i=!1){let{routesMeta:o}=e,u={},h="/",p=[];for(let x=0;x<o.length;++x){let w=o[x],b=x===o.length-1,E=h==="/"?t:t.slice(h.length)||"/",S=th({path:w.relativePath,caseSensitive:w.caseSensitive,end:b},E),R=w.route;if(!S&&b&&i&&!o[o.length-1].route.index&&(S=th({path:w.relativePath,caseSensitive:w.caseSensitive,end:!1},E)),!S)return null;Object.assign(u,S.params),p.push({params:u,pathname:Rs([h,S.pathname]),pathnameBase:I6(Rs([h,S.pathnameBase])),route:R}),S.pathnameBase!=="/"&&(h=Rs([h,S.pathnameBase]))}return p}function th(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[i,o]=N6(e.path,e.caseSensitive,e.end),u=t.match(i);if(!u)return null;let h=u[0],p=h.replace(/(.)\/+$/,"$1"),x=u.slice(1);return{params:o.reduce((b,{paramName:E,isOptional:S},R)=>{if(E==="*"){let D=x[R]||"";p=h.slice(0,h.length-D.length).replace(/(.)\/+$/,"$1")}const _=x[R];return S&&!_?b[E]=void 0:b[E]=(_||"").replace(/%2F/g,"/"),b},{}),pathname:h,pathnameBase:p,pattern:e}}function N6(e,t=!1,i=!0){Di(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let o=[],u="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(p,x,w)=>(o.push({paramName:x,isOptional:w!=null}),w?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(o.push({paramName:"*"}),u+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?u+="\\/*$":e!==""&&e!=="/"&&(u+="(?:(?=\\/|$))"),[new RegExp(u,t?void 0:"i"),o]}function T6(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Di(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Os(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let i=t.endsWith("/")?t.length-1:t.length,o=e.charAt(i);return o&&o!=="/"?null:e.slice(i)||"/"}var R6=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function O6(e,t="/"){let{pathname:i,search:o="",hash:u=""}=typeof e=="string"?yl(e):e,h;return i?(i=i.replace(/\/\/+/g,"/"),i.startsWith("/")?h=Nb(i.substring(1),"/"):h=Nb(i,t)):h=t,{pathname:h,search:_6(o),hash:D6(u)}}function Nb(e,t){let i=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(u=>{u===".."?i.length>1&&i.pop():u!=="."&&i.push(u)}),i.length>1?i.join("/"):"/"}function z1(e,t,i,o){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(o)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function M6(e){return e.filter((t,i)=>i===0||t.route.path&&t.route.path.length>0)}function ig(e){let t=M6(e);return t.map((i,o)=>o===t.length-1?i.pathname:i.pathnameBase)}function sg(e,t,i,o=!1){let u;typeof e=="string"?u=yl(e):(u={...e},an(!u.pathname||!u.pathname.includes("?"),z1("?","pathname","search",u)),an(!u.pathname||!u.pathname.includes("#"),z1("#","pathname","hash",u)),an(!u.search||!u.search.includes("#"),z1("#","search","hash",u)));let h=e===""||u.pathname==="",p=h?"/":u.pathname,x;if(p==null)x=i;else{let S=t.length-1;if(!o&&p.startsWith("..")){let R=p.split("/");for(;R[0]==="..";)R.shift(),S-=1;u.pathname=R.join("/")}x=S>=0?t[S]:"/"}let w=O6(u,x),b=p&&p!=="/"&&p.endsWith("/"),E=(h||p===".")&&i.endsWith("/");return!w.pathname.endsWith("/")&&(b||E)&&(w.pathname+="/"),w}var Rs=e=>e.join("/").replace(/\/\/+/g,"/"),I6=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),_6=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,D6=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,j6=class{constructor(e,t,i,o=!1){this.status=e,this.statusText=t||"",this.internal=o,i instanceof Error?(this.data=i.toString(),this.error=i):this.data=i}};function L6(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function B6(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var iE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function sE(e,t){let i=e;if(typeof i!="string"||!R6.test(i))return{absoluteURL:void 0,isExternal:!1,to:i};let o=i,u=!1;if(iE)try{let h=new URL(window.location.href),p=i.startsWith("//")?new URL(h.protocol+i):new URL(i),x=Os(p.pathname,t);p.origin===h.origin&&x!=null?i=x+p.search+p.hash:u=!0}catch{Di(!1,`<Link to="${i}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:o,isExternal:u,to:i}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var aE=["POST","PUT","PATCH","DELETE"];new Set(aE);var k6=["GET",...aE];new Set(k6);var bl=F.createContext(null);bl.displayName="DataRouter";var wh=F.createContext(null);wh.displayName="DataRouterState";var P6=F.createContext(!1),oE=F.createContext({isTransitioning:!1});oE.displayName="ViewTransition";var U6=F.createContext(new Map);U6.displayName="Fetchers";var z6=F.createContext(null);z6.displayName="Await";var $r=F.createContext(null);$r.displayName="Navigation";var qc=F.createContext(null);qc.displayName="Location";var yi=F.createContext({outlet:null,matches:[],isDataRoute:!1});yi.displayName="Route";var ag=F.createContext(null);ag.displayName="RouteError";var lE="REACT_ROUTER_ERROR",F6="REDIRECT",V6="ROUTE_ERROR_RESPONSE";function H6(e){if(e.startsWith(`${lE}:${F6}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function q6(e){if(e.startsWith(`${lE}:${V6}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new j6(t.status,t.statusText,t.data)}catch{}}function G6(e,{relative:t}={}){an(vl(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:o}=F.useContext($r),{hash:u,pathname:h,search:p}=Gc(e,{relative:t}),x=h;return i!=="/"&&(x=h==="/"?i:Rs([i,h])),o.createHref({pathname:x,search:p,hash:u})}function vl(){return F.useContext(qc)!=null}function Li(){return an(vl(),"useLocation() may be used only in the context of a <Router> component."),F.useContext(qc).location}var cE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function uE(e){F.useContext($r).static||F.useLayoutEffect(e)}function nr(){let{isDataRoute:e}=F.useContext(yi);return e?aA():Y6()}function Y6(){an(vl(),"useNavigate() may be used only in the context of a <Router> component.");let e=F.useContext(bl),{basename:t,navigator:i}=F.useContext($r),{matches:o}=F.useContext(yi),{pathname:u}=Li(),h=JSON.stringify(ig(o)),p=F.useRef(!1);return uE(()=>{p.current=!0}),F.useCallback((w,b={})=>{if(Di(p.current,cE),!p.current)return;if(typeof w=="number"){i.go(w);return}let E=sg(w,JSON.parse(h),u,b.relative==="path");e==null&&t!=="/"&&(E.pathname=E.pathname==="/"?t:Rs([t,E.pathname])),(b.replace?i.replace:i.push)(E,b.state,b)},[t,i,h,u,e])}var X6=F.createContext(null);function W6(e){let t=F.useContext(yi).outlet;return F.useMemo(()=>t&&F.createElement(X6.Provider,{value:e},t),[t,e])}function dE(){let{matches:e}=F.useContext(yi),t=e[e.length-1];return t?t.params:{}}function Gc(e,{relative:t}={}){let{matches:i}=F.useContext(yi),{pathname:o}=Li(),u=JSON.stringify(ig(i));return F.useMemo(()=>sg(e,JSON.parse(u),o,t==="path"),[e,u,o,t])}function Q6(e,t){return hE(e,t)}function hE(e,t,i,o,u){an(vl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:h}=F.useContext($r),{matches:p}=F.useContext(yi),x=p[p.length-1],w=x?x.params:{},b=x?x.pathname:"/",E=x?x.pathnameBase:"/",S=x&&x.route;{let j=S&&S.path||"";mE(b,!S||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${b}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let R=Li(),_;if(t){let j=typeof t=="string"?yl(t):t;an(E==="/"||j.pathname?.startsWith(E),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${j.pathname}" was given in the \`location\` prop.`),_=j}else _=R;let D=_.pathname||"/",L=D;if(E!=="/"){let j=E.replace(/^\//,"").split("/");L="/"+D.replace(/^\//,"").split("/").slice(j.length).join("/")}let P=tE(e,{pathname:L});Di(S||P!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),Di(P==null||P[P.length-1].route.element!==void 0||P[P.length-1].route.Component!==void 0||P[P.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Y=eA(P&&P.map(j=>Object.assign({},j,{params:Object.assign({},w,j.params),pathname:Rs([E,h.encodeLocation?h.encodeLocation(j.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?E:Rs([E,h.encodeLocation?h.encodeLocation(j.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:j.pathnameBase])})),p,i,o,u);return t&&Y?F.createElement(qc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",..._},navigationType:"POP"}},Y):Y}function Z6(){let e=sA(),t=L6(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),i=e instanceof Error?e.stack:null,o="rgba(200,200,200, 0.5)",u={padding:"0.5rem",backgroundColor:o},h={padding:"2px 4px",backgroundColor:o},p=null;return console.error("Error handled by React Router default ErrorBoundary:",e),p=F.createElement(F.Fragment,null,F.createElement("p",null," Hey developer "),F.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",F.createElement("code",{style:h},"ErrorBoundary")," or"," ",F.createElement("code",{style:h},"errorElement")," prop on your route.")),F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},t),i?F.createElement("pre",{style:u},i):null,p)}var K6=F.createElement(Z6,null),fE=class extends F.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const i=q6(e.digest);i&&(e=i)}let t=e!==void 0?F.createElement(yi.Provider,{value:this.props.routeContext},F.createElement(ag.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?F.createElement($6,{error:e},t):t}};fE.contextType=P6;var F1=new WeakMap;function $6({children:e,error:t}){let{basename:i}=F.useContext($r);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let o=H6(t.digest);if(o){let u=F1.get(t);if(u)throw u;let h=sE(o.location,i);if(iE&&!F1.get(t))if(h.isExternal||o.reloadDocument)window.location.href=h.absoluteURL||h.to;else{const p=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(h.to,{replace:o.replace}));throw F1.set(t,p),p}return F.createElement("meta",{httpEquiv:"refresh",content:`0;url=${h.absoluteURL||h.to}`})}}return e}function J6({routeContext:e,match:t,children:i}){let o=F.useContext(bl);return o&&o.static&&o.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=t.route.id),F.createElement(yi.Provider,{value:e},i)}function eA(e,t=[],i=null,o=null,u=null){if(e==null){if(!i)return null;if(i.errors)e=i.matches;else if(t.length===0&&!i.initialized&&i.matches.length>0)e=i.matches;else return null}let h=e,p=i?.errors;if(p!=null){let E=h.findIndex(S=>S.route.id&&p?.[S.route.id]!==void 0);an(E>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(p).join(",")}`),h=h.slice(0,Math.min(h.length,E+1))}let x=!1,w=-1;if(i)for(let E=0;E<h.length;E++){let S=h[E];if((S.route.HydrateFallback||S.route.hydrateFallbackElement)&&(w=E),S.route.id){let{loaderData:R,errors:_}=i,D=S.route.loader&&!R.hasOwnProperty(S.route.id)&&(!_||_[S.route.id]===void 0);if(S.route.lazy||D){x=!0,w>=0?h=h.slice(0,w+1):h=[h[0]];break}}}let b=i&&o?(E,S)=>{o(E,{location:i.location,params:i.matches?.[0]?.params??{},unstable_pattern:B6(i.matches),errorInfo:S})}:void 0;return h.reduceRight((E,S,R)=>{let _,D=!1,L=null,P=null;i&&(_=p&&S.route.id?p[S.route.id]:void 0,L=S.route.errorElement||K6,x&&(w<0&&R===0?(mE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),D=!0,P=null):w===R&&(D=!0,P=S.route.hydrateFallbackElement||null)));let Y=t.concat(h.slice(0,R+1)),j=()=>{let U;return _?U=L:D?U=P:S.route.Component?U=F.createElement(S.route.Component,null):S.route.element?U=S.route.element:U=E,F.createElement(J6,{match:S,routeContext:{outlet:E,matches:Y,isDataRoute:i!=null},children:U})};return i&&(S.route.ErrorBoundary||S.route.errorElement||R===0)?F.createElement(fE,{location:i.location,revalidation:i.revalidation,component:L,error:_,children:j(),routeContext:{outlet:null,matches:Y,isDataRoute:!0},onError:b}):j()},null)}function og(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function tA(e){let t=F.useContext(bl);return an(t,og(e)),t}function nA(e){let t=F.useContext(wh);return an(t,og(e)),t}function rA(e){let t=F.useContext(yi);return an(t,og(e)),t}function lg(e){let t=rA(e),i=t.matches[t.matches.length-1];return an(i.route.id,`${e} can only be used on routes that contain a unique "id"`),i.route.id}function iA(){return lg("useRouteId")}function sA(){let e=F.useContext(ag),t=nA("useRouteError"),i=lg("useRouteError");return e!==void 0?e:t.errors?.[i]}function aA(){let{router:e}=tA("useNavigate"),t=lg("useNavigate"),i=F.useRef(!1);return uE(()=>{i.current=!0}),F.useCallback(async(u,h={})=>{Di(i.current,cE),i.current&&(typeof u=="number"?await e.navigate(u):await e.navigate(u,{fromRouteId:t,...h}))},[e,t])}var Tb={};function mE(e,t,i){!t&&!Tb[e]&&(Tb[e]=!0,Di(!1,i))}F.memo(oA);function oA({routes:e,future:t,state:i,onError:o}){return hE(e,void 0,i,o,t)}function io({to:e,replace:t,state:i,relative:o}){an(vl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:u}=F.useContext($r);Di(!u,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:h}=F.useContext(yi),{pathname:p}=Li(),x=nr(),w=sg(e,ig(h),p,o==="path"),b=JSON.stringify(w);return F.useEffect(()=>{x(JSON.parse(b),{replace:t,state:i,relative:o})},[x,b,o,t,i]),null}function gE(e){return W6(e.context)}function Ot(e){an(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function lA({basename:e="/",children:t=null,location:i,navigationType:o="POP",navigator:u,static:h=!1,unstable_useTransitions:p}){an(!vl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let x=e.replace(/^\/*/,"/"),w=F.useMemo(()=>({basename:x,navigator:u,static:h,unstable_useTransitions:p,future:{}}),[x,u,h,p]);typeof i=="string"&&(i=yl(i));let{pathname:b="/",search:E="",hash:S="",state:R=null,key:_="default"}=i,D=F.useMemo(()=>{let L=Os(b,x);return L==null?null:{location:{pathname:L,search:E,hash:S,state:R,key:_},navigationType:o}},[x,b,E,S,R,_,o]);return Di(D!=null,`<Router basename="${x}"> is not able to match the URL "${b}${E}${S}" because it does not start with the basename, so the <Router> won't render anything.`),D==null?null:F.createElement($r.Provider,{value:w},F.createElement(qc.Provider,{children:t,value:D}))}function cA({children:e,location:t}){return Q6(pm(e),t)}function pm(e,t=[]){let i=[];return F.Children.forEach(e,(o,u)=>{if(!F.isValidElement(o))return;let h=[...t,u];if(o.type===F.Fragment){i.push.apply(i,pm(o.props.children,h));return}an(o.type===Ot,`[${typeof o.type=="string"?o.type:o.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),an(!o.props.index||!o.props.children,"An index route cannot have child routes.");let p={id:o.props.id||h.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,middleware:o.props.middleware,loader:o.props.loader,action:o.props.action,hydrateFallbackElement:o.props.hydrateFallbackElement,HydrateFallback:o.props.HydrateFallback,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.hasErrorBoundary===!0||o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(p.children=pm(o.props.children,h)),i.push(p)}),i}var Fd="get",Vd="application/x-www-form-urlencoded";function Eh(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function uA(e){return Eh(e)&&e.tagName.toLowerCase()==="button"}function dA(e){return Eh(e)&&e.tagName.toLowerCase()==="form"}function hA(e){return Eh(e)&&e.tagName.toLowerCase()==="input"}function fA(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function mA(e,t){return e.button===0&&(!t||t==="_self")&&!fA(e)}var Nd=null;function gA(){if(Nd===null)try{new FormData(document.createElement("form"),0),Nd=!1}catch{Nd=!0}return Nd}var pA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function V1(e){return e!=null&&!pA.has(e)?(Di(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Vd}"`),null):e}function yA(e,t){let i,o,u,h,p;if(dA(e)){let x=e.getAttribute("action");o=x?Os(x,t):null,i=e.getAttribute("method")||Fd,u=V1(e.getAttribute("enctype"))||Vd,h=new FormData(e)}else if(uA(e)||hA(e)&&(e.type==="submit"||e.type==="image")){let x=e.form;if(x==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let w=e.getAttribute("formaction")||x.getAttribute("action");if(o=w?Os(w,t):null,i=e.getAttribute("formmethod")||x.getAttribute("method")||Fd,u=V1(e.getAttribute("formenctype"))||V1(x.getAttribute("enctype"))||Vd,h=new FormData(x,e),!gA()){let{name:b,type:E,value:S}=e;if(E==="image"){let R=b?`${b}.`:"";h.append(`${R}x`,"0"),h.append(`${R}y`,"0")}else b&&h.append(b,S)}}else{if(Eh(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=Fd,o=null,u=Vd,p=e}return h&&u==="text/plain"&&(p=h,h=void 0),{action:o,method:i.toLowerCase(),encType:u,formData:h,body:p}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function cg(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function bA(e,t,i,o){let u=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return i?u.pathname.endsWith("/")?u.pathname=`${u.pathname}_.${o}`:u.pathname=`${u.pathname}.${o}`:u.pathname==="/"?u.pathname=`_root.${o}`:t&&Os(u.pathname,t)==="/"?u.pathname=`${t.replace(/\/$/,"")}/_root.${o}`:u.pathname=`${u.pathname.replace(/\/$/,"")}.${o}`,u}async function vA(e,t){if(e.id in t)return t[e.id];try{let i=await import(e.module);return t[e.id]=i,i}catch(i){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function xA(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function wA(e,t,i){let o=await Promise.all(e.map(async u=>{let h=t.routes[u.route.id];if(h){let p=await vA(h,i);return p.links?p.links():[]}return[]}));return AA(o.flat(1).filter(xA).filter(u=>u.rel==="stylesheet"||u.rel==="preload").map(u=>u.rel==="stylesheet"?{...u,rel:"prefetch",as:"style"}:{...u,rel:"prefetch"}))}function Rb(e,t,i,o,u,h){let p=(w,b)=>i[b]?w.route.id!==i[b].route.id:!0,x=(w,b)=>i[b].pathname!==w.pathname||i[b].route.path?.endsWith("*")&&i[b].params["*"]!==w.params["*"];return h==="assets"?t.filter((w,b)=>p(w,b)||x(w,b)):h==="data"?t.filter((w,b)=>{let E=o.routes[w.route.id];if(!E||!E.hasLoader)return!1;if(p(w,b)||x(w,b))return!0;if(w.route.shouldRevalidate){let S=w.route.shouldRevalidate({currentUrl:new URL(u.pathname+u.search+u.hash,window.origin),currentParams:i[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:w.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function EA(e,t,{includeHydrateFallback:i}={}){return CA(e.map(o=>{let u=t.routes[o.route.id];if(!u)return[];let h=[u.module];return u.clientActionModule&&(h=h.concat(u.clientActionModule)),u.clientLoaderModule&&(h=h.concat(u.clientLoaderModule)),i&&u.hydrateFallbackModule&&(h=h.concat(u.hydrateFallbackModule)),u.imports&&(h=h.concat(u.imports)),h}).flat(1))}function CA(e){return[...new Set(e)]}function SA(e){let t={},i=Object.keys(e).sort();for(let o of i)t[o]=e[o];return t}function AA(e,t){let i=new Set;return new Set(t),e.reduce((o,u)=>{let h=JSON.stringify(SA(u));return i.has(h)||(i.add(h),o.push({key:h,link:u})),o},[])}function pE(){let e=F.useContext(bl);return cg(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function NA(){let e=F.useContext(wh);return cg(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var ug=F.createContext(void 0);ug.displayName="FrameworkContext";function yE(){let e=F.useContext(ug);return cg(e,"You must render this element inside a <HydratedRouter> element"),e}function TA(e,t){let i=F.useContext(ug),[o,u]=F.useState(!1),[h,p]=F.useState(!1),{onFocus:x,onBlur:w,onMouseEnter:b,onMouseLeave:E,onTouchStart:S}=t,R=F.useRef(null);F.useEffect(()=>{if(e==="render"&&p(!0),e==="viewport"){let L=Y=>{Y.forEach(j=>{p(j.isIntersecting)})},P=new IntersectionObserver(L,{threshold:.5});return R.current&&P.observe(R.current),()=>{P.disconnect()}}},[e]),F.useEffect(()=>{if(o){let L=setTimeout(()=>{p(!0)},100);return()=>{clearTimeout(L)}}},[o]);let _=()=>{u(!0)},D=()=>{u(!1),p(!1)};return i?e!=="intent"?[h,R,{}]:[h,R,{onFocus:Cc(x,_),onBlur:Cc(w,D),onMouseEnter:Cc(b,_),onMouseLeave:Cc(E,D),onTouchStart:Cc(S,_)}]:[!1,R,{}]}function Cc(e,t){return i=>{e&&e(i),i.defaultPrevented||t(i)}}function RA({page:e,...t}){let{router:i}=pE(),o=F.useMemo(()=>tE(i.routes,e,i.basename),[i.routes,e,i.basename]);return o?F.createElement(MA,{page:e,matches:o,...t}):null}function OA(e){let{manifest:t,routeModules:i}=yE(),[o,u]=F.useState([]);return F.useEffect(()=>{let h=!1;return wA(e,t,i).then(p=>{h||u(p)}),()=>{h=!0}},[e,t,i]),o}function MA({page:e,matches:t,...i}){let o=Li(),{future:u,manifest:h,routeModules:p}=yE(),{basename:x}=pE(),{loaderData:w,matches:b}=NA(),E=F.useMemo(()=>Rb(e,t,b,h,o,"data"),[e,t,b,h,o]),S=F.useMemo(()=>Rb(e,t,b,h,o,"assets"),[e,t,b,h,o]),R=F.useMemo(()=>{if(e===o.pathname+o.search+o.hash)return[];let L=new Set,P=!1;if(t.forEach(j=>{let U=h.routes[j.route.id];!U||!U.hasLoader||(!E.some(V=>V.route.id===j.route.id)&&j.route.id in w&&p[j.route.id]?.shouldRevalidate||U.hasClientLoader?P=!0:L.add(j.route.id))}),L.size===0)return[];let Y=bA(e,x,u.unstable_trailingSlashAwareDataRequests,"data");return P&&L.size>0&&Y.searchParams.set("_routes",t.filter(j=>L.has(j.route.id)).map(j=>j.route.id).join(",")),[Y.pathname+Y.search]},[x,u.unstable_trailingSlashAwareDataRequests,w,o,h,E,t,e,p]),_=F.useMemo(()=>EA(S,h),[S,h]),D=OA(S);return F.createElement(F.Fragment,null,R.map(L=>F.createElement("link",{key:L,rel:"prefetch",as:"fetch",href:L,...i})),_.map(L=>F.createElement("link",{key:L,rel:"modulepreload",href:L,...i})),D.map(({key:L,link:P})=>F.createElement("link",{key:L,nonce:i.nonce,...P,crossOrigin:P.crossOrigin??i.crossOrigin})))}function IA(...e){return t=>{e.forEach(i=>{typeof i=="function"?i(t):i!=null&&(i.current=t)})}}var _A=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{_A&&(window.__reactRouterVersion="7.13.0")}catch{}function DA({basename:e,children:t,unstable_useTransitions:i,window:o}){let u=F.useRef();u.current==null&&(u.current=d6({window:o,v5Compat:!0}));let h=u.current,[p,x]=F.useState({action:h.action,location:h.location}),w=F.useCallback(b=>{i===!1?x(b):F.startTransition(()=>x(b))},[i]);return F.useLayoutEffect(()=>h.listen(w),[h,w]),F.createElement(lA,{basename:e,children:t,location:p.location,navigationType:p.action,navigator:h,unstable_useTransitions:i})}var bE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,vE=F.forwardRef(function({onClick:t,discover:i="render",prefetch:o="none",relative:u,reloadDocument:h,replace:p,state:x,target:w,to:b,preventScrollReset:E,viewTransition:S,unstable_defaultShouldRevalidate:R,..._},D){let{basename:L,unstable_useTransitions:P}=F.useContext($r),Y=typeof b=="string"&&bE.test(b),j=sE(b,L);b=j.to;let U=G6(b,{relative:u}),[V,I,X]=TA(o,_),z=kA(b,{replace:p,state:x,target:w,preventScrollReset:E,relative:u,viewTransition:S,unstable_defaultShouldRevalidate:R,unstable_useTransitions:P});function H(Ee){t&&t(Ee),Ee.defaultPrevented||z(Ee)}let Q=F.createElement("a",{..._,...X,href:j.absoluteURL||U,onClick:j.isExternal||h?t:H,ref:IA(D,I),target:w,"data-discover":!Y&&i==="render"?"true":void 0});return V&&!Y?F.createElement(F.Fragment,null,Q,F.createElement(RA,{page:U})):Q});vE.displayName="Link";var jA=F.forwardRef(function({"aria-current":t="page",caseSensitive:i=!1,className:o="",end:u=!1,style:h,to:p,viewTransition:x,children:w,...b},E){let S=Gc(p,{relative:b.relative}),R=Li(),_=F.useContext(wh),{navigator:D,basename:L}=F.useContext($r),P=_!=null&&VA(S)&&x===!0,Y=D.encodeLocation?D.encodeLocation(S).pathname:S.pathname,j=R.pathname,U=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;i||(j=j.toLowerCase(),U=U?U.toLowerCase():null,Y=Y.toLowerCase()),U&&L&&(U=Os(U,L)||U);const V=Y!=="/"&&Y.endsWith("/")?Y.length-1:Y.length;let I=j===Y||!u&&j.startsWith(Y)&&j.charAt(V)==="/",X=U!=null&&(U===Y||!u&&U.startsWith(Y)&&U.charAt(Y.length)==="/"),z={isActive:I,isPending:X,isTransitioning:P},H=I?t:void 0,Q;typeof o=="function"?Q=o(z):Q=[o,I?"active":null,X?"pending":null,P?"transitioning":null].filter(Boolean).join(" ");let Ee=typeof h=="function"?h(z):h;return F.createElement(vE,{...b,"aria-current":H,className:Q,ref:E,style:Ee,to:p,viewTransition:x},typeof w=="function"?w(z):w)});jA.displayName="NavLink";var LA=F.forwardRef(({discover:e="render",fetcherKey:t,navigate:i,reloadDocument:o,replace:u,state:h,method:p=Fd,action:x,onSubmit:w,relative:b,preventScrollReset:E,viewTransition:S,unstable_defaultShouldRevalidate:R,..._},D)=>{let{unstable_useTransitions:L}=F.useContext($r),P=zA(),Y=FA(x,{relative:b}),j=p.toLowerCase()==="get"?"get":"post",U=typeof x=="string"&&bE.test(x),V=I=>{if(w&&w(I),I.defaultPrevented)return;I.preventDefault();let X=I.nativeEvent.submitter,z=X?.getAttribute("formmethod")||p,H=()=>P(X||I.currentTarget,{fetcherKey:t,method:z,navigate:i,replace:u,state:h,relative:b,preventScrollReset:E,viewTransition:S,unstable_defaultShouldRevalidate:R});L&&i!==!1?F.startTransition(()=>H()):H()};return F.createElement("form",{ref:D,method:j,action:Y,onSubmit:o?w:V,..._,"data-discover":!U&&e==="render"?"true":void 0})});LA.displayName="Form";function BA(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function xE(e){let t=F.useContext(bl);return an(t,BA(e)),t}function kA(e,{target:t,replace:i,state:o,preventScrollReset:u,relative:h,viewTransition:p,unstable_defaultShouldRevalidate:x,unstable_useTransitions:w}={}){let b=nr(),E=Li(),S=Gc(e,{relative:h});return F.useCallback(R=>{if(mA(R,t)){R.preventDefault();let _=i!==void 0?i:jc(E)===jc(S),D=()=>b(e,{replace:_,state:o,preventScrollReset:u,relative:h,viewTransition:p,unstable_defaultShouldRevalidate:x});w?F.startTransition(()=>D()):D()}},[E,b,S,i,o,t,e,u,h,p,x,w])}var PA=0,UA=()=>`__${String(++PA)}__`;function zA(){let{router:e}=xE("useSubmit"),{basename:t}=F.useContext($r),i=iA(),o=e.fetch,u=e.navigate;return F.useCallback(async(h,p={})=>{let{action:x,method:w,encType:b,formData:E,body:S}=yA(h,t);if(p.navigate===!1){let R=p.fetcherKey||UA();await o(R,i,p.action||x,{unstable_defaultShouldRevalidate:p.unstable_defaultShouldRevalidate,preventScrollReset:p.preventScrollReset,formData:E,body:S,formMethod:p.method||w,formEncType:p.encType||b,flushSync:p.flushSync})}else await u(p.action||x,{unstable_defaultShouldRevalidate:p.unstable_defaultShouldRevalidate,preventScrollReset:p.preventScrollReset,formData:E,body:S,formMethod:p.method||w,formEncType:p.encType||b,replace:p.replace,state:p.state,fromRouteId:i,flushSync:p.flushSync,viewTransition:p.viewTransition})},[o,u,t,i])}function FA(e,{relative:t}={}){let{basename:i}=F.useContext($r),o=F.useContext(yi);an(o,"useFormAction must be used inside a RouteContext");let[u]=o.matches.slice(-1),h={...Gc(e||".",{relative:t})},p=Li();if(e==null){h.search=p.search;let x=new URLSearchParams(h.search),w=x.getAll("index");if(w.some(E=>E==="")){x.delete("index"),w.filter(S=>S).forEach(S=>x.append("index",S));let E=x.toString();h.search=E?`?${E}`:""}}return(!e||e===".")&&u.route.index&&(h.search=h.search?h.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(h.pathname=h.pathname==="/"?i:Rs([i,h.pathname])),jc(h)}function VA(e,{relative:t}={}){let i=F.useContext(oE);an(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:o}=xE("useViewTransitionState"),u=Gc(e,{relative:t});if(!i.isTransitioning)return!1;let h=Os(i.currentLocation.pathname,o)||i.currentLocation.pathname,p=Os(i.nextLocation.pathname,o)||i.nextLocation.pathname;return th(u.pathname,p)!=null||th(u.pathname,h)!=null}var xl=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},HA={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},qA=class{#e=HA;#t=!1;setTimeoutProvider(e){this.#e=e}setTimeout(e,t){return this.#e.setTimeout(e,t)}clearTimeout(e){this.#e.clearTimeout(e)}setInterval(e,t){return this.#e.setInterval(e,t)}clearInterval(e){this.#e.clearInterval(e)}},so=new qA;function GA(e){setTimeout(e,0)}var ho=typeof window>"u"||"Deno"in globalThis;function gr(){}function YA(e,t){return typeof e=="function"?e(t):e}function ym(e){return typeof e=="number"&&e>=0&&e!==1/0}function wE(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Ea(e,t){return typeof e=="function"?e(t):e}function fi(e,t){return typeof e=="function"?e(t):e}function Ob(e,t){const{type:i="all",exact:o,fetchStatus:u,predicate:h,queryKey:p,stale:x}=e;if(p){if(o){if(t.queryHash!==dg(p,t.options))return!1}else if(!Lc(t.queryKey,p))return!1}if(i!=="all"){const w=t.isActive();if(i==="active"&&!w||i==="inactive"&&w)return!1}return!(typeof x=="boolean"&&t.isStale()!==x||u&&u!==t.state.fetchStatus||h&&!h(t))}function Mb(e,t){const{exact:i,status:o,predicate:u,mutationKey:h}=e;if(h){if(!t.options.mutationKey)return!1;if(i){if(fo(t.options.mutationKey)!==fo(h))return!1}else if(!Lc(t.options.mutationKey,h))return!1}return!(o&&t.state.status!==o||u&&!u(t))}function dg(e,t){return(t?.queryKeyHashFn||fo)(e)}function fo(e){return JSON.stringify(e,(t,i)=>bm(i)?Object.keys(i).sort().reduce((o,u)=>(o[u]=i[u],o),{}):i)}function Lc(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(i=>Lc(e[i],t[i])):!1}var XA=Object.prototype.hasOwnProperty;function EE(e,t,i=0){if(e===t)return e;if(i>500)return t;const o=Ib(e)&&Ib(t);if(!o&&!(bm(e)&&bm(t)))return t;const h=(o?e:Object.keys(e)).length,p=o?t:Object.keys(t),x=p.length,w=o?new Array(x):{};let b=0;for(let E=0;E<x;E++){const S=o?E:p[E],R=e[S],_=t[S];if(R===_){w[S]=R,(o?E<h:XA.call(e,S))&&b++;continue}if(R===null||_===null||typeof R!="object"||typeof _!="object"){w[S]=_;continue}const D=EE(R,_,i+1);w[S]=D,D===R&&b++}return h===x&&b===h?e:w}function nh(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const i in e)if(e[i]!==t[i])return!1;return!0}function Ib(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function bm(e){if(!_b(e))return!1;const t=e.constructor;if(t===void 0)return!0;const i=t.prototype;return!(!_b(i)||!i.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function _b(e){return Object.prototype.toString.call(e)==="[object Object]"}function WA(e){return new Promise(t=>{so.setTimeout(t,e)})}function vm(e,t,i){return typeof i.structuralSharing=="function"?i.structuralSharing(e,t):i.structuralSharing!==!1?EE(e,t):t}function QA(e,t,i=0){const o=[...e,t];return i&&o.length>i?o.slice(1):o}function ZA(e,t,i=0){const o=[t,...e];return i&&o.length>i?o.slice(0,-1):o}var hg=Symbol();function CE(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===hg?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function fg(e,t){return typeof e=="function"?e(...t):!!e}function KA(e,t,i){let o=!1,u;return Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(u??=t(),o||(o=!0,u.aborted?i():u.addEventListener("abort",i,{once:!0})),u)}),e}var $A=class extends xl{#e;#t;#n;constructor(){super(),this.#n=e=>{if(!ho&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},mg=new $A;function xm(){let e,t;const i=new Promise((u,h)=>{e=u,t=h});i.status="pending",i.catch(()=>{});function o(u){Object.assign(i,u),delete i.resolve,delete i.reject}return i.resolve=u=>{o({status:"fulfilled",value:u}),e(u)},i.reject=u=>{o({status:"rejected",reason:u}),t(u)},i}var JA=GA;function eN(){let e=[],t=0,i=x=>{x()},o=x=>{x()},u=JA;const h=x=>{t?e.push(x):u(()=>{i(x)})},p=()=>{const x=e;e=[],x.length&&u(()=>{o(()=>{x.forEach(w=>{i(w)})})})};return{batch:x=>{let w;t++;try{w=x()}finally{t--,t||p()}return w},batchCalls:x=>(...w)=>{h(()=>{x(...w)})},schedule:h,setNotifyFunction:x=>{i=x},setBatchNotifyFunction:x=>{o=x},setScheduler:x=>{u=x}}}var Hn=eN(),tN=class extends xl{#e=!0;#t;#n;constructor(){super(),this.#n=e=>{if(!ho&&window.addEventListener){const t=()=>e(!0),i=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",i,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",i)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(i=>{i(e)}))}isOnline(){return this.#e}},rh=new tN;function nN(e){return Math.min(1e3*2**e,3e4)}function SE(e){return(e??"online")==="online"?rh.isOnline():!0}var wm=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function AE(e){let t=!1,i=0,o;const u=xm(),h=()=>u.status!=="pending",p=L=>{if(!h()){const P=new wm(L);R(P),e.onCancel?.(P)}},x=()=>{t=!0},w=()=>{t=!1},b=()=>mg.isFocused()&&(e.networkMode==="always"||rh.isOnline())&&e.canRun(),E=()=>SE(e.networkMode)&&e.canRun(),S=L=>{h()||(o?.(),u.resolve(L))},R=L=>{h()||(o?.(),u.reject(L))},_=()=>new Promise(L=>{o=P=>{(h()||b())&&L(P)},e.onPause?.()}).then(()=>{o=void 0,h()||e.onContinue?.()}),D=()=>{if(h())return;let L;const P=i===0?e.initialPromise:void 0;try{L=P??e.fn()}catch(Y){L=Promise.reject(Y)}Promise.resolve(L).then(S).catch(Y=>{if(h())return;const j=e.retry??(ho?0:3),U=e.retryDelay??nN,V=typeof U=="function"?U(i,Y):U,I=j===!0||typeof j=="number"&&i<j||typeof j=="function"&&j(i,Y);if(t||!I){R(Y);return}i++,e.onFail?.(i,Y),WA(V).then(()=>b()?void 0:_()).then(()=>{t?R(Y):D()})})};return{promise:u,status:()=>u.status,cancel:p,continue:()=>(o?.(),u),cancelRetry:x,continueRetry:w,canStart:E,start:()=>(E()?D():_().then(D),u)}}var NE=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),ym(this.gcTime)&&(this.#e=so.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(ho?1/0:300*1e3))}clearGcTimeout(){this.#e&&(so.clearTimeout(this.#e),this.#e=void 0)}},rN=class extends NE{#e;#t;#n;#i;#r;#a;#o;constructor(e){super(),this.#o=!1,this.#a=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#i=e.client,this.#n=this.#i.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=jb(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#r?.promise}setOptions(e){if(this.options={...this.#a,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const t=jb(this.options);t.data!==void 0&&(this.setState(Db(t.data,t.dataUpdatedAt)),this.#e=t)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(e,t){const i=vm(this.state.data,e,this.options);return this.#s({data:i,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),i}setState(e,t){this.#s({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#r?.promise;return this.#r?.cancel(e),t?t.then(gr).catch(gr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>fi(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===hg||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Ea(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!wE(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#r?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#r?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#r&&(this.#o?this.#r.cancel({revert:!0}):this.#r.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#s({type:"invalidate"})}async fetch(e,t){if(this.state.fetchStatus!=="idle"&&this.#r?.status()!=="rejected"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#r)return this.#r.continueRetry(),this.#r.promise}if(e&&this.setOptions(e),!this.options.queryFn){const x=this.observers.find(w=>w.options.queryFn);x&&this.setOptions(x.options)}const i=new AbortController,o=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(this.#o=!0,i.signal)})},u=()=>{const x=CE(this.options,t),b=(()=>{const E={client:this.#i,queryKey:this.queryKey,meta:this.meta};return o(E),E})();return this.#o=!1,this.options.persister?this.options.persister(x,b,this):x(b)},p=(()=>{const x={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#i,state:this.state,fetchFn:u};return o(x),x})();this.options.behavior?.onFetch(p,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==p.fetchOptions?.meta)&&this.#s({type:"fetch",meta:p.fetchOptions?.meta}),this.#r=AE({initialPromise:t?.initialPromise,fn:p.fetchFn,onCancel:x=>{x instanceof wm&&x.revert&&this.setState({...this.#t,fetchStatus:"idle"}),i.abort()},onFail:(x,w)=>{this.#s({type:"failed",failureCount:x,error:w})},onPause:()=>{this.#s({type:"pause"})},onContinue:()=>{this.#s({type:"continue"})},retry:p.options.retry,retryDelay:p.options.retryDelay,networkMode:p.options.networkMode,canRun:()=>!0});try{const x=await this.#r.start();if(x===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(x),this.#n.config.onSuccess?.(x,this),this.#n.config.onSettled?.(x,this.state.error,this),x}catch(x){if(x instanceof wm){if(x.silent)return this.#r.promise;if(x.revert){if(this.state.data===void 0)throw x;return this.state.data}}throw this.#s({type:"error",error:x}),this.#n.config.onError?.(x,this),this.#n.config.onSettled?.(this.state.data,x,this),x}finally{this.scheduleGc()}}#s(e){const t=i=>{switch(e.type){case"failed":return{...i,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...TE(i.data,this.options),fetchMeta:e.meta??null};case"success":const o={...i,...Db(e.data,e.dataUpdatedAt),dataUpdateCount:i.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?o:void 0,o;case"error":const u=e.error;return{...i,error:u,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:u,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...e.state}}};this.state=t(this.state),Hn.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:e})})}};function TE(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:SE(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Db(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function jb(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,i=t!==void 0,o=i?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:i?o??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:i?"success":"pending",fetchStatus:"idle"}}var iN=class extends xl{constructor(e,t){super(),this.options=t,this.#e=e,this.#s=null,this.#o=xm(),this.bindMethods(),this.setOptions(t)}#e;#t=void 0;#n=void 0;#i=void 0;#r;#a;#o;#s;#g;#h;#f;#c;#u;#l;#m=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),Lb(this.#t,this.options)?this.#d():this.updateResult(),this.#v())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Em(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Em(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#x(),this.#w(),this.#t.removeObserver(this)}setOptions(e){const t=this.options,i=this.#t;if(this.options=this.#e.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof fi(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#E(),this.#t.setOptions(this.options),t._defaulted&&!nh(this.options,t)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const o=this.hasListeners();o&&Bb(this.#t,i,this.options,t)&&this.#d(),this.updateResult(),o&&(this.#t!==i||fi(this.options.enabled,this.#t)!==fi(t.enabled,this.#t)||Ea(this.options.staleTime,this.#t)!==Ea(t.staleTime,this.#t))&&this.#p();const u=this.#y();o&&(this.#t!==i||fi(this.options.enabled,this.#t)!==fi(t.enabled,this.#t)||u!==this.#l)&&this.#b(u)}getOptimisticResult(e){const t=this.#e.getQueryCache().build(this.#e,e),i=this.createResult(t,e);return aN(this,i)&&(this.#i=i,this.#a=this.options,this.#r=this.#t.state),i}getCurrentResult(){return this.#i}trackResult(e,t){return new Proxy(e,{get:(i,o)=>(this.trackProp(o),t?.(o),o==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#o.status==="pending"&&this.#o.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(i,o))})}trackProp(e){this.#m.add(e)}getCurrentQuery(){return this.#t}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=this.#e.defaultQueryOptions(e),i=this.#e.getQueryCache().build(this.#e,t);return i.fetch().then(()=>this.createResult(i,t))}fetch(e){return this.#d({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#i))}#d(e){this.#E();let t=this.#t.fetch(this.options,e);return e?.throwOnError||(t=t.catch(gr)),t}#p(){this.#x();const e=Ea(this.options.staleTime,this.#t);if(ho||this.#i.isStale||!ym(e))return;const i=wE(this.#i.dataUpdatedAt,e)+1;this.#c=so.setTimeout(()=>{this.#i.isStale||this.updateResult()},i)}#y(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#b(e){this.#w(),this.#l=e,!(ho||fi(this.options.enabled,this.#t)===!1||!ym(this.#l)||this.#l===0)&&(this.#u=so.setInterval(()=>{(this.options.refetchIntervalInBackground||mg.isFocused())&&this.#d()},this.#l))}#v(){this.#p(),this.#b(this.#y())}#x(){this.#c&&(so.clearTimeout(this.#c),this.#c=void 0)}#w(){this.#u&&(so.clearInterval(this.#u),this.#u=void 0)}createResult(e,t){const i=this.#t,o=this.options,u=this.#i,h=this.#r,p=this.#a,w=e!==i?e.state:this.#n,{state:b}=e;let E={...b},S=!1,R;if(t._optimisticResults){const H=this.hasListeners(),Q=!H&&Lb(e,t),Ee=H&&Bb(e,i,t,o);(Q||Ee)&&(E={...E,...TE(b.data,e.options)}),t._optimisticResults==="isRestoring"&&(E.fetchStatus="idle")}let{error:_,errorUpdatedAt:D,status:L}=E;R=E.data;let P=!1;if(t.placeholderData!==void 0&&R===void 0&&L==="pending"){let H;u?.isPlaceholderData&&t.placeholderData===p?.placeholderData?(H=u.data,P=!0):H=typeof t.placeholderData=="function"?t.placeholderData(this.#f?.state.data,this.#f):t.placeholderData,H!==void 0&&(L="success",R=vm(u?.data,H,t),S=!0)}if(t.select&&R!==void 0&&!P)if(u&&R===h?.data&&t.select===this.#g)R=this.#h;else try{this.#g=t.select,R=t.select(R),R=vm(u?.data,R,t),this.#h=R,this.#s=null}catch(H){this.#s=H}this.#s&&(_=this.#s,R=this.#h,D=Date.now(),L="error");const Y=E.fetchStatus==="fetching",j=L==="pending",U=L==="error",V=j&&Y,I=R!==void 0,z={status:L,fetchStatus:E.fetchStatus,isPending:j,isSuccess:L==="success",isError:U,isInitialLoading:V,isLoading:V,data:R,dataUpdatedAt:E.dataUpdatedAt,error:_,errorUpdatedAt:D,failureCount:E.fetchFailureCount,failureReason:E.fetchFailureReason,errorUpdateCount:E.errorUpdateCount,isFetched:E.dataUpdateCount>0||E.errorUpdateCount>0,isFetchedAfterMount:E.dataUpdateCount>w.dataUpdateCount||E.errorUpdateCount>w.errorUpdateCount,isFetching:Y,isRefetching:Y&&!j,isLoadingError:U&&!I,isPaused:E.fetchStatus==="paused",isPlaceholderData:S,isRefetchError:U&&I,isStale:gg(e,t),refetch:this.refetch,promise:this.#o,isEnabled:fi(t.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const H=z.data!==void 0,Q=z.status==="error"&&!H,Ee=me=>{Q?me.reject(z.error):H&&me.resolve(z.data)},ae=()=>{const me=this.#o=z.promise=xm();Ee(me)},ve=this.#o;switch(ve.status){case"pending":e.queryHash===i.queryHash&&Ee(ve);break;case"fulfilled":(Q||z.data!==ve.value)&&ae();break;case"rejected":(!Q||z.error!==ve.reason)&&ae();break}}return z}updateResult(){const e=this.#i,t=this.createResult(this.#t,this.options);if(this.#r=this.#t.state,this.#a=this.options,this.#r.data!==void 0&&(this.#f=this.#t),nh(t,e))return;this.#i=t;const i=()=>{if(!e)return!0;const{notifyOnChangeProps:o}=this.options,u=typeof o=="function"?o():o;if(u==="all"||!u&&!this.#m.size)return!0;const h=new Set(u??this.#m);return this.options.throwOnError&&h.add("error"),Object.keys(this.#i).some(p=>{const x=p;return this.#i[x]!==e[x]&&h.has(x)})};this.#C({listeners:i()})}#E(){const e=this.#e.getQueryCache().build(this.#e,this.options);if(e===this.#t)return;const t=this.#t;this.#t=e,this.#n=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#v()}#C(e){Hn.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(this.#i)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function sN(e,t){return fi(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Lb(e,t){return sN(e,t)||e.state.data!==void 0&&Em(e,t,t.refetchOnMount)}function Em(e,t,i){if(fi(t.enabled,e)!==!1&&Ea(t.staleTime,e)!=="static"){const o=typeof i=="function"?i(e):i;return o==="always"||o!==!1&&gg(e,t)}return!1}function Bb(e,t,i,o){return(e!==t||fi(o.enabled,e)===!1)&&(!i.suspense||e.state.status!=="error")&&gg(e,i)}function gg(e,t){return fi(t.enabled,e)!==!1&&e.isStaleByTime(Ea(t.staleTime,e))}function aN(e,t){return!nh(e.getCurrentResult(),t)}function kb(e){return{onFetch:(t,i)=>{const o=t.options,u=t.fetchOptions?.meta?.fetchMore?.direction,h=t.state.data?.pages||[],p=t.state.data?.pageParams||[];let x={pages:[],pageParams:[]},w=0;const b=async()=>{let E=!1;const S=D=>{KA(D,()=>t.signal,()=>E=!0)},R=CE(t.options,t.fetchOptions),_=async(D,L,P)=>{if(E)return Promise.reject();if(L==null&&D.pages.length)return Promise.resolve(D);const j=(()=>{const X={client:t.client,queryKey:t.queryKey,pageParam:L,direction:P?"backward":"forward",meta:t.options.meta};return S(X),X})(),U=await R(j),{maxPages:V}=t.options,I=P?ZA:QA;return{pages:I(D.pages,U,V),pageParams:I(D.pageParams,L,V)}};if(u&&h.length){const D=u==="backward",L=D?oN:Pb,P={pages:h,pageParams:p},Y=L(o,P);x=await _(P,Y,D)}else{const D=e??h.length;do{const L=w===0?p[0]??o.initialPageParam:Pb(o,x);if(w>0&&L==null)break;x=await _(x,L),w++}while(w<D)}return x};t.options.persister?t.fetchFn=()=>t.options.persister?.(b,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},i):t.fetchFn=b}}}function Pb(e,{pages:t,pageParams:i}){const o=t.length-1;return t.length>0?e.getNextPageParam(t[o],t,i[o],i):void 0}function oN(e,{pages:t,pageParams:i}){return t.length>0?e.getPreviousPageParam?.(t[0],t,i[0],i):void 0}var lN=class extends NE{#e;#t;#n;#i;constructor(e){super(),this.#e=e.client,this.mutationId=e.mutationId,this.#n=e.mutationCache,this.#t=[],this.state=e.state||RE(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(t=>t!==e),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#i?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#r({type:"continue"})},i={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#i=AE({fn:()=>this.options.mutationFn?this.options.mutationFn(e,i):Promise.reject(new Error("No mutationFn found")),onFail:(h,p)=>{this.#r({type:"failed",failureCount:h,error:p})},onPause:()=>{this.#r({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const o=this.state.status==="pending",u=!this.#i.canStart();try{if(o)t();else{this.#r({type:"pending",variables:e,isPaused:u}),this.#n.config.onMutate&&await this.#n.config.onMutate(e,this,i);const p=await this.options.onMutate?.(e,i);p!==this.state.context&&this.#r({type:"pending",context:p,variables:e,isPaused:u})}const h=await this.#i.start();return await this.#n.config.onSuccess?.(h,e,this.state.context,this,i),await this.options.onSuccess?.(h,e,this.state.context,i),await this.#n.config.onSettled?.(h,null,this.state.variables,this.state.context,this,i),await this.options.onSettled?.(h,null,e,this.state.context,i),this.#r({type:"success",data:h}),h}catch(h){try{await this.#n.config.onError?.(h,e,this.state.context,this,i)}catch(p){Promise.reject(p)}try{await this.options.onError?.(h,e,this.state.context,i)}catch(p){Promise.reject(p)}try{await this.#n.config.onSettled?.(void 0,h,this.state.variables,this.state.context,this,i)}catch(p){Promise.reject(p)}try{await this.options.onSettled?.(void 0,h,e,this.state.context,i)}catch(p){Promise.reject(p)}throw this.#r({type:"error",error:h}),h}finally{this.#n.runNext(this)}}#r(e){const t=i=>{switch(e.type){case"failed":return{...i,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...i,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:e.error,failureCount:i.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),Hn.batch(()=>{this.#t.forEach(i=>{i.onMutationUpdate(e)}),this.#n.notify({mutation:this,type:"updated",action:e})})}};function RE(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var cN=class extends xl{constructor(e={}){super(),this.config=e,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(e,t,i){const o=new lN({client:e,mutationCache:this,mutationId:++this.#n,options:e.defaultMutationOptions(t),state:i});return this.add(o),o}add(e){this.#e.add(e);const t=Td(e);if(typeof t=="string"){const i=this.#t.get(t);i?i.push(e):this.#t.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#e.delete(e)){const t=Td(e);if(typeof t=="string"){const i=this.#t.get(t);if(i)if(i.length>1){const o=i.indexOf(e);o!==-1&&i.splice(o,1)}else i[0]===e&&this.#t.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=Td(e);if(typeof t=="string"){const o=this.#t.get(t)?.find(u=>u.state.status==="pending");return!o||o===e}else return!0}runNext(e){const t=Td(e);return typeof t=="string"?this.#t.get(t)?.find(o=>o!==e&&o.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Hn.batch(()=>{this.#e.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(e){const t={exact:!0,...e};return this.getAll().find(i=>Mb(t,i))}findAll(e={}){return this.getAll().filter(t=>Mb(e,t))}notify(e){Hn.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return Hn.batch(()=>Promise.all(e.map(t=>t.continue().catch(gr))))}};function Td(e){return e.options.scope?.id}var uN=class extends xl{#e;#t=void 0;#n;#i;constructor(t,i){super(),this.#e=t,this.setOptions(i),this.bindMethods(),this.#r()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){const i=this.options;this.options=this.#e.defaultMutationOptions(t),nh(this.options,i)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),i?.mutationKey&&this.options.mutationKey&&fo(i.mutationKey)!==fo(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(t){this.#r(),this.#a(t)}getCurrentResult(){return this.#t}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#r(),this.#a()}mutate(t,i){return this.#i=i,this.#n?.removeObserver(this),this.#n=this.#e.getMutationCache().build(this.#e,this.options),this.#n.addObserver(this),this.#n.execute(t)}#r(){const t=this.#n?.state??RE();this.#t={...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset}}#a(t){Hn.batch(()=>{if(this.#i&&this.hasListeners()){const i=this.#t.variables,o=this.#t.context,u={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};if(t?.type==="success"){try{this.#i.onSuccess?.(t.data,i,o,u)}catch(h){Promise.reject(h)}try{this.#i.onSettled?.(t.data,null,i,o,u)}catch(h){Promise.reject(h)}}else if(t?.type==="error"){try{this.#i.onError?.(t.error,i,o,u)}catch(h){Promise.reject(h)}try{this.#i.onSettled?.(void 0,t.error,i,o,u)}catch(h){Promise.reject(h)}}}this.listeners.forEach(i=>{i(this.#t)})})}},dN=class extends xl{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,t,i){const o=t.queryKey,u=t.queryHash??dg(o,t);let h=this.get(u);return h||(h=new rN({client:e,queryKey:o,queryHash:u,options:e.defaultQueryOptions(t),state:i,defaultOptions:e.getQueryDefaults(o)}),this.add(h)),h}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#e.get(e.queryHash);t&&(e.destroy(),t===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Hn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(i=>Ob(t,i))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(i=>Ob(e,i)):t}notify(e){Hn.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){Hn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Hn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},hN=class{#e;#t;#n;#i;#r;#a;#o;#s;constructor(e={}){this.#e=e.queryCache||new dN,this.#t=e.mutationCache||new cN,this.#n=e.defaultOptions||{},this.#i=new Map,this.#r=new Map,this.#a=0}mount(){this.#a++,this.#a===1&&(this.#o=mg.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#s=rh.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#a--,this.#a===0&&(this.#o?.(),this.#o=void 0,this.#s?.(),this.#s=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),i=this.#e.build(this,t),o=i.state.data;return o===void 0?this.fetchQuery(e):(e.revalidateIfStale&&i.isStaleByTime(Ea(t.staleTime,i))&&this.prefetchQuery(t),Promise.resolve(o))}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:t,state:i})=>{const o=i.data;return[t,o]})}setQueryData(e,t,i){const o=this.defaultQueryOptions({queryKey:e}),h=this.#e.get(o.queryHash)?.state.data,p=YA(t,h);if(p!==void 0)return this.#e.build(this,o).setData(p,{...i,manual:!0})}setQueriesData(e,t,i){return Hn.batch(()=>this.#e.findAll(e).map(({queryKey:o})=>[o,this.setQueryData(o,t,i)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state}removeQueries(e){const t=this.#e;Hn.batch(()=>{t.findAll(e).forEach(i=>{t.remove(i)})})}resetQueries(e,t){const i=this.#e;return Hn.batch(()=>(i.findAll(e).forEach(o=>{o.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const i={revert:!0,...t},o=Hn.batch(()=>this.#e.findAll(e).map(u=>u.cancel(i)));return Promise.all(o).then(gr).catch(gr)}invalidateQueries(e,t={}){return Hn.batch(()=>(this.#e.findAll(e).forEach(i=>{i.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const i={...t,cancelRefetch:t.cancelRefetch??!0},o=Hn.batch(()=>this.#e.findAll(e).filter(u=>!u.isDisabled()&&!u.isStatic()).map(u=>{let h=u.fetch(void 0,i);return i.throwOnError||(h=h.catch(gr)),u.state.fetchStatus==="paused"?Promise.resolve():h}));return Promise.all(o).then(gr)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const i=this.#e.build(this,t);return i.isStaleByTime(Ea(t.staleTime,i))?i.fetch(t):Promise.resolve(i.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(gr).catch(gr)}fetchInfiniteQuery(e){return e.behavior=kb(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(gr).catch(gr)}ensureInfiniteQueryData(e){return e.behavior=kb(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return rh.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(e){this.#n=e}setQueryDefaults(e,t){this.#i.set(fo(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#i.values()],i={};return t.forEach(o=>{Lc(e,o.queryKey)&&Object.assign(i,o.defaultOptions)}),i}setMutationDefaults(e,t){this.#r.set(fo(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#r.values()],i={};return t.forEach(o=>{Lc(e,o.mutationKey)&&Object.assign(i,o.defaultOptions)}),i}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#n.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=dg(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===hg&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#n.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},OE=F.createContext(void 0),_s=e=>{const t=F.useContext(OE);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},fN=({client:e,children:t})=>(F.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),m.jsx(OE.Provider,{value:e,children:t})),ME=F.createContext(!1),mN=()=>F.useContext(ME);ME.Provider;function gN(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var pN=F.createContext(gN()),yN=()=>F.useContext(pN),bN=(e,t,i)=>{const o=i?.state.error&&typeof e.throwOnError=="function"?fg(e.throwOnError,[i.state.error,i]):e.throwOnError;(e.suspense||e.experimental_prefetchInRender||o)&&(t.isReset()||(e.retryOnMount=!1))},vN=e=>{F.useEffect(()=>{e.clearReset()},[e])},xN=({result:e,errorResetBoundary:t,throwOnError:i,query:o,suspense:u})=>e.isError&&!t.isReset()&&!e.isFetching&&o&&(u&&e.data===void 0||fg(i,[e.error,o])),wN=e=>{if(e.suspense){const i=u=>u==="static"?u:Math.max(u??1e3,1e3),o=e.staleTime;e.staleTime=typeof o=="function"?(...u)=>i(o(...u)):i(o),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},EN=(e,t)=>e.isLoading&&e.isFetching&&!t,CN=(e,t)=>e?.suspense&&t.isPending,Ub=(e,t,i)=>t.fetchOptimistic(e).catch(()=>{i.clearReset()});function SN(e,t,i){const o=mN(),u=yN(),h=_s(),p=h.defaultQueryOptions(e);h.getDefaultOptions().queries?._experimental_beforeQuery?.(p);const x=h.getQueryCache().get(p.queryHash);p._optimisticResults=o?"isRestoring":"optimistic",wN(p),bN(p,u,x),vN(u);const w=!h.getQueryCache().get(p.queryHash),[b]=F.useState(()=>new t(h,p)),E=b.getOptimisticResult(p),S=!o&&e.subscribed!==!1;if(F.useSyncExternalStore(F.useCallback(R=>{const _=S?b.subscribe(Hn.batchCalls(R)):gr;return b.updateResult(),_},[b,S]),()=>b.getCurrentResult(),()=>b.getCurrentResult()),F.useEffect(()=>{b.setOptions(p)},[p,b]),CN(p,E))throw Ub(p,b,u);if(xN({result:E,errorResetBoundary:u,throwOnError:p.throwOnError,query:x,suspense:p.suspense}))throw E.error;return h.getDefaultOptions().queries?._experimental_afterQuery?.(p,E),p.experimental_prefetchInRender&&!ho&&EN(E,o)&&(w?Ub(p,b,u):x?.promise)?.catch(gr).finally(()=>{b.updateResult()}),p.notifyOnChangeProps?E:b.trackResult(E)}function un(e,t){return SN(e,iN)}function sr(e,t){const i=_s(),[o]=F.useState(()=>new uN(i,e));F.useEffect(()=>{o.setOptions(e)},[o,e]);const u=F.useSyncExternalStore(F.useCallback(p=>o.subscribe(Hn.batchCalls(p)),[o]),()=>o.getCurrentResult(),()=>o.getCurrentResult()),h=F.useCallback((p,x)=>{o.mutate(p,x).catch(gr)},[o]);if(u.error&&fg(o.options.throwOnError,[u.error]))throw u.error;return{...u,mutate:h,mutateAsync:u.mutate}}const Qi={IDENTITY_AUTH:"/auth",VENDOR_SERVICE:"/vendor",ORG_SERVICE:"/organization"},Xn={SUPER_ADMIN:"ROLE_SUPER_ADMIN",ORG_ADMIN:"ROLE_ORG_ADMIN",VENDOR:"ROLE_VENDOR",EMPLOYEE:"ROLE_EMPLOYEE"},Rd={PENDING:"PENDING_APPROVAL",ACTIVE:"ACTIVE",BLOCKED:"BLOCKED"},Ji={TOKEN:"hb_token",USER:"hb_user"},Cm={CARD_STYLE:"bg-white rounded-hb border border-surface-border shadow-sm"},An={HOME:"hero",LOGIN:"login",REGISTER:"register",ACC_VERIFY:"verify"};function IE(e,t){return function(){return e.apply(t,arguments)}}const{toString:AN}=Object.prototype,{getPrototypeOf:pg}=Object,{iterator:Ch,toStringTag:_E}=Symbol,Sh=(e=>t=>{const i=AN.call(t);return e[i]||(e[i]=i.slice(8,-1).toLowerCase())})(Object.create(null)),Bi=e=>(e=e.toLowerCase(),t=>Sh(t)===e),Ah=e=>t=>typeof t===e,{isArray:wl}=Array,fl=Ah("undefined");function Yc(e){return e!==null&&!fl(e)&&e.constructor!==null&&!fl(e.constructor)&&Dr(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const DE=Bi("ArrayBuffer");function NN(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&DE(e.buffer),t}const TN=Ah("string"),Dr=Ah("function"),jE=Ah("number"),Xc=e=>e!==null&&typeof e=="object",RN=e=>e===!0||e===!1,Hd=e=>{if(Sh(e)!=="object")return!1;const t=pg(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(_E in e)&&!(Ch in e)},ON=e=>{if(!Xc(e)||Yc(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},MN=Bi("Date"),IN=Bi("File"),_N=Bi("Blob"),DN=Bi("FileList"),jN=e=>Xc(e)&&Dr(e.pipe),LN=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Dr(e.append)&&((t=Sh(e))==="formdata"||t==="object"&&Dr(e.toString)&&e.toString()==="[object FormData]"))},BN=Bi("URLSearchParams"),[kN,PN,UN,zN]=["ReadableStream","Request","Response","Headers"].map(Bi),FN=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Wc(e,t,{allOwnKeys:i=!1}={}){if(e===null||typeof e>"u")return;let o,u;if(typeof e!="object"&&(e=[e]),wl(e))for(o=0,u=e.length;o<u;o++)t.call(null,e[o],o,e);else{if(Yc(e))return;const h=i?Object.getOwnPropertyNames(e):Object.keys(e),p=h.length;let x;for(o=0;o<p;o++)x=h[o],t.call(null,e[x],x,e)}}function LE(e,t){if(Yc(e))return null;t=t.toLowerCase();const i=Object.keys(e);let o=i.length,u;for(;o-- >0;)if(u=i[o],t===u.toLowerCase())return u;return null}const ao=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:globalThis,BE=e=>!fl(e)&&e!==ao;function Sm(){const{caseless:e,skipUndefined:t}=BE(this)&&this||{},i={},o=(u,h)=>{if(h==="__proto__"||h==="constructor"||h==="prototype")return;const p=e&&LE(i,h)||h;Hd(i[p])&&Hd(u)?i[p]=Sm(i[p],u):Hd(u)?i[p]=Sm({},u):wl(u)?i[p]=u.slice():(!t||!fl(u))&&(i[p]=u)};for(let u=0,h=arguments.length;u<h;u++)arguments[u]&&Wc(arguments[u],o);return i}const VN=(e,t,i,{allOwnKeys:o}={})=>(Wc(t,(u,h)=>{i&&Dr(u)?Object.defineProperty(e,h,{value:IE(u,i),writable:!0,enumerable:!0,configurable:!0}):Object.defineProperty(e,h,{value:u,writable:!0,enumerable:!0,configurable:!0})},{allOwnKeys:o}),e),HN=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),qN=(e,t,i,o)=>{e.prototype=Object.create(t.prototype,o),Object.defineProperty(e.prototype,"constructor",{value:e,writable:!0,enumerable:!1,configurable:!0}),Object.defineProperty(e,"super",{value:t.prototype}),i&&Object.assign(e.prototype,i)},GN=(e,t,i,o)=>{let u,h,p;const x={};if(t=t||{},e==null)return t;do{for(u=Object.getOwnPropertyNames(e),h=u.length;h-- >0;)p=u[h],(!o||o(p,e,t))&&!x[p]&&(t[p]=e[p],x[p]=!0);e=i!==!1&&pg(e)}while(e&&(!i||i(e,t))&&e!==Object.prototype);return t},YN=(e,t,i)=>{e=String(e),(i===void 0||i>e.length)&&(i=e.length),i-=t.length;const o=e.indexOf(t,i);return o!==-1&&o===i},XN=e=>{if(!e)return null;if(wl(e))return e;let t=e.length;if(!jE(t))return null;const i=new Array(t);for(;t-- >0;)i[t]=e[t];return i},WN=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&pg(Uint8Array)),QN=(e,t)=>{const o=(e&&e[Ch]).call(e);let u;for(;(u=o.next())&&!u.done;){const h=u.value;t.call(e,h[0],h[1])}},ZN=(e,t)=>{let i;const o=[];for(;(i=e.exec(t))!==null;)o.push(i);return o},KN=Bi("HTMLFormElement"),$N=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(i,o,u){return o.toUpperCase()+u}),zb=(({hasOwnProperty:e})=>(t,i)=>e.call(t,i))(Object.prototype),JN=Bi("RegExp"),kE=(e,t)=>{const i=Object.getOwnPropertyDescriptors(e),o={};Wc(i,(u,h)=>{let p;(p=t(u,h,e))!==!1&&(o[h]=p||u)}),Object.defineProperties(e,o)},e8=e=>{kE(e,(t,i)=>{if(Dr(e)&&["arguments","caller","callee"].indexOf(i)!==-1)return!1;const o=e[i];if(Dr(o)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+i+"'")})}})},t8=(e,t)=>{const i={},o=u=>{u.forEach(h=>{i[h]=!0})};return wl(e)?o(e):o(String(e).split(t)),i},n8=()=>{},r8=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function i8(e){return!!(e&&Dr(e.append)&&e[_E]==="FormData"&&e[Ch])}const s8=e=>{const t=new Array(10),i=(o,u)=>{if(Xc(o)){if(t.indexOf(o)>=0)return;if(Yc(o))return o;if(!("toJSON"in o)){t[u]=o;const h=wl(o)?[]:{};return Wc(o,(p,x)=>{const w=i(p,u+1);!fl(w)&&(h[x]=w)}),t[u]=void 0,h}}return o};return i(e,0)},a8=Bi("AsyncFunction"),o8=e=>e&&(Xc(e)||Dr(e))&&Dr(e.then)&&Dr(e.catch),PE=((e,t)=>e?setImmediate:t?((i,o)=>(ao.addEventListener("message",({source:u,data:h})=>{u===ao&&h===i&&o.length&&o.shift()()},!1),u=>{o.push(u),ao.postMessage(i,"*")}))(`axios@${Math.random()}`,[]):i=>setTimeout(i))(typeof setImmediate=="function",Dr(ao.postMessage)),l8=typeof queueMicrotask<"u"?queueMicrotask.bind(ao):typeof process<"u"&&process.nextTick||PE,c8=e=>e!=null&&Dr(e[Ch]),pe={isArray:wl,isArrayBuffer:DE,isBuffer:Yc,isFormData:LN,isArrayBufferView:NN,isString:TN,isNumber:jE,isBoolean:RN,isObject:Xc,isPlainObject:Hd,isEmptyObject:ON,isReadableStream:kN,isRequest:PN,isResponse:UN,isHeaders:zN,isUndefined:fl,isDate:MN,isFile:IN,isBlob:_N,isRegExp:JN,isFunction:Dr,isStream:jN,isURLSearchParams:BN,isTypedArray:WN,isFileList:DN,forEach:Wc,merge:Sm,extend:VN,trim:FN,stripBOM:HN,inherits:qN,toFlatObject:GN,kindOf:Sh,kindOfTest:Bi,endsWith:YN,toArray:XN,forEachEntry:QN,matchAll:ZN,isHTMLForm:KN,hasOwnProperty:zb,hasOwnProp:zb,reduceDescriptors:kE,freezeMethods:e8,toObjectSet:t8,toCamelCase:$N,noop:n8,toFiniteNumber:r8,findKey:LE,global:ao,isContextDefined:BE,isSpecCompliantForm:i8,toJSONObject:s8,isAsyncFn:a8,isThenable:o8,setImmediate:PE,asap:l8,isIterable:c8};let Ke=class UE extends Error{static from(t,i,o,u,h,p){const x=new UE(t.message,i||t.code,o,u,h);return x.cause=t,x.name=t.name,p&&Object.assign(x,p),x}constructor(t,i,o,u,h){super(t),this.name="AxiosError",this.isAxiosError=!0,i&&(this.code=i),o&&(this.config=o),u&&(this.request=u),h&&(this.response=h,this.status=h.status)}toJSON(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:pe.toJSONObject(this.config),code:this.code,status:this.status}}};Ke.ERR_BAD_OPTION_VALUE="ERR_BAD_OPTION_VALUE";Ke.ERR_BAD_OPTION="ERR_BAD_OPTION";Ke.ECONNABORTED="ECONNABORTED";Ke.ETIMEDOUT="ETIMEDOUT";Ke.ERR_NETWORK="ERR_NETWORK";Ke.ERR_FR_TOO_MANY_REDIRECTS="ERR_FR_TOO_MANY_REDIRECTS";Ke.ERR_DEPRECATED="ERR_DEPRECATED";Ke.ERR_BAD_RESPONSE="ERR_BAD_RESPONSE";Ke.ERR_BAD_REQUEST="ERR_BAD_REQUEST";Ke.ERR_CANCELED="ERR_CANCELED";Ke.ERR_NOT_SUPPORT="ERR_NOT_SUPPORT";Ke.ERR_INVALID_URL="ERR_INVALID_URL";const u8=null;function Am(e){return pe.isPlainObject(e)||pe.isArray(e)}function zE(e){return pe.endsWith(e,"[]")?e.slice(0,-2):e}function Fb(e,t,i){return e?e.concat(t).map(function(u,h){return u=zE(u),!i&&h?"["+u+"]":u}).join(i?".":""):t}function d8(e){return pe.isArray(e)&&!e.some(Am)}const h8=pe.toFlatObject(pe,{},null,function(t){return/^is[A-Z]/.test(t)});function Nh(e,t,i){if(!pe.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,i=pe.toFlatObject(i,{metaTokens:!0,dots:!1,indexes:!1},!1,function(L,P){return!pe.isUndefined(P[L])});const o=i.metaTokens,u=i.visitor||E,h=i.dots,p=i.indexes,w=(i.Blob||typeof Blob<"u"&&Blob)&&pe.isSpecCompliantForm(t);if(!pe.isFunction(u))throw new TypeError("visitor must be a function");function b(D){if(D===null)return"";if(pe.isDate(D))return D.toISOString();if(pe.isBoolean(D))return D.toString();if(!w&&pe.isBlob(D))throw new Ke("Blob is not supported. Use a Buffer instead.");return pe.isArrayBuffer(D)||pe.isTypedArray(D)?w&&typeof Blob=="function"?new Blob([D]):Buffer.from(D):D}function E(D,L,P){let Y=D;if(D&&!P&&typeof D=="object"){if(pe.endsWith(L,"{}"))L=o?L:L.slice(0,-2),D=JSON.stringify(D);else if(pe.isArray(D)&&d8(D)||(pe.isFileList(D)||pe.endsWith(L,"[]"))&&(Y=pe.toArray(D)))return L=zE(L),Y.forEach(function(U,V){!(pe.isUndefined(U)||U===null)&&t.append(p===!0?Fb([L],V,h):p===null?L:L+"[]",b(U))}),!1}return Am(D)?!0:(t.append(Fb(P,L,h),b(D)),!1)}const S=[],R=Object.assign(h8,{defaultVisitor:E,convertValue:b,isVisitable:Am});function _(D,L){if(!pe.isUndefined(D)){if(S.indexOf(D)!==-1)throw Error("Circular reference detected in "+L.join("."));S.push(D),pe.forEach(D,function(Y,j){(!(pe.isUndefined(Y)||Y===null)&&u.call(t,Y,pe.isString(j)?j.trim():j,L,R))===!0&&_(Y,L?L.concat(j):[j])}),S.pop()}}if(!pe.isObject(e))throw new TypeError("data must be an object");return _(e),t}function Vb(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(o){return t[o]})}function yg(e,t){this._pairs=[],e&&Nh(e,this,t)}const FE=yg.prototype;FE.append=function(t,i){this._pairs.push([t,i])};FE.toString=function(t){const i=t?function(o){return t.call(this,o,Vb)}:Vb;return this._pairs.map(function(u){return i(u[0])+"="+i(u[1])},"").join("&")};function f8(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function VE(e,t,i){if(!t)return e;const o=i&&i.encode||f8,u=pe.isFunction(i)?{serialize:i}:i,h=u&&u.serialize;let p;if(h?p=h(t,u):p=pe.isURLSearchParams(t)?t.toString():new yg(t,u).toString(o),p){const x=e.indexOf("#");x!==-1&&(e=e.slice(0,x)),e+=(e.indexOf("?")===-1?"?":"&")+p}return e}class Hb{constructor(){this.handlers=[]}use(t,i,o){return this.handlers.push({fulfilled:t,rejected:i,synchronous:o?o.synchronous:!1,runWhen:o?o.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){pe.forEach(this.handlers,function(o){o!==null&&t(o)})}}const bg={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1,legacyInterceptorReqResOrdering:!0},m8=typeof URLSearchParams<"u"?URLSearchParams:yg,g8=typeof FormData<"u"?FormData:null,p8=typeof Blob<"u"?Blob:null,y8={isBrowser:!0,classes:{URLSearchParams:m8,FormData:g8,Blob:p8},protocols:["http","https","file","blob","url","data"]},vg=typeof window<"u"&&typeof document<"u",Nm=typeof navigator=="object"&&navigator||void 0,b8=vg&&(!Nm||["ReactNative","NativeScript","NS"].indexOf(Nm.product)<0),v8=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",x8=vg&&window.location.href||"http://localhost",w8=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:vg,hasStandardBrowserEnv:b8,hasStandardBrowserWebWorkerEnv:v8,navigator:Nm,origin:x8},Symbol.toStringTag,{value:"Module"})),ar={...w8,...y8};function E8(e,t){return Nh(e,new ar.classes.URLSearchParams,{visitor:function(i,o,u,h){return ar.isNode&&pe.isBuffer(i)?(this.append(o,i.toString("base64")),!1):h.defaultVisitor.apply(this,arguments)},...t})}function C8(e){return pe.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function S8(e){const t={},i=Object.keys(e);let o;const u=i.length;let h;for(o=0;o<u;o++)h=i[o],t[h]=e[h];return t}function HE(e){function t(i,o,u,h){let p=i[h++];if(p==="__proto__")return!0;const x=Number.isFinite(+p),w=h>=i.length;return p=!p&&pe.isArray(u)?u.length:p,w?(pe.hasOwnProp(u,p)?u[p]=[u[p],o]:u[p]=o,!x):((!u[p]||!pe.isObject(u[p]))&&(u[p]=[]),t(i,o,u[p],h)&&pe.isArray(u[p])&&(u[p]=S8(u[p])),!x)}if(pe.isFormData(e)&&pe.isFunction(e.entries)){const i={};return pe.forEachEntry(e,(o,u)=>{t(C8(o),u,i,0)}),i}return null}function A8(e,t,i){if(pe.isString(e))try{return(t||JSON.parse)(e),pe.trim(e)}catch(o){if(o.name!=="SyntaxError")throw o}return(i||JSON.stringify)(e)}const Qc={transitional:bg,adapter:["xhr","http","fetch"],transformRequest:[function(t,i){const o=i.getContentType()||"",u=o.indexOf("application/json")>-1,h=pe.isObject(t);if(h&&pe.isHTMLForm(t)&&(t=new FormData(t)),pe.isFormData(t))return u?JSON.stringify(HE(t)):t;if(pe.isArrayBuffer(t)||pe.isBuffer(t)||pe.isStream(t)||pe.isFile(t)||pe.isBlob(t)||pe.isReadableStream(t))return t;if(pe.isArrayBufferView(t))return t.buffer;if(pe.isURLSearchParams(t))return i.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let x;if(h){if(o.indexOf("application/x-www-form-urlencoded")>-1)return E8(t,this.formSerializer).toString();if((x=pe.isFileList(t))||o.indexOf("multipart/form-data")>-1){const w=this.env&&this.env.FormData;return Nh(x?{"files[]":t}:t,w&&new w,this.formSerializer)}}return h||u?(i.setContentType("application/json",!1),A8(t)):t}],transformResponse:[function(t){const i=this.transitional||Qc.transitional,o=i&&i.forcedJSONParsing,u=this.responseType==="json";if(pe.isResponse(t)||pe.isReadableStream(t))return t;if(t&&pe.isString(t)&&(o&&!this.responseType||u)){const p=!(i&&i.silentJSONParsing)&&u;try{return JSON.parse(t,this.parseReviver)}catch(x){if(p)throw x.name==="SyntaxError"?Ke.from(x,Ke.ERR_BAD_RESPONSE,this,null,this.response):x}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ar.classes.FormData,Blob:ar.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};pe.forEach(["delete","get","head","post","put","patch"],e=>{Qc.headers[e]={}});const N8=pe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),T8=e=>{const t={};let i,o,u;return e&&e.split(`
`).forEach(function(p){u=p.indexOf(":"),i=p.substring(0,u).trim().toLowerCase(),o=p.substring(u+1).trim(),!(!i||t[i]&&N8[i])&&(i==="set-cookie"?t[i]?t[i].push(o):t[i]=[o]:t[i]=t[i]?t[i]+", "+o:o)}),t},qb=Symbol("internals");function Sc(e){return e&&String(e).trim().toLowerCase()}function qd(e){return e===!1||e==null?e:pe.isArray(e)?e.map(qd):String(e)}function R8(e){const t=Object.create(null),i=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let o;for(;o=i.exec(e);)t[o[1]]=o[2];return t}const O8=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function H1(e,t,i,o,u){if(pe.isFunction(o))return o.call(this,t,i);if(u&&(t=i),!!pe.isString(t)){if(pe.isString(o))return t.indexOf(o)!==-1;if(pe.isRegExp(o))return o.test(t)}}function M8(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,i,o)=>i.toUpperCase()+o)}function I8(e,t){const i=pe.toCamelCase(" "+t);["get","set","has"].forEach(o=>{Object.defineProperty(e,o+i,{value:function(u,h,p){return this[o].call(this,t,u,h,p)},configurable:!0})})}let jr=class{constructor(t){t&&this.set(t)}set(t,i,o){const u=this;function h(x,w,b){const E=Sc(w);if(!E)throw new Error("header name must be a non-empty string");const S=pe.findKey(u,E);(!S||u[S]===void 0||b===!0||b===void 0&&u[S]!==!1)&&(u[S||w]=qd(x))}const p=(x,w)=>pe.forEach(x,(b,E)=>h(b,E,w));if(pe.isPlainObject(t)||t instanceof this.constructor)p(t,i);else if(pe.isString(t)&&(t=t.trim())&&!O8(t))p(T8(t),i);else if(pe.isObject(t)&&pe.isIterable(t)){let x={},w,b;for(const E of t){if(!pe.isArray(E))throw TypeError("Object iterator must return a key-value pair");x[b=E[0]]=(w=x[b])?pe.isArray(w)?[...w,E[1]]:[w,E[1]]:E[1]}p(x,i)}else t!=null&&h(i,t,o);return this}get(t,i){if(t=Sc(t),t){const o=pe.findKey(this,t);if(o){const u=this[o];if(!i)return u;if(i===!0)return R8(u);if(pe.isFunction(i))return i.call(this,u,o);if(pe.isRegExp(i))return i.exec(u);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,i){if(t=Sc(t),t){const o=pe.findKey(this,t);return!!(o&&this[o]!==void 0&&(!i||H1(this,this[o],o,i)))}return!1}delete(t,i){const o=this;let u=!1;function h(p){if(p=Sc(p),p){const x=pe.findKey(o,p);x&&(!i||H1(o,o[x],x,i))&&(delete o[x],u=!0)}}return pe.isArray(t)?t.forEach(h):h(t),u}clear(t){const i=Object.keys(this);let o=i.length,u=!1;for(;o--;){const h=i[o];(!t||H1(this,this[h],h,t,!0))&&(delete this[h],u=!0)}return u}normalize(t){const i=this,o={};return pe.forEach(this,(u,h)=>{const p=pe.findKey(o,h);if(p){i[p]=qd(u),delete i[h];return}const x=t?M8(h):String(h).trim();x!==h&&delete i[h],i[x]=qd(u),o[x]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const i=Object.create(null);return pe.forEach(this,(o,u)=>{o!=null&&o!==!1&&(i[u]=t&&pe.isArray(o)?o.join(", "):o)}),i}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,i])=>t+": "+i).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...i){const o=new this(t);return i.forEach(u=>o.set(u)),o}static accessor(t){const o=(this[qb]=this[qb]={accessors:{}}).accessors,u=this.prototype;function h(p){const x=Sc(p);o[x]||(I8(u,p),o[x]=!0)}return pe.isArray(t)?t.forEach(h):h(t),this}};jr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);pe.reduceDescriptors(jr.prototype,({value:e},t)=>{let i=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(o){this[i]=o}}});pe.freezeMethods(jr);function q1(e,t){const i=this||Qc,o=t||i,u=jr.from(o.headers);let h=o.data;return pe.forEach(e,function(x){h=x.call(i,h,u.normalize(),t?t.status:void 0)}),u.normalize(),h}function qE(e){return!!(e&&e.__CANCEL__)}let Zc=class extends Ke{constructor(t,i,o){super(t??"canceled",Ke.ERR_CANCELED,i,o),this.name="CanceledError",this.__CANCEL__=!0}};function GE(e,t,i){const o=i.config.validateStatus;!i.status||!o||o(i.status)?e(i):t(new Ke("Request failed with status code "+i.status,[Ke.ERR_BAD_REQUEST,Ke.ERR_BAD_RESPONSE][Math.floor(i.status/100)-4],i.config,i.request,i))}function _8(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function D8(e,t){e=e||10;const i=new Array(e),o=new Array(e);let u=0,h=0,p;return t=t!==void 0?t:1e3,function(w){const b=Date.now(),E=o[h];p||(p=b),i[u]=w,o[u]=b;let S=h,R=0;for(;S!==u;)R+=i[S++],S=S%e;if(u=(u+1)%e,u===h&&(h=(h+1)%e),b-p<t)return;const _=E&&b-E;return _?Math.round(R*1e3/_):void 0}}function j8(e,t){let i=0,o=1e3/t,u,h;const p=(b,E=Date.now())=>{i=E,u=null,h&&(clearTimeout(h),h=null),e(...b)};return[(...b)=>{const E=Date.now(),S=E-i;S>=o?p(b,E):(u=b,h||(h=setTimeout(()=>{h=null,p(u)},o-S)))},()=>u&&p(u)]}const ih=(e,t,i=3)=>{let o=0;const u=D8(50,250);return j8(h=>{const p=h.loaded,x=h.lengthComputable?h.total:void 0,w=p-o,b=u(w),E=p<=x;o=p;const S={loaded:p,total:x,progress:x?p/x:void 0,bytes:w,rate:b||void 0,estimated:b&&x&&E?(x-p)/b:void 0,event:h,lengthComputable:x!=null,[t?"download":"upload"]:!0};e(S)},i)},Gb=(e,t)=>{const i=e!=null;return[o=>t[0]({lengthComputable:i,total:e,loaded:o}),t[1]]},Yb=e=>(...t)=>pe.asap(()=>e(...t)),L8=ar.hasStandardBrowserEnv?((e,t)=>i=>(i=new URL(i,ar.origin),e.protocol===i.protocol&&e.host===i.host&&(t||e.port===i.port)))(new URL(ar.origin),ar.navigator&&/(msie|trident)/i.test(ar.navigator.userAgent)):()=>!0,B8=ar.hasStandardBrowserEnv?{write(e,t,i,o,u,h,p){if(typeof document>"u")return;const x=[`${e}=${encodeURIComponent(t)}`];pe.isNumber(i)&&x.push(`expires=${new Date(i).toUTCString()}`),pe.isString(o)&&x.push(`path=${o}`),pe.isString(u)&&x.push(`domain=${u}`),h===!0&&x.push("secure"),pe.isString(p)&&x.push(`SameSite=${p}`),document.cookie=x.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function k8(e){return typeof e!="string"?!1:/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function P8(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function YE(e,t,i){let o=!k8(t);return e&&(o||i==!1)?P8(e,t):t}const Xb=e=>e instanceof jr?{...e}:e;function mo(e,t){t=t||{};const i={};function o(b,E,S,R){return pe.isPlainObject(b)&&pe.isPlainObject(E)?pe.merge.call({caseless:R},b,E):pe.isPlainObject(E)?pe.merge({},E):pe.isArray(E)?E.slice():E}function u(b,E,S,R){if(pe.isUndefined(E)){if(!pe.isUndefined(b))return o(void 0,b,S,R)}else return o(b,E,S,R)}function h(b,E){if(!pe.isUndefined(E))return o(void 0,E)}function p(b,E){if(pe.isUndefined(E)){if(!pe.isUndefined(b))return o(void 0,b)}else return o(void 0,E)}function x(b,E,S){if(S in t)return o(b,E);if(S in e)return o(void 0,b)}const w={url:h,method:h,data:h,baseURL:p,transformRequest:p,transformResponse:p,paramsSerializer:p,timeout:p,timeoutMessage:p,withCredentials:p,withXSRFToken:p,adapter:p,responseType:p,xsrfCookieName:p,xsrfHeaderName:p,onUploadProgress:p,onDownloadProgress:p,decompress:p,maxContentLength:p,maxBodyLength:p,beforeRedirect:p,transport:p,httpAgent:p,httpsAgent:p,cancelToken:p,socketPath:p,responseEncoding:p,validateStatus:x,headers:(b,E,S)=>u(Xb(b),Xb(E),S,!0)};return pe.forEach(Object.keys({...e,...t}),function(E){if(E==="__proto__"||E==="constructor"||E==="prototype")return;const S=pe.hasOwnProp(w,E)?w[E]:u,R=S(e[E],t[E],E);pe.isUndefined(R)&&S!==x||(i[E]=R)}),i}const XE=e=>{const t=mo({},e);let{data:i,withXSRFToken:o,xsrfHeaderName:u,xsrfCookieName:h,headers:p,auth:x}=t;if(t.headers=p=jr.from(p),t.url=VE(YE(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),x&&p.set("Authorization","Basic "+btoa((x.username||"")+":"+(x.password?unescape(encodeURIComponent(x.password)):""))),pe.isFormData(i)){if(ar.hasStandardBrowserEnv||ar.hasStandardBrowserWebWorkerEnv)p.setContentType(void 0);else if(pe.isFunction(i.getHeaders)){const w=i.getHeaders(),b=["content-type","content-length"];Object.entries(w).forEach(([E,S])=>{b.includes(E.toLowerCase())&&p.set(E,S)})}}if(ar.hasStandardBrowserEnv&&(o&&pe.isFunction(o)&&(o=o(t)),o||o!==!1&&L8(t.url))){const w=u&&h&&B8.read(h);w&&p.set(u,w)}return t},U8=typeof XMLHttpRequest<"u",z8=U8&&function(e){return new Promise(function(i,o){const u=XE(e);let h=u.data;const p=jr.from(u.headers).normalize();let{responseType:x,onUploadProgress:w,onDownloadProgress:b}=u,E,S,R,_,D;function L(){_&&_(),D&&D(),u.cancelToken&&u.cancelToken.unsubscribe(E),u.signal&&u.signal.removeEventListener("abort",E)}let P=new XMLHttpRequest;P.open(u.method.toUpperCase(),u.url,!0),P.timeout=u.timeout;function Y(){if(!P)return;const U=jr.from("getAllResponseHeaders"in P&&P.getAllResponseHeaders()),I={data:!x||x==="text"||x==="json"?P.responseText:P.response,status:P.status,statusText:P.statusText,headers:U,config:e,request:P};GE(function(z){i(z),L()},function(z){o(z),L()},I),P=null}"onloadend"in P?P.onloadend=Y:P.onreadystatechange=function(){!P||P.readyState!==4||P.status===0&&!(P.responseURL&&P.responseURL.indexOf("file:")===0)||setTimeout(Y)},P.onabort=function(){P&&(o(new Ke("Request aborted",Ke.ECONNABORTED,e,P)),P=null)},P.onerror=function(V){const I=V&&V.message?V.message:"Network Error",X=new Ke(I,Ke.ERR_NETWORK,e,P);X.event=V||null,o(X),P=null},P.ontimeout=function(){let V=u.timeout?"timeout of "+u.timeout+"ms exceeded":"timeout exceeded";const I=u.transitional||bg;u.timeoutErrorMessage&&(V=u.timeoutErrorMessage),o(new Ke(V,I.clarifyTimeoutError?Ke.ETIMEDOUT:Ke.ECONNABORTED,e,P)),P=null},h===void 0&&p.setContentType(null),"setRequestHeader"in P&&pe.forEach(p.toJSON(),function(V,I){P.setRequestHeader(I,V)}),pe.isUndefined(u.withCredentials)||(P.withCredentials=!!u.withCredentials),x&&x!=="json"&&(P.responseType=u.responseType),b&&([R,D]=ih(b,!0),P.addEventListener("progress",R)),w&&P.upload&&([S,_]=ih(w),P.upload.addEventListener("progress",S),P.upload.addEventListener("loadend",_)),(u.cancelToken||u.signal)&&(E=U=>{P&&(o(!U||U.type?new Zc(null,e,P):U),P.abort(),P=null)},u.cancelToken&&u.cancelToken.subscribe(E),u.signal&&(u.signal.aborted?E():u.signal.addEventListener("abort",E)));const j=_8(u.url);if(j&&ar.protocols.indexOf(j)===-1){o(new Ke("Unsupported protocol "+j+":",Ke.ERR_BAD_REQUEST,e));return}P.send(h||null)})},F8=(e,t)=>{const{length:i}=e=e?e.filter(Boolean):[];if(t||i){let o=new AbortController,u;const h=function(b){if(!u){u=!0,x();const E=b instanceof Error?b:this.reason;o.abort(E instanceof Ke?E:new Zc(E instanceof Error?E.message:E))}};let p=t&&setTimeout(()=>{p=null,h(new Ke(`timeout of ${t}ms exceeded`,Ke.ETIMEDOUT))},t);const x=()=>{e&&(p&&clearTimeout(p),p=null,e.forEach(b=>{b.unsubscribe?b.unsubscribe(h):b.removeEventListener("abort",h)}),e=null)};e.forEach(b=>b.addEventListener("abort",h));const{signal:w}=o;return w.unsubscribe=()=>pe.asap(x),w}},V8=function*(e,t){let i=e.byteLength;if(i<t){yield e;return}let o=0,u;for(;o<i;)u=o+t,yield e.slice(o,u),o=u},H8=async function*(e,t){for await(const i of q8(e))yield*V8(i,t)},q8=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:i,value:o}=await t.read();if(i)break;yield o}}finally{await t.cancel()}},Wb=(e,t,i,o)=>{const u=H8(e,t);let h=0,p,x=w=>{p||(p=!0,o&&o(w))};return new ReadableStream({async pull(w){try{const{done:b,value:E}=await u.next();if(b){x(),w.close();return}let S=E.byteLength;if(i){let R=h+=S;i(R)}w.enqueue(new Uint8Array(E))}catch(b){throw x(b),b}},cancel(w){return x(w),u.return()}},{highWaterMark:2})},Qb=64*1024,{isFunction:Od}=pe,G8=(({Request:e,Response:t})=>({Request:e,Response:t}))(pe.global),{ReadableStream:Zb,TextEncoder:Kb}=pe.global,$b=(e,...t)=>{try{return!!e(...t)}catch{return!1}},Y8=e=>{e=pe.merge.call({skipUndefined:!0},G8,e);const{fetch:t,Request:i,Response:o}=e,u=t?Od(t):typeof fetch=="function",h=Od(i),p=Od(o);if(!u)return!1;const x=u&&Od(Zb),w=u&&(typeof Kb=="function"?(D=>L=>D.encode(L))(new Kb):async D=>new Uint8Array(await new i(D).arrayBuffer())),b=h&&x&&$b(()=>{let D=!1;const L=new i(ar.origin,{body:new Zb,method:"POST",get duplex(){return D=!0,"half"}}).headers.has("Content-Type");return D&&!L}),E=p&&x&&$b(()=>pe.isReadableStream(new o("").body)),S={stream:E&&(D=>D.body)};u&&["text","arrayBuffer","blob","formData","stream"].forEach(D=>{!S[D]&&(S[D]=(L,P)=>{let Y=L&&L[D];if(Y)return Y.call(L);throw new Ke(`Response type '${D}' is not supported`,Ke.ERR_NOT_SUPPORT,P)})});const R=async D=>{if(D==null)return 0;if(pe.isBlob(D))return D.size;if(pe.isSpecCompliantForm(D))return(await new i(ar.origin,{method:"POST",body:D}).arrayBuffer()).byteLength;if(pe.isArrayBufferView(D)||pe.isArrayBuffer(D))return D.byteLength;if(pe.isURLSearchParams(D)&&(D=D+""),pe.isString(D))return(await w(D)).byteLength},_=async(D,L)=>{const P=pe.toFiniteNumber(D.getContentLength());return P??R(L)};return async D=>{let{url:L,method:P,data:Y,signal:j,cancelToken:U,timeout:V,onDownloadProgress:I,onUploadProgress:X,responseType:z,headers:H,withCredentials:Q="same-origin",fetchOptions:Ee}=XE(D),ae=t||fetch;z=z?(z+"").toLowerCase():"text";let ve=F8([j,U&&U.toAbortSignal()],V),me=null;const Le=ve&&ve.unsubscribe&&(()=>{ve.unsubscribe()});let ne;try{if(X&&b&&P!=="get"&&P!=="head"&&(ne=await _(H,Y))!==0){let $=new i(L,{method:"POST",body:Y,duplex:"half"}),ge;if(pe.isFormData(Y)&&(ge=$.headers.get("content-type"))&&H.setContentType(ge),$.body){const[Me,_e]=Gb(ne,ih(Yb(X)));Y=Wb($.body,Qb,Me,_e)}}pe.isString(Q)||(Q=Q?"include":"omit");const ie=h&&"credentials"in i.prototype,ue={...Ee,signal:ve,method:P.toUpperCase(),headers:H.normalize().toJSON(),body:Y,duplex:"half",credentials:ie?Q:void 0};me=h&&new i(L,ue);let xe=await(h?ae(me,Ee):ae(L,ue));const ke=E&&(z==="stream"||z==="response");if(E&&(I||ke&&Le)){const $={};["status","statusText","headers"].forEach(Ze=>{$[Ze]=xe[Ze]});const ge=pe.toFiniteNumber(xe.headers.get("content-length")),[Me,_e]=I&&Gb(ge,ih(Yb(I),!0))||[];xe=new o(Wb(xe.body,Qb,Me,()=>{_e&&_e(),Le&&Le()}),$)}z=z||"text";let ye=await S[pe.findKey(S,z)||"text"](xe,D);return!ke&&Le&&Le(),await new Promise(($,ge)=>{GE($,ge,{data:ye,headers:jr.from(xe.headers),status:xe.status,statusText:xe.statusText,config:D,request:me})})}catch(ie){throw Le&&Le(),ie&&ie.name==="TypeError"&&/Load failed|fetch/i.test(ie.message)?Object.assign(new Ke("Network Error",Ke.ERR_NETWORK,D,me,ie&&ie.response),{cause:ie.cause||ie}):Ke.from(ie,ie&&ie.code,D,me,ie&&ie.response)}}},X8=new Map,WE=e=>{let t=e&&e.env||{};const{fetch:i,Request:o,Response:u}=t,h=[o,u,i];let p=h.length,x=p,w,b,E=X8;for(;x--;)w=h[x],b=E.get(w),b===void 0&&E.set(w,b=x?new Map:Y8(t)),E=b;return b};WE();const xg={http:u8,xhr:z8,fetch:{get:WE}};pe.forEach(xg,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Jb=e=>`- ${e}`,W8=e=>pe.isFunction(e)||e===null||e===!1;function Q8(e,t){e=pe.isArray(e)?e:[e];const{length:i}=e;let o,u;const h={};for(let p=0;p<i;p++){o=e[p];let x;if(u=o,!W8(o)&&(u=xg[(x=String(o)).toLowerCase()],u===void 0))throw new Ke(`Unknown adapter '${x}'`);if(u&&(pe.isFunction(u)||(u=u.get(t))))break;h[x||"#"+p]=u}if(!u){const p=Object.entries(h).map(([w,b])=>`adapter ${w} `+(b===!1?"is not supported by the environment":"is not available in the build"));let x=i?p.length>1?`since :
`+p.map(Jb).join(`
`):" "+Jb(p[0]):"as no adapter specified";throw new Ke("There is no suitable adapter to dispatch the request "+x,"ERR_NOT_SUPPORT")}return u}const QE={getAdapter:Q8,adapters:xg};function G1(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Zc(null,e)}function ev(e){return G1(e),e.headers=jr.from(e.headers),e.data=q1.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),QE.getAdapter(e.adapter||Qc.adapter,e)(e).then(function(o){return G1(e),o.data=q1.call(e,e.transformResponse,o),o.headers=jr.from(o.headers),o},function(o){return qE(o)||(G1(e),o&&o.response&&(o.response.data=q1.call(e,e.transformResponse,o.response),o.response.headers=jr.from(o.response.headers))),Promise.reject(o)})}const ZE="1.13.5",Th={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Th[e]=function(o){return typeof o===e||"a"+(t<1?"n ":" ")+e}});const tv={};Th.transitional=function(t,i,o){function u(h,p){return"[Axios v"+ZE+"] Transitional option '"+h+"'"+p+(o?". "+o:"")}return(h,p,x)=>{if(t===!1)throw new Ke(u(p," has been removed"+(i?" in "+i:"")),Ke.ERR_DEPRECATED);return i&&!tv[p]&&(tv[p]=!0,console.warn(u(p," has been deprecated since v"+i+" and will be removed in the near future"))),t?t(h,p,x):!0}};Th.spelling=function(t){return(i,o)=>(console.warn(`${o} is likely a misspelling of ${t}`),!0)};function Z8(e,t,i){if(typeof e!="object")throw new Ke("options must be an object",Ke.ERR_BAD_OPTION_VALUE);const o=Object.keys(e);let u=o.length;for(;u-- >0;){const h=o[u],p=t[h];if(p){const x=e[h],w=x===void 0||p(x,h,e);if(w!==!0)throw new Ke("option "+h+" must be "+w,Ke.ERR_BAD_OPTION_VALUE);continue}if(i!==!0)throw new Ke("Unknown option "+h,Ke.ERR_BAD_OPTION)}}const Gd={assertOptions:Z8,validators:Th},hi=Gd.validators;let co=class{constructor(t){this.defaults=t||{},this.interceptors={request:new Hb,response:new Hb}}async request(t,i){try{return await this._request(t,i)}catch(o){if(o instanceof Error){let u={};Error.captureStackTrace?Error.captureStackTrace(u):u=new Error;const h=u.stack?u.stack.replace(/^.+\n/,""):"";try{o.stack?h&&!String(o.stack).endsWith(h.replace(/^.+\n.+\n/,""))&&(o.stack+=`
`+h):o.stack=h}catch{}}throw o}}_request(t,i){typeof t=="string"?(i=i||{},i.url=t):i=t||{},i=mo(this.defaults,i);const{transitional:o,paramsSerializer:u,headers:h}=i;o!==void 0&&Gd.assertOptions(o,{silentJSONParsing:hi.transitional(hi.boolean),forcedJSONParsing:hi.transitional(hi.boolean),clarifyTimeoutError:hi.transitional(hi.boolean),legacyInterceptorReqResOrdering:hi.transitional(hi.boolean)},!1),u!=null&&(pe.isFunction(u)?i.paramsSerializer={serialize:u}:Gd.assertOptions(u,{encode:hi.function,serialize:hi.function},!0)),i.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?i.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:i.allowAbsoluteUrls=!0),Gd.assertOptions(i,{baseUrl:hi.spelling("baseURL"),withXsrfToken:hi.spelling("withXSRFToken")},!0),i.method=(i.method||this.defaults.method||"get").toLowerCase();let p=h&&pe.merge(h.common,h[i.method]);h&&pe.forEach(["delete","get","head","post","put","patch","common"],D=>{delete h[D]}),i.headers=jr.concat(p,h);const x=[];let w=!0;this.interceptors.request.forEach(function(L){if(typeof L.runWhen=="function"&&L.runWhen(i)===!1)return;w=w&&L.synchronous;const P=i.transitional||bg;P&&P.legacyInterceptorReqResOrdering?x.unshift(L.fulfilled,L.rejected):x.push(L.fulfilled,L.rejected)});const b=[];this.interceptors.response.forEach(function(L){b.push(L.fulfilled,L.rejected)});let E,S=0,R;if(!w){const D=[ev.bind(this),void 0];for(D.unshift(...x),D.push(...b),R=D.length,E=Promise.resolve(i);S<R;)E=E.then(D[S++],D[S++]);return E}R=x.length;let _=i;for(;S<R;){const D=x[S++],L=x[S++];try{_=D(_)}catch(P){L.call(this,P);break}}try{E=ev.call(this,_)}catch(D){return Promise.reject(D)}for(S=0,R=b.length;S<R;)E=E.then(b[S++],b[S++]);return E}getUri(t){t=mo(this.defaults,t);const i=YE(t.baseURL,t.url,t.allowAbsoluteUrls);return VE(i,t.params,t.paramsSerializer)}};pe.forEach(["delete","get","head","options"],function(t){co.prototype[t]=function(i,o){return this.request(mo(o||{},{method:t,url:i,data:(o||{}).data}))}});pe.forEach(["post","put","patch"],function(t){function i(o){return function(h,p,x){return this.request(mo(x||{},{method:t,headers:o?{"Content-Type":"multipart/form-data"}:{},url:h,data:p}))}}co.prototype[t]=i(),co.prototype[t+"Form"]=i(!0)});let K8=class KE{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let i;this.promise=new Promise(function(h){i=h});const o=this;this.promise.then(u=>{if(!o._listeners)return;let h=o._listeners.length;for(;h-- >0;)o._listeners[h](u);o._listeners=null}),this.promise.then=u=>{let h;const p=new Promise(x=>{o.subscribe(x),h=x}).then(u);return p.cancel=function(){o.unsubscribe(h)},p},t(function(h,p,x){o.reason||(o.reason=new Zc(h,p,x),i(o.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const i=this._listeners.indexOf(t);i!==-1&&this._listeners.splice(i,1)}toAbortSignal(){const t=new AbortController,i=o=>{t.abort(o)};return this.subscribe(i),t.signal.unsubscribe=()=>this.unsubscribe(i),t.signal}static source(){let t;return{token:new KE(function(u){t=u}),cancel:t}}};function $8(e){return function(i){return e.apply(null,i)}}function J8(e){return pe.isObject(e)&&e.isAxiosError===!0}const Tm={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Tm).forEach(([e,t])=>{Tm[t]=e});function $E(e){const t=new co(e),i=IE(co.prototype.request,t);return pe.extend(i,co.prototype,t,{allOwnKeys:!0}),pe.extend(i,t,null,{allOwnKeys:!0}),i.create=function(u){return $E(mo(e,u))},i}const dn=$E(Qc);dn.Axios=co;dn.CanceledError=Zc;dn.CancelToken=K8;dn.isCancel=qE;dn.VERSION=ZE;dn.toFormData=Nh;dn.AxiosError=Ke;dn.Cancel=dn.CanceledError;dn.all=function(t){return Promise.all(t)};dn.spread=$8;dn.isAxiosError=J8;dn.mergeConfig=mo;dn.AxiosHeaders=jr;dn.formToJSON=e=>HE(pe.isHTMLForm(e)?new FormData(e):e);dn.getAdapter=QE.getAdapter;dn.HttpStatusCode=Tm;dn.default=dn;const{Axios:JD,AxiosError:ej,CanceledError:tj,isCancel:nj,CancelToken:rj,VERSION:ij,all:sj,Cancel:aj,isAxiosError:oj,spread:lj,toFormData:cj,AxiosHeaders:uj,HttpStatusCode:dj,formToJSON:hj,getAdapter:fj,mergeConfig:mj}=dn;let eT={data:""},tT=e=>{if(typeof window=="object"){let t=(e?e.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return t.nonce=window.__nonce__,t.parentNode||(e||document.head).appendChild(t),t.firstChild}return e||eT},nT=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,rT=/\/\*[^]*?\*\/|  +/g,nv=/\n+/g,xa=(e,t)=>{let i="",o="",u="";for(let h in e){let p=e[h];h[0]=="@"?h[1]=="i"?i=h+" "+p+";":o+=h[1]=="f"?xa(p,h):h+"{"+xa(p,h[1]=="k"?"":t)+"}":typeof p=="object"?o+=xa(p,t?t.replace(/([^,])+/g,x=>h.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,w=>/&/.test(w)?w.replace(/&/g,x):x?x+" "+w:w)):h):p!=null&&(h=/^--/.test(h)?h:h.replace(/[A-Z]/g,"-$&").toLowerCase(),u+=xa.p?xa.p(h,p):h+":"+p+";")}return i+(t&&u?t+"{"+u+"}":u)+o},Ns={},JE=e=>{if(typeof e=="object"){let t="";for(let i in e)t+=i+JE(e[i]);return t}return e},iT=(e,t,i,o,u)=>{let h=JE(e),p=Ns[h]||(Ns[h]=(w=>{let b=0,E=11;for(;b<w.length;)E=101*E+w.charCodeAt(b++)>>>0;return"go"+E})(h));if(!Ns[p]){let w=h!==e?e:(b=>{let E,S,R=[{}];for(;E=nT.exec(b.replace(rT,""));)E[4]?R.shift():E[3]?(S=E[3].replace(nv," ").trim(),R.unshift(R[0][S]=R[0][S]||{})):R[0][E[1]]=E[2].replace(nv," ").trim();return R[0]})(e);Ns[p]=xa(u?{["@keyframes "+p]:w}:w,i?"":"."+p)}let x=i&&Ns.g?Ns.g:null;return i&&(Ns.g=Ns[p]),((w,b,E,S)=>{S?b.data=b.data.replace(S,w):b.data.indexOf(w)===-1&&(b.data=E?w+b.data:b.data+w)})(Ns[p],t,o,x),p},sT=(e,t,i)=>e.reduce((o,u,h)=>{let p=t[h];if(p&&p.call){let x=p(i),w=x&&x.props&&x.props.className||/^go/.test(x)&&x;p=w?"."+w:x&&typeof x=="object"?x.props?"":xa(x,""):x===!1?"":x}return o+u+(p??"")},"");function Rh(e){let t=this||{},i=e.call?e(t.p):e;return iT(i.unshift?i.raw?sT(i,[].slice.call(arguments,1),t.p):i.reduce((o,u)=>Object.assign(o,u&&u.call?u(t.p):u),{}):i,tT(t.target),t.g,t.o,t.k)}let e3,Rm,Om;Rh.bind({g:1});let Ms=Rh.bind({k:1});function aT(e,t,i,o){xa.p=t,e3=e,Rm=i,Om=o}function Ra(e,t){let i=this||{};return function(){let o=arguments;function u(h,p){let x=Object.assign({},h),w=x.className||u.className;i.p=Object.assign({theme:Rm&&Rm()},x),i.o=/ *go\d+/.test(w),x.className=Rh.apply(i,o)+(w?" "+w:"");let b=e;return e[0]&&(b=x.as||e,delete x.as),Om&&b[0]&&Om(x),e3(b,x)}return u}}var oT=e=>typeof e=="function",sh=(e,t)=>oT(e)?e(t):e,lT=(()=>{let e=0;return()=>(++e).toString()})(),t3=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),cT=20,wg="default",n3=(e,t)=>{let{toastLimit:i}=e.settings;switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,i)};case 1:return{...e,toasts:e.toasts.map(p=>p.id===t.toast.id?{...p,...t.toast}:p)};case 2:let{toast:o}=t;return n3(e,{type:e.toasts.find(p=>p.id===o.id)?1:0,toast:o});case 3:let{toastId:u}=t;return{...e,toasts:e.toasts.map(p=>p.id===u||u===void 0?{...p,dismissed:!0,visible:!1}:p)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(p=>p.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let h=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(p=>({...p,pauseDuration:p.pauseDuration+h}))}}},Yd=[],r3={toasts:[],pausedAt:void 0,settings:{toastLimit:cT}},es={},i3=(e,t=wg)=>{es[t]=n3(es[t]||r3,e),Yd.forEach(([i,o])=>{i===t&&o(es[t])})},s3=e=>Object.keys(es).forEach(t=>i3(e,t)),uT=e=>Object.keys(es).find(t=>es[t].toasts.some(i=>i.id===e)),Oh=(e=wg)=>t=>{i3(t,e)},dT={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},hT=(e={},t=wg)=>{let[i,o]=F.useState(es[t]||r3),u=F.useRef(es[t]);F.useEffect(()=>(u.current!==es[t]&&o(es[t]),Yd.push([t,o]),()=>{let p=Yd.findIndex(([x])=>x===t);p>-1&&Yd.splice(p,1)}),[t]);let h=i.toasts.map(p=>{var x,w,b;return{...e,...e[p.type],...p,removeDelay:p.removeDelay||((x=e[p.type])==null?void 0:x.removeDelay)||e?.removeDelay,duration:p.duration||((w=e[p.type])==null?void 0:w.duration)||e?.duration||dT[p.type],style:{...e.style,...(b=e[p.type])==null?void 0:b.style,...p.style}}});return{...i,toasts:h}},fT=(e,t="blank",i)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...i,id:i?.id||lT()}),Kc=e=>(t,i)=>{let o=fT(t,e,i);return Oh(o.toasterId||uT(o.id))({type:2,toast:o}),o.id},qn=(e,t)=>Kc("blank")(e,t);qn.error=Kc("error");qn.success=Kc("success");qn.loading=Kc("loading");qn.custom=Kc("custom");qn.dismiss=(e,t)=>{let i={type:3,toastId:e};t?Oh(t)(i):s3(i)};qn.dismissAll=e=>qn.dismiss(void 0,e);qn.remove=(e,t)=>{let i={type:4,toastId:e};t?Oh(t)(i):s3(i)};qn.removeAll=e=>qn.remove(void 0,e);qn.promise=(e,t,i)=>{let o=qn.loading(t.loading,{...i,...i?.loading});return typeof e=="function"&&(e=e()),e.then(u=>{let h=t.success?sh(t.success,u):void 0;return h?qn.success(h,{id:o,...i,...i?.success}):qn.dismiss(o),u}).catch(u=>{let h=t.error?sh(t.error,u):void 0;h?qn.error(h,{id:o,...i,...i?.error}):qn.dismiss(o)}),e};var mT=1e3,gT=(e,t="default")=>{let{toasts:i,pausedAt:o}=hT(e,t),u=F.useRef(new Map).current,h=F.useCallback((S,R=mT)=>{if(u.has(S))return;let _=setTimeout(()=>{u.delete(S),p({type:4,toastId:S})},R);u.set(S,_)},[]);F.useEffect(()=>{if(o)return;let S=Date.now(),R=i.map(_=>{if(_.duration===1/0)return;let D=(_.duration||0)+_.pauseDuration-(S-_.createdAt);if(D<0){_.visible&&qn.dismiss(_.id);return}return setTimeout(()=>qn.dismiss(_.id,t),D)});return()=>{R.forEach(_=>_&&clearTimeout(_))}},[i,o,t]);let p=F.useCallback(Oh(t),[t]),x=F.useCallback(()=>{p({type:5,time:Date.now()})},[p]),w=F.useCallback((S,R)=>{p({type:1,toast:{id:S,height:R}})},[p]),b=F.useCallback(()=>{o&&p({type:6,time:Date.now()})},[o,p]),E=F.useCallback((S,R)=>{let{reverseOrder:_=!1,gutter:D=8,defaultPosition:L}=R||{},P=i.filter(U=>(U.position||L)===(S.position||L)&&U.height),Y=P.findIndex(U=>U.id===S.id),j=P.filter((U,V)=>V<Y&&U.visible).length;return P.filter(U=>U.visible).slice(..._?[j+1]:[0,j]).reduce((U,V)=>U+(V.height||0)+D,0)},[i]);return F.useEffect(()=>{i.forEach(S=>{if(S.dismissed)h(S.id,S.removeDelay);else{let R=u.get(S.id);R&&(clearTimeout(R),u.delete(S.id))}})},[i,h]),{toasts:i,handlers:{updateHeight:w,startPause:x,endPause:b,calculateOffset:E}}},pT=Ms`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,yT=Ms`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,bT=Ms`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,vT=Ra("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${pT} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${yT} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${bT} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,xT=Ms`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,wT=Ra("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${xT} 1s linear infinite;
`,ET=Ms`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,CT=Ms`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,ST=Ra("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${ET} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${CT} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,AT=Ra("div")`
  position: absolute;
`,NT=Ra("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,TT=Ms`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,RT=Ra("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${TT} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,OT=({toast:e})=>{let{icon:t,type:i,iconTheme:o}=e;return t!==void 0?typeof t=="string"?F.createElement(RT,null,t):t:i==="blank"?null:F.createElement(NT,null,F.createElement(wT,{...o}),i!=="loading"&&F.createElement(AT,null,i==="error"?F.createElement(vT,{...o}):F.createElement(ST,{...o})))},MT=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,IT=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,_T="0%{opacity:0;} 100%{opacity:1;}",DT="0%{opacity:1;} 100%{opacity:0;}",jT=Ra("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,LT=Ra("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,BT=(e,t)=>{let i=e.includes("top")?1:-1,[o,u]=t3()?[_T,DT]:[MT(i),IT(i)];return{animation:t?`${Ms(o)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Ms(u)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},kT=F.memo(({toast:e,position:t,style:i,children:o})=>{let u=e.height?BT(e.position||t||"top-center",e.visible):{opacity:0},h=F.createElement(OT,{toast:e}),p=F.createElement(LT,{...e.ariaProps},sh(e.message,e));return F.createElement(jT,{className:e.className,style:{...u,...i,...e.style}},typeof o=="function"?o({icon:h,message:p}):F.createElement(F.Fragment,null,h,p))});aT(F.createElement);var PT=({id:e,className:t,style:i,onHeightUpdate:o,children:u})=>{let h=F.useCallback(p=>{if(p){let x=()=>{let w=p.getBoundingClientRect().height;o(e,w)};x(),new MutationObserver(x).observe(p,{subtree:!0,childList:!0,characterData:!0})}},[e,o]);return F.createElement("div",{ref:h,className:t,style:i},u)},UT=(e,t)=>{let i=e.includes("top"),o=i?{top:0}:{bottom:0},u=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:t3()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(i?1:-1)}px)`,...o,...u}},zT=Rh`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Md=16,FT=({reverseOrder:e,position:t="top-center",toastOptions:i,gutter:o,children:u,toasterId:h,containerStyle:p,containerClassName:x})=>{let{toasts:w,handlers:b}=gT(i,h);return F.createElement("div",{"data-rht-toaster":h||"",style:{position:"fixed",zIndex:9999,top:Md,left:Md,right:Md,bottom:Md,pointerEvents:"none",...p},className:x,onMouseEnter:b.startPause,onMouseLeave:b.endPause},w.map(E=>{let S=E.position||t,R=b.calculateOffset(E,{reverseOrder:e,gutter:o,defaultPosition:t}),_=UT(S,R);return F.createElement(PT,{id:E.id,key:E.id,onHeightUpdate:b.updateHeight,className:E.visible?zT:"",style:_},E.type==="custom"?sh(E.message,E):u?u(E):F.createElement(kT,{toast:E,position:S}))}))},je=qn;const ah={LOGIN_SUCCESS:"Welcome back! Redirecting...",REGISTER_SUCCESS:"Account created successfully. Please login.",LOGOUT_SUCCESS:"Logged out successfully.",ORG_CREATED:"Organization and primary admin setup complete.",USER_APPROVED:"User access has been granted.",USER_REJECTED:"User access has been denied."},go={INVALID_CREDENTIALS:"The email or password you entered is incorrect.",ACC_NOT_VERIFIED:"Account Not Verified",GENERIC_ERROR:"Something went wrong. Please try again later.",FETCH_FAILED:"Failed to load data from the server.",ACTION_FAILED:"The requested action could not be completed."},De=dn.create({baseURL:"",headers:{"Content-Type":"application/json"}});De.interceptors.response.use(e=>e.data.success?e.data.data:Promise.reject(e.data.message),e=>{const t=e.response?.data?.message||e.response?.data?.error||go.GENERIC_ERROR;return e.response?.status===401?(je.error("Your session has expired. Please login again."),localStorage.clear(),window.location.href="/",Promise.reject("Unauthorized")):(e.response?.status===403&&je.error("Access Denied: You don't have permission."),Promise.reject(t))});De.interceptors.request.use(e=>{const t=localStorage.getItem(Ji.TOKEN);return t&&(e.headers.Authorization=`Bearer ${t}`),e});const a3=F.createContext(null),VT=({children:e})=>{const[t,i]=F.useState(null),[o,u]=F.useState(!0);F.useEffect(()=>{(async()=>{try{const b=localStorage.getItem(Ji.USER),E=localStorage.getItem(Ji.TOKEN);if(b&&E)try{await De.get(`/auth/validate?token=${E}`),i(JSON.parse(b))}catch(S){console.warn("Token validation failed:",S),localStorage.clear(),i(null)}}catch(b){console.error("Failed to initialize auth:",b),localStorage.clear(),i(null)}finally{u(!1)}})()},[]);const h=(w,b)=>{localStorage.setItem(Ji.USER,JSON.stringify(w)),localStorage.setItem(Ji.TOKEN,b),i(w)},p=()=>{localStorage.removeItem(Ji.USER),localStorage.removeItem(Ji.TOKEN),i(null)},x=F.useMemo(()=>({user:t,isInitializing:o,saveLoginDetails:h,logout:p,isAuthenticated:!!t}),[t,o]);return m.jsx(a3.Provider,{value:x,children:e})},Ds=()=>{const e=F.useContext(a3);if(!e)throw new Error("useAuth must be used within AuthProvider");return e};const HT=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),qT=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,o)=>o?o.toUpperCase():i.toLowerCase()),rv=e=>{const t=qT(e);return t.charAt(0).toUpperCase()+t.slice(1)},o3=(...e)=>e.filter((t,i,o)=>!!t&&t.trim()!==""&&o.indexOf(t)===i).join(" ").trim(),GT=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var YT={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const XT=F.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:u="",children:h,iconNode:p,...x},w)=>F.createElement("svg",{ref:w,...YT,width:t,height:t,stroke:e,strokeWidth:o?Number(i)*24/Number(t):i,className:o3("lucide",u),...!h&&!GT(x)&&{"aria-hidden":"true"},...x},[...p.map(([b,E])=>F.createElement(b,E)),...Array.isArray(h)?h:[h]]));const Ue=(e,t)=>{const i=F.forwardRef(({className:o,...u},h)=>F.createElement(XT,{ref:h,iconNode:t,className:o3(`lucide-${HT(rv(e))}`,`lucide-${e}`,o),...u}));return i.displayName=rv(e),i};const WT=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],El=Ue("arrow-left",WT);const QT=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],iv=Ue("bell",QT);const ZT=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],ji=Ue("building-2",ZT);const KT=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],sv=Ue("camera",KT);const $T=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],JT=Ue("check-check",$T);const e5=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],l3=Ue("check",e5);const t5=[["path",{d:"M17 21a1 1 0 0 0 1-1v-5.35c0-.457.316-.844.727-1.041a4 4 0 0 0-2.134-7.589 5 5 0 0 0-9.186 0 4 4 0 0 0-2.134 7.588c.411.198.727.585.727 1.041V20a1 1 0 0 0 1 1Z",key:"1qvrer"}],["path",{d:"M6 17h12",key:"1jwigz"}]],c3=Ue("chef-hat",t5);const n5=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],u3=Ue("chevron-down",n5);const r5=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Xd=Ue("chevron-right",r5);const i5=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],d3=Ue("chevron-up",i5);const s5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],$c=Ue("circle-alert",s5);const a5=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Jc=Ue("circle-check-big",a5);const o5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Eg=Ue("circle-check",o5);const l5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],h3=Ue("circle-x",l5);const c5=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],av=Ue("clipboard-list",c5);const u5=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Bc=Ue("clock",u5);const d5=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],h5=Ue("credit-card",d5);const f5=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],f3=Ue("dollar-sign",f5);const m5=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],m3=Ue("download",m5);const g5=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],p5=Ue("flame",g5);const y5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],b5=Ue("globe",y5);const v5=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],x5=Ue("grid-3x3",v5);const w5=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],E5=Ue("house",w5);const C5=[["path",{d:"M6 3h12",key:"ggurg9"}],["path",{d:"M6 8h12",key:"6g4wlu"}],["path",{d:"m6 13 8.5 8",key:"u1kupk"}],["path",{d:"M6 13h3",key:"wdp6ag"}],["path",{d:"M9 13c6.667 0 6.667-10 0-10",key:"1nkvk2"}]],Zr=Ue("indian-rupee",C5);const S5=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Y1=Ue("layout-dashboard",S5);const A5=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],N5=Ue("list",A5);const T5=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Nn=Ue("loader-circle",T5);const R5=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],O5=Ue("log-out",R5);const M5=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],I5=Ue("mail",M5);const _5=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],br=Ue("map-pin",_5);const D5=[["path",{d:"M11 6a13 13 0 0 0 8.4-2.8A1 1 0 0 1 21 4v12a1 1 0 0 1-1.6.8A13 13 0 0 0 11 14H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z",key:"q8bfy3"}],["path",{d:"M6 14a12 12 0 0 0 2.4 7.2 2 2 0 0 0 3.2-2.4A8 8 0 0 1 10 14",key:"1853fq"}],["path",{d:"M8 6v8",key:"15ugcq"}]],j5=Ue("megaphone",D5);const L5=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],B5=Ue("menu",L5);const k5=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],P5=Ue("message-square",k5);const U5=[["path",{d:"M5 12h14",key:"1ays0h"}]],g3=Ue("minus",U5);const z5=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Sa=Ue("package",z5);const F5=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],oh=Ue("pen",F5);const V5=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],H5=Ue("phone",V5);const q5=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],pi=Ue("plus",q5);const G5=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],p3=Ue("qr-code",G5);const Y5=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],X5=Ue("refresh-ccw",Y5);const W5=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Cg=Ue("refresh-cw",W5);const Q5=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Sg=Ue("search",Q5);const Z5=[["path",{d:"M12 2v13",key:"1km8f5"}],["path",{d:"m16 6-4-4-4 4",key:"13yo43"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}]],K5=Ue("share",Z5);const $5=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],y3=Ue("shield-check",$5);const J5=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],eR=Ue("shopping-bag",J5);const tR=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],kc=Ue("shopping-cart",tR);const nR=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],rR=Ue("sparkles",nR);const iR=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],ov=Ue("square-pen",iR);const sR=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Pc=Ue("star",sR);const aR=[["path",{d:"M15 21v-5a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v5",key:"slp6dd"}],["path",{d:"M17.774 10.31a1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.451 0 1.12 1.12 0 0 0-1.548 0 2.5 2.5 0 0 1-3.452 0 1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.77-3.248l2.889-4.184A2 2 0 0 1 7 2h10a2 2 0 0 1 1.653.873l2.895 4.192a2.5 2.5 0 0 1-3.774 3.244",key:"o0xfot"}],["path",{d:"M4 10.95V19a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8.05",key:"wn3emo"}]],po=Ue("store",aR);const oR=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],lR=Ue("tag",oR);const cR=[["circle",{cx:"9",cy:"12",r:"3",key:"u3jwor"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],lv=Ue("toggle-left",cR);const uR=[["circle",{cx:"15",cy:"12",r:"3",key:"1afu0r"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],cv=Ue("toggle-right",uR);const dR=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],ml=Ue("trash-2",dR);const hR=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],uv=Ue("trending-down",hR);const fR=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],gl=Ue("trending-up",fR);const mR=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],gR=Ue("triangle-alert",mR);const pR=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Mh=Ue("user",pR);const yR=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],b3=Ue("users",yR);const bR=[["path",{d:"m16 2-2.3 2.3a3 3 0 0 0 0 4.2l1.8 1.8a3 3 0 0 0 4.2 0L22 8",key:"n7qcjb"}],["path",{d:"M15 15 3.3 3.3a4.2 4.2 0 0 0 0 6l7.3 7.3c.7.7 2 .7 2.8 0L15 15Zm0 0 7 7",key:"d0u48b"}],["path",{d:"m2.1 21.8 6.4-6.3",key:"yn04lh"}],["path",{d:"m19 5-7 7",key:"194lzd"}]],Ca=Ue("utensils-crossed",bR);const vR=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],xR=Ue("utensils",vR);const wR=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],lh=Ue("wallet",wR);const ER=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Ag=Ue("wifi-off",ER);const CR=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],v3=Ue("wifi",CR);const SR=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ih=Ue("x",SR);const AR=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],NR=Ue("zap",AR),Id=({allowedRoles:e})=>{const{user:t,isInitializing:i}=Ds(),o=Li();return i?m.jsx("div",{className:"h-screen w-screen flex items-center justify-center bg-surface-bg",children:m.jsx(Nn,{className:"animate-spin text-brand-primary",size:48})}):t?e.includes(t.role)?m.jsx(gE,{}):m.jsx(io,{to:"/unauthorized",replace:!0}):m.jsx(io,{to:"/",state:{from:o},replace:!0})};var Nc={exports:{}},TR=Nc.exports,dv;function RR(){return dv||(dv=1,(function(e,t){(function(i,o){o(t)})(TR,(function(i){function o(V,I){V.terminate=function(){const X=()=>{};this.onerror=X,this.onmessage=X,this.onopen=X;const z=new Date,H=Math.random().toString().substring(2,8),Q=this.onclose;this.onclose=Ee=>{const ae=new Date().getTime()-z.getTime();I(`Discarded socket (#${H})  closed after ${ae}ms, with code/reason: ${Ee.code}/${Ee.reason}`)},this.close(),Q?.call(V,{code:4001,reason:`Quick discarding socket (#${H}) without waiting for the shutdown sequence.`,wasClean:!1})}}const u={LF:`
`,NULL:"\0"};class h{get body(){return!this._body&&this.isBinaryBody&&(this._body=new TextDecoder().decode(this._binaryBody)),this._body||""}get binaryBody(){return!this._binaryBody&&!this.isBinaryBody&&(this._binaryBody=new TextEncoder().encode(this._body)),this._binaryBody}constructor(I){const{command:X,headers:z,body:H,binaryBody:Q,escapeHeaderValues:Ee,skipContentLengthHeader:ae}=I;this.command=X,this.headers=Object.assign({},z||{}),Q?(this._binaryBody=Q,this.isBinaryBody=!0):(this._body=H||"",this.isBinaryBody=!1),this.escapeHeaderValues=Ee||!1,this.skipContentLengthHeader=ae||!1}static fromRawFrame(I,X){const z={},H=Q=>Q.replace(/^\s+|\s+$/g,"");for(const Q of I.headers.reverse()){Q.indexOf(":");const Ee=H(Q[0]);let ae=H(Q[1]);X&&I.command!=="CONNECT"&&I.command!=="CONNECTED"&&(ae=h.hdrValueUnEscape(ae)),z[Ee]=ae}return new h({command:I.command,headers:z,binaryBody:I.binaryBody,escapeHeaderValues:X})}toString(){return this.serializeCmdAndHeaders()}serialize(){const I=this.serializeCmdAndHeaders();return this.isBinaryBody?h.toUnit8Array(I,this._binaryBody).buffer:I+this._body+u.NULL}serializeCmdAndHeaders(){const I=[this.command];this.skipContentLengthHeader&&delete this.headers["content-length"];for(const X of Object.keys(this.headers||{})){const z=this.headers[X];this.escapeHeaderValues&&this.command!=="CONNECT"&&this.command!=="CONNECTED"?I.push(`${X}:${h.hdrValueEscape(`${z}`)}`):I.push(`${X}:${z}`)}return(this.isBinaryBody||!this.isBodyEmpty()&&!this.skipContentLengthHeader)&&I.push(`content-length:${this.bodyLength()}`),I.join(u.LF)+u.LF+u.LF}isBodyEmpty(){return this.bodyLength()===0}bodyLength(){const I=this.binaryBody;return I?I.length:0}static sizeOfUTF8(I){return I?new TextEncoder().encode(I).length:0}static toUnit8Array(I,X){const z=new TextEncoder().encode(I),H=new Uint8Array([0]),Q=new Uint8Array(z.length+X.length+H.length);return Q.set(z),Q.set(X,z.length),Q.set(H,z.length+X.length),Q}static marshall(I){return new h(I).serialize()}static hdrValueEscape(I){return I.replace(/\\/g,"\\\\").replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/:/g,"\\c")}static hdrValueUnEscape(I){return I.replace(/\\r/g,"\r").replace(/\\n/g,`
`).replace(/\\c/g,":").replace(/\\\\/g,"\\")}}const p=0,x=10,w=13,b=58;class E{constructor(I,X){this.onFrame=I,this.onIncomingPing=X,this._encoder=new TextEncoder,this._decoder=new TextDecoder,this._token=[],this._initState()}parseChunk(I,X=!1){let z;if(typeof I=="string"?z=this._encoder.encode(I):z=new Uint8Array(I),X&&z[z.length-1]!==0){const H=new Uint8Array(z.length+1);H.set(z,0),H[z.length]=0,z=H}for(let H=0;H<z.length;H++){const Q=z[H];this._onByte(Q)}}_collectFrame(I){if(I!==p&&I!==w){if(I===x){this.onIncomingPing();return}this._onByte=this._collectCommand,this._reinjectByte(I)}}_collectCommand(I){if(I!==w){if(I===x){this._results.command=this._consumeTokenAsUTF8(),this._onByte=this._collectHeaders;return}this._consumeByte(I)}}_collectHeaders(I){if(I!==w){if(I===x){this._setupCollectBody();return}this._onByte=this._collectHeaderKey,this._reinjectByte(I)}}_reinjectByte(I){this._onByte(I)}_collectHeaderKey(I){if(I===b){this._headerKey=this._consumeTokenAsUTF8(),this._onByte=this._collectHeaderValue;return}this._consumeByte(I)}_collectHeaderValue(I){if(I!==w){if(I===x){this._results.headers.push([this._headerKey,this._consumeTokenAsUTF8()]),this._headerKey=void 0,this._onByte=this._collectHeaders;return}this._consumeByte(I)}}_setupCollectBody(){const I=this._results.headers.filter(X=>X[0]==="content-length")[0];I?(this._bodyBytesRemaining=parseInt(I[1],10),this._onByte=this._collectBodyFixedSize):this._onByte=this._collectBodyNullTerminated}_collectBodyNullTerminated(I){if(I===p){this._retrievedBody();return}this._consumeByte(I)}_collectBodyFixedSize(I){if(this._bodyBytesRemaining--===0){this._retrievedBody();return}this._consumeByte(I)}_retrievedBody(){this._results.binaryBody=this._consumeTokenAsRaw();try{this.onFrame(this._results)}catch(I){console.log("Ignoring an exception thrown by a frame handler. Original exception: ",I)}this._initState()}_consumeByte(I){this._token.push(I)}_consumeTokenAsUTF8(){return this._decoder.decode(this._consumeTokenAsRaw())}_consumeTokenAsRaw(){const I=new Uint8Array(this._token);return this._token=[],I}_initState(){this._results={command:void 0,headers:[],binaryBody:void 0},this._token=[],this._headerKey=void 0,this._onByte=this._collectFrame}}i.StompSocketState=void 0,(function(V){V[V.CONNECTING=0]="CONNECTING",V[V.OPEN=1]="OPEN",V[V.CLOSING=2]="CLOSING",V[V.CLOSED=3]="CLOSED"})(i.StompSocketState||(i.StompSocketState={})),i.ActivationState=void 0,(function(V){V[V.ACTIVE=0]="ACTIVE",V[V.DEACTIVATING=1]="DEACTIVATING",V[V.INACTIVE=2]="INACTIVE"})(i.ActivationState||(i.ActivationState={})),i.ReconnectionTimeMode=void 0,(function(V){V[V.LINEAR=0]="LINEAR",V[V.EXPONENTIAL=1]="EXPONENTIAL"})(i.ReconnectionTimeMode||(i.ReconnectionTimeMode={})),i.TickerStrategy=void 0,(function(V){V.Interval="interval",V.Worker="worker"})(i.TickerStrategy||(i.TickerStrategy={}));class S{constructor(I,X=i.TickerStrategy.Interval,z){this._interval=I,this._strategy=X,this._debug=z,this._workerScript=`
    var startTime = Date.now();
    setInterval(function() {
        self.postMessage(Date.now() - startTime);
    }, ${this._interval});
  `}start(I){this.stop(),this.shouldUseWorker()?this.runWorker(I):this.runInterval(I)}stop(){this.disposeWorker(),this.disposeInterval()}shouldUseWorker(){return typeof Worker<"u"&&this._strategy===i.TickerStrategy.Worker}runWorker(I){this._debug("Using runWorker for outgoing pings"),this._worker||(this._worker=new Worker(URL.createObjectURL(new Blob([this._workerScript],{type:"text/javascript"}))),this._worker.onmessage=X=>I(X.data))}runInterval(I){if(this._debug("Using runInterval for outgoing pings"),!this._timer){const X=Date.now();this._timer=setInterval(()=>{I(Date.now()-X)},this._interval)}}disposeWorker(){this._worker&&(this._worker.terminate(),delete this._worker,this._debug("Outgoing ping disposeWorker"))}disposeInterval(){this._timer&&(clearInterval(this._timer),delete this._timer,this._debug("Outgoing ping disposeInterval"))}}class R{constructor(I){this.versions=I}supportedVersions(){return this.versions.join(",")}protocolVersions(){return this.versions.map(I=>`v${I.replace(".","")}.stomp`)}}R.V1_0="1.0",R.V1_1="1.1",R.V1_2="1.2",R.default=new R([R.V1_2,R.V1_1,R.V1_0]);class _{get connectedVersion(){return this._connectedVersion}get connected(){return this._connected}constructor(I,X,z){this._client=I,this._webSocket=X,this._connected=!1,this._serverFrameHandlers={CONNECTED:H=>{this.debug(`connected to server ${H.headers.server}`),this._connected=!0,this._connectedVersion=H.headers.version,this._connectedVersion===R.V1_2&&(this._escapeHeaderValues=!0),this._setupHeartbeat(H.headers),this.onConnect(H)},MESSAGE:H=>{const Q=H.headers.subscription,Ee=this._subscriptions[Q]||this.onUnhandledMessage,ae=H,ve=this,me=this._connectedVersion===R.V1_2?ae.headers.ack:ae.headers["message-id"];ae.ack=(Le={})=>ve.ack(me,Q,Le),ae.nack=(Le={})=>ve.nack(me,Q,Le),Ee(ae)},RECEIPT:H=>{const Q=this._receiptWatchers[H.headers["receipt-id"]];Q?(Q(H),delete this._receiptWatchers[H.headers["receipt-id"]]):this.onUnhandledReceipt(H)},ERROR:H=>{this.onStompError(H)}},this._counter=0,this._subscriptions={},this._receiptWatchers={},this._partialData="",this._escapeHeaderValues=!1,this._lastServerActivityTS=Date.now(),this.debug=z.debug,this.stompVersions=z.stompVersions,this.connectHeaders=z.connectHeaders,this.disconnectHeaders=z.disconnectHeaders,this.heartbeatIncoming=z.heartbeatIncoming,this.heartbeatToleranceMultiplier=z.heartbeatGracePeriods,this.heartbeatOutgoing=z.heartbeatOutgoing,this.splitLargeFrames=z.splitLargeFrames,this.maxWebSocketChunkSize=z.maxWebSocketChunkSize,this.forceBinaryWSFrames=z.forceBinaryWSFrames,this.logRawCommunication=z.logRawCommunication,this.appendMissingNULLonIncoming=z.appendMissingNULLonIncoming,this.discardWebsocketOnCommFailure=z.discardWebsocketOnCommFailure,this.onConnect=z.onConnect,this.onDisconnect=z.onDisconnect,this.onStompError=z.onStompError,this.onWebSocketClose=z.onWebSocketClose,this.onWebSocketError=z.onWebSocketError,this.onUnhandledMessage=z.onUnhandledMessage,this.onUnhandledReceipt=z.onUnhandledReceipt,this.onUnhandledFrame=z.onUnhandledFrame,this.onHeartbeatReceived=z.onHeartbeatReceived,this.onHeartbeatLost=z.onHeartbeatLost}start(){const I=new E(z=>{const H=h.fromRawFrame(z,this._escapeHeaderValues);this.logRawCommunication||this.debug(`<<< ${H}`),(this._serverFrameHandlers[H.command]||this.onUnhandledFrame)(H)},()=>{this.debug("<<< PONG"),this.onHeartbeatReceived()});this._webSocket.onmessage=z=>{if(this.debug("Received data"),this._lastServerActivityTS=Date.now(),this.logRawCommunication){const H=z.data instanceof ArrayBuffer?new TextDecoder().decode(z.data):z.data;this.debug(`<<< ${H}`)}I.parseChunk(z.data,this.appendMissingNULLonIncoming)},this._webSocket.onclose=z=>{this.debug(`Connection closed to ${this._webSocket.url}`),this._cleanUp(),this.onWebSocketClose(z)},this._webSocket.onerror=z=>{this.onWebSocketError(z)};const X=()=>{const z=Object.assign({},this.connectHeaders);this.debug("Web Socket Opened..."),z["accept-version"]=this.stompVersions.supportedVersions(),z["heart-beat"]=[this.heartbeatOutgoing,this.heartbeatIncoming].join(","),this._transmit({command:"CONNECT",headers:z})};this._webSocket.readyState===i.StompSocketState.OPEN?X():this._webSocket.onopen=X}_setupHeartbeat(I){if(I.version!==R.V1_1&&I.version!==R.V1_2||!I["heart-beat"])return;const[X,z]=I["heart-beat"].split(",").map(H=>parseInt(H,10));if(this.heartbeatOutgoing!==0&&z!==0){const H=Math.max(this.heartbeatOutgoing,z);this.debug(`send PING every ${H}ms`),this._pinger=new S(H,this._client.heartbeatStrategy,this.debug),this._pinger.start(()=>{this._webSocket.readyState===i.StompSocketState.OPEN&&(this._webSocket.send(u.LF),this.debug(">>> PING"))})}if(this.heartbeatIncoming!==0&&X!==0){const H=Math.max(this.heartbeatIncoming,X);this.debug(`check PONG every ${H}ms`),this._ponger=setInterval(()=>{const Q=Date.now()-this._lastServerActivityTS;Q>H*this.heartbeatToleranceMultiplier&&(this.debug(`did not receive server activity for the last ${Q}ms`),this.onHeartbeatLost(),this._closeOrDiscardWebsocket())},H)}}_closeOrDiscardWebsocket(){this.discardWebsocketOnCommFailure?(this.debug("Discarding websocket, the underlying socket may linger for a while"),this.discardWebsocket()):(this.debug("Issuing close on the websocket"),this._closeWebsocket())}forceDisconnect(){this._webSocket&&(this._webSocket.readyState===i.StompSocketState.CONNECTING||this._webSocket.readyState===i.StompSocketState.OPEN)&&this._closeOrDiscardWebsocket()}_closeWebsocket(){this._webSocket.onmessage=()=>{},this._webSocket.close()}discardWebsocket(){typeof this._webSocket.terminate!="function"&&o(this._webSocket,I=>this.debug(I)),this._webSocket.terminate()}_transmit(I){const{command:X,headers:z,body:H,binaryBody:Q,skipContentLengthHeader:Ee}=I,ae=new h({command:X,headers:z,body:H,binaryBody:Q,escapeHeaderValues:this._escapeHeaderValues,skipContentLengthHeader:Ee});let ve=ae.serialize();if(this.logRawCommunication?this.debug(`>>> ${ve}`):this.debug(`>>> ${ae}`),this.forceBinaryWSFrames&&typeof ve=="string"&&(ve=new TextEncoder().encode(ve)),typeof ve!="string"||!this.splitLargeFrames)this._webSocket.send(ve);else{let me=ve;for(;me.length>0;){const Le=me.substring(0,this.maxWebSocketChunkSize);me=me.substring(this.maxWebSocketChunkSize),this._webSocket.send(Le),this.debug(`chunk sent = ${Le.length}, remaining = ${me.length}`)}}}dispose(){if(this.connected)try{const I=Object.assign({},this.disconnectHeaders);I.receipt||(I.receipt=`close-${this._counter++}`),this.watchForReceipt(I.receipt,X=>{this._closeWebsocket(),this._cleanUp(),this.onDisconnect(X)}),this._transmit({command:"DISCONNECT",headers:I})}catch(I){this.debug(`Ignoring error during disconnect ${I}`)}else(this._webSocket.readyState===i.StompSocketState.CONNECTING||this._webSocket.readyState===i.StompSocketState.OPEN)&&this._closeWebsocket()}_cleanUp(){this._connected=!1,this._pinger&&(this._pinger.stop(),this._pinger=void 0),this._ponger&&(clearInterval(this._ponger),this._ponger=void 0)}publish(I){const{destination:X,headers:z,body:H,binaryBody:Q,skipContentLengthHeader:Ee}=I,ae=Object.assign({destination:X},z);this._transmit({command:"SEND",headers:ae,body:H,binaryBody:Q,skipContentLengthHeader:Ee})}watchForReceipt(I,X){this._receiptWatchers[I]=X}subscribe(I,X,z={}){z=Object.assign({},z),z.id||(z.id=`sub-${this._counter++}`),z.destination=I,this._subscriptions[z.id]=X,this._transmit({command:"SUBSCRIBE",headers:z});const H=this;return{id:z.id,unsubscribe(Q){return H.unsubscribe(z.id,Q)}}}unsubscribe(I,X={}){X=Object.assign({},X),delete this._subscriptions[I],X.id=I,this._transmit({command:"UNSUBSCRIBE",headers:X})}begin(I){const X=I||`tx-${this._counter++}`;this._transmit({command:"BEGIN",headers:{transaction:X}});const z=this;return{id:X,commit(){z.commit(X)},abort(){z.abort(X)}}}commit(I){this._transmit({command:"COMMIT",headers:{transaction:I}})}abort(I){this._transmit({command:"ABORT",headers:{transaction:I}})}ack(I,X,z={}){z=Object.assign({},z),this._connectedVersion===R.V1_2?z.id=I:z["message-id"]=I,z.subscription=X,this._transmit({command:"ACK",headers:z})}nack(I,X,z={}){return z=Object.assign({},z),this._connectedVersion===R.V1_2?z.id=I:z["message-id"]=I,z.subscription=X,this._transmit({command:"NACK",headers:z})}}class D{get webSocket(){return this._stompHandler?._webSocket}get disconnectHeaders(){return this._disconnectHeaders}set disconnectHeaders(I){this._disconnectHeaders=I,this._stompHandler&&(this._stompHandler.disconnectHeaders=this._disconnectHeaders)}get connected(){return!!this._stompHandler&&this._stompHandler.connected}get connectedVersion(){return this._stompHandler?this._stompHandler.connectedVersion:void 0}get active(){return this.state===i.ActivationState.ACTIVE}_changeState(I){this.state=I,this.onChangeState(I)}constructor(I={}){this.stompVersions=R.default,this.connectionTimeout=0,this.reconnectDelay=5e3,this._nextReconnectDelay=0,this.maxReconnectDelay=900*1e3,this.reconnectTimeMode=i.ReconnectionTimeMode.LINEAR,this.heartbeatIncoming=1e4,this.heartbeatToleranceMultiplier=2,this.heartbeatOutgoing=1e4,this.heartbeatStrategy=i.TickerStrategy.Interval,this.splitLargeFrames=!1,this.maxWebSocketChunkSize=8*1024,this.forceBinaryWSFrames=!1,this.appendMissingNULLonIncoming=!1,this.discardWebsocketOnCommFailure=!1,this.state=i.ActivationState.INACTIVE;const X=()=>{};this.debug=X,this.beforeConnect=X,this.onConnect=X,this.onDisconnect=X,this.onUnhandledMessage=X,this.onUnhandledReceipt=X,this.onUnhandledFrame=X,this.onHeartbeatReceived=X,this.onHeartbeatLost=X,this.onStompError=X,this.onWebSocketClose=X,this.onWebSocketError=X,this.logRawCommunication=!1,this.onChangeState=X,this.connectHeaders={},this._disconnectHeaders={},this.configure(I)}configure(I){Object.assign(this,I),this.maxReconnectDelay>0&&this.maxReconnectDelay<this.reconnectDelay&&(this.debug(`Warning: maxReconnectDelay (${this.maxReconnectDelay}ms) is less than reconnectDelay (${this.reconnectDelay}ms). Using reconnectDelay as the maxReconnectDelay delay.`),this.maxReconnectDelay=this.reconnectDelay)}activate(){const I=()=>{if(this.active){this.debug("Already ACTIVE, ignoring request to activate");return}this._changeState(i.ActivationState.ACTIVE),this._nextReconnectDelay=this.reconnectDelay,this._connect()};this.state===i.ActivationState.DEACTIVATING?(this.debug("Waiting for deactivation to finish before activating"),this.deactivate().then(()=>{I()})):I()}async _connect(){if(await this.beforeConnect(this),this._stompHandler){this.debug("There is already a stompHandler, skipping the call to connect");return}if(!this.active){this.debug("Client has been marked inactive, will not attempt to connect");return}this.connectionTimeout>0&&(this._connectionWatcher&&clearTimeout(this._connectionWatcher),this._connectionWatcher=setTimeout(()=>{this.connected||(this.debug(`Connection not established in ${this.connectionTimeout}ms, closing socket`),this.forceDisconnect())},this.connectionTimeout)),this.debug("Opening Web Socket...");const I=this._createWebSocket();this._stompHandler=new _(this,I,{debug:this.debug,stompVersions:this.stompVersions,connectHeaders:this.connectHeaders,disconnectHeaders:this._disconnectHeaders,heartbeatIncoming:this.heartbeatIncoming,heartbeatGracePeriods:this.heartbeatToleranceMultiplier,heartbeatOutgoing:this.heartbeatOutgoing,heartbeatStrategy:this.heartbeatStrategy,splitLargeFrames:this.splitLargeFrames,maxWebSocketChunkSize:this.maxWebSocketChunkSize,forceBinaryWSFrames:this.forceBinaryWSFrames,logRawCommunication:this.logRawCommunication,appendMissingNULLonIncoming:this.appendMissingNULLonIncoming,discardWebsocketOnCommFailure:this.discardWebsocketOnCommFailure,onConnect:X=>{if(this._connectionWatcher&&(clearTimeout(this._connectionWatcher),this._connectionWatcher=void 0),this._nextReconnectDelay=this.reconnectDelay,!this.active){this.debug("STOMP got connected while deactivate was issued, will disconnect now"),this._disposeStompHandler();return}this.onConnect(X)},onDisconnect:X=>{this.onDisconnect(X)},onStompError:X=>{this.onStompError(X)},onWebSocketClose:X=>{this._stompHandler=void 0,this.state===i.ActivationState.DEACTIVATING&&this._changeState(i.ActivationState.INACTIVE),this.onWebSocketClose(X),this.active&&this._schedule_reconnect()},onWebSocketError:X=>{this.onWebSocketError(X)},onUnhandledMessage:X=>{this.onUnhandledMessage(X)},onUnhandledReceipt:X=>{this.onUnhandledReceipt(X)},onUnhandledFrame:X=>{this.onUnhandledFrame(X)},onHeartbeatReceived:()=>{this.onHeartbeatReceived()},onHeartbeatLost:()=>{this.onHeartbeatLost()}}),this._stompHandler.start()}_createWebSocket(){let I;if(this.webSocketFactory)I=this.webSocketFactory();else if(this.brokerURL)I=new WebSocket(this.brokerURL,this.stompVersions.protocolVersions());else throw new Error("Either brokerURL or webSocketFactory must be provided");return I.binaryType="arraybuffer",I}_schedule_reconnect(){this._nextReconnectDelay>0&&(this.debug(`STOMP: scheduling reconnection in ${this._nextReconnectDelay}ms`),this._reconnector=setTimeout(()=>{this.reconnectTimeMode===i.ReconnectionTimeMode.EXPONENTIAL&&(this._nextReconnectDelay=this._nextReconnectDelay*2,this.maxReconnectDelay!==0&&(this._nextReconnectDelay=Math.min(this._nextReconnectDelay,this.maxReconnectDelay))),this._connect()},this._nextReconnectDelay))}async deactivate(I={}){const X=I.force||!1,z=this.active;let H;if(this.state===i.ActivationState.INACTIVE)return this.debug("Already INACTIVE, nothing more to do"),Promise.resolve();if(this._changeState(i.ActivationState.DEACTIVATING),this._nextReconnectDelay=0,this._reconnector&&(clearTimeout(this._reconnector),this._reconnector=void 0),this._stompHandler&&this.webSocket.readyState!==i.StompSocketState.CLOSED){const Q=this._stompHandler.onWebSocketClose;H=new Promise((Ee,ae)=>{this._stompHandler.onWebSocketClose=ve=>{Q(ve),Ee()}})}else return this._changeState(i.ActivationState.INACTIVE),Promise.resolve();return X?this._stompHandler?.discardWebsocket():z&&this._disposeStompHandler(),H}forceDisconnect(){this._stompHandler&&this._stompHandler.forceDisconnect()}_disposeStompHandler(){this._stompHandler&&this._stompHandler.dispose()}publish(I){this._checkConnection(),this._stompHandler.publish(I)}_checkConnection(){if(!this.connected)throw new TypeError("There is no underlying STOMP connection")}watchForReceipt(I,X){this._checkConnection(),this._stompHandler.watchForReceipt(I,X)}subscribe(I,X,z={}){return this._checkConnection(),this._stompHandler.subscribe(I,X,z)}unsubscribe(I,X={}){this._checkConnection(),this._stompHandler.unsubscribe(I,X)}begin(I){return this._checkConnection(),this._stompHandler.begin(I)}commit(I){this._checkConnection(),this._stompHandler.commit(I)}abort(I){this._checkConnection(),this._stompHandler.abort(I)}ack(I,X,z={}){this._checkConnection(),this._stompHandler.ack(I,X,z)}nack(I,X,z={}){this._checkConnection(),this._stompHandler.nack(I,X,z)}}class L{}class P{}class Y{constructor(I){this.client=I}get outgoing(){return this.client.heartbeatOutgoing}set outgoing(I){this.client.heartbeatOutgoing=I}get incoming(){return this.client.heartbeatIncoming}set incoming(I){this.client.heartbeatIncoming=I}}class j extends D{constructor(I){super(),this.maxWebSocketFrameSize=16*1024,this._heartbeatInfo=new Y(this),this.reconnect_delay=0,this.webSocketFactory=I,this.debug=(...X)=>{console.log(...X)}}_parseConnect(...I){let X,z,H,Q={};if(I.length<2)throw new Error("Connect requires at least 2 arguments");return typeof I[1]=="function"?[Q,z,H,X]=I:I.length===6?[Q.login,Q.passcode,z,H,X,Q.host]=I:[Q.login,Q.passcode,z,H,X]=I,[Q,z,H,X]}connect(...I){const X=this._parseConnect(...I);X[0]&&(this.connectHeaders=X[0]),X[1]&&(this.onConnect=X[1]),X[2]&&(this.onStompError=X[2]),X[3]&&(this.onWebSocketClose=X[3]),super.activate()}disconnect(I,X={}){I&&(this.onDisconnect=I),this.disconnectHeaders=X,super.deactivate()}send(I,X={},z=""){X=Object.assign({},X);const H=X["content-length"]===!1;H&&delete X["content-length"],this.publish({destination:I,headers:X,body:z,skipContentLengthHeader:H})}set reconnect_delay(I){this.reconnectDelay=I}get ws(){return this.webSocket}get version(){return this.connectedVersion}get onreceive(){return this.onUnhandledMessage}set onreceive(I){this.onUnhandledMessage=I}get onreceipt(){return this.onUnhandledReceipt}set onreceipt(I){this.onUnhandledReceipt=I}get heartbeat(){return this._heartbeatInfo}set heartbeat(I){this.heartbeatIncoming=I.incoming,this.heartbeatOutgoing=I.outgoing}}class U{static client(I,X){X==null&&(X=R.default.protocolVersions());const z=()=>{const H=U.WebSocketClass||WebSocket;return new H(I,X)};return new j(z)}static over(I){let X;return typeof I=="function"?X=I:(console.warn("Stomp.over did not receive a factory, auto reconnect will not work. Please see https://stomp-js.github.io/api-docs/latest/classes/Stomp.html#over"),X=()=>I),new j(X)}}U.WebSocketClass=null,i.Client=D,i.CompatClient=j,i.FrameImpl=h,i.Parser=E,i.Stomp=U,i.StompConfig=L,i.StompHeaders=P,i.Versions=R}))})(Nc,Nc.exports)),Nc.exports}var OR=RR(),X1={exports:{}},_d={},hv;function MR(){return hv||(hv=1,globalThis.crypto&&globalThis.crypto.getRandomValues?_d.randomBytes=function(e){var t=new Uint8Array(e);return globalThis.crypto.getRandomValues(t),t}:_d.randomBytes=function(e){for(var t=new Array(e),i=0;i<e;i++)t[i]=Math.floor(Math.random()*256);return t}),_d}var W1,fv;function Cl(){if(fv)return W1;fv=1;var e=MR(),t="abcdefghijklmnopqrstuvwxyz012345";return W1={string:function(i){for(var o=t.length,u=e.randomBytes(i),h=[],p=0;p<i;p++)h.push(t.substr(u[p]%o,1));return h.join("")},number:function(i){return Math.floor(Math.random()*i)},numberString:function(i){var o=(""+(i-1)).length,u=new Array(o+1).join("0");return(u+this.number(i)).slice(-o)}},W1}var mv;function Oa(){return mv||(mv=1,(function(e){var t=Cl(),i={},o=!1,u=globalThis.chrome&&globalThis.chrome.app&&globalThis.chrome.app.runtime;e.exports={attachEvent:function(p,x){typeof globalThis.addEventListener<"u"?globalThis.addEventListener(p,x,!1):globalThis.document&&globalThis.attachEvent&&(globalThis.document.attachEvent("on"+p,x),globalThis.attachEvent("on"+p,x))},detachEvent:function(p,x){typeof globalThis.addEventListener<"u"?globalThis.removeEventListener(p,x,!1):globalThis.document&&globalThis.detachEvent&&(globalThis.document.detachEvent("on"+p,x),globalThis.detachEvent("on"+p,x))},unloadAdd:function(p){if(u)return null;var x=t.string(8);return i[x]=p,o&&setTimeout(this.triggerUnloadCallbacks,0),x},unloadDel:function(p){p in i&&delete i[p]},triggerUnloadCallbacks:function(){for(var p in i)i[p](),delete i[p]}};var h=function(){o||(o=!0,e.exports.triggerUnloadCallbacks())};u||e.exports.attachEvent("unload",h)})(X1)),X1.exports}var Q1,gv;function IR(){return gv||(gv=1,Q1=function(t,i){if(i=i.split(":")[0],t=+t,!t)return!1;switch(i){case"http":case"ws":return t!==80;case"https":case"wss":return t!==443;case"ftp":return t!==21;case"gopher":return t!==70;case"file":return!1}return t!==0}),Q1}var Dd={},pv;function _R(){if(pv)return Dd;pv=1;var e=Object.prototype.hasOwnProperty,t;function i(p){try{return decodeURIComponent(p.replace(/\+/g," "))}catch{return null}}function o(p){try{return encodeURIComponent(p)}catch{return null}}function u(p){for(var x=/([^=?#&]+)=?([^&]*)/g,w={},b;b=x.exec(p);){var E=i(b[1]),S=i(b[2]);E===null||S===null||E in w||(w[E]=S)}return w}function h(p,x){x=x||"";var w=[],b,E;typeof x!="string"&&(x="?");for(E in p)if(e.call(p,E)){if(b=p[E],!b&&(b===null||b===t||isNaN(b))&&(b=""),E=o(E),b=o(b),E===null||b===null)continue;w.push(E+"="+b)}return w.length?x+w.join("&"):""}return Dd.stringify=h,Dd.parse=u,Dd}var Z1,yv;function x3(){if(yv)return Z1;yv=1;var e=IR(),t=_R(),i=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,o=/[\n\r\t]/g,u=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,h=/:\d+$/,p=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,x=/^[a-zA-Z]:/;function w(j){return(j||"").toString().replace(i,"")}var b=[["#","hash"],["?","query"],function(U,V){return R(V.protocol)?U.replace(/\\/g,"/"):U},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],E={hash:1,query:1};function S(j){var U;typeof window<"u"?U=window:typeof globalThis<"u"?U=globalThis:typeof self<"u"?U=self:U={};var V=U.location||{};j=j||V;var I={},X=typeof j,z;if(j.protocol==="blob:")I=new L(unescape(j.pathname),{});else if(X==="string"){I=new L(j,{});for(z in E)delete I[z]}else if(X==="object"){for(z in j)z in E||(I[z]=j[z]);I.slashes===void 0&&(I.slashes=u.test(j.href))}return I}function R(j){return j==="file:"||j==="ftp:"||j==="http:"||j==="https:"||j==="ws:"||j==="wss:"}function _(j,U){j=w(j),j=j.replace(o,""),U=U||{};var V=p.exec(j),I=V[1]?V[1].toLowerCase():"",X=!!V[2],z=!!V[3],H=0,Q;return X?z?(Q=V[2]+V[3]+V[4],H=V[2].length+V[3].length):(Q=V[2]+V[4],H=V[2].length):z?(Q=V[3]+V[4],H=V[3].length):Q=V[4],I==="file:"?H>=2&&(Q=Q.slice(2)):R(I)?Q=V[4]:I?X&&(Q=Q.slice(2)):H>=2&&R(U.protocol)&&(Q=V[4]),{protocol:I,slashes:X||R(I),slashesCount:H,rest:Q}}function D(j,U){if(j==="")return U;for(var V=(U||"/").split("/").slice(0,-1).concat(j.split("/")),I=V.length,X=V[I-1],z=!1,H=0;I--;)V[I]==="."?V.splice(I,1):V[I]===".."?(V.splice(I,1),H++):H&&(I===0&&(z=!0),V.splice(I,1),H--);return z&&V.unshift(""),(X==="."||X==="..")&&V.push(""),V.join("/")}function L(j,U,V){if(j=w(j),j=j.replace(o,""),!(this instanceof L))return new L(j,U,V);var I,X,z,H,Q,Ee,ae=b.slice(),ve=typeof U,me=this,Le=0;for(ve!=="object"&&ve!=="string"&&(V=U,U=null),V&&typeof V!="function"&&(V=t.parse),U=S(U),X=_(j||"",U),I=!X.protocol&&!X.slashes,me.slashes=X.slashes||I&&U.slashes,me.protocol=X.protocol||U.protocol||"",j=X.rest,(X.protocol==="file:"&&(X.slashesCount!==2||x.test(j))||!X.slashes&&(X.protocol||X.slashesCount<2||!R(me.protocol)))&&(ae[3]=[/(.*)/,"pathname"]);Le<ae.length;Le++){if(H=ae[Le],typeof H=="function"){j=H(j,me);continue}z=H[0],Ee=H[1],z!==z?me[Ee]=j:typeof z=="string"?(Q=z==="@"?j.lastIndexOf(z):j.indexOf(z),~Q&&(typeof H[2]=="number"?(me[Ee]=j.slice(0,Q),j=j.slice(Q+H[2])):(me[Ee]=j.slice(Q),j=j.slice(0,Q)))):(Q=z.exec(j))&&(me[Ee]=Q[1],j=j.slice(0,Q.index)),me[Ee]=me[Ee]||I&&H[3]&&U[Ee]||"",H[4]&&(me[Ee]=me[Ee].toLowerCase())}V&&(me.query=V(me.query)),I&&U.slashes&&me.pathname.charAt(0)!=="/"&&(me.pathname!==""||U.pathname!=="")&&(me.pathname=D(me.pathname,U.pathname)),me.pathname.charAt(0)!=="/"&&R(me.protocol)&&(me.pathname="/"+me.pathname),e(me.port,me.protocol)||(me.host=me.hostname,me.port=""),me.username=me.password="",me.auth&&(Q=me.auth.indexOf(":"),~Q?(me.username=me.auth.slice(0,Q),me.username=encodeURIComponent(decodeURIComponent(me.username)),me.password=me.auth.slice(Q+1),me.password=encodeURIComponent(decodeURIComponent(me.password))):me.username=encodeURIComponent(decodeURIComponent(me.auth)),me.auth=me.password?me.username+":"+me.password:me.username),me.origin=me.protocol!=="file:"&&R(me.protocol)&&me.host?me.protocol+"//"+me.host:"null",me.href=me.toString()}function P(j,U,V){var I=this;switch(j){case"query":typeof U=="string"&&U.length&&(U=(V||t.parse)(U)),I[j]=U;break;case"port":I[j]=U,e(U,I.protocol)?U&&(I.host=I.hostname+":"+U):(I.host=I.hostname,I[j]="");break;case"hostname":I[j]=U,I.port&&(U+=":"+I.port),I.host=U;break;case"host":I[j]=U,h.test(U)?(U=U.split(":"),I.port=U.pop(),I.hostname=U.join(":")):(I.hostname=U,I.port="");break;case"protocol":I.protocol=U.toLowerCase(),I.slashes=!V;break;case"pathname":case"hash":if(U){var X=j==="pathname"?"/":"#";I[j]=U.charAt(0)!==X?X+U:U}else I[j]=U;break;case"username":case"password":I[j]=encodeURIComponent(U);break;case"auth":var z=U.indexOf(":");~z?(I.username=U.slice(0,z),I.username=encodeURIComponent(decodeURIComponent(I.username)),I.password=U.slice(z+1),I.password=encodeURIComponent(decodeURIComponent(I.password))):I.username=encodeURIComponent(decodeURIComponent(U))}for(var H=0;H<b.length;H++){var Q=b[H];Q[4]&&(I[Q[1]]=I[Q[1]].toLowerCase())}return I.auth=I.password?I.username+":"+I.password:I.username,I.origin=I.protocol!=="file:"&&R(I.protocol)&&I.host?I.protocol+"//"+I.host:"null",I.href=I.toString(),I}function Y(j){(!j||typeof j!="function")&&(j=t.stringify);var U,V=this,I=V.host,X=V.protocol;X&&X.charAt(X.length-1)!==":"&&(X+=":");var z=X+(V.protocol&&V.slashes||R(V.protocol)?"//":"");return V.username?(z+=V.username,V.password&&(z+=":"+V.password),z+="@"):V.password?(z+=":"+V.password,z+="@"):V.protocol!=="file:"&&R(V.protocol)&&!I&&V.pathname!=="/"&&(z+="@"),(I[I.length-1]===":"||h.test(V.hostname)&&!V.port)&&(I+=":"),z+=I+V.pathname,U=typeof V.query=="object"?j(V.query):V.query,U&&(z+=U.charAt(0)!=="?"?"?"+U:U),V.hash&&(z+=V.hash),z}return L.prototype={set:P,toString:Y},L.extractProtocol=_,L.location=S,L.trimLeft=w,L.qs=t,Z1=L,Z1}var K1,bv;function bi(){if(bv)return K1;bv=1;var e=x3();return K1={getOrigin:function(t){if(!t)return null;var i=new e(t);if(i.protocol==="file:")return null;var o=i.port;return o||(o=i.protocol==="https:"?"443":"80"),i.protocol+"//"+i.hostname+":"+o},isOriginEqual:function(t,i){var o=this.getOrigin(t)===this.getOrigin(i);return o},isSchemeEqual:function(t,i){return t.split(":")[0]===i.split(":")[0]},addPath:function(t,i){var o=t.split("?");return o[0]+i+(o[1]?"?"+o[1]:"")},addQuery:function(t,i){return t+(t.indexOf("?")===-1?"?"+i:"&"+i)},isLoopbackAddr:function(t){return/^127\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(t)||/^\[::1\]$/.test(t)}},K1}var jd={exports:{}},vv;function Mt(){return vv||(vv=1,typeof Object.create=="function"?jd.exports=function(t,i){i&&(t.super_=i,t.prototype=Object.create(i.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:jd.exports=function(t,i){if(i){t.super_=i;var o=function(){};o.prototype=i.prototype,t.prototype=new o,t.prototype.constructor=t}}),jd.exports}var $1={},J1,xv;function w3(){if(xv)return J1;xv=1;function e(){this._listeners={}}return e.prototype.addEventListener=function(t,i){t in this._listeners||(this._listeners[t]=[]);var o=this._listeners[t];o.indexOf(i)===-1&&(o=o.concat([i])),this._listeners[t]=o},e.prototype.removeEventListener=function(t,i){var o=this._listeners[t];if(o){var u=o.indexOf(i);if(u!==-1){o.length>1?this._listeners[t]=o.slice(0,u).concat(o.slice(u+1)):delete this._listeners[t];return}}},e.prototype.dispatchEvent=function(){var t=arguments[0],i=t.type,o=arguments.length===1?[t]:Array.apply(null,arguments);if(this["on"+i]&&this["on"+i].apply(this,o),i in this._listeners)for(var u=this._listeners[i],h=0;h<u.length;h++)u[h].apply(this,o)},J1=e,J1}var wv;function vr(){if(wv)return $1;wv=1;var e=Mt(),t=w3();function i(){t.call(this)}return e(i,t),i.prototype.removeAllListeners=function(o){o?delete this._listeners[o]:this._listeners={}},i.prototype.once=function(o,u){var h=this,p=!1;function x(){h.removeListener(o,x),p||(p=!0,u.apply(this,arguments))}this.on(o,x)},i.prototype.emit=function(){var o=arguments[0],u=this._listeners[o];if(u){for(var h=arguments.length,p=new Array(h-1),x=1;x<h;x++)p[x-1]=arguments[x];for(var w=0;w<u.length;w++)u[w].apply(this,p)}},i.prototype.on=i.prototype.addListener=t.prototype.addEventListener,i.prototype.removeListener=t.prototype.removeEventListener,$1.EventEmitter=i,$1}var Ld={exports:{}},Ev;function DR(){if(Ev)return Ld.exports;Ev=1;var e=globalThis.WebSocket||globalThis.MozWebSocket;return e?Ld.exports=function(i){return new e(i)}:Ld.exports=void 0,Ld.exports}var e0,Cv;function jR(){if(Cv)return e0;Cv=1;var e=Oa(),t=bi(),i=Mt(),o=vr().EventEmitter,u=DR(),h=function(){};function p(x,w,b){if(!p.enabled())throw new Error("Transport created when disabled");o.call(this);var E=this,S=t.addPath(x,"/websocket");S.slice(0,5)==="https"?S="wss"+S.slice(5):S="ws"+S.slice(4),this.url=S,this.ws=new u(this.url,[],b),this.ws.onmessage=function(R){h("message event",R.data),E.emit("message",R.data)},this.unloadRef=e.unloadAdd(function(){E.ws.close()}),this.ws.onclose=function(R){h("close event",R.code,R.reason),E.emit("close",R.code,R.reason),E._cleanup()},this.ws.onerror=function(R){E.emit("close",1006,"WebSocket connection broken"),E._cleanup()}}return i(p,o),p.prototype.send=function(x){var w="["+x+"]";this.ws.send(w)},p.prototype.close=function(){var x=this.ws;this._cleanup(),x&&x.close()},p.prototype._cleanup=function(){var x=this.ws;x&&(x.onmessage=x.onclose=x.onerror=null),e.unloadDel(this.unloadRef),this.unloadRef=this.ws=null,this.removeAllListeners()},p.enabled=function(){return!!u},p.transportName="websocket",p.roundTrips=2,e0=p,e0}var t0,Sv;function LR(){if(Sv)return t0;Sv=1;var e=Mt(),t=vr().EventEmitter,i=function(){};function o(u,h){t.call(this),this.sendBuffer=[],this.sender=h,this.url=u}return e(o,t),o.prototype.send=function(u){this.sendBuffer.push(u),this.sendStop||this.sendSchedule()},o.prototype.sendScheduleWait=function(){var u=this,h;this.sendStop=function(){u.sendStop=null,clearTimeout(h)},h=setTimeout(function(){u.sendStop=null,u.sendSchedule()},25)},o.prototype.sendSchedule=function(){i("sendSchedule",this.sendBuffer.length);var u=this;if(this.sendBuffer.length>0){var h="["+this.sendBuffer.join(",")+"]";this.sendStop=this.sender(this.url,h,function(p){u.sendStop=null,p?(u.emit("close",p.code||1006,"Sending error: "+p),u.close()):u.sendScheduleWait()}),this.sendBuffer=[]}},o.prototype._cleanup=function(){this.removeAllListeners()},o.prototype.close=function(){this._cleanup(),this.sendStop&&(this.sendStop(),this.sendStop=null)},t0=o,t0}var n0,Av;function BR(){if(Av)return n0;Av=1;var e=Mt(),t=vr().EventEmitter,i=function(){};function o(u,h,p){t.call(this),this.Receiver=u,this.receiveUrl=h,this.AjaxObject=p,this._scheduleReceiver()}return e(o,t),o.prototype._scheduleReceiver=function(){var u=this,h=this.poll=new this.Receiver(this.receiveUrl,this.AjaxObject);h.on("message",function(p){u.emit("message",p)}),h.once("close",function(p,x){i("close",p,x,u.pollIsClosing),u.poll=h=null,u.pollIsClosing||(x==="network"?u._scheduleReceiver():(u.emit("close",p||1006,x),u.removeAllListeners()))})},o.prototype.abort=function(){this.removeAllListeners(),this.pollIsClosing=!0,this.poll&&this.poll.abort()},n0=o,n0}var r0,Nv;function E3(){if(Nv)return r0;Nv=1;var e=Mt(),t=bi(),i=LR(),o=BR();function u(h,p,x,w,b){var E=t.addPath(h,p),S=this;i.call(this,h,x),this.poll=new o(w,E,b),this.poll.on("message",function(R){S.emit("message",R)}),this.poll.once("close",function(R,_){S.poll=null,S.emit("close",R,_),S.close()})}return e(u,i),u.prototype.close=function(){i.prototype.close.call(this),this.removeAllListeners(),this.poll&&(this.poll.abort(),this.poll=null)},r0=u,r0}var i0,Tv;function Sl(){if(Tv)return i0;Tv=1;var e=Mt(),t=bi(),i=E3();function o(h){return function(p,x,w){var b={};typeof x=="string"&&(b.headers={"Content-type":"text/plain"});var E=t.addPath(p,"/xhr_send"),S=new h("POST",E,x,b);return S.once("finish",function(R){if(S=null,R!==200&&R!==204)return w(new Error("http status "+R));w()}),function(){S.close(),S=null;var R=new Error("Aborted");R.code=1e3,w(R)}}}function u(h,p,x,w){i.call(this,h,p,o(w),x,w)}return e(u,i),i0=u,i0}var s0,Rv;function _h(){if(Rv)return s0;Rv=1;var e=Mt(),t=vr().EventEmitter;function i(o,u){t.call(this);var h=this;this.bufferPosition=0,this.xo=new u("POST",o,null),this.xo.on("chunk",this._chunkHandler.bind(this)),this.xo.once("finish",function(p,x){h._chunkHandler(p,x),h.xo=null;var w=p===200?"network":"permanent";h.emit("close",null,w),h._cleanup()})}return e(i,t),i.prototype._chunkHandler=function(o,u){if(!(o!==200||!u))for(var h=-1;;this.bufferPosition+=h+1){var p=u.slice(this.bufferPosition);if(h=p.indexOf(`
`),h===-1)break;var x=p.slice(0,h);x&&this.emit("message",x)}},i.prototype._cleanup=function(){this.removeAllListeners()},i.prototype.abort=function(){this.xo&&(this.xo.close(),this.emit("close",null,"user"),this.xo=null),this._cleanup()},s0=i,s0}var a0,Ov;function C3(){if(Ov)return a0;Ov=1;var e=vr().EventEmitter,t=Mt(),i=Oa(),o=bi(),u=globalThis.XMLHttpRequest,h=function(){};function p(b,E,S,R){var _=this;e.call(this),setTimeout(function(){_._start(b,E,S,R)},0)}t(p,e),p.prototype._start=function(b,E,S,R){var _=this;try{this.xhr=new u}catch{}if(!this.xhr){this.emit("finish",0,"no xhr support"),this._cleanup();return}E=o.addQuery(E,"t="+ +new Date),this.unloadRef=i.unloadAdd(function(){_._cleanup(!0)});try{this.xhr.open(b,E,!0),this.timeout&&"timeout"in this.xhr&&(this.xhr.timeout=this.timeout,this.xhr.ontimeout=function(){h("xhr timeout"),_.emit("finish",0,""),_._cleanup(!1)})}catch{this.emit("finish",0,""),this._cleanup(!1);return}if((!R||!R.noCredentials)&&p.supportsCORS&&(this.xhr.withCredentials=!0),R&&R.headers)for(var D in R.headers)this.xhr.setRequestHeader(D,R.headers[D]);this.xhr.onreadystatechange=function(){if(_.xhr){var L=_.xhr,P,Y;switch(h("readyState",L.readyState),L.readyState){case 3:try{Y=L.status,P=L.responseText}catch{}Y===1223&&(Y=204),Y===200&&P&&P.length>0&&_.emit("chunk",Y,P);break;case 4:Y=L.status,Y===1223&&(Y=204),(Y===12005||Y===12029)&&(Y=0),h("finish",Y,L.responseText),_.emit("finish",Y,L.responseText),_._cleanup(!1);break}}};try{_.xhr.send(S)}catch{_.emit("finish",0,""),_._cleanup(!1)}},p.prototype._cleanup=function(b){if(this.xhr){if(this.removeAllListeners(),i.unloadDel(this.unloadRef),this.xhr.onreadystatechange=function(){},this.xhr.ontimeout&&(this.xhr.ontimeout=null),b)try{this.xhr.abort()}catch{}this.unloadRef=this.xhr=null}},p.prototype.close=function(){this._cleanup(!0)},p.enabled=!!u;var x=["Active"].concat("Object").join("X");!p.enabled&&x in globalThis&&(u=function(){try{return new globalThis[x]("Microsoft.XMLHTTP")}catch{return null}},p.enabled=!!new u);var w=!1;try{w="withCredentials"in new u}catch{}return p.supportsCORS=w,a0=p,a0}var o0,Mv;function Dh(){if(Mv)return o0;Mv=1;var e=Mt(),t=C3();function i(o,u,h,p){t.call(this,o,u,h,p)}return e(i,t),i.enabled=t.enabled&&t.supportsCORS,o0=i,o0}var l0,Iv;function eu(){if(Iv)return l0;Iv=1;var e=Mt(),t=C3();function i(o,u,h){t.call(this,o,u,h,{noCredentials:!0})}return e(i,t),i.enabled=t.enabled,l0=i,l0}var c0,_v;function tu(){return _v||(_v=1,c0={isOpera:function(){return globalThis.navigator&&/opera/i.test(globalThis.navigator.userAgent)},isKonqueror:function(){return globalThis.navigator&&/konqueror/i.test(globalThis.navigator.userAgent)},hasDomain:function(){if(!globalThis.document)return!0;try{return!!globalThis.document.domain}catch{return!1}}}),c0}var u0,Dv;function kR(){if(Dv)return u0;Dv=1;var e=Mt(),t=Sl(),i=_h(),o=Dh(),u=eu(),h=tu();function p(x){if(!u.enabled&&!o.enabled)throw new Error("Transport created when disabled");t.call(this,x,"/xhr_streaming",i,o)}return e(p,t),p.enabled=function(x){return x.nullOrigin||h.isOpera()?!1:o.enabled},p.transportName="xhr-streaming",p.roundTrips=2,p.needBody=!!globalThis.document,u0=p,u0}var d0,jv;function Ng(){if(jv)return d0;jv=1;var e=vr().EventEmitter,t=Mt(),i=Oa(),o=tu(),u=bi(),h=function(){};function p(x,w,b){var E=this;e.call(this),setTimeout(function(){E._start(x,w,b)},0)}return t(p,e),p.prototype._start=function(x,w,b){var E=this,S=new globalThis.XDomainRequest;w=u.addQuery(w,"t="+ +new Date),S.onerror=function(){E._error()},S.ontimeout=function(){E._error()},S.onprogress=function(){h("progress",S.responseText),E.emit("chunk",200,S.responseText)},S.onload=function(){E.emit("finish",200,S.responseText),E._cleanup(!1)},this.xdr=S,this.unloadRef=i.unloadAdd(function(){E._cleanup(!0)});try{this.xdr.open(x,w),this.timeout&&(this.xdr.timeout=this.timeout),this.xdr.send(b)}catch{this._error()}},p.prototype._error=function(){this.emit("finish",0,""),this._cleanup(!1)},p.prototype._cleanup=function(x){if(this.xdr){if(this.removeAllListeners(),i.unloadDel(this.unloadRef),this.xdr.ontimeout=this.xdr.onerror=this.xdr.onprogress=this.xdr.onload=null,x)try{this.xdr.abort()}catch{}this.unloadRef=this.xdr=null}},p.prototype.close=function(){this._cleanup(!0)},p.enabled=!!(globalThis.XDomainRequest&&o.hasDomain()),d0=p,d0}var h0,Lv;function S3(){if(Lv)return h0;Lv=1;var e=Mt(),t=Sl(),i=_h(),o=Ng();function u(h){if(!o.enabled)throw new Error("Transport created when disabled");t.call(this,h,"/xhr_streaming",i,o)}return e(u,t),u.enabled=function(h){return h.cookie_needed||h.nullOrigin?!1:o.enabled&&h.sameScheme},u.transportName="xdr-streaming",u.roundTrips=2,h0=u,h0}var f0,Bv;function A3(){return Bv||(Bv=1,f0=globalThis.EventSource),f0}var m0,kv;function PR(){if(kv)return m0;kv=1;var e=Mt(),t=vr().EventEmitter,i=A3(),o=function(){};function u(h){t.call(this);var p=this,x=this.es=new i(h);x.onmessage=function(w){o("message",w.data),p.emit("message",decodeURI(w.data))},x.onerror=function(w){o("error",x.readyState);var b=x.readyState!==2?"network":"permanent";p._cleanup(),p._close(b)}}return e(u,t),u.prototype.abort=function(){this._cleanup(),this._close("user")},u.prototype._cleanup=function(){var h=this.es;h&&(h.onmessage=h.onerror=null,h.close(),this.es=null)},u.prototype._close=function(h){var p=this;setTimeout(function(){p.emit("close",null,h),p.removeAllListeners()},200)},m0=u,m0}var g0,Pv;function Uv(){if(Pv)return g0;Pv=1;var e=Mt(),t=Sl(),i=PR(),o=Dh(),u=A3();function h(p){if(!h.enabled())throw new Error("Transport created when disabled");t.call(this,p,"/eventsource",i,o)}return e(h,t),h.enabled=function(){return!!u},h.transportName="eventsource",h.roundTrips=2,g0=h,g0}var p0,zv;function N3(){return zv||(zv=1,p0="1.6.1"),p0}var y0={exports:{}},Fv;function nu(){return Fv||(Fv=1,(function(e){var t=Oa(),i=tu();e.exports={WPrefix:"_jp",currentWindowId:null,polluteGlobalNamespace:function(){e.exports.WPrefix in globalThis||(globalThis[e.exports.WPrefix]={})},postMessage:function(o,u){globalThis.parent!==globalThis&&globalThis.parent.postMessage(JSON.stringify({windowId:e.exports.currentWindowId,type:o,data:u||""}),"*")},createIframe:function(o,u){var h=globalThis.document.createElement("iframe"),p,x,w=function(){clearTimeout(p);try{h.onload=null}catch{}h.onerror=null},b=function(){h&&(w(),setTimeout(function(){h&&h.parentNode.removeChild(h),h=null},0),t.unloadDel(x))},E=function(R){h&&(b(),u(R))},S=function(R,_){setTimeout(function(){try{h&&h.contentWindow&&h.contentWindow.postMessage(R,_)}catch{}},0)};return h.src=o,h.style.display="none",h.style.position="absolute",h.onerror=function(){E("onerror")},h.onload=function(){clearTimeout(p),p=setTimeout(function(){E("onload timeout")},2e3)},globalThis.document.body.appendChild(h),p=setTimeout(function(){E("timeout")},15e3),x=t.unloadAdd(b),{post:S,cleanup:b,loaded:w}},createHtmlfile:function(o,u){var h=["Active"].concat("Object").join("X"),p=new globalThis[h]("htmlfile"),x,w,b,E=function(){clearTimeout(x),b.onerror=null},S=function(){p&&(E(),t.unloadDel(w),b.parentNode.removeChild(b),b=p=null,CollectGarbage())},R=function(L){p&&(S(),u(L))},_=function(L,P){try{setTimeout(function(){b&&b.contentWindow&&b.contentWindow.postMessage(L,P)},0)}catch{}};p.open(),p.write('<html><script>document.domain="'+globalThis.document.domain+'";<\/script></html>'),p.close(),p.parentWindow[e.exports.WPrefix]=globalThis[e.exports.WPrefix];var D=p.createElement("div");return p.body.appendChild(D),b=p.createElement("iframe"),D.appendChild(b),b.src=o,b.onerror=function(){R("onerror")},x=setTimeout(function(){R("timeout")},15e3),w=t.unloadAdd(S),{post:_,cleanup:S,loaded:E}}},e.exports.iframeEnabled=!1,globalThis.document&&(e.exports.iframeEnabled=(typeof globalThis.postMessage=="function"||typeof globalThis.postMessage=="object")&&!i.isKonqueror())})(y0)),y0.exports}var b0,Vv;function T3(){if(Vv)return b0;Vv=1;var e=Mt(),t=vr().EventEmitter,i=N3(),o=bi(),u=nu(),h=Oa(),p=Cl(),x=function(){};function w(b,E,S){if(!w.enabled())throw new Error("Transport created when disabled");t.call(this);var R=this;this.origin=o.getOrigin(S),this.baseUrl=S,this.transUrl=E,this.transport=b,this.windowId=p.string(8);var _=o.addPath(S,"/iframe.html")+"#"+this.windowId;this.iframeObj=u.createIframe(_,function(D){R.emit("close",1006,"Unable to load an iframe ("+D+")"),R.close()}),this.onmessageCallback=this._message.bind(this),h.attachEvent("message",this.onmessageCallback)}return e(w,t),w.prototype.close=function(){if(this.removeAllListeners(),this.iframeObj){h.detachEvent("message",this.onmessageCallback);try{this.postMessage("c")}catch{}this.iframeObj.cleanup(),this.iframeObj=null,this.onmessageCallback=this.iframeObj=null}},w.prototype._message=function(b){if(x("message",b.data),!o.isOriginEqual(b.origin,this.origin)){x("not same origin",b.origin,this.origin);return}var E;try{E=JSON.parse(b.data)}catch{x("bad json",b.data);return}if(E.windowId!==this.windowId){x("mismatched window id",E.windowId,this.windowId);return}switch(E.type){case"s":this.iframeObj.loaded(),this.postMessage("s",JSON.stringify([i,this.transport,this.transUrl,this.baseUrl]));break;case"t":this.emit("message",E.data);break;case"c":var S;try{S=JSON.parse(E.data)}catch{x("bad json",E.data);return}this.emit("close",S[0],S[1]),this.close();break}},w.prototype.postMessage=function(b,E){this.iframeObj.post(JSON.stringify({windowId:this.windowId,type:b,data:E||""}),this.origin)},w.prototype.send=function(b){this.postMessage("m",b)},w.enabled=function(){return u.iframeEnabled},w.transportName="iframe",w.roundTrips=2,b0=w,b0}var v0,Hv;function Tg(){return Hv||(Hv=1,v0={isObject:function(e){var t=typeof e;return t==="function"||t==="object"&&!!e},extend:function(e){if(!this.isObject(e))return e;for(var t,i,o=1,u=arguments.length;o<u;o++){t=arguments[o];for(i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e}}),v0}var x0,qv;function w0(){if(qv)return x0;qv=1;var e=Mt(),t=T3(),i=Tg();return x0=function(o){function u(h,p){t.call(this,o.transportName,h,p)}return e(u,t),u.enabled=function(h,p){if(!globalThis.document)return!1;var x=i.extend({},p);return x.sameOrigin=!0,o.enabled(x)&&t.enabled()},u.transportName="iframe-"+o.transportName,u.needBody=!0,u.roundTrips=t.roundTrips+o.roundTrips-1,u.facadeTransport=o,u},x0}var E0,Gv;function UR(){if(Gv)return E0;Gv=1;var e=Mt(),t=nu(),i=bi(),o=vr().EventEmitter,u=Cl(),h=function(){};function p(w){o.call(this);var b=this;t.polluteGlobalNamespace(),this.id="a"+u.string(6),w=i.addQuery(w,"c="+decodeURIComponent(t.WPrefix+"."+this.id)),h("using htmlfile",p.htmlfileEnabled);var E=p.htmlfileEnabled?t.createHtmlfile:t.createIframe;globalThis[t.WPrefix][this.id]={start:function(){b.iframeObj.loaded()},message:function(S){b.emit("message",S)},stop:function(){b._cleanup(),b._close("network")}},this.iframeObj=E(w,function(){b._cleanup(),b._close("permanent")})}e(p,o),p.prototype.abort=function(){this._cleanup(),this._close("user")},p.prototype._cleanup=function(){this.iframeObj&&(this.iframeObj.cleanup(),this.iframeObj=null),delete globalThis[t.WPrefix][this.id]},p.prototype._close=function(w){this.emit("close",null,w),this.removeAllListeners()},p.htmlfileEnabled=!1;var x=["Active"].concat("Object").join("X");if(x in globalThis)try{p.htmlfileEnabled=!!new globalThis[x]("htmlfile")}catch{}return p.enabled=p.htmlfileEnabled||t.iframeEnabled,E0=p,E0}var C0,Yv;function Xv(){if(Yv)return C0;Yv=1;var e=Mt(),t=UR(),i=eu(),o=Sl();function u(h){if(!t.enabled)throw new Error("Transport created when disabled");o.call(this,h,"/htmlfile",t,i)}return e(u,o),u.enabled=function(h){return t.enabled&&h.sameOrigin},u.transportName="htmlfile",u.roundTrips=2,C0=u,C0}var S0,Wv;function Qv(){if(Wv)return S0;Wv=1;var e=Mt(),t=Sl(),i=_h(),o=Dh(),u=eu();function h(p){if(!u.enabled&&!o.enabled)throw new Error("Transport created when disabled");t.call(this,p,"/xhr",i,o)}return e(h,t),h.enabled=function(p){return p.nullOrigin?!1:u.enabled&&p.sameOrigin?!0:o.enabled},h.transportName="xhr-polling",h.roundTrips=2,S0=h,S0}var A0,Zv;function zR(){if(Zv)return A0;Zv=1;var e=Mt(),t=Sl(),i=S3(),o=_h(),u=Ng();function h(p){if(!u.enabled)throw new Error("Transport created when disabled");t.call(this,p,"/xhr",o,u)}return e(h,t),h.enabled=i.enabled,h.transportName="xdr-polling",h.roundTrips=2,A0=h,A0}var N0,Kv;function FR(){if(Kv)return N0;Kv=1;var e=nu(),t=Cl(),i=tu(),o=bi(),u=Mt(),h=vr().EventEmitter,p=function(){};function x(w){var b=this;h.call(this),e.polluteGlobalNamespace(),this.id="a"+t.string(6);var E=o.addQuery(w,"c="+encodeURIComponent(e.WPrefix+"."+this.id));globalThis[e.WPrefix][this.id]=this._callback.bind(this),this._createScript(E),this.timeoutId=setTimeout(function(){b._abort(new Error("JSONP script loaded abnormally (timeout)"))},x.timeout)}return u(x,h),x.prototype.abort=function(){if(globalThis[e.WPrefix][this.id]){var w=new Error("JSONP user aborted read");w.code=1e3,this._abort(w)}},x.timeout=35e3,x.scriptErrorTimeout=1e3,x.prototype._callback=function(w){this._cleanup(),!this.aborting&&(w&&this.emit("message",w),this.emit("close",null,"network"),this.removeAllListeners())},x.prototype._abort=function(w){this._cleanup(),this.aborting=!0,this.emit("close",w.code,w.message),this.removeAllListeners()},x.prototype._cleanup=function(){if(clearTimeout(this.timeoutId),this.script2&&(this.script2.parentNode.removeChild(this.script2),this.script2=null),this.script){var w=this.script;w.parentNode.removeChild(w),w.onreadystatechange=w.onerror=w.onload=w.onclick=null,this.script=null}delete globalThis[e.WPrefix][this.id]},x.prototype._scriptError=function(){var w=this;this.errorTimer||(this.errorTimer=setTimeout(function(){w.loadedOkay||w._abort(new Error("JSONP script loaded abnormally (onerror)"))},x.scriptErrorTimeout))},x.prototype._createScript=function(w){var b=this,E=this.script=globalThis.document.createElement("script"),S;if(E.id="a"+t.string(8),E.src=w,E.type="text/javascript",E.charset="UTF-8",E.onerror=this._scriptError.bind(this),E.onload=function(){b._abort(new Error("JSONP script loaded abnormally (onload)"))},E.onreadystatechange=function(){if(p("onreadystatechange",E.readyState),/loaded|closed/.test(E.readyState)){if(E&&E.htmlFor&&E.onclick){b.loadedOkay=!0;try{E.onclick()}catch{}}E&&b._abort(new Error("JSONP script loaded abnormally (onreadystatechange)"))}},typeof E.async>"u"&&globalThis.document.attachEvent)if(i.isOpera())S=this.script2=globalThis.document.createElement("script"),S.text="try{var a = document.getElementById('"+E.id+"'); if(a)a.onerror();}catch(x){};",E.async=S.async=!1;else{try{E.htmlFor=E.id,E.event="onclick"}catch{}E.async=!0}typeof E.async<"u"&&(E.async=!0);var R=globalThis.document.getElementsByTagName("head")[0];R.insertBefore(E,R.firstChild),S&&R.insertBefore(S,R.firstChild)},N0=x,N0}var T0,$v;function VR(){if($v)return T0;$v=1;var e=Cl(),t=bi(),i=function(){},o,u;function h(x){try{return globalThis.document.createElement('<iframe name="'+x+'">')}catch{var w=globalThis.document.createElement("iframe");return w.name=x,w}}function p(){o=globalThis.document.createElement("form"),o.style.display="none",o.style.position="absolute",o.method="POST",o.enctype="application/x-www-form-urlencoded",o.acceptCharset="UTF-8",u=globalThis.document.createElement("textarea"),u.name="d",o.appendChild(u),globalThis.document.body.appendChild(o)}return T0=function(x,w,b){o||p();var E="a"+e.string(8);o.target=E,o.action=t.addQuery(t.addPath(x,"/jsonp_send"),"i="+E);var S=h(E);S.id=E,S.style.display="none",o.appendChild(S);try{u.value=w}catch{}o.submit();var R=function(_){S.onerror&&(S.onreadystatechange=S.onerror=S.onload=null,setTimeout(function(){S.parentNode.removeChild(S),S=null},500),u.value="",b(_))};return S.onerror=function(){R()},S.onload=function(){R()},S.onreadystatechange=function(_){i("onreadystatechange",E,S.readyState),S.readyState==="complete"&&R()},function(){R(new Error("Aborted"))}},T0}var R0,Jv;function HR(){if(Jv)return R0;Jv=1;var e=Mt(),t=E3(),i=FR(),o=VR();function u(h){if(!u.enabled())throw new Error("Transport created when disabled");t.call(this,h,"/jsonp",o,i)}return e(u,t),u.enabled=function(){return!!globalThis.document},u.transportName="jsonp-polling",u.roundTrips=1,u.needBody=!0,R0=u,R0}var O0,ex;function qR(){return ex||(ex=1,O0=[jR(),kR(),S3(),Uv(),w0()(Uv()),Xv(),w0()(Xv()),Qv(),zR(),w0()(Qv()),HR()]),O0}var tx={},nx;function GR(){if(nx)return tx;nx=1;var e=Array.prototype,t=Object.prototype,i=Function.prototype,o=String.prototype,u=e.slice,h=t.toString,p=function(z){return t.toString.call(z)==="[object Function]"},x=function(H){return h.call(H)==="[object Array]"},w=function(H){return h.call(H)==="[object String]"},b=Object.defineProperty&&(function(){try{return Object.defineProperty({},"x",{}),!0}catch{return!1}})(),E;b?E=function(z,H,Q,Ee){!Ee&&H in z||Object.defineProperty(z,H,{configurable:!0,enumerable:!1,writable:!0,value:Q})}:E=function(z,H,Q,Ee){!Ee&&H in z||(z[H]=Q)};var S=function(z,H,Q){for(var Ee in H)t.hasOwnProperty.call(H,Ee)&&E(z,Ee,H[Ee],Q)},R=function(z){if(z==null)throw new TypeError("can't convert "+z+" to object");return Object(z)};function _(z){var H=+z;return H!==H?H=0:H!==0&&H!==1/0&&H!==-1/0&&(H=(H>0||-1)*Math.floor(Math.abs(H))),H}function D(z){return z>>>0}function L(){}S(i,{bind:function(H){var Q=this;if(!p(Q))throw new TypeError("Function.prototype.bind called on incompatible "+Q);for(var Ee=u.call(arguments,1),ae=function(){if(this instanceof ne){var ie=Q.apply(this,Ee.concat(u.call(arguments)));return Object(ie)===ie?ie:this}else return Q.apply(H,Ee.concat(u.call(arguments)))},ve=Math.max(0,Q.length-Ee.length),me=[],Le=0;Le<ve;Le++)me.push("$"+Le);var ne=Function("binder","return function ("+me.join(",")+"){ return binder.apply(this, arguments); }")(ae);return Q.prototype&&(L.prototype=Q.prototype,ne.prototype=new L,L.prototype=null),ne}}),S(Array,{isArray:x});var P=Object("a"),Y=P[0]!=="a"||!(0 in P),j=function(H){var Q=!0,Ee=!0;return H&&(H.call("foo",function(ae,ve,me){typeof me!="object"&&(Q=!1)}),H.call([1],function(){Ee=typeof this=="string"},"x")),!!H&&Q&&Ee};S(e,{forEach:function(H){var Q=R(this),Ee=Y&&w(this)?this.split(""):Q,ae=arguments[1],ve=-1,me=Ee.length>>>0;if(!p(H))throw new TypeError;for(;++ve<me;)ve in Ee&&H.call(ae,Ee[ve],ve,Q)}},!j(e.forEach));var U=Array.prototype.indexOf&&[0,1].indexOf(1,2)!==-1;S(e,{indexOf:function(H){var Q=Y&&w(this)?this.split(""):R(this),Ee=Q.length>>>0;if(!Ee)return-1;var ae=0;for(arguments.length>1&&(ae=_(arguments[1])),ae=ae>=0?ae:Math.max(0,Ee+ae);ae<Ee;ae++)if(ae in Q&&Q[ae]===H)return ae;return-1}},U);var V=o.split;"ab".split(/(?:ab)*/).length!==2||".".split(/(.?)(.?)/).length!==4||"tesst".split(/(s)*/)[1]==="t"||"test".split(/(?:)/,-1).length!==4||"".split(/.?/).length||".".split(/()()/).length>1?(function(){var z=/()??/.exec("")[1]===void 0;o.split=function(H,Q){var Ee=this;if(H===void 0&&Q===0)return[];if(h.call(H)!=="[object RegExp]")return V.call(this,H,Q);var ae=[],ve=(H.ignoreCase?"i":"")+(H.multiline?"m":"")+(H.extended?"x":"")+(H.sticky?"y":""),me=0,Le,ne,ie,ue;for(H=new RegExp(H.source,ve+"g"),Ee+="",z||(Le=new RegExp("^"+H.source+"$(?!\\s)",ve)),Q=Q===void 0?-1>>>0:D(Q);(ne=H.exec(Ee))&&(ie=ne.index+ne[0].length,!(ie>me&&(ae.push(Ee.slice(me,ne.index)),!z&&ne.length>1&&ne[0].replace(Le,function(){for(var xe=1;xe<arguments.length-2;xe++)arguments[xe]===void 0&&(ne[xe]=void 0)}),ne.length>1&&ne.index<Ee.length&&e.push.apply(ae,ne.slice(1)),ue=ne[0].length,me=ie,ae.length>=Q)));)H.lastIndex===ne.index&&H.lastIndex++;return me===Ee.length?(ue||!H.test(""))&&ae.push(""):ae.push(Ee.slice(me)),ae.length>Q?ae.slice(0,Q):ae}})():"0".split(void 0,0).length&&(o.split=function(H,Q){return H===void 0&&Q===0?[]:V.call(this,H,Q)});var I=o.substr,X="".substr&&"0b".substr(-1)!=="b";return S(o,{substr:function(H,Q){return I.call(this,H<0&&(H=this.length+H)<0?0:H,Q)}},X),tx}var M0,rx;function YR(){if(rx)return M0;rx=1;var e=/[\x00-\x1f\ud800-\udfff\ufffe\uffff\u0300-\u0333\u033d-\u0346\u034a-\u034c\u0350-\u0352\u0357-\u0358\u035c-\u0362\u0374\u037e\u0387\u0591-\u05af\u05c4\u0610-\u0617\u0653-\u0654\u0657-\u065b\u065d-\u065e\u06df-\u06e2\u06eb-\u06ec\u0730\u0732-\u0733\u0735-\u0736\u073a\u073d\u073f-\u0741\u0743\u0745\u0747\u07eb-\u07f1\u0951\u0958-\u095f\u09dc-\u09dd\u09df\u0a33\u0a36\u0a59-\u0a5b\u0a5e\u0b5c-\u0b5d\u0e38-\u0e39\u0f43\u0f4d\u0f52\u0f57\u0f5c\u0f69\u0f72-\u0f76\u0f78\u0f80-\u0f83\u0f93\u0f9d\u0fa2\u0fa7\u0fac\u0fb9\u1939-\u193a\u1a17\u1b6b\u1cda-\u1cdb\u1dc0-\u1dcf\u1dfc\u1dfe\u1f71\u1f73\u1f75\u1f77\u1f79\u1f7b\u1f7d\u1fbb\u1fbe\u1fc9\u1fcb\u1fd3\u1fdb\u1fe3\u1feb\u1fee-\u1fef\u1ff9\u1ffb\u1ffd\u2000-\u2001\u20d0-\u20d1\u20d4-\u20d7\u20e7-\u20e9\u2126\u212a-\u212b\u2329-\u232a\u2adc\u302b-\u302c\uaab2-\uaab3\uf900-\ufa0d\ufa10\ufa12\ufa15-\ufa1e\ufa20\ufa22\ufa25-\ufa26\ufa2a-\ufa2d\ufa30-\ufa6d\ufa70-\ufad9\ufb1d\ufb1f\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufb4e\ufff0-\uffff]/g,t,i=function(o){var u,h={},p=[];for(u=0;u<65536;u++)p.push(String.fromCharCode(u));return o.lastIndex=0,p.join("").replace(o,function(x){return h[x]="\\u"+("0000"+x.charCodeAt(0).toString(16)).slice(-4),""}),o.lastIndex=0,h};return M0={quote:function(o){var u=JSON.stringify(o);return e.lastIndex=0,e.test(u)?(t||(t=i(e)),u.replace(e,function(h){return t[h]})):u}},M0}var I0,ix;function XR(){if(ix)return I0;ix=1;var e=function(){};return I0=function(t){return{filterToEnabled:function(i,o){var u={main:[],facade:[]};return i?typeof i=="string"&&(i=[i]):i=[],t.forEach(function(h){if(h&&!(h.transportName==="websocket"&&o.websocket===!1)){if(i.length&&i.indexOf(h.transportName)===-1){e("not in whitelist",h.transportName);return}h.enabled(o)?(e("enabled",h.transportName),u.main.push(h),h.facadeTransport&&u.facade.push(h.facadeTransport)):e("disabled",h.transportName)}}),u}}},I0}var _0,sx;function WR(){if(sx)return _0;sx=1;var e={};return["log","debug","warn"].forEach(function(t){var i;try{i=globalThis.console&&globalThis.console[t]&&globalThis.console[t].apply}catch{}e[t]=i?function(){return globalThis.console[t].apply(globalThis.console,arguments)}:t==="log"?function(){}:e.log}),_0=e,_0}var D0,ax;function Rg(){if(ax)return D0;ax=1;function e(t){this.type=t}return e.prototype.initEvent=function(t,i,o){return this.type=t,this.bubbles=i,this.cancelable=o,this.timeStamp=+new Date,this},e.prototype.stopPropagation=function(){},e.prototype.preventDefault=function(){},e.CAPTURING_PHASE=1,e.AT_TARGET=2,e.BUBBLING_PHASE=3,D0=e,D0}var j0,ox;function R3(){return ox||(ox=1,j0=globalThis.location||{origin:"http://localhost:80",protocol:"http:",host:"localhost",port:80,href:"http://localhost/",hash:""}),j0}var L0,lx;function QR(){if(lx)return L0;lx=1;var e=Mt(),t=Rg();function i(){t.call(this),this.initEvent("close",!1,!1),this.wasClean=!1,this.code=0,this.reason=""}return e(i,t),L0=i,L0}var B0,cx;function ZR(){if(cx)return B0;cx=1;var e=Mt(),t=Rg();function i(o){t.call(this),this.initEvent("message",!1,!1),this.data=o}return e(i,t),B0=i,B0}var k0,ux;function KR(){if(ux)return k0;ux=1;var e=vr().EventEmitter,t=Mt();function i(){var o=this;e.call(this),this.to=setTimeout(function(){o.emit("finish",200,"{}")},i.timeout)}return t(i,e),i.prototype.close=function(){clearTimeout(this.to)},i.timeout=2e3,k0=i,k0}var P0,dx;function O3(){if(dx)return P0;dx=1;var e=vr().EventEmitter,t=Mt(),i=Tg();function o(u,h){e.call(this);var p=this,x=+new Date;this.xo=new h("GET",u),this.xo.once("finish",function(w,b){var E,S;if(w===200){if(S=+new Date-x,b)try{E=JSON.parse(b)}catch{}i.isObject(E)||(E={})}p.emit("finish",E,S),p.removeAllListeners()})}return t(o,e),o.prototype.close=function(){this.removeAllListeners(),this.xo.close()},P0=o,P0}var U0,hx;function M3(){if(hx)return U0;hx=1;var e=Mt(),t=vr().EventEmitter,i=eu(),o=O3();function u(h){var p=this;t.call(this),this.ir=new o(h,i),this.ir.once("finish",function(x,w){p.ir=null,p.emit("message",JSON.stringify([x,w]))})}return e(u,t),u.transportName="iframe-info-receiver",u.prototype.close=function(){this.ir&&(this.ir.close(),this.ir=null),this.removeAllListeners()},U0=u,U0}var z0,fx;function $R(){if(fx)return z0;fx=1;var e=vr().EventEmitter,t=Mt(),i=Oa(),o=T3(),u=M3();function h(p,x){var w=this;e.call(this);var b=function(){var E=w.ifr=new o(u.transportName,x,p);E.once("message",function(S){if(S){var R;try{R=JSON.parse(S)}catch{w.emit("finish"),w.close();return}var _=R[0],D=R[1];w.emit("finish",_,D)}w.close()}),E.once("close",function(){w.emit("finish"),w.close()})};globalThis.document.body?b():i.attachEvent("load",b)}return t(h,e),h.enabled=function(){return o.enabled()},h.prototype.close=function(){this.ifr&&this.ifr.close(),this.removeAllListeners(),this.ifr=null},z0=h,z0}var F0,mx;function JR(){if(mx)return F0;mx=1;var e=vr().EventEmitter,t=Mt(),i=bi(),o=Ng(),u=Dh(),h=eu(),p=KR(),x=$R(),w=O3();function b(E,S){var R=this;e.call(this),setTimeout(function(){R.doXhr(E,S)},0)}return t(b,e),b._getReceiver=function(E,S,R){return R.sameOrigin?new w(S,h):u.enabled?new w(S,u):o.enabled&&R.sameScheme?new w(S,o):x.enabled()?new x(E,S):new w(S,p)},b.prototype.doXhr=function(E,S){var R=this,_=i.addPath(E,"/info");this.xo=b._getReceiver(E,_,S),this.timeoutRef=setTimeout(function(){R._cleanup(!1),R.emit("finish")},b.timeout),this.xo.once("finish",function(D,L){R._cleanup(!0),R.emit("finish",D,L)})},b.prototype._cleanup=function(E){clearTimeout(this.timeoutRef),this.timeoutRef=null,!E&&this.xo&&this.xo.close(),this.xo=null},b.prototype.close=function(){this.removeAllListeners(),this._cleanup(!1)},b.timeout=8e3,F0=b,F0}var V0,gx;function eO(){if(gx)return V0;gx=1;var e=nu();function t(i){this._transport=i,i.on("message",this._transportMessage.bind(this)),i.on("close",this._transportClose.bind(this))}return t.prototype._transportClose=function(i,o){e.postMessage("c",JSON.stringify([i,o]))},t.prototype._transportMessage=function(i){e.postMessage("t",i)},t.prototype._send=function(i){this._transport.send(i)},t.prototype._close=function(){this._transport.close(),this._transport.removeAllListeners()},V0=t,V0}var H0,px;function tO(){if(px)return H0;px=1;var e=bi(),t=Oa(),i=eO(),o=M3(),u=nu(),h=R3(),p=function(){};return H0=function(x,w){var b={};w.forEach(function(S){S.facadeTransport&&(b[S.facadeTransport.transportName]=S.facadeTransport)}),b[o.transportName]=o;var E;x.bootstrap_iframe=function(){var S;u.currentWindowId=h.hash.slice(1);var R=function(_){if(_.source===parent&&(typeof E>"u"&&(E=_.origin),_.origin===E)){var D;try{D=JSON.parse(_.data)}catch{p("bad json",_.data);return}if(D.windowId===u.currentWindowId)switch(D.type){case"s":var L;try{L=JSON.parse(D.data)}catch{p("bad json",D.data);break}var P=L[0],Y=L[1],j=L[2],U=L[3];if(P!==x.version)throw new Error('Incompatible SockJS! Main site uses: "'+P+'", the iframe: "'+x.version+'".');if(!e.isOriginEqual(j,h.href)||!e.isOriginEqual(U,h.href))throw new Error("Can't connect to different domain from within an iframe. ("+h.href+", "+j+", "+U+")");S=new i(new b[Y](j,U));break;case"m":S._send(D.data);break;case"c":S&&S._close(),S=null;break}}};t.attachEvent("message",R),u.postMessage("s")}},H0}var q0,yx;function nO(){if(yx)return q0;yx=1,GR();var e=x3(),t=Mt(),i=Cl(),o=YR(),u=bi(),h=Oa(),p=XR(),x=Tg(),w=tu(),b=WR(),E=Rg(),S=w3(),R=R3(),_=QR(),D=ZR(),L=JR(),P=function(){},Y;function j(V,I,X){if(!(this instanceof j))return new j(V,I,X);if(arguments.length<1)throw new TypeError("Failed to construct 'SockJS: 1 argument required, but only 0 present");S.call(this),this.readyState=j.CONNECTING,this.extensions="",this.protocol="",X=X||{},X.protocols_whitelist&&b.warn("'protocols_whitelist' is DEPRECATED. Use 'transports' instead."),this._transportsWhitelist=X.transports,this._transportOptions=X.transportOptions||{},this._timeout=X.timeout||0;var z=X.sessionId||8;if(typeof z=="function")this._generateSessionId=z;else if(typeof z=="number")this._generateSessionId=function(){return i.string(z)};else throw new TypeError("If sessionId is used in the options, it needs to be a number or a function.");this._server=X.server||i.numberString(1e3);var H=new e(V);if(!H.host||!H.protocol)throw new SyntaxError("The URL '"+V+"' is invalid");if(H.hash)throw new SyntaxError("The URL must not contain a fragment");if(H.protocol!=="http:"&&H.protocol!=="https:")throw new SyntaxError("The URL's scheme must be either 'http:' or 'https:'. '"+H.protocol+"' is not allowed.");var Q=H.protocol==="https:";if(R.protocol==="https:"&&!Q&&!u.isLoopbackAddr(H.hostname))throw new Error("SecurityError: An insecure SockJS connection may not be initiated from a page loaded over HTTPS");I?Array.isArray(I)||(I=[I]):I=[];var Ee=I.sort();Ee.forEach(function(ve,me){if(!ve)throw new SyntaxError("The protocols entry '"+ve+"' is invalid.");if(me<Ee.length-1&&ve===Ee[me+1])throw new SyntaxError("The protocols entry '"+ve+"' is duplicated.")});var ae=u.getOrigin(R.href);this._origin=ae?ae.toLowerCase():null,H.set("pathname",H.pathname.replace(/\/+$/,"")),this.url=H.href,P("using url",this.url),this._urlInfo={nullOrigin:!w.hasDomain(),sameOrigin:u.isOriginEqual(this.url,R.href),sameScheme:u.isSchemeEqual(this.url,R.href)},this._ir=new L(this.url,this._urlInfo),this._ir.once("finish",this._receiveInfo.bind(this))}t(j,S);function U(V){return V===1e3||V>=3e3&&V<=4999}return j.prototype.close=function(V,I){if(V&&!U(V))throw new Error("InvalidAccessError: Invalid code");if(I&&I.length>123)throw new SyntaxError("reason argument has an invalid length");if(!(this.readyState===j.CLOSING||this.readyState===j.CLOSED)){var X=!0;this._close(V||1e3,I||"Normal closure",X)}},j.prototype.send=function(V){if(typeof V!="string"&&(V=""+V),this.readyState===j.CONNECTING)throw new Error("InvalidStateError: The connection has not been established yet");this.readyState===j.OPEN&&this._transport.send(o.quote(V))},j.version=N3(),j.CONNECTING=0,j.OPEN=1,j.CLOSING=2,j.CLOSED=3,j.prototype._receiveInfo=function(V,I){if(this._ir=null,!V){this._close(1002,"Cannot connect to server");return}this._rto=this.countRTO(I),this._transUrl=V.base_url?V.base_url:this.url,V=x.extend(V,this._urlInfo);var X=Y.filterToEnabled(this._transportsWhitelist,V);this._transports=X.main,P(this._transports.length+" enabled transports"),this._connect()},j.prototype._connect=function(){for(var V=this._transports.shift();V;V=this._transports.shift()){if(P("attempt",V.transportName),V.needBody&&(!globalThis.document.body||typeof globalThis.document.readyState<"u"&&globalThis.document.readyState!=="complete"&&globalThis.document.readyState!=="interactive")){this._transports.unshift(V),h.attachEvent("load",this._connect.bind(this));return}var I=Math.max(this._timeout,this._rto*V.roundTrips||5e3);this._transportTimeoutId=setTimeout(this._transportTimeout.bind(this),I);var X=u.addPath(this._transUrl,"/"+this._server+"/"+this._generateSessionId()),z=this._transportOptions[V.transportName],H=new V(X,this._transUrl,z);H.on("message",this._transportMessage.bind(this)),H.once("close",this._transportClose.bind(this)),H.transportName=V.transportName,this._transport=H;return}this._close(2e3,"All transports failed",!1)},j.prototype._transportTimeout=function(){this.readyState===j.CONNECTING&&(this._transport&&this._transport.close(),this._transportClose(2007,"Transport timed out"))},j.prototype._transportMessage=function(V){var I=this,X=V.slice(0,1),z=V.slice(1),H;switch(X){case"o":this._open();return;case"h":this.dispatchEvent(new E("heartbeat")),P("heartbeat",this.transport);return}if(z)try{H=JSON.parse(z)}catch{}if(!(typeof H>"u"))switch(X){case"a":Array.isArray(H)&&H.forEach(function(Q){P("message",I.transport),I.dispatchEvent(new D(Q))});break;case"m":P("message",this.transport),this.dispatchEvent(new D(H));break;case"c":Array.isArray(H)&&H.length===2&&this._close(H[0],H[1],!0);break}},j.prototype._transportClose=function(V,I){if(P("_transportClose",this.transport),this._transport&&(this._transport.removeAllListeners(),this._transport=null,this.transport=null),!U(V)&&V!==2e3&&this.readyState===j.CONNECTING){this._connect();return}this._close(V,I)},j.prototype._open=function(){P("_open",this._transport&&this._transport.transportName,this.readyState),this.readyState===j.CONNECTING?(this._transportTimeoutId&&(clearTimeout(this._transportTimeoutId),this._transportTimeoutId=null),this.readyState=j.OPEN,this.transport=this._transport.transportName,this.dispatchEvent(new E("open")),P("connected",this.transport)):this._close(1006,"Server lost session")},j.prototype._close=function(V,I,X){P("_close",this.transport,V,I,X,this.readyState);var z=!1;if(this._ir&&(z=!0,this._ir.close(),this._ir=null),this._transport&&(this._transport.close(),this._transport=null,this.transport=null),this.readyState===j.CLOSED)throw new Error("InvalidStateError: SockJS has already been closed");this.readyState=j.CLOSING,setTimeout((function(){this.readyState=j.CLOSED,z&&this.dispatchEvent(new E("error"));var H=new _("close");H.wasClean=X||!1,H.code=V||1e3,H.reason=I,this.dispatchEvent(H),this.onmessage=this.onclose=this.onerror=null}).bind(this),0)},j.prototype.countRTO=function(V){return V>100?4*V:300+V},q0=function(V){return Y=p(V),tO()(j,V),j},q0}var G0,bx;function rO(){if(bx)return G0;bx=1;var e=qR();return G0=nO()(e),"_sockjs_onload"in globalThis&&setTimeout(globalThis._sockjs_onload,1),G0}var iO=rO();const sO=eE(iO),aO=(e={})=>{const{autoConnect:t=!0,onConnect:i,onDisconnect:o,onError:u}=e,[h,p]=F.useState(!1),[x,w]=F.useState(null),b=F.useRef(null),E=F.useRef(new Map),S=F.useRef(null),R=F.useRef(0),_=3,D=3e5,L=F.useCallback(()=>{if(b.current?.active){console.log("[WebSocket] Already connected");return}console.log("[WebSocket] Initiating connection...");const I=localStorage.getItem(Ji.TOKEN),X="http://localhost:8089/ws",z=new OR.Client({webSocketFactory:()=>new sO(X),connectHeaders:{Authorization:I?`Bearer ${I}`:""},debug:H=>{},reconnectDelay:D,heartbeatIncoming:1e4,heartbeatOutgoing:1e4,onConnect:H=>{console.log("[WebSocket] Connected successfully",H),p(!0),w(null),R.current=0,i&&i(H)},onDisconnect:H=>{console.log("[WebSocket] Disconnected",H),p(!1),E.current.clear(),o&&o(H),P()},onStompError:H=>{console.error("[WebSocket] STOMP error",H);const Q=H.headers?.message||"WebSocket error occurred";w(Q),u&&u(Q)},onWebSocketError:H=>{console.error("[WebSocket] WebSocket error",H);const Q="WebSocket connection error";w(Q),u&&u(Q)}});b.current=z,z.activate()},[i,o,u]),P=F.useCallback(()=>{if(R.current>=_){console.error("[WebSocket] Max reconnection attempts reached (3 attempts)"),w("Failed to reconnect after 3 attempts. Please refresh the page.");return}R.current+=1;const I=D/6e4;console.log(`[WebSocket] Reconnecting in ${I} minutes (attempt ${R.current}/${_})`),S.current=setTimeout(()=>{L()},D)},[L]),Y=F.useCallback(()=>{console.log("[WebSocket] Disconnecting..."),S.current&&(clearTimeout(S.current),S.current=null),b.current?.active&&b.current.deactivate(),E.current.clear(),p(!1)},[]),j=F.useCallback((I,X)=>{if(!b.current?.active)return console.warn("[WebSocket] Not connected. Cannot subscribe to:",I),null;console.log("[WebSocket] Subscribing to:",I);try{const z=b.current.subscribe(I,Q=>{try{const Ee=JSON.parse(Q.body);console.log("[WebSocket] Message received from",I,Ee),X(Ee)}catch(Ee){console.error("[WebSocket] Failed to parse message:",Ee)}}),H=z.id;return E.current.set(H,z),H}catch(z){return console.error("[WebSocket] Subscription error:",z),null}},[]),U=F.useCallback(I=>{if(!I)return;const X=E.current.get(I);X&&(console.log("[WebSocket] Unsubscribing:",I),X.unsubscribe(),E.current.delete(I))},[]),V=F.useCallback((I,X)=>{if(!b.current?.active){console.warn("[WebSocket] Not connected. Cannot send message to:",I);return}try{b.current.publish({destination:I,body:JSON.stringify(X)}),console.log("[WebSocket] Message sent to",I,X)}catch(z){console.error("[WebSocket] Failed to send message:",z)}},[]);return F.useEffect(()=>(t&&L(),()=>{Y()}),[t,L,Y]),{isConnected:h,connectionError:x,connect:L,disconnect:Y,subscribe:j,unsubscribe:U,send:V}},I3=F.createContext(null),oO=({children:e})=>{const{user:t}=Ds(),[i,o]=F.useState([]),[u,h]=F.useState(0),{isConnected:p,connectionError:x,subscribe:w,unsubscribe:b}=aO({autoConnect:!!t,onConnect:()=>{console.log("[Notifications] WebSocket connected")},onDisconnect:()=>{console.log("[Notifications] WebSocket disconnected")},onError:Y=>{console.error("[Notifications] WebSocket error:",Y)}}),E=F.useCallback(Y=>{console.log("[Notifications] Received:",Y),o(U=>[{...Y,id:`${Y.orderId}-${Date.now()}`,timestamp:Y.timestamp||new Date().toISOString(),read:!1},...U.slice(0,49)]),h(U=>U+1);const j=Y.message||"Order update received";Y.type==="NEW_ORDER"?je.success(`${j} - Order #${Y.orderNumber}`,{duration:5e3,icon:""}):Y.type==="STATUS_CHANGE"?je(`${j} - Order #${Y.orderNumber}`,{duration:4e3,icon:""}):je(j,{duration:3e3}),S()},[]),S=F.useCallback(()=>{try{const Y=new(window.AudioContext||window.webkitAudioContext),j=Y.createOscillator(),U=Y.createGain();j.connect(U),U.connect(Y.destination),j.frequency.value=800,j.type="sine",U.gain.setValueAtTime(.3,Y.currentTime),U.gain.exponentialRampToValueAtTime(.01,Y.currentTime+.5),j.start(Y.currentTime),j.stop(Y.currentTime+.5)}catch(Y){console.warn("[Notifications] Failed to play sound:",Y)}},[]);F.useEffect(()=>{if(!p||!t)return;const Y=[];if(t.role==="ROLE_VENDOR"){const j=`/topic/orders/vendor/${t.id}`,U=w(j,E);U&&(Y.push(U),console.log("[Notifications] Subscribed to vendor topic:",j))}else if(t.role==="ROLE_EMPLOYEE"){const j=`/queue/orders/user/${t.id}`,U=w(j,E);U&&(Y.push(U),console.log("[Notifications] Subscribed to user queue:",j))}return()=>{Y.forEach(j=>b(j))}},[p,t,w,b,E]);const R=F.useCallback(Y=>{o(j=>j.map(U=>U.id===Y?{...U,read:!0}:U)),h(j=>Math.max(0,j-1))},[]),_=F.useCallback(()=>{o(Y=>Y.map(j=>({...j,read:!0}))),h(0)},[]),D=F.useCallback(Y=>{o(j=>{const U=j.find(V=>V.id===Y);return U&&!U.read&&h(V=>Math.max(0,V-1)),j.filter(V=>V.id!==Y)})},[]),L=F.useCallback(()=>{o([]),h(0)},[]),P={notifications:i,unreadCount:u,isConnected:p,connectionError:x,markAsRead:R,markAllAsRead:_,clearNotification:D,clearAllNotifications:L};return m.jsx(I3.Provider,{value:P,children:e})},Og=()=>{const e=F.useContext(I3);if(!e)throw new Error("useOrderNotifications must be used within OrderNotificationProvider");return e},lO=()=>{const e=nr(),[t,i]=F.useState(!1),o=F.useRef(null),{notifications:u,unreadCount:h,isConnected:p,markAsRead:x,markAllAsRead:w,clearNotification:b}=Og();F.useEffect(()=>{const R=_=>{o.current&&!o.current.contains(_.target)&&i(!1)};return t&&document.addEventListener("mousedown",R),()=>{document.removeEventListener("mousedown",R)}},[t]);const E=R=>{x(R.id),i(!1),R.orderId&&e(`/orders/${R.orderId}`)},S=R=>{const _=new Date(R),L=new Date-_,P=Math.floor(L/6e4);if(P<1)return"Just now";if(P<60)return`${P}m ago`;const Y=Math.floor(P/60);return Y<24?`${Y}h ago`:`${Math.floor(Y/24)}d ago`};return m.jsxs("div",{className:"relative",ref:o,children:[m.jsxs("button",{onClick:()=>i(!t),className:"relative p-2 rounded-xl hover:bg-gray-100 transition-colors","aria-label":"Notifications",children:[m.jsx(iv,{className:"text-gray-600",size:24}),h>0&&m.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs font-bold rounded-full w-5 h-5 flex items-center justify-center",children:h>9?"9+":h}),m.jsx("span",{className:`absolute bottom-1 right-1 w-2 h-2 rounded-full ${p?"bg-green-500":"bg-gray-400"}`,title:p?"Connected":"Disconnected"})]}),t&&m.jsxs("div",{className:"absolute right-0 mt-2 w-96 bg-white rounded-2xl shadow-xl border border-gray-200 z-50 overflow-hidden",children:[m.jsxs("div",{className:"p-4 border-b border-gray-200 flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"font-bold text-gray-900",children:"Notifications"}),m.jsx("p",{className:"text-xs text-gray-500",children:p?"Live updates enabled":"Reconnecting..."})]}),h>0&&m.jsxs("button",{onClick:w,className:"text-xs text-brand-primary hover:text-brand-secondary font-semibold flex items-center",title:"Mark all as read",children:[m.jsx(JT,{size:14,className:"mr-1"}),"Mark all read"]})]}),m.jsx("div",{className:"max-h-96 overflow-y-auto",children:u.length===0?m.jsxs("div",{className:"p-8 text-center",children:[m.jsx(iv,{className:"text-gray-300 mx-auto mb-3",size:48}),m.jsx("p",{className:"text-gray-500 text-sm",children:"No notifications yet"}),m.jsx("p",{className:"text-gray-400 text-xs mt-1",children:"You'll receive updates about your orders here"})]}):m.jsx("div",{className:"divide-y divide-gray-100",children:u.map(R=>m.jsx("div",{className:`p-4 hover:bg-gray-50 transition-colors cursor-pointer ${R.read?"":"bg-blue-50"}`,onClick:()=>E(R),children:m.jsxs("div",{className:"flex items-start justify-between",children:[m.jsxs("div",{className:"flex-1",children:[R.type==="NEW_ORDER"&&m.jsx("span",{className:"inline-block px-2 py-1 text-xs font-semibold bg-green-100 text-green-700 rounded-full mb-2",children:"New Order"}),m.jsx("p",{className:"text-sm font-semibold text-gray-900 mb-1",children:R.message}),m.jsxs("div",{className:"flex items-center gap-3 text-xs text-gray-600",children:[m.jsxs("span",{children:["Order #",R.orderNumber]}),R.newStatus&&m.jsx("span",{className:"px-2 py-0.5 bg-gray-100 rounded",children:R.newStatus}),m.jsx("span",{children:S(R.timestamp)})]})]}),m.jsxs("div",{className:"flex items-center gap-2 ml-3",children:[!R.read&&m.jsx("button",{onClick:_=>{_.stopPropagation(),x(R.id)},className:"p-1 hover:bg-gray-200 rounded transition-colors",title:"Mark as read",children:m.jsx(l3,{size:14,className:"text-gray-600"})}),m.jsx("button",{onClick:_=>{_.stopPropagation(),b(R.id)},className:"p-1 hover:bg-gray-200 rounded transition-colors",title:"Remove",children:m.jsx(Ih,{size:14,className:"text-gray-600"})})]})]})},R.id))})}),u.length>0&&m.jsx("div",{className:"p-3 border-t border-gray-200 bg-gray-50",children:m.jsx("button",{onClick:()=>{i(!1)},className:"w-full text-center text-sm text-brand-primary hover:text-brand-secondary font-semibold",children:"View all notifications"})})]})]})},cO=()=>{const e=nr(),t=Li(),i=[{icon:po,label:"Home",path:"/employee/home"},{icon:kc,label:"Cart",path:"/employee/cart"},{icon:br,label:"Track",path:"/employee/tracking"},{icon:lh,label:"Wallet",path:"/employee/wallet"}],o=u=>t.pathname===u;return m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"h-20 md:hidden"}),m.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 md:hidden z-40 safe-area-inset-bottom",children:m.jsx("div",{className:"flex items-center justify-around h-16 px-2",children:i.map(u=>{const h=u.icon,p=o(u.path);return m.jsxs("button",{onClick:()=>e(u.path),className:`flex flex-col items-center justify-center flex-1 h-full space-y-1 transition-colors ${p?"text-brand-primary":"text-gray-600 hover:text-gray-900"}`,children:[m.jsxs("div",{className:"relative",children:[m.jsx(h,{size:24,className:p?"stroke-2":"stroke-1.5"}),u.path==="/employee/cart"&&m.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-4 h-4 flex items-center justify-center font-bold",children:"3"})]}),m.jsx("span",{className:`text-xs font-medium ${p?"font-semibold":""}`,children:u.label})]},u.path)})})})]})},Bd=({navigationLinks:e,brandName:t="BiteDash"})=>{const i=nr(),o=Li(),{logout:u,user:h}=Ds(),[p,x]=F.useState(!1),w=h?.role==="EMPLOYEE",b=S=>{o.pathname!==S&&(i(S),x(!1))},E=()=>{u(),i("/",{replace:!0})};return m.jsxs("div",{className:"flex h-screen bg-surface-bg",children:[m.jsx("button",{onClick:()=>x(!p),className:"md:hidden fixed top-4 left-4 z-50 p-3 bg-gray-900 text-white rounded-lg shadow-lg hover:bg-gray-800 transition-colors","aria-label":"Toggle menu",children:p?m.jsx(Ih,{size:24}):m.jsx(B5,{size:24})}),p&&m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 md:hidden",onClick:()=>x(!1),"aria-hidden":"true"}),m.jsxs("aside",{className:`
          fixed md:static inset-y-0 left-0 z-50
          w-72 bg-gray-900 text-white flex flex-col shadow-2xl
          transform transition-transform duration-300 ease-in-out
          ${p?"translate-x-0":"-translate-x-full md:translate-x-0"}
        `,children:[m.jsxs("div",{className:"p-4 md:p-6 flex items-center justify-between border-b border-gray-800",children:[m.jsxs("div",{className:"flex items-center gap-2 md:gap-3",children:[m.jsx("img",{src:"/logo.svg",alt:t,className:"h-10 w-10 md:h-12 md:w-12"}),m.jsx("span",{className:"text-xl md:text-2xl font-black text-brand-primary tracking-tighter",children:t})]}),m.jsx(lO,{})]}),m.jsx("nav",{className:"flex-1 p-4 md:p-6 space-y-2 md:space-y-3 overflow-y-auto",children:e.map(S=>{const R=o.pathname===S.path;return m.jsxs("button",{onClick:()=>b(S.path),className:`
                  w-full flex items-center gap-3 md:gap-4 p-3 md:p-4 rounded-xl md:rounded-2xl
                  transition-all group min-h-[44px]
                  ${R?"bg-brand-primary text-white":"hover:bg-gray-800 text-gray-400"}
                `,children:[m.jsx("span",{className:R?"text-white":"group-hover:text-brand-primary",children:S.icon}),m.jsx("span",{className:`font-semibold text-sm md:text-base ${R?"text-white":"text-gray-300"}`,children:S.label})]},S.path)})}),m.jsx("div",{className:"p-4 md:p-6",children:m.jsxs("button",{onClick:E,className:"w-full flex items-center gap-3 md:gap-4 p-3 md:p-4 rounded-xl md:rounded-2xl transition-all hover:bg-red-900 text-gray-400 hover:text-white group min-h-[44px]",children:[m.jsx(O5,{size:20,className:"group-hover:text-white"}),m.jsx("span",{className:"font-semibold text-sm md:text-base",children:"Logout"})]})})]}),m.jsxs("main",{className:"flex-1 overflow-y-auto scrollbar-hide",children:[m.jsx("div",{className:"p-4 md:p-6 lg:p-8",children:m.jsx(gE,{})}),w&&m.jsx(cO,{})]})]})},Mg=F.createContext({});function Ig(e){const t=F.useRef(null);return t.current===null&&(t.current=e()),t.current}const _3=typeof window<"u",D3=_3?F.useLayoutEffect:F.useEffect,jh=F.createContext(null);function _g(e,t){e.indexOf(t)===-1&&e.push(t)}function ch(e,t){const i=e.indexOf(t);i>-1&&e.splice(i,1)}const ns=(e,t,i)=>i>t?t:i<e?e:i;let Dg=()=>{};const Is={},j3=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function L3(e){return typeof e=="object"&&e!==null}const B3=e=>/^0[^.\s]+$/u.test(e);function jg(e){let t;return()=>(t===void 0&&(t=e()),t)}const gi=e=>e,uO=(e,t)=>i=>t(e(i)),ru=(...e)=>e.reduce(uO),Uc=(e,t,i)=>{const o=t-e;return o===0?1:(i-e)/o};class Lg{constructor(){this.subscriptions=[]}add(t){return _g(this.subscriptions,t),()=>ch(this.subscriptions,t)}notify(t,i,o){const u=this.subscriptions.length;if(u)if(u===1)this.subscriptions[0](t,i,o);else for(let h=0;h<u;h++){const p=this.subscriptions[h];p&&p(t,i,o)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const _i=e=>e*1e3,mi=e=>e/1e3;function k3(e,t){return t?e*(1e3/t):0}const P3=(e,t,i)=>(((1-3*i+3*t)*e+(3*i-6*t))*e+3*t)*e,dO=1e-7,hO=12;function fO(e,t,i,o,u){let h,p,x=0;do p=t+(i-t)/2,h=P3(p,o,u)-e,h>0?i=p:t=p;while(Math.abs(h)>dO&&++x<hO);return p}function iu(e,t,i,o){if(e===t&&i===o)return gi;const u=h=>fO(h,0,1,e,i);return h=>h===0||h===1?h:P3(u(h),t,o)}const U3=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,z3=e=>t=>1-e(1-t),F3=iu(.33,1.53,.69,.99),Bg=z3(F3),V3=U3(Bg),H3=e=>(e*=2)<1?.5*Bg(e):.5*(2-Math.pow(2,-10*(e-1))),kg=e=>1-Math.sin(Math.acos(e)),q3=z3(kg),G3=U3(kg),mO=iu(.42,0,1,1),gO=iu(0,0,.58,1),Y3=iu(.42,0,.58,1),pO=e=>Array.isArray(e)&&typeof e[0]!="number",X3=e=>Array.isArray(e)&&typeof e[0]=="number",yO={linear:gi,easeIn:mO,easeInOut:Y3,easeOut:gO,circIn:kg,circInOut:G3,circOut:q3,backIn:Bg,backInOut:V3,backOut:F3,anticipate:H3},bO=e=>typeof e=="string",vx=e=>{if(X3(e)){Dg(e.length===4);const[t,i,o,u]=e;return iu(t,i,o,u)}else if(bO(e))return yO[e];return e},kd=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function vO(e,t){let i=new Set,o=new Set,u=!1,h=!1;const p=new WeakSet;let x={delta:0,timestamp:0,isProcessing:!1};function w(E){p.has(E)&&(b.schedule(E),e()),E(x)}const b={schedule:(E,S=!1,R=!1)=>{const D=R&&u?i:o;return S&&p.add(E),D.has(E)||D.add(E),E},cancel:E=>{o.delete(E),p.delete(E)},process:E=>{if(x=E,u){h=!0;return}u=!0,[i,o]=[o,i],i.forEach(w),i.clear(),u=!1,h&&(h=!1,b.process(E))}};return b}const xO=40;function W3(e,t){let i=!1,o=!0;const u={delta:0,timestamp:0,isProcessing:!1},h=()=>i=!0,p=kd.reduce((U,V)=>(U[V]=vO(h),U),{}),{setup:x,read:w,resolveKeyframes:b,preUpdate:E,update:S,preRender:R,render:_,postRender:D}=p,L=()=>{const U=Is.useManualTiming?u.timestamp:performance.now();i=!1,Is.useManualTiming||(u.delta=o?1e3/60:Math.max(Math.min(U-u.timestamp,xO),1)),u.timestamp=U,u.isProcessing=!0,x.process(u),w.process(u),b.process(u),E.process(u),S.process(u),R.process(u),_.process(u),D.process(u),u.isProcessing=!1,i&&t&&(o=!1,e(L))},P=()=>{i=!0,o=!0,u.isProcessing||e(L)};return{schedule:kd.reduce((U,V)=>{const I=p[V];return U[V]=(X,z=!1,H=!1)=>(i||P(),I.schedule(X,z,H)),U},{}),cancel:U=>{for(let V=0;V<kd.length;V++)p[kd[V]].cancel(U)},state:u,steps:p}}const{schedule:Qt,cancel:Aa,state:tr,steps:Y0}=W3(typeof requestAnimationFrame<"u"?requestAnimationFrame:gi,!0);let Wd;function wO(){Wd=void 0}const pr={now:()=>(Wd===void 0&&pr.set(tr.isProcessing||Is.useManualTiming?tr.timestamp:performance.now()),Wd),set:e=>{Wd=e,queueMicrotask(wO)}},Q3=e=>t=>typeof t=="string"&&t.startsWith(e),Z3=Q3("--"),EO=Q3("var(--"),Pg=e=>EO(e)?CO.test(e.split("/*")[0].trim()):!1,CO=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function xx(e){return typeof e!="string"?!1:e.split("/*")[0].includes("var(--")}const Al={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},zc={...Al,transform:e=>ns(0,1,e)},Pd={...Al,default:1},Oc=e=>Math.round(e*1e5)/1e5,Ug=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function SO(e){return e==null}const AO=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,zg=(e,t)=>i=>!!(typeof i=="string"&&AO.test(i)&&i.startsWith(e)||t&&!SO(i)&&Object.prototype.hasOwnProperty.call(i,t)),K3=(e,t,i)=>o=>{if(typeof o!="string")return o;const[u,h,p,x]=o.match(Ug);return{[e]:parseFloat(u),[t]:parseFloat(h),[i]:parseFloat(p),alpha:x!==void 0?parseFloat(x):1}},NO=e=>ns(0,255,e),X0={...Al,transform:e=>Math.round(NO(e))},oo={test:zg("rgb","red"),parse:K3("red","green","blue"),transform:({red:e,green:t,blue:i,alpha:o=1})=>"rgba("+X0.transform(e)+", "+X0.transform(t)+", "+X0.transform(i)+", "+Oc(zc.transform(o))+")"};function TO(e){let t="",i="",o="",u="";return e.length>5?(t=e.substring(1,3),i=e.substring(3,5),o=e.substring(5,7),u=e.substring(7,9)):(t=e.substring(1,2),i=e.substring(2,3),o=e.substring(3,4),u=e.substring(4,5),t+=t,i+=i,o+=o,u+=u),{red:parseInt(t,16),green:parseInt(i,16),blue:parseInt(o,16),alpha:u?parseInt(u,16)/255:1}}const Mm={test:zg("#"),parse:TO,transform:oo.transform},su=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),va=su("deg"),ts=su("%"),Ve=su("px"),RO=su("vh"),OO=su("vw"),wx={...ts,parse:e=>ts.parse(e)/100,transform:e=>ts.transform(e*100)},sl={test:zg("hsl","hue"),parse:K3("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:i,alpha:o=1})=>"hsla("+Math.round(e)+", "+ts.transform(Oc(t))+", "+ts.transform(Oc(i))+", "+Oc(zc.transform(o))+")"},Dn={test:e=>oo.test(e)||Mm.test(e)||sl.test(e),parse:e=>oo.test(e)?oo.parse(e):sl.test(e)?sl.parse(e):Mm.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?oo.transform(e):sl.transform(e),getAnimatableNone:e=>{const t=Dn.parse(e);return t.alpha=0,Dn.transform(t)}},MO=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function IO(e){return isNaN(e)&&typeof e=="string"&&(e.match(Ug)?.length||0)+(e.match(MO)?.length||0)>0}const $3="number",J3="color",_O="var",DO="var(",Ex="${}",jO=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Fc(e){const t=e.toString(),i=[],o={color:[],number:[],var:[]},u=[];let h=0;const x=t.replace(jO,w=>(Dn.test(w)?(o.color.push(h),u.push(J3),i.push(Dn.parse(w))):w.startsWith(DO)?(o.var.push(h),u.push(_O),i.push(w)):(o.number.push(h),u.push($3),i.push(parseFloat(w))),++h,Ex)).split(Ex);return{values:i,split:x,indexes:o,types:u}}function e4(e){return Fc(e).values}function t4(e){const{split:t,types:i}=Fc(e),o=t.length;return u=>{let h="";for(let p=0;p<o;p++)if(h+=t[p],u[p]!==void 0){const x=i[p];x===$3?h+=Oc(u[p]):x===J3?h+=Dn.transform(u[p]):h+=u[p]}return h}}const LO=e=>typeof e=="number"?0:Dn.test(e)?Dn.getAnimatableNone(e):e;function BO(e){const t=e4(e);return t4(e)(t.map(LO))}const Na={test:IO,parse:e4,createTransformer:t4,getAnimatableNone:BO};function W0(e,t,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?e+(t-e)*6*i:i<1/2?t:i<2/3?e+(t-e)*(2/3-i)*6:e}function kO({hue:e,saturation:t,lightness:i,alpha:o}){e/=360,t/=100,i/=100;let u=0,h=0,p=0;if(!t)u=h=p=i;else{const x=i<.5?i*(1+t):i+t-i*t,w=2*i-x;u=W0(w,x,e+1/3),h=W0(w,x,e),p=W0(w,x,e-1/3)}return{red:Math.round(u*255),green:Math.round(h*255),blue:Math.round(p*255),alpha:o}}function uh(e,t){return i=>i>0?t:e}const cn=(e,t,i)=>e+(t-e)*i,Q0=(e,t,i)=>{const o=e*e,u=i*(t*t-o)+o;return u<0?0:Math.sqrt(u)},PO=[Mm,oo,sl],UO=e=>PO.find(t=>t.test(e));function Cx(e){const t=UO(e);if(!t)return!1;let i=t.parse(e);return t===sl&&(i=kO(i)),i}const Sx=(e,t)=>{const i=Cx(e),o=Cx(t);if(!i||!o)return uh(e,t);const u={...i};return h=>(u.red=Q0(i.red,o.red,h),u.green=Q0(i.green,o.green,h),u.blue=Q0(i.blue,o.blue,h),u.alpha=cn(i.alpha,o.alpha,h),oo.transform(u))},Im=new Set(["none","hidden"]);function zO(e,t){return Im.has(e)?i=>i<=0?e:t:i=>i>=1?t:e}function FO(e,t){return i=>cn(e,t,i)}function Fg(e){return typeof e=="number"?FO:typeof e=="string"?Pg(e)?uh:Dn.test(e)?Sx:qO:Array.isArray(e)?n4:typeof e=="object"?Dn.test(e)?Sx:VO:uh}function n4(e,t){const i=[...e],o=i.length,u=e.map((h,p)=>Fg(h)(h,t[p]));return h=>{for(let p=0;p<o;p++)i[p]=u[p](h);return i}}function VO(e,t){const i={...e,...t},o={};for(const u in i)e[u]!==void 0&&t[u]!==void 0&&(o[u]=Fg(e[u])(e[u],t[u]));return u=>{for(const h in o)i[h]=o[h](u);return i}}function HO(e,t){const i=[],o={color:0,var:0,number:0};for(let u=0;u<t.values.length;u++){const h=t.types[u],p=e.indexes[h][o[h]],x=e.values[p]??0;i[u]=x,o[h]++}return i}const qO=(e,t)=>{const i=Na.createTransformer(t),o=Fc(e),u=Fc(t);return o.indexes.var.length===u.indexes.var.length&&o.indexes.color.length===u.indexes.color.length&&o.indexes.number.length>=u.indexes.number.length?Im.has(e)&&!u.values.length||Im.has(t)&&!o.values.length?zO(e,t):ru(n4(HO(o,u),u.values),i):uh(e,t)};function r4(e,t,i){return typeof e=="number"&&typeof t=="number"&&typeof i=="number"?cn(e,t,i):Fg(e)(e,t)}const GO=e=>{const t=({timestamp:i})=>e(i);return{start:(i=!0)=>Qt.update(t,i),stop:()=>Aa(t),now:()=>tr.isProcessing?tr.timestamp:pr.now()}},i4=(e,t,i=10)=>{let o="";const u=Math.max(Math.round(t/i),2);for(let h=0;h<u;h++)o+=Math.round(e(h/(u-1))*1e4)/1e4+", ";return`linear(${o.substring(0,o.length-2)})`},dh=2e4;function Vg(e){let t=0;const i=50;let o=e.next(t);for(;!o.done&&t<dh;)t+=i,o=e.next(t);return t>=dh?1/0:t}function YO(e,t=100,i){const o=i({...e,keyframes:[0,t]}),u=Math.min(Vg(o),dh);return{type:"keyframes",ease:h=>o.next(u*h).value/t,duration:mi(u)}}const XO=5;function s4(e,t,i){const o=Math.max(t-XO,0);return k3(i-e(o),t-o)}const vn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Z0=.001;function WO({duration:e=vn.duration,bounce:t=vn.bounce,velocity:i=vn.velocity,mass:o=vn.mass}){let u,h,p=1-t;p=ns(vn.minDamping,vn.maxDamping,p),e=ns(vn.minDuration,vn.maxDuration,mi(e)),p<1?(u=b=>{const E=b*p,S=E*e,R=E-i,_=_m(b,p),D=Math.exp(-S);return Z0-R/_*D},h=b=>{const S=b*p*e,R=S*i+i,_=Math.pow(p,2)*Math.pow(b,2)*e,D=Math.exp(-S),L=_m(Math.pow(b,2),p);return(-u(b)+Z0>0?-1:1)*((R-_)*D)/L}):(u=b=>{const E=Math.exp(-b*e),S=(b-i)*e+1;return-Z0+E*S},h=b=>{const E=Math.exp(-b*e),S=(i-b)*(e*e);return E*S});const x=5/e,w=ZO(u,h,x);if(e=_i(e),isNaN(w))return{stiffness:vn.stiffness,damping:vn.damping,duration:e};{const b=Math.pow(w,2)*o;return{stiffness:b,damping:p*2*Math.sqrt(o*b),duration:e}}}const QO=12;function ZO(e,t,i){let o=i;for(let u=1;u<QO;u++)o=o-e(o)/t(o);return o}function _m(e,t){return e*Math.sqrt(1-t*t)}const KO=["duration","bounce"],$O=["stiffness","damping","mass"];function Ax(e,t){return t.some(i=>e[i]!==void 0)}function JO(e){let t={velocity:vn.velocity,stiffness:vn.stiffness,damping:vn.damping,mass:vn.mass,isResolvedFromDuration:!1,...e};if(!Ax(e,$O)&&Ax(e,KO))if(e.visualDuration){const i=e.visualDuration,o=2*Math.PI/(i*1.2),u=o*o,h=2*ns(.05,1,1-(e.bounce||0))*Math.sqrt(u);t={...t,mass:vn.mass,stiffness:u,damping:h}}else{const i=WO(e);t={...t,...i,mass:vn.mass},t.isResolvedFromDuration=!0}return t}function hh(e=vn.visualDuration,t=vn.bounce){const i=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:o,restDelta:u}=i;const h=i.keyframes[0],p=i.keyframes[i.keyframes.length-1],x={done:!1,value:h},{stiffness:w,damping:b,mass:E,duration:S,velocity:R,isResolvedFromDuration:_}=JO({...i,velocity:-mi(i.velocity||0)}),D=R||0,L=b/(2*Math.sqrt(w*E)),P=p-h,Y=mi(Math.sqrt(w/E)),j=Math.abs(P)<5;o||(o=j?vn.restSpeed.granular:vn.restSpeed.default),u||(u=j?vn.restDelta.granular:vn.restDelta.default);let U;if(L<1){const I=_m(Y,L);U=X=>{const z=Math.exp(-L*Y*X);return p-z*((D+L*Y*P)/I*Math.sin(I*X)+P*Math.cos(I*X))}}else if(L===1)U=I=>p-Math.exp(-Y*I)*(P+(D+Y*P)*I);else{const I=Y*Math.sqrt(L*L-1);U=X=>{const z=Math.exp(-L*Y*X),H=Math.min(I*X,300);return p-z*((D+L*Y*P)*Math.sinh(H)+I*P*Math.cosh(H))/I}}const V={calculatedDuration:_&&S||null,next:I=>{const X=U(I);if(_)x.done=I>=S;else{let z=I===0?D:0;L<1&&(z=I===0?_i(D):s4(U,I,X));const H=Math.abs(z)<=o,Q=Math.abs(p-X)<=u;x.done=H&&Q}return x.value=x.done?p:X,x},toString:()=>{const I=Math.min(Vg(V),dh),X=i4(z=>V.next(I*z).value,I,30);return I+"ms "+X},toTransition:()=>{}};return V}hh.applyToOptions=e=>{const t=YO(e,100,hh);return e.ease=t.ease,e.duration=_i(t.duration),e.type="keyframes",e};function Dm({keyframes:e,velocity:t=0,power:i=.8,timeConstant:o=325,bounceDamping:u=10,bounceStiffness:h=500,modifyTarget:p,min:x,max:w,restDelta:b=.5,restSpeed:E}){const S=e[0],R={done:!1,value:S},_=H=>x!==void 0&&H<x||w!==void 0&&H>w,D=H=>x===void 0?w:w===void 0||Math.abs(x-H)<Math.abs(w-H)?x:w;let L=i*t;const P=S+L,Y=p===void 0?P:p(P);Y!==P&&(L=Y-S);const j=H=>-L*Math.exp(-H/o),U=H=>Y+j(H),V=H=>{const Q=j(H),Ee=U(H);R.done=Math.abs(Q)<=b,R.value=R.done?Y:Ee};let I,X;const z=H=>{_(R.value)&&(I=H,X=hh({keyframes:[R.value,D(R.value)],velocity:s4(U,H,R.value),damping:u,stiffness:h,restDelta:b,restSpeed:E}))};return z(0),{calculatedDuration:null,next:H=>{let Q=!1;return!X&&I===void 0&&(Q=!0,V(H),z(H)),I!==void 0&&H>=I?X.next(H-I):(!Q&&V(H),R)}}}function e7(e,t,i){const o=[],u=i||Is.mix||r4,h=e.length-1;for(let p=0;p<h;p++){let x=u(e[p],e[p+1]);if(t){const w=Array.isArray(t)?t[p]||gi:t;x=ru(w,x)}o.push(x)}return o}function t7(e,t,{clamp:i=!0,ease:o,mixer:u}={}){const h=e.length;if(Dg(h===t.length),h===1)return()=>t[0];if(h===2&&t[0]===t[1])return()=>t[1];const p=e[0]===e[1];e[0]>e[h-1]&&(e=[...e].reverse(),t=[...t].reverse());const x=e7(t,o,u),w=x.length,b=E=>{if(p&&E<e[0])return t[0];let S=0;if(w>1)for(;S<e.length-2&&!(E<e[S+1]);S++);const R=Uc(e[S],e[S+1],E);return x[S](R)};return i?E=>b(ns(e[0],e[h-1],E)):b}function n7(e,t){const i=e[e.length-1];for(let o=1;o<=t;o++){const u=Uc(0,t,o);e.push(cn(i,1,u))}}function r7(e){const t=[0];return n7(t,e.length-1),t}function i7(e,t){return e.map(i=>i*t)}function s7(e,t){return e.map(()=>t||Y3).splice(0,e.length-1)}function Mc({duration:e=300,keyframes:t,times:i,ease:o="easeInOut"}){const u=pO(o)?o.map(vx):vx(o),h={done:!1,value:t[0]},p=i7(i&&i.length===t.length?i:r7(t),e),x=t7(p,t,{ease:Array.isArray(u)?u:s7(t,u)});return{calculatedDuration:e,next:w=>(h.value=x(w),h.done=w>=e,h)}}const a7=e=>e!==null;function Hg(e,{repeat:t,repeatType:i="loop"},o,u=1){const h=e.filter(a7),x=u<0||t&&i!=="loop"&&t%2===1?0:h.length-1;return!x||o===void 0?h[x]:o}const o7={decay:Dm,inertia:Dm,tween:Mc,keyframes:Mc,spring:hh};function a4(e){typeof e.type=="string"&&(e.type=o7[e.type])}class qg{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,i){return this.finished.then(t,i)}}const l7=e=>e/100;class Gg extends qg{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:i}=this.options;i&&i.updatedAt!==pr.now()&&this.tick(pr.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;a4(t);const{type:i=Mc,repeat:o=0,repeatDelay:u=0,repeatType:h,velocity:p=0}=t;let{keyframes:x}=t;const w=i||Mc;w!==Mc&&typeof x[0]!="number"&&(this.mixKeyframes=ru(l7,r4(x[0],x[1])),x=[0,100]);const b=w({...t,keyframes:x});h==="mirror"&&(this.mirroredGenerator=w({...t,keyframes:[...x].reverse(),velocity:-p})),b.calculatedDuration===null&&(b.calculatedDuration=Vg(b));const{calculatedDuration:E}=b;this.calculatedDuration=E,this.resolvedDuration=E+u,this.totalDuration=this.resolvedDuration*(o+1)-u,this.generator=b}updateTime(t){const i=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=i}tick(t,i=!1){const{generator:o,totalDuration:u,mixKeyframes:h,mirroredGenerator:p,resolvedDuration:x,calculatedDuration:w}=this;if(this.startTime===null)return o.next(0);const{delay:b=0,keyframes:E,repeat:S,repeatType:R,repeatDelay:_,type:D,onUpdate:L,finalKeyframe:P}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-u/this.speed,this.startTime)),i?this.currentTime=t:this.updateTime(t);const Y=this.currentTime-b*(this.playbackSpeed>=0?1:-1),j=this.playbackSpeed>=0?Y<0:Y>u;this.currentTime=Math.max(Y,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=u);let U=this.currentTime,V=o;if(S){const H=Math.min(this.currentTime,u)/x;let Q=Math.floor(H),Ee=H%1;!Ee&&H>=1&&(Ee=1),Ee===1&&Q--,Q=Math.min(Q,S+1),Q%2&&(R==="reverse"?(Ee=1-Ee,_&&(Ee-=_/x)):R==="mirror"&&(V=p)),U=ns(0,1,Ee)*x}const I=j?{done:!1,value:E[0]}:V.next(U);h&&(I.value=h(I.value));let{done:X}=I;!j&&w!==null&&(X=this.playbackSpeed>=0?this.currentTime>=u:this.currentTime<=0);const z=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&X);return z&&D!==Dm&&(I.value=Hg(E,this.options,P,this.speed)),L&&L(I.value),z&&this.finish(),I}then(t,i){return this.finished.then(t,i)}get duration(){return mi(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+mi(t)}get time(){return mi(this.currentTime)}set time(t){t=_i(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(pr.now());const i=this.playbackSpeed!==t;this.playbackSpeed=t,i&&(this.time=mi(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=GO,startTime:i}=this.options;this.driver||(this.driver=t(u=>this.tick(u))),this.options.onPlay?.();const o=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=o):this.holdTime!==null?this.startTime=o-this.holdTime:this.startTime||(this.startTime=i??o),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(pr.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function c7(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const lo=e=>e*180/Math.PI,jm=e=>{const t=lo(Math.atan2(e[1],e[0]));return Lm(t)},u7={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:jm,rotateZ:jm,skewX:e=>lo(Math.atan(e[1])),skewY:e=>lo(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Lm=e=>(e=e%360,e<0&&(e+=360),e),Nx=jm,Tx=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),Rx=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),d7={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Tx,scaleY:Rx,scale:e=>(Tx(e)+Rx(e))/2,rotateX:e=>Lm(lo(Math.atan2(e[6],e[5]))),rotateY:e=>Lm(lo(Math.atan2(-e[2],e[0]))),rotateZ:Nx,rotate:Nx,skewX:e=>lo(Math.atan(e[4])),skewY:e=>lo(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Bm(e){return e.includes("scale")?1:0}function km(e,t){if(!e||e==="none")return Bm(t);const i=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let o,u;if(i)o=d7,u=i;else{const x=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);o=u7,u=x}if(!u)return Bm(t);const h=o[t],p=u[1].split(",").map(f7);return typeof h=="function"?h(p):p[h]}const h7=(e,t)=>{const{transform:i="none"}=getComputedStyle(e);return km(i,t)};function f7(e){return parseFloat(e.trim())}const Nl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Tl=new Set(Nl),Ox=e=>e===Al||e===Ve,m7=new Set(["x","y","z"]),g7=Nl.filter(e=>!m7.has(e));function p7(e){const t=[];return g7.forEach(i=>{const o=e.getValue(i);o!==void 0&&(t.push([i,o.get()]),o.set(i.startsWith("scale")?1:0))}),t}const wa={width:({x:e},{paddingLeft:t="0",paddingRight:i="0"})=>e.max-e.min-parseFloat(t)-parseFloat(i),height:({y:e},{paddingTop:t="0",paddingBottom:i="0"})=>e.max-e.min-parseFloat(t)-parseFloat(i),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>km(t,"x"),y:(e,{transform:t})=>km(t,"y")};wa.translateX=wa.x;wa.translateY=wa.y;const uo=new Set;let Pm=!1,Um=!1,zm=!1;function o4(){if(Um){const e=Array.from(uo).filter(o=>o.needsMeasurement),t=new Set(e.map(o=>o.element)),i=new Map;t.forEach(o=>{const u=p7(o);u.length&&(i.set(o,u),o.render())}),e.forEach(o=>o.measureInitialState()),t.forEach(o=>{o.render();const u=i.get(o);u&&u.forEach(([h,p])=>{o.getValue(h)?.set(p)})}),e.forEach(o=>o.measureEndState()),e.forEach(o=>{o.suspendedScrollY!==void 0&&window.scrollTo(0,o.suspendedScrollY)})}Um=!1,Pm=!1,uo.forEach(e=>e.complete(zm)),uo.clear()}function l4(){uo.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Um=!0)})}function y7(){zm=!0,l4(),o4(),zm=!1}class Yg{constructor(t,i,o,u,h,p=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=i,this.name=o,this.motionValue=u,this.element=h,this.isAsync=p}scheduleResolve(){this.state="scheduled",this.isAsync?(uo.add(this),Pm||(Pm=!0,Qt.read(l4),Qt.resolveKeyframes(o4))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:i,element:o,motionValue:u}=this;if(t[0]===null){const h=u?.get(),p=t[t.length-1];if(h!==void 0)t[0]=h;else if(o&&i){const x=o.readValue(i,p);x!=null&&(t[0]=x)}t[0]===void 0&&(t[0]=p),u&&h===void 0&&u.set(t[0])}c7(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),uo.delete(this)}cancel(){this.state==="scheduled"&&(uo.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const b7=e=>e.startsWith("--");function v7(e,t,i){b7(t)?e.style.setProperty(t,i):e.style[t]=i}const x7=jg(()=>window.ScrollTimeline!==void 0),w7={};function E7(e,t){const i=jg(e);return()=>w7[t]??i()}const c4=E7(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Tc=([e,t,i,o])=>`cubic-bezier(${e}, ${t}, ${i}, ${o})`,Mx={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Tc([0,.65,.55,1]),circOut:Tc([.55,0,1,.45]),backIn:Tc([.31,.01,.66,-.59]),backOut:Tc([.33,1.53,.69,.99])};function u4(e,t){if(e)return typeof e=="function"?c4()?i4(e,t):"ease-out":X3(e)?Tc(e):Array.isArray(e)?e.map(i=>u4(i,t)||Mx.easeOut):Mx[e]}function C7(e,t,i,{delay:o=0,duration:u=300,repeat:h=0,repeatType:p="loop",ease:x="easeOut",times:w}={},b=void 0){const E={[t]:i};w&&(E.offset=w);const S=u4(x,u);Array.isArray(S)&&(E.easing=S);const R={delay:o,duration:u,easing:Array.isArray(S)?"linear":S,fill:"both",iterations:h+1,direction:p==="reverse"?"alternate":"normal"};return b&&(R.pseudoElement=b),e.animate(E,R)}function d4(e){return typeof e=="function"&&"applyToOptions"in e}function S7({type:e,...t}){return d4(e)&&c4()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class h4 extends qg{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!t)return;const{element:i,name:o,keyframes:u,pseudoElement:h,allowFlatten:p=!1,finalKeyframe:x,onComplete:w}=t;this.isPseudoElement=!!h,this.allowFlatten=p,this.options=t,Dg(typeof t.type!="string");const b=S7(t);this.animation=C7(i,o,u,b,h),b.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!h){const E=Hg(u,this.options,x,this.speed);this.updateMotionValue?this.updateMotionValue(E):v7(i,o,E),this.animation.cancel()}w?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){const t=this.options?.element;!this.isPseudoElement&&t?.isConnected&&this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return mi(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+mi(t)}get time(){return mi(Number(this.animation.currentTime)||0)}set time(t){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=_i(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(t){this.manualStartTime=this.animation.startTime=t}attachTimeline({timeline:t,observe:i}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&x7()?(this.animation.timeline=t,gi):i(this)}}const f4={anticipate:H3,backInOut:V3,circInOut:G3};function A7(e){return e in f4}function N7(e){typeof e.ease=="string"&&A7(e.ease)&&(e.ease=f4[e.ease])}const K0=10;class T7 extends h4{constructor(t){N7(t),a4(t),super(t),t.startTime!==void 0&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:i,onUpdate:o,onComplete:u,element:h,...p}=this.options;if(!i)return;if(t!==void 0){i.set(t);return}const x=new Gg({...p,autoplay:!1}),w=Math.max(K0,pr.now()-this.startTime),b=ns(0,K0,w-K0);i.setWithVelocity(x.sample(Math.max(0,w-b)).value,x.sample(w).value,b),x.stop()}}const Ix=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Na.test(e)||e==="0")&&!e.startsWith("url("));function R7(e){const t=e[0];if(e.length===1)return!0;for(let i=0;i<e.length;i++)if(e[i]!==t)return!0}function O7(e,t,i,o){const u=e[0];if(u===null)return!1;if(t==="display"||t==="visibility")return!0;const h=e[e.length-1],p=Ix(u,t),x=Ix(h,t);return!p||!x?!1:R7(e)||(i==="spring"||d4(i))&&o}function Fm(e){e.duration=0,e.type="keyframes"}const M7=new Set(["opacity","clipPath","filter","transform"]),I7=jg(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function _7(e){const{motionValue:t,name:i,repeatDelay:o,repeatType:u,damping:h,type:p}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:w,transformTemplate:b}=t.owner.getProps();return I7()&&i&&M7.has(i)&&(i!=="transform"||!b)&&!w&&!o&&u!=="mirror"&&h!==0&&p!=="inertia"}const D7=40;class j7 extends qg{constructor({autoplay:t=!0,delay:i=0,type:o="keyframes",repeat:u=0,repeatDelay:h=0,repeatType:p="loop",keyframes:x,name:w,motionValue:b,element:E,...S}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=pr.now();const R={autoplay:t,delay:i,type:o,repeat:u,repeatDelay:h,repeatType:p,name:w,motionValue:b,element:E,...S},_=E?.KeyframeResolver||Yg;this.keyframeResolver=new _(x,(D,L,P)=>this.onKeyframesResolved(D,L,R,!P),w,b,E),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,i,o,u){this.keyframeResolver=void 0;const{name:h,type:p,velocity:x,delay:w,isHandoff:b,onUpdate:E}=o;this.resolvedAt=pr.now(),O7(t,h,p,x)||((Is.instantAnimations||!w)&&E?.(Hg(t,o,i)),t[0]=t[t.length-1],Fm(o),o.repeat=0);const R={startTime:u?this.resolvedAt?this.resolvedAt-this.createdAt>D7?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:i,...o,keyframes:t},_=!b&&_7(R),D=R.motionValue?.owner?.current,L=_?new T7({...R,element:D}):new Gg(R);L.finished.then(()=>{this.notifyFinished()}).catch(gi),this.pendingTimeline&&(this.stopTimeline=L.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=L}get finished(){return this._animation?this.animation.finished:this._finished}then(t,i){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),y7()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}function m4(e,t,i,o=0,u=1){const h=Array.from(e).sort((b,E)=>b.sortNodePosition(E)).indexOf(t),p=e.size,x=(p-1)*o;return typeof i=="function"?i(h,p):u===1?h*o:x-h*o}const L7=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function B7(e){const t=L7.exec(e);if(!t)return[,];const[,i,o,u]=t;return[`--${i??o}`,u]}function g4(e,t,i=1){const[o,u]=B7(e);if(!o)return;const h=window.getComputedStyle(t).getPropertyValue(o);if(h){const p=h.trim();return j3(p)?parseFloat(p):p}return Pg(u)?g4(u,t,i+1):u}const k7={type:"spring",stiffness:500,damping:25,restSpeed:10},P7=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),U7={type:"keyframes",duration:.8},z7={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},F7=(e,{keyframes:t})=>t.length>2?U7:Tl.has(e)?e.startsWith("scale")?P7(t[1]):k7:z7,V7=e=>e!==null;function H7(e,{repeat:t,repeatType:i="loop"},o){const u=e.filter(V7),h=t&&i!=="loop"&&t%2===1?0:u.length-1;return u[h]}function p4(e,t){if(e?.inherit&&t){const{inherit:i,...o}=e;return{...t,...o}}return e}function Xg(e,t){const i=e?.[t]??e?.default??e;return i!==e?p4(i,e):i}function q7({when:e,delay:t,delayChildren:i,staggerChildren:o,staggerDirection:u,repeat:h,repeatType:p,repeatDelay:x,from:w,elapsed:b,...E}){return!!Object.keys(E).length}const Wg=(e,t,i,o={},u,h)=>p=>{const x=Xg(o,e)||{},w=x.delay||o.delay||0;let{elapsed:b=0}=o;b=b-_i(w);const E={keyframes:Array.isArray(i)?i:[null,i],ease:"easeOut",velocity:t.getVelocity(),...x,delay:-b,onUpdate:R=>{t.set(R),x.onUpdate&&x.onUpdate(R)},onComplete:()=>{p(),x.onComplete&&x.onComplete()},name:e,motionValue:t,element:h?void 0:u};q7(x)||Object.assign(E,F7(e,E)),E.duration&&(E.duration=_i(E.duration)),E.repeatDelay&&(E.repeatDelay=_i(E.repeatDelay)),E.from!==void 0&&(E.keyframes[0]=E.from);let S=!1;if((E.type===!1||E.duration===0&&!E.repeatDelay)&&(Fm(E),E.delay===0&&(S=!0)),(Is.instantAnimations||Is.skipAnimations||u?.shouldSkipAnimations)&&(S=!0,Fm(E),E.delay=0),E.allowFlatten=!x.type&&!x.ease,S&&!h&&t.get()!==void 0){const R=H7(E.keyframes,x);if(R!==void 0){Qt.update(()=>{E.onUpdate(R),E.onComplete()});return}}return x.isSync?new Gg(E):new j7(E)};function _x(e){const t=[{},{}];return e?.values.forEach((i,o)=>{t[0][o]=i.get(),t[1][o]=i.getVelocity()}),t}function Qg(e,t,i,o){if(typeof t=="function"){const[u,h]=_x(o);t=t(i!==void 0?i:e.custom,u,h)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[u,h]=_x(o);t=t(i!==void 0?i:e.custom,u,h)}return t}function hl(e,t,i){const o=e.getProps();return Qg(o,t,i!==void 0?i:o.custom,e)}const y4=new Set(["width","height","top","left","right","bottom",...Nl]),Dx=30,G7=e=>!isNaN(parseFloat(e));class Y7{constructor(t,i={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=o=>{const u=pr.now();if(this.updatedAt!==u&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(o),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const h of this.dependents)h.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=i.owner}setCurrent(t){this.current=t,this.updatedAt=pr.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=G7(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,i){this.events[t]||(this.events[t]=new Lg);const o=this.events[t].add(i);return t==="change"?()=>{o(),Qt.read(()=>{this.events.change.getSize()||this.stop()})}:o}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,i){this.passiveEffect=t,this.stopPassiveEffect=i}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,i,o){this.set(i),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-o}jump(t,i=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,i&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=pr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Dx)return 0;const i=Math.min(this.updatedAt-this.prevUpdatedAt,Dx);return k3(parseFloat(this.current)-parseFloat(this.prevFrameValue),i)}start(t){return this.stop(),new Promise(i=>{this.hasAnimated=!0,this.animation=t(i),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function pl(e,t){return new Y7(e,t)}const Vm=e=>Array.isArray(e);function X7(e,t,i){e.hasValue(t)?e.getValue(t).set(i):e.addValue(t,pl(i))}function W7(e){return Vm(e)?e[e.length-1]||0:e}function Q7(e,t){const i=hl(e,t);let{transitionEnd:o={},transition:u={},...h}=i||{};h={...h,...o};for(const p in h){const x=W7(h[p]);X7(e,p,x)}}const or=e=>!!(e&&e.getVelocity);function Z7(e){return!!(or(e)&&e.add)}function Hm(e,t){const i=e.getValue("willChange");if(Z7(i))return i.add(t);if(!i&&Is.WillChange){const o=new Is.WillChange("auto");e.addValue("willChange",o),o.add(t)}}function Zg(e){return e.replace(/([A-Z])/g,t=>`-${t.toLowerCase()}`)}const K7="framerAppearId",b4="data-"+Zg(K7);function v4(e){return e.props[b4]}function $7({protectedKeys:e,needsAnimating:t},i){const o=e.hasOwnProperty(i)&&t[i]!==!0;return t[i]=!1,o}function x4(e,t,{delay:i=0,transitionOverride:o,type:u}={}){let{transition:h,transitionEnd:p,...x}=t;const w=e.getDefaultTransition();h=h?p4(h,w):w;const b=h?.reduceMotion;o&&(h=o);const E=[],S=u&&e.animationState&&e.animationState.getState()[u];for(const R in x){const _=e.getValue(R,e.latestValues[R]??null),D=x[R];if(D===void 0||S&&$7(S,R))continue;const L={delay:i,...Xg(h||{},R)},P=_.get();if(P!==void 0&&!_.isAnimating&&!Array.isArray(D)&&D===P&&!L.velocity)continue;let Y=!1;if(window.MotionHandoffAnimation){const V=v4(e);if(V){const I=window.MotionHandoffAnimation(V,R,Qt);I!==null&&(L.startTime=I,Y=!0)}}Hm(e,R);const j=b??e.shouldReduceMotion;_.start(Wg(R,_,D,j&&y4.has(R)?{type:!1}:L,e,Y));const U=_.animation;U&&E.push(U)}if(p){const R=()=>Qt.update(()=>{p&&Q7(e,p)});E.length?Promise.all(E).then(R):R()}return E}function qm(e,t,i={}){const o=hl(e,t,i.type==="exit"?e.presenceContext?.custom:void 0);let{transition:u=e.getDefaultTransition()||{}}=o||{};i.transitionOverride&&(u=i.transitionOverride);const h=o?()=>Promise.all(x4(e,o,i)):()=>Promise.resolve(),p=e.variantChildren&&e.variantChildren.size?(w=0)=>{const{delayChildren:b=0,staggerChildren:E,staggerDirection:S}=u;return J7(e,t,w,b,E,S,i)}:()=>Promise.resolve(),{when:x}=u;if(x){const[w,b]=x==="beforeChildren"?[h,p]:[p,h];return w().then(()=>b())}else return Promise.all([h(),p(i.delay)])}function J7(e,t,i=0,o=0,u=0,h=1,p){const x=[];for(const w of e.variantChildren)w.notify("AnimationStart",t),x.push(qm(w,t,{...p,delay:i+(typeof o=="function"?0:o)+m4(e.variantChildren,w,o,u,h)}).then(()=>w.notify("AnimationComplete",t)));return Promise.all(x)}function e9(e,t,i={}){e.notify("AnimationStart",t);let o;if(Array.isArray(t)){const u=t.map(h=>qm(e,h,i));o=Promise.all(u)}else if(typeof t=="string")o=qm(e,t,i);else{const u=typeof t=="function"?hl(e,t,i.custom):t;o=Promise.all(x4(e,u,i))}return o.then(()=>{e.notify("AnimationComplete",t)})}const t9={test:e=>e==="auto",parse:e=>e},w4=e=>t=>t.test(e),E4=[Al,Ve,ts,va,OO,RO,t9],jx=e=>E4.find(w4(e));function n9(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||B3(e):!0}const r9=new Set(["brightness","contrast","saturate","opacity"]);function i9(e){const[t,i]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[o]=i.match(Ug)||[];if(!o)return e;const u=i.replace(o,"");let h=r9.has(t)?1:0;return o!==i&&(h*=100),t+"("+h+u+")"}const s9=/\b([a-z-]*)\(.*?\)/gu,Gm={...Na,getAnimatableNone:e=>{const t=e.match(s9);return t?t.map(i9).join(" "):e}},Lx={...Al,transform:Math.round},a9={rotate:va,rotateX:va,rotateY:va,rotateZ:va,scale:Pd,scaleX:Pd,scaleY:Pd,scaleZ:Pd,skew:va,skewX:va,skewY:va,distance:Ve,translateX:Ve,translateY:Ve,translateZ:Ve,x:Ve,y:Ve,z:Ve,perspective:Ve,transformPerspective:Ve,opacity:zc,originX:wx,originY:wx,originZ:Ve},Kg={borderWidth:Ve,borderTopWidth:Ve,borderRightWidth:Ve,borderBottomWidth:Ve,borderLeftWidth:Ve,borderRadius:Ve,borderTopLeftRadius:Ve,borderTopRightRadius:Ve,borderBottomRightRadius:Ve,borderBottomLeftRadius:Ve,width:Ve,maxWidth:Ve,height:Ve,maxHeight:Ve,top:Ve,right:Ve,bottom:Ve,left:Ve,inset:Ve,insetBlock:Ve,insetBlockStart:Ve,insetBlockEnd:Ve,insetInline:Ve,insetInlineStart:Ve,insetInlineEnd:Ve,padding:Ve,paddingTop:Ve,paddingRight:Ve,paddingBottom:Ve,paddingLeft:Ve,paddingBlock:Ve,paddingBlockStart:Ve,paddingBlockEnd:Ve,paddingInline:Ve,paddingInlineStart:Ve,paddingInlineEnd:Ve,margin:Ve,marginTop:Ve,marginRight:Ve,marginBottom:Ve,marginLeft:Ve,marginBlock:Ve,marginBlockStart:Ve,marginBlockEnd:Ve,marginInline:Ve,marginInlineStart:Ve,marginInlineEnd:Ve,fontSize:Ve,backgroundPositionX:Ve,backgroundPositionY:Ve,...a9,zIndex:Lx,fillOpacity:zc,strokeOpacity:zc,numOctaves:Lx},o9={...Kg,color:Dn,backgroundColor:Dn,outlineColor:Dn,fill:Dn,stroke:Dn,borderColor:Dn,borderTopColor:Dn,borderRightColor:Dn,borderBottomColor:Dn,borderLeftColor:Dn,filter:Gm,WebkitFilter:Gm},C4=e=>o9[e];function S4(e,t){let i=C4(e);return i!==Gm&&(i=Na),i.getAnimatableNone?i.getAnimatableNone(t):void 0}const l9=new Set(["auto","none","0"]);function c9(e,t,i){let o=0,u;for(;o<e.length&&!u;){const h=e[o];typeof h=="string"&&!l9.has(h)&&Fc(h).values.length&&(u=e[o]),o++}if(u&&i)for(const h of t)e[h]=S4(i,u)}class u9 extends Yg{constructor(t,i,o,u,h){super(t,i,o,u,h,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:i,name:o}=this;if(!i||!i.current)return;super.readKeyframes();for(let E=0;E<t.length;E++){let S=t[E];if(typeof S=="string"&&(S=S.trim(),Pg(S))){const R=g4(S,i.current);R!==void 0&&(t[E]=R),E===t.length-1&&(this.finalKeyframe=S)}}if(this.resolveNoneKeyframes(),!y4.has(o)||t.length!==2)return;const[u,h]=t,p=jx(u),x=jx(h),w=xx(u),b=xx(h);if(w!==b&&wa[o]){this.needsMeasurement=!0;return}if(p!==x)if(Ox(p)&&Ox(x))for(let E=0;E<t.length;E++){const S=t[E];typeof S=="string"&&(t[E]=parseFloat(S))}else wa[o]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:i}=this,o=[];for(let u=0;u<t.length;u++)(t[u]===null||n9(t[u]))&&o.push(u);o.length&&c9(t,o,i)}measureInitialState(){const{element:t,unresolvedKeyframes:i,name:o}=this;if(!t||!t.current)return;o==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=wa[o](t.measureViewportBox(),window.getComputedStyle(t.current)),i[0]=this.measuredOrigin;const u=i[i.length-1];u!==void 0&&t.getValue(o,u).jump(u,!1)}measureEndState(){const{element:t,name:i,unresolvedKeyframes:o}=this;if(!t||!t.current)return;const u=t.getValue(i);u&&u.jump(this.measuredOrigin,!1);const h=o.length-1,p=o[h];o[h]=wa[i](t.measureViewportBox(),window.getComputedStyle(t.current)),p!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=p),this.removedTransforms?.length&&this.removedTransforms.forEach(([x,w])=>{t.getValue(x).set(w)}),this.resolveNoneKeyframes()}}const d9=new Set(["opacity","clipPath","filter","transform"]);function A4(e,t,i){if(e==null)return[];if(e instanceof EventTarget)return[e];if(typeof e=="string"){let o=document;const u=i?.[e]??o.querySelectorAll(e);return u?Array.from(u):[]}return Array.from(e).filter(o=>o!=null)}const N4=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function Ym(e){return L3(e)&&"offsetHeight"in e}const{schedule:$g}=W3(queueMicrotask,!1),Mi={x:!1,y:!1};function T4(){return Mi.x||Mi.y}function h9(e){return e==="x"||e==="y"?Mi[e]?null:(Mi[e]=!0,()=>{Mi[e]=!1}):Mi.x||Mi.y?null:(Mi.x=Mi.y=!0,()=>{Mi.x=Mi.y=!1})}function R4(e,t){const i=A4(e),o=new AbortController,u={passive:!0,...t,signal:o.signal};return[i,u,()=>o.abort()]}function f9(e){return!(e.pointerType==="touch"||T4())}function m9(e,t,i={}){const[o,u,h]=R4(e,i);return o.forEach(p=>{let x=!1,w=!1,b;const E=()=>{p.removeEventListener("pointerleave",D)},S=P=>{b&&(b(P),b=void 0),E()},R=P=>{x=!1,window.removeEventListener("pointerup",R),window.removeEventListener("pointercancel",R),w&&(w=!1,S(P))},_=()=>{x=!0,window.addEventListener("pointerup",R,u),window.addEventListener("pointercancel",R,u)},D=P=>{if(P.pointerType!=="touch"){if(x){w=!0;return}S(P)}},L=P=>{if(!f9(P))return;w=!1;const Y=t(p,P);typeof Y=="function"&&(b=Y,p.addEventListener("pointerleave",D,u))};p.addEventListener("pointerenter",L,u),p.addEventListener("pointerdown",_,u)}),h}const O4=(e,t)=>t?e===t?!0:O4(e,t.parentElement):!1,Jg=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,g9=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function p9(e){return g9.has(e.tagName)||e.isContentEditable===!0}const y9=new Set(["INPUT","SELECT","TEXTAREA"]);function b9(e){return y9.has(e.tagName)||e.isContentEditable===!0}const Qd=new WeakSet;function Bx(e){return t=>{t.key==="Enter"&&e(t)}}function $0(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const v9=(e,t)=>{const i=e.currentTarget;if(!i)return;const o=Bx(()=>{if(Qd.has(i))return;$0(i,"down");const u=Bx(()=>{$0(i,"up")}),h=()=>$0(i,"cancel");i.addEventListener("keyup",u,t),i.addEventListener("blur",h,t)});i.addEventListener("keydown",o,t),i.addEventListener("blur",()=>i.removeEventListener("keydown",o),t)};function kx(e){return Jg(e)&&!T4()}const Px=new WeakSet;function x9(e,t,i={}){const[o,u,h]=R4(e,i),p=x=>{const w=x.currentTarget;if(!kx(x)||Px.has(x))return;Qd.add(w),i.stopPropagation&&Px.add(x);const b=t(w,x),E=(_,D)=>{window.removeEventListener("pointerup",S),window.removeEventListener("pointercancel",R),Qd.has(w)&&Qd.delete(w),kx(_)&&typeof b=="function"&&b(_,{success:D})},S=_=>{E(_,w===window||w===document||i.useGlobalTarget||O4(w,_.target))},R=_=>{E(_,!1)};window.addEventListener("pointerup",S,u),window.addEventListener("pointercancel",R,u)};return o.forEach(x=>{(i.useGlobalTarget?window:x).addEventListener("pointerdown",p,u),Ym(x)&&(x.addEventListener("focus",b=>v9(b,u)),!p9(x)&&!x.hasAttribute("tabindex")&&(x.tabIndex=0))}),h}function ep(e){return L3(e)&&"ownerSVGElement"in e}const Zd=new WeakMap;let Kd;const M4=(e,t,i)=>(o,u)=>u&&u[0]?u[0][e+"Size"]:ep(o)&&"getBBox"in o?o.getBBox()[t]:o[i],w9=M4("inline","width","offsetWidth"),E9=M4("block","height","offsetHeight");function C9({target:e,borderBoxSize:t}){Zd.get(e)?.forEach(i=>{i(e,{get width(){return w9(e,t)},get height(){return E9(e,t)}})})}function S9(e){e.forEach(C9)}function A9(){typeof ResizeObserver>"u"||(Kd=new ResizeObserver(S9))}function N9(e,t){Kd||A9();const i=A4(e);return i.forEach(o=>{let u=Zd.get(o);u||(u=new Set,Zd.set(o,u)),u.add(t),Kd?.observe(o)}),()=>{i.forEach(o=>{const u=Zd.get(o);u?.delete(t),u?.size||Kd?.unobserve(o)})}}const $d=new Set;let al;function T9(){al=()=>{const e={get width(){return window.innerWidth},get height(){return window.innerHeight}};$d.forEach(t=>t(e))},window.addEventListener("resize",al)}function R9(e){return $d.add(e),al||T9(),()=>{$d.delete(e),!$d.size&&typeof al=="function"&&(window.removeEventListener("resize",al),al=void 0)}}function Ux(e,t){return typeof e=="function"?R9(e):N9(e,t)}function O9(e){return ep(e)&&e.tagName==="svg"}const M9=[...E4,Dn,Na],I9=e=>M9.find(w4(e)),zx=()=>({translate:0,scale:1,origin:0,originPoint:0}),ol=()=>({x:zx(),y:zx()}),Fx=()=>({min:0,max:0}),Vn=()=>({x:Fx(),y:Fx()}),_9=new WeakMap;function Lh(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Vc(e){return typeof e=="string"||Array.isArray(e)}const tp=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],np=["initial",...tp];function Bh(e){return Lh(e.animate)||np.some(t=>Vc(e[t]))}function I4(e){return!!(Bh(e)||e.variants)}function D9(e,t,i){for(const o in t){const u=t[o],h=i[o];if(or(u))e.addValue(o,u);else if(or(h))e.addValue(o,pl(u,{owner:e}));else if(h!==u)if(e.hasValue(o)){const p=e.getValue(o);p.liveStyle===!0?p.jump(u):p.hasAnimated||p.set(u)}else{const p=e.getStaticValue(o);e.addValue(o,pl(p!==void 0?p:u,{owner:e}))}}for(const o in i)t[o]===void 0&&e.removeValue(o);return t}const Xm={current:null},_4={current:!1},j9=typeof window<"u";function L9(){if(_4.current=!0,!!j9)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Xm.current=e.matches;e.addEventListener("change",t),t()}else Xm.current=!1}const Vx=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let fh={};function D4(e){fh=e}function B9(){return fh}class k9{scrapeMotionValuesFromProps(t,i,o){return{}}constructor({parent:t,props:i,presenceContext:o,reducedMotionConfig:u,skipAnimations:h,blockInitialAnimation:p,visualState:x},w={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.shouldSkipAnimations=!1,this.values=new Map,this.KeyframeResolver=Yg,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.hasBeenMounted=!1,this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const _=pr.now();this.renderScheduledAt<_&&(this.renderScheduledAt=_,Qt.render(this.render,!1,!0))};const{latestValues:b,renderState:E}=x;this.latestValues=b,this.baseTarget={...b},this.initialValues=i.initial?{...b}:{},this.renderState=E,this.parent=t,this.props=i,this.presenceContext=o,this.depth=t?t.depth+1:0,this.reducedMotionConfig=u,this.skipAnimationsConfig=h,this.options=w,this.blockInitialAnimation=!!p,this.isControllingVariants=Bh(i),this.isVariantNode=I4(i),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:S,...R}=this.scrapeMotionValuesFromProps(i,{},this);for(const _ in R){const D=R[_];b[_]!==void 0&&or(D)&&D.set(b[_])}}mount(t){if(this.hasBeenMounted)for(const i in this.initialValues)this.values.get(i)?.jump(this.initialValues[i]),this.latestValues[i]=this.initialValues[i];this.current=t,_9.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((i,o)=>this.bindToMotionValue(o,i)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(_4.current||L9(),this.shouldReduceMotion=Xm.current),this.shouldSkipAnimations=this.skipAnimationsConfig??!1,this.parent?.addChild(this),this.update(this.props,this.presenceContext),this.hasBeenMounted=!0}unmount(){this.projection&&this.projection.unmount(),Aa(this.notifyUpdate),Aa(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const i=this.features[t];i&&(i.unmount(),i.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,i){if(this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)(),i.accelerate&&d9.has(t)&&this.current instanceof HTMLElement){const{factory:p,keyframes:x,times:w,ease:b,duration:E}=i.accelerate,S=new h4({element:this.current,name:t,keyframes:x,times:w,ease:b,duration:_i(E)}),R=p(S);this.valueSubscriptions.set(t,()=>{R(),S.cancel()});return}const o=Tl.has(t);o&&this.onBindTransform&&this.onBindTransform();const u=i.on("change",p=>{this.latestValues[t]=p,this.props.onUpdate&&Qt.preRender(this.notifyUpdate),o&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let h;typeof window<"u"&&window.MotionCheckAppearSync&&(h=window.MotionCheckAppearSync(this,t,i)),this.valueSubscriptions.set(t,()=>{u(),h&&h(),i.owner&&i.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in fh){const i=fh[t];if(!i)continue;const{isEnabled:o,Feature:u}=i;if(!this.features[t]&&u&&o(this.props)&&(this.features[t]=new u(this)),this.features[t]){const h=this.features[t];h.isMounted?h.update():(h.mount(),h.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Vn()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,i){this.latestValues[t]=i}update(t,i){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=i;for(let o=0;o<Vx.length;o++){const u=Vx[o];this.propEventSubscriptions[u]&&(this.propEventSubscriptions[u](),delete this.propEventSubscriptions[u]);const h="on"+u,p=t[h];p&&(this.propEventSubscriptions[u]=this.on(u,p))}this.prevMotionValues=D9(this,this.scrapeMotionValuesFromProps(t,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const i=this.getClosestVariantNode();if(i)return i.variantChildren&&i.variantChildren.add(t),()=>i.variantChildren.delete(t)}addValue(t,i){const o=this.values.get(t);i!==o&&(o&&this.removeValue(t),this.bindToMotionValue(t,i),this.values.set(t,i),this.latestValues[t]=i.get())}removeValue(t){this.values.delete(t);const i=this.valueSubscriptions.get(t);i&&(i(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,i){if(this.props.values&&this.props.values[t])return this.props.values[t];let o=this.values.get(t);return o===void 0&&i!==void 0&&(o=pl(i===null?void 0:i,{owner:this}),this.addValue(t,o)),o}readValue(t,i){let o=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return o!=null&&(typeof o=="string"&&(j3(o)||B3(o))?o=parseFloat(o):!I9(o)&&Na.test(i)&&(o=S4(t,i)),this.setBaseTarget(t,or(o)?o.get():o)),or(o)?o.get():o}setBaseTarget(t,i){this.baseTarget[t]=i}getBaseTarget(t){const{initial:i}=this.props;let o;if(typeof i=="string"||typeof i=="object"){const h=Qg(this.props,i,this.presenceContext?.custom);h&&(o=h[t])}if(i&&o!==void 0)return o;const u=this.getBaseTargetFromProps(this.props,t);return u!==void 0&&!or(u)?u:this.initialValues[t]!==void 0&&o===void 0?void 0:this.baseTarget[t]}on(t,i){return this.events[t]||(this.events[t]=new Lg),this.events[t].add(i)}notify(t,...i){this.events[t]&&this.events[t].notify(...i)}scheduleRenderMicrotask(){$g.render(this.render)}}class j4 extends k9{constructor(){super(...arguments),this.KeyframeResolver=u9}sortInstanceNodePosition(t,i){return t.compareDocumentPosition(i)&2?1:-1}getBaseTargetFromProps(t,i){const o=t.style;return o?o[i]:void 0}removeValueFromRenderState(t,{vars:i,style:o}){delete i[t],delete o[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;or(t)&&(this.childSubscription=t.on("change",i=>{this.current&&(this.current.textContent=`${i}`)}))}}class Ma{constructor(t){this.isMounted=!1,this.node=t}update(){}}function L4({top:e,left:t,right:i,bottom:o}){return{x:{min:t,max:i},y:{min:e,max:o}}}function P9({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function U9(e,t){if(!t)return e;const i=t({x:e.left,y:e.top}),o=t({x:e.right,y:e.bottom});return{top:i.y,left:i.x,bottom:o.y,right:o.x}}function J0(e){return e===void 0||e===1}function Wm({scale:e,scaleX:t,scaleY:i}){return!J0(e)||!J0(t)||!J0(i)}function ro(e){return Wm(e)||B4(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function B4(e){return Hx(e.x)||Hx(e.y)}function Hx(e){return e&&e!=="0%"}function mh(e,t,i){const o=e-i,u=t*o;return i+u}function qx(e,t,i,o,u){return u!==void 0&&(e=mh(e,u,o)),mh(e,i,o)+t}function Qm(e,t=0,i=1,o,u){e.min=qx(e.min,t,i,o,u),e.max=qx(e.max,t,i,o,u)}function k4(e,{x:t,y:i}){Qm(e.x,t.translate,t.scale,t.originPoint),Qm(e.y,i.translate,i.scale,i.originPoint)}const Gx=.999999999999,Yx=1.0000000000001;function z9(e,t,i,o=!1){const u=i.length;if(!u)return;t.x=t.y=1;let h,p;for(let x=0;x<u;x++){h=i[x],p=h.projectionDelta;const{visualElement:w}=h.options;w&&w.props.style&&w.props.style.display==="contents"||(o&&h.options.layoutScroll&&h.scroll&&h!==h.root&&cl(e,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),p&&(t.x*=p.x.scale,t.y*=p.y.scale,k4(e,p)),o&&ro(h.latestValues)&&cl(e,h.latestValues))}t.x<Yx&&t.x>Gx&&(t.x=1),t.y<Yx&&t.y>Gx&&(t.y=1)}function ll(e,t){e.min=e.min+t,e.max=e.max+t}function Xx(e,t,i,o,u=.5){const h=cn(e.min,e.max,u);Qm(e,t,i,h,o)}function cl(e,t){Xx(e.x,t.x,t.scaleX,t.scale,t.originX),Xx(e.y,t.y,t.scaleY,t.scale,t.originY)}function P4(e,t){return L4(U9(e.getBoundingClientRect(),t))}function F9(e,t,i){const o=P4(e,i),{scroll:u}=t;return u&&(ll(o.x,u.offset.x),ll(o.y,u.offset.y)),o}const V9={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},H9=Nl.length;function q9(e,t,i){let o="",u=!0;for(let h=0;h<H9;h++){const p=Nl[h],x=e[p];if(x===void 0)continue;let w=!0;if(typeof x=="number")w=x===(p.startsWith("scale")?1:0);else{const b=parseFloat(x);w=p.startsWith("scale")?b===1:b===0}if(!w||i){const b=N4(x,Kg[p]);if(!w){u=!1;const E=V9[p]||p;o+=`${E}(${b}) `}i&&(t[p]=b)}}return o=o.trim(),i?o=i(t,u?"":o):u&&(o="none"),o}function rp(e,t,i){const{style:o,vars:u,transformOrigin:h}=e;let p=!1,x=!1;for(const w in t){const b=t[w];if(Tl.has(w)){p=!0;continue}else if(Z3(w)){u[w]=b;continue}else{const E=N4(b,Kg[w]);w.startsWith("origin")?(x=!0,h[w]=E):o[w]=E}}if(t.transform||(p||i?o.transform=q9(t,e.transform,i):o.transform&&(o.transform="none")),x){const{originX:w="50%",originY:b="50%",originZ:E=0}=h;o.transformOrigin=`${w} ${b} ${E}`}}function U4(e,{style:t,vars:i},o,u){const h=e.style;let p;for(p in t)h[p]=t[p];u?.applyProjectionStyles(h,o);for(p in i)h.setProperty(p,i[p])}function Wx(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Ac={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Ve.test(e))e=parseFloat(e);else return e;const i=Wx(e,t.target.x),o=Wx(e,t.target.y);return`${i}% ${o}%`}},G9={correct:(e,{treeScale:t,projectionDelta:i})=>{const o=e,u=Na.parse(e);if(u.length>5)return o;const h=Na.createTransformer(e),p=typeof u[0]!="number"?1:0,x=i.x.scale*t.x,w=i.y.scale*t.y;u[0+p]/=x,u[1+p]/=w;const b=cn(x,w,.5);return typeof u[2+p]=="number"&&(u[2+p]/=b),typeof u[3+p]=="number"&&(u[3+p]/=b),h(u)}},Zm={borderRadius:{...Ac,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ac,borderTopRightRadius:Ac,borderBottomLeftRadius:Ac,borderBottomRightRadius:Ac,boxShadow:G9};function z4(e,{layout:t,layoutId:i}){return Tl.has(e)||e.startsWith("origin")||(t||i!==void 0)&&(!!Zm[e]||e==="opacity")}function ip(e,t,i){const o=e.style,u=t?.style,h={};if(!o)return h;for(const p in o)(or(o[p])||u&&or(u[p])||z4(p,e)||i?.getValue(p)?.liveStyle!==void 0)&&(h[p]=o[p]);return h}function Y9(e){return window.getComputedStyle(e)}class X9 extends j4{constructor(){super(...arguments),this.type="html",this.renderInstance=U4}readValueFromInstance(t,i){if(Tl.has(i))return this.projection?.isProjecting?Bm(i):h7(t,i);{const o=Y9(t),u=(Z3(i)?o.getPropertyValue(i):o[i])||0;return typeof u=="string"?u.trim():u}}measureInstanceViewportBox(t,{transformPagePoint:i}){return P4(t,i)}build(t,i,o){rp(t,i,o.transformTemplate)}scrapeMotionValuesFromProps(t,i,o){return ip(t,i,o)}}const W9={offset:"stroke-dashoffset",array:"stroke-dasharray"},Q9={offset:"strokeDashoffset",array:"strokeDasharray"};function Z9(e,t,i=1,o=0,u=!0){e.pathLength=1;const h=u?W9:Q9;e[h.offset]=`${-o}`,e[h.array]=`${t} ${i}`}const K9=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function F4(e,{attrX:t,attrY:i,attrScale:o,pathLength:u,pathSpacing:h=1,pathOffset:p=0,...x},w,b,E){if(rp(e,x,b),w){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:S,style:R}=e;S.transform&&(R.transform=S.transform,delete S.transform),(R.transform||S.transformOrigin)&&(R.transformOrigin=S.transformOrigin??"50% 50%",delete S.transformOrigin),R.transform&&(R.transformBox=E?.transformBox??"fill-box",delete S.transformBox);for(const _ of K9)S[_]!==void 0&&(R[_]=S[_],delete S[_]);t!==void 0&&(S.x=t),i!==void 0&&(S.y=i),o!==void 0&&(S.scale=o),u!==void 0&&Z9(S,u,h,p,!1)}const V4=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),H4=e=>typeof e=="string"&&e.toLowerCase()==="svg";function $9(e,t,i,o){U4(e,t,void 0,o);for(const u in t.attrs)e.setAttribute(V4.has(u)?u:Zg(u),t.attrs[u])}function q4(e,t,i){const o=ip(e,t,i);for(const u in e)if(or(e[u])||or(t[u])){const h=Nl.indexOf(u)!==-1?"attr"+u.charAt(0).toUpperCase()+u.substring(1):u;o[h]=e[u]}return o}class J9 extends j4{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Vn}getBaseTargetFromProps(t,i){return t[i]}readValueFromInstance(t,i){if(Tl.has(i)){const o=C4(i);return o&&o.default||0}return i=V4.has(i)?i:Zg(i),t.getAttribute(i)}scrapeMotionValuesFromProps(t,i,o){return q4(t,i,o)}build(t,i,o){F4(t,i,this.isSVGTag,o.transformTemplate,o.style)}renderInstance(t,i,o,u){$9(t,i,o,u)}mount(t){this.isSVGTag=H4(t.tagName),super.mount(t)}}const eM=np.length;function G4(e){if(!e)return;if(!e.isControllingVariants){const i=e.parent?G4(e.parent)||{}:{};return e.props.initial!==void 0&&(i.initial=e.props.initial),i}const t={};for(let i=0;i<eM;i++){const o=np[i],u=e.props[o];(Vc(u)||u===!1)&&(t[o]=u)}return t}function Y4(e,t){if(!Array.isArray(t))return!1;const i=t.length;if(i!==e.length)return!1;for(let o=0;o<i;o++)if(t[o]!==e[o])return!1;return!0}const tM=[...tp].reverse(),nM=tp.length;function rM(e){return t=>Promise.all(t.map(({animation:i,options:o})=>e9(e,i,o)))}function iM(e){let t=rM(e),i=Qx(),o=!0;const u=w=>(b,E)=>{const S=hl(e,E,w==="exit"?e.presenceContext?.custom:void 0);if(S){const{transition:R,transitionEnd:_,...D}=S;b={...b,...D,..._}}return b};function h(w){t=w(e)}function p(w){const{props:b}=e,E=G4(e.parent)||{},S=[],R=new Set;let _={},D=1/0;for(let P=0;P<nM;P++){const Y=tM[P],j=i[Y],U=b[Y]!==void 0?b[Y]:E[Y],V=Vc(U),I=Y===w?j.isActive:null;I===!1&&(D=P);let X=U===E[Y]&&U!==b[Y]&&V;if(X&&o&&e.manuallyAnimateOnMount&&(X=!1),j.protectedKeys={..._},!j.isActive&&I===null||!U&&!j.prevProp||Lh(U)||typeof U=="boolean")continue;if(Y==="exit"&&j.isActive&&I!==!0){j.prevResolvedValues&&(_={..._,...j.prevResolvedValues});continue}const z=sM(j.prevProp,U);let H=z||Y===w&&j.isActive&&!X&&V||P>D&&V,Q=!1;const Ee=Array.isArray(U)?U:[U];let ae=Ee.reduce(u(Y),{});I===!1&&(ae={});const{prevResolvedValues:ve={}}=j,me={...ve,...ae},Le=ue=>{H=!0,R.has(ue)&&(Q=!0,R.delete(ue)),j.needsAnimating[ue]=!0;const xe=e.getValue(ue);xe&&(xe.liveStyle=!1)};for(const ue in me){const xe=ae[ue],ke=ve[ue];if(_.hasOwnProperty(ue))continue;let ye=!1;Vm(xe)&&Vm(ke)?ye=!Y4(xe,ke):ye=xe!==ke,ye?xe!=null?Le(ue):R.add(ue):xe!==void 0&&R.has(ue)?Le(ue):j.protectedKeys[ue]=!0}j.prevProp=U,j.prevResolvedValues=ae,j.isActive&&(_={..._,...ae}),o&&e.blockInitialAnimation&&(H=!1);const ne=X&&z;H&&(!ne||Q)&&S.push(...Ee.map(ue=>{const xe={type:Y};if(typeof ue=="string"&&o&&!ne&&e.manuallyAnimateOnMount&&e.parent){const{parent:ke}=e,ye=hl(ke,ue);if(ke.enteringChildren&&ye){const{delayChildren:$}=ye.transition||{};xe.delay=m4(ke.enteringChildren,e,$)}}return{animation:ue,options:xe}}))}if(R.size){const P={};if(typeof b.initial!="boolean"){const Y=hl(e,Array.isArray(b.initial)?b.initial[0]:b.initial);Y&&Y.transition&&(P.transition=Y.transition)}R.forEach(Y=>{const j=e.getBaseTarget(Y),U=e.getValue(Y);U&&(U.liveStyle=!0),P[Y]=j??null}),S.push({animation:P})}let L=!!S.length;return o&&(b.initial===!1||b.initial===b.animate)&&!e.manuallyAnimateOnMount&&(L=!1),o=!1,L?t(S):Promise.resolve()}function x(w,b){if(i[w].isActive===b)return Promise.resolve();e.variantChildren?.forEach(S=>S.animationState?.setActive(w,b)),i[w].isActive=b;const E=p(w);for(const S in i)i[S].protectedKeys={};return E}return{animateChanges:p,setActive:x,setAnimateFunction:h,getState:()=>i,reset:()=>{i=Qx()}}}function sM(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!Y4(t,e):!1}function no(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Qx(){return{animate:no(!0),whileInView:no(),whileHover:no(),whileTap:no(),whileDrag:no(),whileFocus:no(),exit:no()}}function Zx(e,t){e.min=t.min,e.max=t.max}function Oi(e,t){Zx(e.x,t.x),Zx(e.y,t.y)}function Kx(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}const X4=1e-4,aM=1-X4,oM=1+X4,W4=.01,lM=0-W4,cM=0+W4;function yr(e){return e.max-e.min}function uM(e,t,i){return Math.abs(e-t)<=i}function $x(e,t,i,o=.5){e.origin=o,e.originPoint=cn(t.min,t.max,e.origin),e.scale=yr(i)/yr(t),e.translate=cn(i.min,i.max,e.origin)-e.originPoint,(e.scale>=aM&&e.scale<=oM||isNaN(e.scale))&&(e.scale=1),(e.translate>=lM&&e.translate<=cM||isNaN(e.translate))&&(e.translate=0)}function Ic(e,t,i,o){$x(e.x,t.x,i.x,o?o.originX:void 0),$x(e.y,t.y,i.y,o?o.originY:void 0)}function Jx(e,t,i){e.min=i.min+t.min,e.max=e.min+yr(t)}function dM(e,t,i){Jx(e.x,t.x,i.x),Jx(e.y,t.y,i.y)}function ew(e,t,i){e.min=t.min-i.min,e.max=e.min+yr(t)}function gh(e,t,i){ew(e.x,t.x,i.x),ew(e.y,t.y,i.y)}function tw(e,t,i,o,u){return e-=t,e=mh(e,1/i,o),u!==void 0&&(e=mh(e,1/u,o)),e}function hM(e,t=0,i=1,o=.5,u,h=e,p=e){if(ts.test(t)&&(t=parseFloat(t),t=cn(p.min,p.max,t/100)-p.min),typeof t!="number")return;let x=cn(h.min,h.max,o);e===h&&(x-=t),e.min=tw(e.min,t,i,x,u),e.max=tw(e.max,t,i,x,u)}function nw(e,t,[i,o,u],h,p){hM(e,t[i],t[o],t[u],t.scale,h,p)}const fM=["x","scaleX","originX"],mM=["y","scaleY","originY"];function rw(e,t,i,o){nw(e.x,t,fM,i?i.x:void 0,o?o.x:void 0),nw(e.y,t,mM,i?i.y:void 0,o?o.y:void 0)}function iw(e){return e.translate===0&&e.scale===1}function Q4(e){return iw(e.x)&&iw(e.y)}function sw(e,t){return e.min===t.min&&e.max===t.max}function gM(e,t){return sw(e.x,t.x)&&sw(e.y,t.y)}function aw(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function Z4(e,t){return aw(e.x,t.x)&&aw(e.y,t.y)}function ow(e){return yr(e.x)/yr(e.y)}function lw(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}function Zi(e){return[e("x"),e("y")]}function pM(e,t,i){let o="";const u=e.x.translate/t.x,h=e.y.translate/t.y,p=i?.z||0;if((u||h||p)&&(o=`translate3d(${u}px, ${h}px, ${p}px) `),(t.x!==1||t.y!==1)&&(o+=`scale(${1/t.x}, ${1/t.y}) `),i){const{transformPerspective:b,rotate:E,rotateX:S,rotateY:R,skewX:_,skewY:D}=i;b&&(o=`perspective(${b}px) ${o}`),E&&(o+=`rotate(${E}deg) `),S&&(o+=`rotateX(${S}deg) `),R&&(o+=`rotateY(${R}deg) `),_&&(o+=`skewX(${_}deg) `),D&&(o+=`skewY(${D}deg) `)}const x=e.x.scale*t.x,w=e.y.scale*t.y;return(x!==1||w!==1)&&(o+=`scale(${x}, ${w})`),o||"none"}const K4=["TopLeft","TopRight","BottomLeft","BottomRight"],yM=K4.length,cw=e=>typeof e=="string"?parseFloat(e):e,uw=e=>typeof e=="number"||Ve.test(e);function bM(e,t,i,o,u,h){u?(e.opacity=cn(0,i.opacity??1,vM(o)),e.opacityExit=cn(t.opacity??1,0,xM(o))):h&&(e.opacity=cn(t.opacity??1,i.opacity??1,o));for(let p=0;p<yM;p++){const x=`border${K4[p]}Radius`;let w=dw(t,x),b=dw(i,x);if(w===void 0&&b===void 0)continue;w||(w=0),b||(b=0),w===0||b===0||uw(w)===uw(b)?(e[x]=Math.max(cn(cw(w),cw(b),o),0),(ts.test(b)||ts.test(w))&&(e[x]+="%")):e[x]=b}(t.rotate||i.rotate)&&(e.rotate=cn(t.rotate||0,i.rotate||0,o))}function dw(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const vM=$4(0,.5,q3),xM=$4(.5,.95,gi);function $4(e,t,i){return o=>o<e?0:o>t?1:i(Uc(e,t,o))}function wM(e,t,i){const o=or(e)?e:pl(e);return o.start(Wg("",o,t,i)),o.animation}function Hc(e,t,i,o={passive:!0}){return e.addEventListener(t,i,o),()=>e.removeEventListener(t,i)}const EM=(e,t)=>e.depth-t.depth;class CM{constructor(){this.children=[],this.isDirty=!1}add(t){_g(this.children,t),this.isDirty=!0}remove(t){ch(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(EM),this.isDirty=!1,this.children.forEach(t)}}function SM(e,t){const i=pr.now(),o=({timestamp:u})=>{const h=u-i;h>=t&&(Aa(o),e(h-t))};return Qt.setup(o,!0),()=>Aa(o)}function Jd(e){return or(e)?e.get():e}class AM{constructor(){this.members=[]}add(t){_g(this.members,t);for(let i=this.members.length-1;i>=0;i--){const o=this.members[i];if(o===t||o===this.lead||o===this.prevLead)continue;const u=o.instance;u&&u.isConnected===!1&&o.isPresent!==!1&&!o.snapshot&&ch(this.members,o)}t.scheduleRender()}remove(t){if(ch(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const i=this.members[this.members.length-1];i&&this.promote(i)}}relegate(t){const i=this.members.findIndex(u=>t===u);if(i===0)return!1;let o;for(let u=i;u>=0;u--){const h=this.members[u],p=h.instance;if(h.isPresent!==!1&&(!p||p.isConnected!==!1)){o=h;break}}return o?(this.promote(o),!0):!1}promote(t,i){const o=this.lead;if(t!==o&&(this.prevLead=o,this.lead=t,t.show(),o)){o.instance&&o.scheduleRender(),t.scheduleRender();const u=o.options.layoutDependency,h=t.options.layoutDependency;if(!(u!==void 0&&h!==void 0&&u===h)){const w=o.instance;w&&w.isConnected===!1&&!o.snapshot||(t.resumeFrom=o,i&&(t.resumeFrom.preserveOpacity=!0),o.snapshot&&(t.snapshot=o.snapshot,t.snapshot.latestValues=o.animationValues||o.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0))}const{crossfade:x}=t.options;x===!1&&o.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:i,resumingFrom:o}=t;i.onExitComplete&&i.onExitComplete(),o&&o.options.onExitComplete&&o.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const eh={hasAnimatedSinceResize:!0,hasEverUpdated:!1},em=["","X","Y","Z"],NM=1e3;let TM=0;function tm(e,t,i,o){const{latestValues:u}=t;u[e]&&(i[e]=u[e],t.setStaticValue(e,0),o&&(o[e]=0))}function J4(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const i=v4(t);if(window.MotionHasOptimisedAnimation(i,"transform")){const{layout:u,layoutId:h}=e.options;window.MotionCancelOptimisedAnimation(i,"transform",Qt,!(u||h))}const{parent:o}=e;o&&!o.hasCheckedOptimisedAppear&&J4(o)}function eC({attachResizeListener:e,defaultParent:t,measureScroll:i,checkIsScrollRoot:o,resetTransform:u}){return class{constructor(p={},x=t?.()){this.id=TM++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(MM),this.nodes.forEach(jM),this.nodes.forEach(LM),this.nodes.forEach(IM)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=p,this.root=x?x.root||x:this,this.path=x?[...x.path,x]:[],this.parent=x,this.depth=x?x.depth+1:0;for(let w=0;w<this.path.length;w++)this.path[w].shouldResetTransform=!0;this.root===this&&(this.nodes=new CM)}addEventListener(p,x){return this.eventHandlers.has(p)||this.eventHandlers.set(p,new Lg),this.eventHandlers.get(p).add(x)}notifyListeners(p,...x){const w=this.eventHandlers.get(p);w&&w.notify(...x)}hasListeners(p){return this.eventHandlers.has(p)}mount(p){if(this.instance)return;this.isSVG=ep(p)&&!O9(p),this.instance=p;const{layoutId:x,layout:w,visualElement:b}=this.options;if(b&&!b.current&&b.mount(p),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(w||x)&&(this.isLayoutDirty=!0),e){let E,S=0;const R=()=>this.root.updateBlockedByResize=!1;Qt.read(()=>{S=window.innerWidth}),e(p,()=>{const _=window.innerWidth;_!==S&&(S=_,this.root.updateBlockedByResize=!0,E&&E(),E=SM(R,250),eh.hasAnimatedSinceResize&&(eh.hasAnimatedSinceResize=!1,this.nodes.forEach(mw)))})}x&&this.root.registerSharedNode(x,this),this.options.animate!==!1&&b&&(x||w)&&this.addEventListener("didUpdate",({delta:E,hasLayoutChanged:S,hasRelativeLayoutChanged:R,layout:_})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const D=this.options.transition||b.getDefaultTransition()||zM,{onLayoutAnimationStart:L,onLayoutAnimationComplete:P}=b.getProps(),Y=!this.targetLayout||!Z4(this.targetLayout,_),j=!S&&R;if(this.options.layoutRoot||this.resumeFrom||j||S&&(Y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const U={...Xg(D,"layout"),onPlay:L,onComplete:P};(b.shouldReduceMotion||this.options.layoutRoot)&&(U.delay=0,U.type=!1),this.startAnimation(U),this.setAnimationOrigin(E,j)}else S||mw(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=_})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const p=this.getStack();p&&p.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Aa(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(BM),this.animationId++)}getTransformTemplate(){const{visualElement:p}=this.options;return p&&p.getProps().transformTemplate}willUpdate(p=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&J4(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let E=0;E<this.path.length;E++){const S=this.path[E];S.shouldResetTransform=!0,S.updateScroll("snapshot"),S.options.layoutRoot&&S.willUpdate(!1)}const{layoutId:x,layout:w}=this.options;if(x===void 0&&!w)return;const b=this.getTransformTemplate();this.prevTransformTemplateValue=b?b(this.latestValues,""):void 0,this.updateSnapshot(),p&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(hw);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(fw);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(DM),this.nodes.forEach(RM),this.nodes.forEach(OM)):this.nodes.forEach(fw),this.clearAllSnapshots();const x=pr.now();tr.delta=ns(0,1e3/60,x-tr.timestamp),tr.timestamp=x,tr.isProcessing=!0,Y0.update.process(tr),Y0.preRender.process(tr),Y0.render.process(tr),tr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,$g.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(_M),this.sharedNodes.forEach(kM)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Qt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Qt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!yr(this.snapshot.measuredBox.x)&&!yr(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let w=0;w<this.path.length;w++)this.path[w].updateScroll();const p=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Vn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:x}=this.options;x&&x.notify("LayoutMeasure",this.layout.layoutBox,p?p.layoutBox:void 0)}updateScroll(p="measure"){let x=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===p&&(x=!1),x&&this.instance){const w=o(this.instance);this.scroll={animationId:this.root.animationId,phase:p,isRoot:w,offset:i(this.instance),wasRoot:this.scroll?this.scroll.isRoot:w}}}resetTransform(){if(!u)return;const p=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,x=this.projectionDelta&&!Q4(this.projectionDelta),w=this.getTransformTemplate(),b=w?w(this.latestValues,""):void 0,E=b!==this.prevTransformTemplateValue;p&&this.instance&&(x||ro(this.latestValues)||E)&&(u(this.instance,b),this.shouldResetTransform=!1,this.scheduleRender())}measure(p=!0){const x=this.measurePageBox();let w=this.removeElementScroll(x);return p&&(w=this.removeTransform(w)),FM(w),{animationId:this.root.animationId,measuredBox:x,layoutBox:w,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:p}=this.options;if(!p)return Vn();const x=p.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(VM))){const{scroll:b}=this.root;b&&(ll(x.x,b.offset.x),ll(x.y,b.offset.y))}return x}removeElementScroll(p){const x=Vn();if(Oi(x,p),this.scroll?.wasRoot)return x;for(let w=0;w<this.path.length;w++){const b=this.path[w],{scroll:E,options:S}=b;b!==this.root&&E&&S.layoutScroll&&(E.wasRoot&&Oi(x,p),ll(x.x,E.offset.x),ll(x.y,E.offset.y))}return x}applyTransform(p,x=!1){const w=Vn();Oi(w,p);for(let b=0;b<this.path.length;b++){const E=this.path[b];!x&&E.options.layoutScroll&&E.scroll&&E!==E.root&&cl(w,{x:-E.scroll.offset.x,y:-E.scroll.offset.y}),ro(E.latestValues)&&cl(w,E.latestValues)}return ro(this.latestValues)&&cl(w,this.latestValues),w}removeTransform(p){const x=Vn();Oi(x,p);for(let w=0;w<this.path.length;w++){const b=this.path[w];if(!b.instance||!ro(b.latestValues))continue;Wm(b.latestValues)&&b.updateSnapshot();const E=Vn(),S=b.measurePageBox();Oi(E,S),rw(x,b.latestValues,b.snapshot?b.snapshot.layoutBox:void 0,E)}return ro(this.latestValues)&&rw(x,this.latestValues),x}setTargetDelta(p){this.targetDelta=p,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(p){this.options={...this.options,...p,crossfade:p.crossfade!==void 0?p.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==tr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(p=!1){const x=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=x.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=x.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=x.isSharedProjectionDirty);const w=!!this.resumingFrom||this!==x;if(!(p||w&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:E,layoutId:S}=this.options;if(!this.layout||!(E||S))return;this.resolvedRelativeTargetAt=tr.timestamp;const R=this.getClosestProjectingParent();R&&this.linkedParentVersion!==R.layoutVersion&&!R.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(R&&R.layout?this.createRelativeTarget(R,this.layout.layoutBox,R.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Vn(),this.targetWithTransforms=Vn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),dM(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Oi(this.target,this.layout.layoutBox),k4(this.target,this.targetDelta)):Oi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,R&&!!R.resumingFrom==!!this.resumingFrom&&!R.options.layoutScroll&&R.target&&this.animationProgress!==1?this.createRelativeTarget(R,this.target,R.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Wm(this.parent.latestValues)||B4(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(p,x,w){this.relativeParent=p,this.linkedParentVersion=p.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Vn(),this.relativeTargetOrigin=Vn(),gh(this.relativeTargetOrigin,x,w),Oi(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const p=this.getLead(),x=!!this.resumingFrom||this!==p;let w=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(w=!1),x&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(w=!1),this.resolvedRelativeTargetAt===tr.timestamp&&(w=!1),w)return;const{layout:b,layoutId:E}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(b||E))return;Oi(this.layoutCorrected,this.layout.layoutBox);const S=this.treeScale.x,R=this.treeScale.y;z9(this.layoutCorrected,this.treeScale,this.path,x),p.layout&&!p.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(p.target=p.layout.layoutBox,p.targetWithTransforms=Vn());const{target:_}=p;if(!_){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Kx(this.prevProjectionDelta.x,this.projectionDelta.x),Kx(this.prevProjectionDelta.y,this.projectionDelta.y)),Ic(this.projectionDelta,this.layoutCorrected,_,this.latestValues),(this.treeScale.x!==S||this.treeScale.y!==R||!lw(this.projectionDelta.x,this.prevProjectionDelta.x)||!lw(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",_))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(p=!0){if(this.options.visualElement?.scheduleRender(),p){const x=this.getStack();x&&x.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ol(),this.projectionDelta=ol(),this.projectionDeltaWithTransform=ol()}setAnimationOrigin(p,x=!1){const w=this.snapshot,b=w?w.latestValues:{},E={...this.latestValues},S=ol();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!x;const R=Vn(),_=w?w.source:void 0,D=this.layout?this.layout.source:void 0,L=_!==D,P=this.getStack(),Y=!P||P.members.length<=1,j=!!(L&&!Y&&this.options.crossfade===!0&&!this.path.some(UM));this.animationProgress=0;let U;this.mixTargetDelta=V=>{const I=V/1e3;gw(S.x,p.x,I),gw(S.y,p.y,I),this.setTargetDelta(S),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(gh(R,this.layout.layoutBox,this.relativeParent.layout.layoutBox),PM(this.relativeTarget,this.relativeTargetOrigin,R,I),U&&gM(this.relativeTarget,U)&&(this.isProjectionDirty=!1),U||(U=Vn()),Oi(U,this.relativeTarget)),L&&(this.animationValues=E,bM(E,b,this.latestValues,I,j,Y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=I},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(p){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Aa(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Qt.update(()=>{eh.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=pl(0)),this.currentAnimation=wM(this.motionValue,[0,1e3],{...p,velocity:0,isSync:!0,onUpdate:x=>{this.mixTargetDelta(x),p.onUpdate&&p.onUpdate(x)},onStop:()=>{},onComplete:()=>{p.onComplete&&p.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const p=this.getStack();p&&p.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(NM),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const p=this.getLead();let{targetWithTransforms:x,target:w,layout:b,latestValues:E}=p;if(!(!x||!w||!b)){if(this!==p&&this.layout&&b&&tC(this.options.animationType,this.layout.layoutBox,b.layoutBox)){w=this.target||Vn();const S=yr(this.layout.layoutBox.x);w.x.min=p.target.x.min,w.x.max=w.x.min+S;const R=yr(this.layout.layoutBox.y);w.y.min=p.target.y.min,w.y.max=w.y.min+R}Oi(x,w),cl(x,E),Ic(this.projectionDeltaWithTransform,this.layoutCorrected,x,E)}}registerSharedNode(p,x){this.sharedNodes.has(p)||this.sharedNodes.set(p,new AM),this.sharedNodes.get(p).add(x);const b=x.options.initialPromotionConfig;x.promote({transition:b?b.transition:void 0,preserveFollowOpacity:b&&b.shouldPreserveFollowOpacity?b.shouldPreserveFollowOpacity(x):void 0})}isLead(){const p=this.getStack();return p?p.lead===this:!0}getLead(){const{layoutId:p}=this.options;return p?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:p}=this.options;return p?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:p}=this.options;if(p)return this.root.sharedNodes.get(p)}promote({needsReset:p,transition:x,preserveFollowOpacity:w}={}){const b=this.getStack();b&&b.promote(this,w),p&&(this.projectionDelta=void 0,this.needsReset=!0),x&&this.setOptions({transition:x})}relegate(){const p=this.getStack();return p?p.relegate(this):!1}resetSkewAndRotation(){const{visualElement:p}=this.options;if(!p)return;let x=!1;const{latestValues:w}=p;if((w.z||w.rotate||w.rotateX||w.rotateY||w.rotateZ||w.skewX||w.skewY)&&(x=!0),!x)return;const b={};w.z&&tm("z",p,b,this.animationValues);for(let E=0;E<em.length;E++)tm(`rotate${em[E]}`,p,b,this.animationValues),tm(`skew${em[E]}`,p,b,this.animationValues);p.render();for(const E in b)p.setStaticValue(E,b[E]),this.animationValues&&(this.animationValues[E]=b[E]);p.scheduleRender()}applyProjectionStyles(p,x){if(!this.instance||this.isSVG)return;if(!this.isVisible){p.visibility="hidden";return}const w=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,p.visibility="",p.opacity="",p.pointerEvents=Jd(x?.pointerEvents)||"",p.transform=w?w(this.latestValues,""):"none";return}const b=this.getLead();if(!this.projectionDelta||!this.layout||!b.target){this.options.layoutId&&(p.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,p.pointerEvents=Jd(x?.pointerEvents)||""),this.hasProjected&&!ro(this.latestValues)&&(p.transform=w?w({},""):"none",this.hasProjected=!1);return}p.visibility="";const E=b.animationValues||b.latestValues;this.applyTransformsToTarget();let S=pM(this.projectionDeltaWithTransform,this.treeScale,E);w&&(S=w(E,S)),p.transform=S;const{x:R,y:_}=this.projectionDelta;p.transformOrigin=`${R.origin*100}% ${_.origin*100}% 0`,b.animationValues?p.opacity=b===this?E.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:E.opacityExit:p.opacity=b===this?E.opacity!==void 0?E.opacity:"":E.opacityExit!==void 0?E.opacityExit:0;for(const D in Zm){if(E[D]===void 0)continue;const{correct:L,applyTo:P,isCSSVariable:Y}=Zm[D],j=S==="none"?E[D]:L(E[D],b);if(P){const U=P.length;for(let V=0;V<U;V++)p[P[V]]=j}else Y?this.options.visualElement.renderState.vars[D]=j:p[D]=j}this.options.layoutId&&(p.pointerEvents=b===this?Jd(x?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(p=>p.currentAnimation?.stop()),this.root.nodes.forEach(hw),this.root.sharedNodes.clear()}}}function RM(e){e.updateLayout()}function OM(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:o}=e.layout,{animationType:u}=e.options,h=t.source!==e.layout.source;u==="size"?Zi(E=>{const S=h?t.measuredBox[E]:t.layoutBox[E],R=yr(S);S.min=i[E].min,S.max=S.min+R}):tC(u,t.layoutBox,i)&&Zi(E=>{const S=h?t.measuredBox[E]:t.layoutBox[E],R=yr(i[E]);S.max=S.min+R,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[E].max=e.relativeTarget[E].min+R)});const p=ol();Ic(p,i,t.layoutBox);const x=ol();h?Ic(x,e.applyTransform(o,!0),t.measuredBox):Ic(x,i,t.layoutBox);const w=!Q4(p);let b=!1;if(!e.resumeFrom){const E=e.getClosestProjectingParent();if(E&&!E.resumeFrom){const{snapshot:S,layout:R}=E;if(S&&R){const _=Vn();gh(_,t.layoutBox,S.layoutBox);const D=Vn();gh(D,i,R.layoutBox),Z4(_,D)||(b=!0),E.options.layoutRoot&&(e.relativeTarget=D,e.relativeTargetOrigin=_,e.relativeParent=E)}}}e.notifyListeners("didUpdate",{layout:i,snapshot:t,delta:x,layoutDelta:p,hasLayoutChanged:w,hasRelativeLayoutChanged:b})}else if(e.isLead()){const{onExitComplete:i}=e.options;i&&i()}e.options.transition=void 0}function MM(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function IM(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function _M(e){e.clearSnapshot()}function hw(e){e.clearMeasurements()}function fw(e){e.isLayoutDirty=!1}function DM(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function mw(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function jM(e){e.resolveTargetDelta()}function LM(e){e.calcProjection()}function BM(e){e.resetSkewAndRotation()}function kM(e){e.removeLeadSnapshot()}function gw(e,t,i){e.translate=cn(t.translate,0,i),e.scale=cn(t.scale,1,i),e.origin=t.origin,e.originPoint=t.originPoint}function pw(e,t,i,o){e.min=cn(t.min,i.min,o),e.max=cn(t.max,i.max,o)}function PM(e,t,i,o){pw(e.x,t.x,i.x,o),pw(e.y,t.y,i.y,o)}function UM(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const zM={duration:.45,ease:[.4,0,.1,1]},yw=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),bw=yw("applewebkit/")&&!yw("chrome/")?Math.round:gi;function vw(e){e.min=bw(e.min),e.max=bw(e.max)}function FM(e){vw(e.x),vw(e.y)}function tC(e,t,i){return e==="position"||e==="preserve-aspect"&&!uM(ow(t),ow(i),.2)}function VM(e){return e!==e.root&&e.scroll?.wasRoot}const HM=eC({attachResizeListener:(e,t)=>Hc(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body?.scrollLeft||0,y:document.documentElement.scrollTop||document.body?.scrollTop||0}),checkIsScrollRoot:()=>!0}),nm={current:void 0},nC=eC({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!nm.current){const e=new HM({});e.mount(window),e.setOptions({layoutScroll:!0}),nm.current=e}return nm.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),sp=F.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function xw(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function qM(...e){return t=>{let i=!1;const o=e.map(u=>{const h=xw(u,t);return!i&&typeof h=="function"&&(i=!0),h});if(i)return()=>{for(let u=0;u<o.length;u++){const h=o[u];typeof h=="function"?h():xw(e[u],null)}}}}function GM(...e){return F.useCallback(qM(...e),e)}class YM extends F.Component{getSnapshotBeforeUpdate(t){const i=this.props.childRef.current;if(i&&t.isPresent&&!this.props.isPresent&&this.props.pop!==!1){const o=i.offsetParent,u=Ym(o)&&o.offsetWidth||0,h=Ym(o)&&o.offsetHeight||0,p=this.props.sizeRef.current;p.height=i.offsetHeight||0,p.width=i.offsetWidth||0,p.top=i.offsetTop,p.left=i.offsetLeft,p.right=u-p.width-p.left,p.bottom=h-p.height-p.top}return null}componentDidUpdate(){}render(){return this.props.children}}function XM({children:e,isPresent:t,anchorX:i,anchorY:o,root:u,pop:h}){const p=F.useId(),x=F.useRef(null),w=F.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:b}=F.useContext(sp),E=e.props?.ref??e?.ref,S=GM(x,E);return F.useInsertionEffect(()=>{const{width:R,height:_,top:D,left:L,right:P,bottom:Y}=w.current;if(t||h===!1||!x.current||!R||!_)return;const j=i==="left"?`left: ${L}`:`right: ${P}`,U=o==="bottom"?`bottom: ${Y}`:`top: ${D}`;x.current.dataset.motionPopId=p;const V=document.createElement("style");b&&(V.nonce=b);const I=u??document.head;return I.appendChild(V),V.sheet&&V.sheet.insertRule(`
          [data-motion-pop-id="${p}"] {
            position: absolute !important;
            width: ${R}px !important;
            height: ${_}px !important;
            ${j}px !important;
            ${U}px !important;
          }
        `),()=>{I.contains(V)&&I.removeChild(V)}},[t]),m.jsx(YM,{isPresent:t,childRef:x,sizeRef:w,pop:h,children:h===!1?e:F.cloneElement(e,{ref:S})})}const WM=({children:e,initial:t,isPresent:i,onExitComplete:o,custom:u,presenceAffectsLayout:h,mode:p,anchorX:x,anchorY:w,root:b})=>{const E=Ig(QM),S=F.useId();let R=!0,_=F.useMemo(()=>(R=!1,{id:S,initial:t,isPresent:i,custom:u,onExitComplete:D=>{E.set(D,!0);for(const L of E.values())if(!L)return;o&&o()},register:D=>(E.set(D,!1),()=>E.delete(D))}),[i,E,o]);return h&&R&&(_={..._}),F.useMemo(()=>{E.forEach((D,L)=>E.set(L,!1))},[i]),F.useEffect(()=>{!i&&!E.size&&o&&o()},[i]),e=m.jsx(XM,{pop:p==="popLayout",isPresent:i,anchorX:x,anchorY:w,root:b,children:e}),m.jsx(jh.Provider,{value:_,children:e})};function QM(){return new Map}function rC(e=!0){const t=F.useContext(jh);if(t===null)return[!0,null];const{isPresent:i,onExitComplete:o,register:u}=t,h=F.useId();F.useEffect(()=>{if(e)return u(h)},[e]);const p=F.useCallback(()=>e&&o&&o(h),[h,o,e]);return!i&&o?[!1,p]:[!0]}const Ud=e=>e.key||"";function ww(e){const t=[];return F.Children.forEach(e,i=>{F.isValidElement(i)&&t.push(i)}),t}const au=({children:e,custom:t,initial:i=!0,onExitComplete:o,presenceAffectsLayout:u=!0,mode:h="sync",propagate:p=!1,anchorX:x="left",anchorY:w="top",root:b})=>{const[E,S]=rC(p),R=F.useMemo(()=>ww(e),[e]),_=p&&!E?[]:R.map(Ud),D=F.useRef(!0),L=F.useRef(R),P=Ig(()=>new Map),Y=F.useRef(new Set),[j,U]=F.useState(R),[V,I]=F.useState(R);D3(()=>{D.current=!1,L.current=R;for(let H=0;H<V.length;H++){const Q=Ud(V[H]);_.includes(Q)?(P.delete(Q),Y.current.delete(Q)):P.get(Q)!==!0&&P.set(Q,!1)}},[V,_.length,_.join("-")]);const X=[];if(R!==j){let H=[...R];for(let Q=0;Q<V.length;Q++){const Ee=V[Q],ae=Ud(Ee);_.includes(ae)||(H.splice(Q,0,Ee),X.push(Ee))}return h==="wait"&&X.length&&(H=X),I(ww(H)),U(R),null}const{forceRender:z}=F.useContext(Mg);return m.jsx(m.Fragment,{children:V.map(H=>{const Q=Ud(H),Ee=p&&!E?!1:R===V||_.includes(Q),ae=()=>{if(Y.current.has(Q))return;if(Y.current.add(Q),P.has(Q))P.set(Q,!0);else return;let ve=!0;P.forEach(me=>{me||(ve=!1)}),ve&&(z?.(),I(L.current),p&&S?.(),o&&o())};return m.jsx(WM,{isPresent:Ee,initial:!D.current||i?void 0:!1,custom:t,presenceAffectsLayout:u,mode:h,root:b,onExitComplete:Ee?void 0:ae,anchorX:x,anchorY:w,children:H},Q)})})},iC=F.createContext({strict:!1}),Ew={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let Cw=!1;function ZM(){if(Cw)return;const e={};for(const t in Ew)e[t]={isEnabled:i=>Ew[t].some(o=>!!i[o])};D4(e),Cw=!0}function sC(){return ZM(),B9()}function KM(e){const t=sC();for(const i in e)t[i]={...t[i],...e[i]};D4(t)}const $M=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","propagate","ignoreStrict","viewport"]);function ph(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||$M.has(e)}let aC=e=>!ph(e);function JM(e){typeof e=="function"&&(aC=t=>t.startsWith("on")?!ph(t):e(t))}try{JM(require("@emotion/is-prop-valid").default)}catch{}function eI(e,t,i){const o={};for(const u in e)u==="values"&&typeof e.values=="object"||(aC(u)||i===!0&&ph(u)||!t&&!ph(u)||e.draggable&&u.startsWith("onDrag"))&&(o[u]=e[u]);return o}const kh=F.createContext({});function tI(e,t){if(Bh(e)){const{initial:i,animate:o}=e;return{initial:i===!1||Vc(i)?i:void 0,animate:Vc(o)?o:void 0}}return e.inherit!==!1?t:{}}function nI(e){const{initial:t,animate:i}=tI(e,F.useContext(kh));return F.useMemo(()=>({initial:t,animate:i}),[Sw(t),Sw(i)])}function Sw(e){return Array.isArray(e)?e.join(" "):e}const ap=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function oC(e,t,i){for(const o in t)!or(t[o])&&!z4(o,i)&&(e[o]=t[o])}function rI({transformTemplate:e},t){return F.useMemo(()=>{const i=ap();return rp(i,t,e),Object.assign({},i.vars,i.style)},[t])}function iI(e,t){const i=e.style||{},o={};return oC(o,i,e),Object.assign(o,rI(e,t)),o}function sI(e,t){const i={},o=iI(e,t);return e.drag&&e.dragListener!==!1&&(i.draggable=!1,o.userSelect=o.WebkitUserSelect=o.WebkitTouchCallout="none",o.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(i.tabIndex=0),i.style=o,i}const lC=()=>({...ap(),attrs:{}});function aI(e,t,i,o){const u=F.useMemo(()=>{const h=lC();return F4(h,t,H4(o),e.transformTemplate,e.style),{...h.attrs,style:{...h.style}}},[t]);if(e.style){const h={};oC(h,e.style,e),u.style={...h,...u.style}}return u}const oI=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function op(e){return typeof e!="string"||e.includes("-")?!1:!!(oI.indexOf(e)>-1||/[A-Z]/u.test(e))}function lI(e,t,i,{latestValues:o},u,h=!1,p){const w=(p??op(e)?aI:sI)(t,o,u,e),b=eI(t,typeof e=="string",h),E=e!==F.Fragment?{...b,...w,ref:i}:{},{children:S}=t,R=F.useMemo(()=>or(S)?S.get():S,[S]);return F.createElement(e,{...E,children:R})}function cI({scrapeMotionValuesFromProps:e,createRenderState:t},i,o,u){return{latestValues:uI(i,o,u,e),renderState:t()}}function uI(e,t,i,o){const u={},h=o(e,{});for(const R in h)u[R]=Jd(h[R]);let{initial:p,animate:x}=e;const w=Bh(e),b=I4(e);t&&b&&!w&&e.inherit!==!1&&(p===void 0&&(p=t.initial),x===void 0&&(x=t.animate));let E=i?i.initial===!1:!1;E=E||p===!1;const S=E?x:p;if(S&&typeof S!="boolean"&&!Lh(S)){const R=Array.isArray(S)?S:[S];for(let _=0;_<R.length;_++){const D=Qg(e,R[_]);if(D){const{transitionEnd:L,transition:P,...Y}=D;for(const j in Y){let U=Y[j];if(Array.isArray(U)){const V=E?U.length-1:0;U=U[V]}U!==null&&(u[j]=U)}for(const j in L)u[j]=L[j]}}}return u}const cC=e=>(t,i)=>{const o=F.useContext(kh),u=F.useContext(jh),h=()=>cI(e,t,o,u);return i?h():Ig(h)},dI=cC({scrapeMotionValuesFromProps:ip,createRenderState:ap}),hI=cC({scrapeMotionValuesFromProps:q4,createRenderState:lC}),fI=Symbol.for("motionComponentSymbol");function mI(e,t,i){const o=F.useRef(i);F.useInsertionEffect(()=>{o.current=i});const u=F.useRef(null);return F.useCallback(h=>{h&&e.onMount?.(h),t&&(h?t.mount(h):t.unmount());const p=o.current;if(typeof p=="function")if(h){const x=p(h);typeof x=="function"&&(u.current=x)}else u.current?(u.current(),u.current=null):p(h);else p&&(p.current=h)},[t])}const uC=F.createContext({});function il(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function gI(e,t,i,o,u,h){const{visualElement:p}=F.useContext(kh),x=F.useContext(iC),w=F.useContext(jh),b=F.useContext(sp),E=b.reducedMotion,S=b.skipAnimations,R=F.useRef(null),_=F.useRef(!1);o=o||x.renderer,!R.current&&o&&(R.current=o(e,{visualState:t,parent:p,props:i,presenceContext:w,blockInitialAnimation:w?w.initial===!1:!1,reducedMotionConfig:E,skipAnimations:S,isSVG:h}),_.current&&R.current&&(R.current.manuallyAnimateOnMount=!0));const D=R.current,L=F.useContext(uC);D&&!D.projection&&u&&(D.type==="html"||D.type==="svg")&&pI(R.current,i,u,L);const P=F.useRef(!1);F.useInsertionEffect(()=>{D&&P.current&&D.update(i,w)});const Y=i[b4],j=F.useRef(!!Y&&!window.MotionHandoffIsComplete?.(Y)&&window.MotionHasOptimisedAnimation?.(Y));return D3(()=>{_.current=!0,D&&(P.current=!0,window.MotionIsMounted=!0,D.updateFeatures(),D.scheduleRenderMicrotask(),j.current&&D.animationState&&D.animationState.animateChanges())}),F.useEffect(()=>{D&&(!j.current&&D.animationState&&D.animationState.animateChanges(),j.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(Y)}),j.current=!1),D.enteringChildren=void 0)}),D}function pI(e,t,i,o){const{layoutId:u,layout:h,drag:p,dragConstraints:x,layoutScroll:w,layoutRoot:b,layoutCrossfade:E}=t;e.projection=new i(e.latestValues,t["data-framer-portal-id"]?void 0:dC(e.parent)),e.projection.setOptions({layoutId:u,layout:h,alwaysMeasureLayout:!!p||x&&il(x),visualElement:e,animationType:typeof h=="string"?h:"both",initialPromotionConfig:o,crossfade:E,layoutScroll:w,layoutRoot:b})}function dC(e){if(e)return e.options.allowProjection!==!1?e.projection:dC(e.parent)}function rm(e,{forwardMotionProps:t=!1,type:i}={},o,u){o&&KM(o);const h=i?i==="svg":op(e),p=h?hI:dI;function x(b,E){let S;const R={...F.useContext(sp),...b,layoutId:yI(b)},{isStatic:_}=R,D=nI(b),L=p(b,_);if(!_&&_3){bI();const P=vI(R);S=P.MeasureLayout,D.visualElement=gI(e,L,R,u,P.ProjectionNode,h)}return m.jsxs(kh.Provider,{value:D,children:[S&&D.visualElement?m.jsx(S,{visualElement:D.visualElement,...R}):null,lI(e,b,mI(L,D.visualElement,E),L,_,t,h)]})}x.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const w=F.forwardRef(x);return w[fI]=e,w}function yI({layoutId:e}){const t=F.useContext(Mg).id;return t&&e!==void 0?t+"-"+e:e}function bI(e,t){F.useContext(iC).strict}function vI(e){const t=sC(),{drag:i,layout:o}=t;if(!i&&!o)return{};const u={...i,...o};return{MeasureLayout:i?.isEnabled(e)||o?.isEnabled(e)?u.MeasureLayout:void 0,ProjectionNode:u.ProjectionNode}}function xI(e,t){if(typeof Proxy>"u")return rm;const i=new Map,o=(h,p)=>rm(h,p,e,t),u=(h,p)=>o(h,p);return new Proxy(u,{get:(h,p)=>p==="create"?o:(i.has(p)||i.set(p,rm(p,void 0,e,t)),i.get(p))})}const wI=(e,t)=>t.isSVG??op(e)?new J9(t):new X9(t,{allowProjection:e!==F.Fragment});class EI extends Ma{constructor(t){super(t),t.animationState||(t.animationState=iM(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Lh(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:i}=this.node.prevProps||{};t!==i&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let CI=0;class SI extends Ma{constructor(){super(...arguments),this.id=CI++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:i}=this.node.presenceContext,{isPresent:o}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===o)return;const u=this.node.animationState.setActive("exit",!t);i&&!t&&u.then(()=>{i(this.id)})}mount(){const{register:t,onExitComplete:i}=this.node.presenceContext||{};i&&i(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const AI={animation:{Feature:EI},exit:{Feature:SI}};function ou(e){return{point:{x:e.pageX,y:e.pageY}}}const NI=e=>t=>Jg(t)&&e(t,ou(t));function _c(e,t,i,o){return Hc(e,t,NI(i),o)}const hC=({current:e})=>e?e.ownerDocument.defaultView:null,Aw=(e,t)=>Math.abs(e-t);function TI(e,t){const i=Aw(e.x,t.x),o=Aw(e.y,t.y);return Math.sqrt(i**2+o**2)}const Nw=new Set(["auto","scroll"]);class fC{constructor(t,i,{transformPagePoint:o,contextWindow:u=window,dragSnapToOrigin:h=!1,distanceThreshold:p=3,element:x}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=_=>{this.handleScroll(_.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=sm(this.lastMoveEventInfo,this.history),D=this.startEvent!==null,L=TI(_.offset,{x:0,y:0})>=this.distanceThreshold;if(!D&&!L)return;const{point:P}=_,{timestamp:Y}=tr;this.history.push({...P,timestamp:Y});const{onStart:j,onMove:U}=this.handlers;D||(j&&j(this.lastMoveEvent,_),this.startEvent=this.lastMoveEvent),U&&U(this.lastMoveEvent,_)},this.handlePointerMove=(_,D)=>{this.lastMoveEvent=_,this.lastMoveEventInfo=im(D,this.transformPagePoint),Qt.update(this.updatePoint,!0)},this.handlePointerUp=(_,D)=>{this.end();const{onEnd:L,onSessionEnd:P,resumeAnimation:Y}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&Y&&Y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const j=sm(_.type==="pointercancel"?this.lastMoveEventInfo:im(D,this.transformPagePoint),this.history);this.startEvent&&L&&L(_,j),P&&P(_,j)},!Jg(t))return;this.dragSnapToOrigin=h,this.handlers=i,this.transformPagePoint=o,this.distanceThreshold=p,this.contextWindow=u||window;const w=ou(t),b=im(w,this.transformPagePoint),{point:E}=b,{timestamp:S}=tr;this.history=[{...E,timestamp:S}];const{onSessionStart:R}=i;R&&R(t,sm(b,this.history)),this.removeListeners=ru(_c(this.contextWindow,"pointermove",this.handlePointerMove),_c(this.contextWindow,"pointerup",this.handlePointerUp),_c(this.contextWindow,"pointercancel",this.handlePointerUp)),x&&this.startScrollTracking(x)}startScrollTracking(t){let i=t.parentElement;for(;i;){const o=getComputedStyle(i);(Nw.has(o.overflowX)||Nw.has(o.overflowY))&&this.scrollPositions.set(i,{x:i.scrollLeft,y:i.scrollTop}),i=i.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(t){const i=this.scrollPositions.get(t);if(!i)return;const o=t===window,u=o?{x:window.scrollX,y:window.scrollY}:{x:t.scrollLeft,y:t.scrollTop},h={x:u.x-i.x,y:u.y-i.y};h.x===0&&h.y===0||(o?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=h.x,this.lastMoveEventInfo.point.y+=h.y):this.history.length>0&&(this.history[0].x-=h.x,this.history[0].y-=h.y),this.scrollPositions.set(t,u),Qt.update(this.updatePoint,!0))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),Aa(this.updatePoint)}}function im(e,t){return t?{point:t(e.point)}:e}function Tw(e,t){return{x:e.x-t.x,y:e.y-t.y}}function sm({point:e},t){return{point:e,delta:Tw(e,mC(t)),offset:Tw(e,RI(t)),velocity:OI(t,.1)}}function RI(e){return e[0]}function mC(e){return e[e.length-1]}function OI(e,t){if(e.length<2)return{x:0,y:0};let i=e.length-1,o=null;const u=mC(e);for(;i>=0&&(o=e[i],!(u.timestamp-o.timestamp>_i(t)));)i--;if(!o)return{x:0,y:0};o===e[0]&&e.length>2&&u.timestamp-o.timestamp>_i(t)*2&&(o=e[1]);const h=mi(u.timestamp-o.timestamp);if(h===0)return{x:0,y:0};const p={x:(u.x-o.x)/h,y:(u.y-o.y)/h};return p.x===1/0&&(p.x=0),p.y===1/0&&(p.y=0),p}function MI(e,{min:t,max:i},o){return t!==void 0&&e<t?e=o?cn(t,e,o.min):Math.max(e,t):i!==void 0&&e>i&&(e=o?cn(i,e,o.max):Math.min(e,i)),e}function Rw(e,t,i){return{min:t!==void 0?e.min+t:void 0,max:i!==void 0?e.max+i-(e.max-e.min):void 0}}function II(e,{top:t,left:i,bottom:o,right:u}){return{x:Rw(e.x,i,u),y:Rw(e.y,t,o)}}function Ow(e,t){let i=t.min-e.min,o=t.max-e.max;return t.max-t.min<e.max-e.min&&([i,o]=[o,i]),{min:i,max:o}}function _I(e,t){return{x:Ow(e.x,t.x),y:Ow(e.y,t.y)}}function DI(e,t){let i=.5;const o=yr(e),u=yr(t);return u>o?i=Uc(t.min,t.max-o,e.min):o>u&&(i=Uc(e.min,e.max-u,t.min)),ns(0,1,i)}function jI(e,t){const i={};return t.min!==void 0&&(i.min=t.min-e.min),t.max!==void 0&&(i.max=t.max-e.min),i}const Km=.35;function LI(e=Km){return e===!1?e=0:e===!0&&(e=Km),{x:Mw(e,"left","right"),y:Mw(e,"top","bottom")}}function Mw(e,t,i){return{min:Iw(e,t),max:Iw(e,i)}}function Iw(e,t){return typeof e=="number"?e:e[t]||0}const BI=new WeakMap;class kI{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Vn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:i=!1,distanceThreshold:o}={}){const{presenceContext:u}=this.visualElement;if(u&&u.isPresent===!1)return;const h=S=>{i&&this.snapToCursor(ou(S).point),this.stopAnimation()},p=(S,R)=>{const{drag:_,dragPropagation:D,onDragStart:L}=this.getProps();if(_&&!D&&(this.openDragLock&&this.openDragLock(),this.openDragLock=h9(_),!this.openDragLock))return;this.latestPointerEvent=S,this.latestPanInfo=R,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Zi(Y=>{let j=this.getAxisMotionValue(Y).get()||0;if(ts.test(j)){const{projection:U}=this.visualElement;if(U&&U.layout){const V=U.layout.layoutBox[Y];V&&(j=yr(V)*(parseFloat(j)/100))}}this.originPoint[Y]=j}),L&&Qt.update(()=>L(S,R),!1,!0),Hm(this.visualElement,"transform");const{animationState:P}=this.visualElement;P&&P.setActive("whileDrag",!0)},x=(S,R)=>{this.latestPointerEvent=S,this.latestPanInfo=R;const{dragPropagation:_,dragDirectionLock:D,onDirectionLock:L,onDrag:P}=this.getProps();if(!_&&!this.openDragLock)return;const{offset:Y}=R;if(D&&this.currentDirection===null){this.currentDirection=UI(Y),this.currentDirection!==null&&L&&L(this.currentDirection);return}this.updateAxis("x",R.point,Y),this.updateAxis("y",R.point,Y),this.visualElement.render(),P&&Qt.update(()=>P(S,R),!1,!0)},w=(S,R)=>{this.latestPointerEvent=S,this.latestPanInfo=R,this.stop(S,R),this.latestPointerEvent=null,this.latestPanInfo=null},b=()=>{const{dragSnapToOrigin:S}=this.getProps();(S||this.constraints)&&this.startAnimation({x:0,y:0})},{dragSnapToOrigin:E}=this.getProps();this.panSession=new fC(t,{onSessionStart:h,onStart:p,onMove:x,onSessionEnd:w,resumeAnimation:b},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:E,distanceThreshold:o,contextWindow:hC(this.visualElement),element:this.visualElement.current})}stop(t,i){const o=t||this.latestPointerEvent,u=i||this.latestPanInfo,h=this.isDragging;if(this.cancel(),!h||!u||!o)return;const{velocity:p}=u;this.startAnimation(p);const{onDragEnd:x}=this.getProps();x&&Qt.postRender(()=>x(o,u))}cancel(){this.isDragging=!1;const{projection:t,animationState:i}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:o}=this.getProps();!o&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),i&&i.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(t,i,o){const{drag:u}=this.getProps();if(!o||!zd(t,u,this.currentDirection))return;const h=this.getAxisMotionValue(t);let p=this.originPoint[t]+o[t];this.constraints&&this.constraints[t]&&(p=MI(p,this.constraints[t],this.elastic[t])),h.set(p)}resolveConstraints(){const{dragConstraints:t,dragElastic:i}=this.getProps(),o=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,u=this.constraints;t&&il(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&o?this.constraints=II(o.layoutBox,t):this.constraints=!1,this.elastic=LI(i),u!==this.constraints&&!il(t)&&o&&this.constraints&&!this.hasMutatedConstraints&&Zi(h=>{this.constraints!==!1&&this.getAxisMotionValue(h)&&(this.constraints[h]=jI(o.layoutBox[h],this.constraints[h]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:i}=this.getProps();if(!t||!il(t))return!1;const o=t.current,{projection:u}=this.visualElement;if(!u||!u.layout)return!1;const h=F9(o,u.root,this.visualElement.getTransformPagePoint());let p=_I(u.layout.layoutBox,h);if(i){const x=i(P9(p));this.hasMutatedConstraints=!!x,x&&(p=L4(x))}return p}startAnimation(t){const{drag:i,dragMomentum:o,dragElastic:u,dragTransition:h,dragSnapToOrigin:p,onDragTransitionEnd:x}=this.getProps(),w=this.constraints||{},b=Zi(E=>{if(!zd(E,i,this.currentDirection))return;let S=w&&w[E]||{};p&&(S={min:0,max:0});const R=u?200:1e6,_=u?40:1e7,D={type:"inertia",velocity:o?t[E]:0,bounceStiffness:R,bounceDamping:_,timeConstant:750,restDelta:1,restSpeed:10,...h,...S};return this.startAxisValueAnimation(E,D)});return Promise.all(b).then(x)}startAxisValueAnimation(t,i){const o=this.getAxisMotionValue(t);return Hm(this.visualElement,t),o.start(Wg(t,o,0,i,this.visualElement,!1))}stopAnimation(){Zi(t=>this.getAxisMotionValue(t).stop())}getAxisMotionValue(t){const i=`_drag${t.toUpperCase()}`,o=this.visualElement.getProps(),u=o[i];return u||this.visualElement.getValue(t,(o.initial?o.initial[t]:void 0)||0)}snapToCursor(t){Zi(i=>{const{drag:o}=this.getProps();if(!zd(i,o,this.currentDirection))return;const{projection:u}=this.visualElement,h=this.getAxisMotionValue(i);if(u&&u.layout){const{min:p,max:x}=u.layout.layoutBox[i],w=h.get()||0;h.set(t[i]-cn(p,x,.5)+w)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:i}=this.getProps(),{projection:o}=this.visualElement;if(!il(i)||!o||!this.constraints)return;this.stopAnimation();const u={x:0,y:0};Zi(p=>{const x=this.getAxisMotionValue(p);if(x&&this.constraints!==!1){const w=x.get();u[p]=DI({min:w,max:w},this.constraints[p])}});const{transformTemplate:h}=this.visualElement.getProps();this.visualElement.current.style.transform=h?h({},""):"none",o.root&&o.root.updateScroll(),o.updateLayout(),this.constraints=!1,this.resolveConstraints(),Zi(p=>{if(!zd(p,t,null))return;const x=this.getAxisMotionValue(p),{min:w,max:b}=this.constraints[p];x.set(cn(w,b,u[p]))}),this.visualElement.render()}addListeners(){if(!this.visualElement.current)return;BI.set(this.visualElement,this);const t=this.visualElement.current,i=_c(t,"pointerdown",b=>{const{drag:E,dragListener:S=!0}=this.getProps(),R=b.target,_=R!==t&&b9(R);E&&S&&!_&&this.start(b)});let o;const u=()=>{const{dragConstraints:b}=this.getProps();il(b)&&b.current&&(this.constraints=this.resolveRefConstraints(),o||(o=PI(t,b.current,()=>this.scalePositionWithinConstraints())))},{projection:h}=this.visualElement,p=h.addEventListener("measure",u);h&&!h.layout&&(h.root&&h.root.updateScroll(),h.updateLayout()),Qt.read(u);const x=Hc(window,"resize",()=>this.scalePositionWithinConstraints()),w=h.addEventListener("didUpdate",(({delta:b,hasLayoutChanged:E})=>{this.isDragging&&E&&(Zi(S=>{const R=this.getAxisMotionValue(S);R&&(this.originPoint[S]+=b[S].translate,R.set(R.get()+b[S].translate))}),this.visualElement.render())}));return()=>{x(),i(),p(),w&&w(),o&&o()}}getProps(){const t=this.visualElement.getProps(),{drag:i=!1,dragDirectionLock:o=!1,dragPropagation:u=!1,dragConstraints:h=!1,dragElastic:p=Km,dragMomentum:x=!0}=t;return{...t,drag:i,dragDirectionLock:o,dragPropagation:u,dragConstraints:h,dragElastic:p,dragMomentum:x}}}function _w(e){let t=!0;return()=>{if(t){t=!1;return}e()}}function PI(e,t,i){const o=Ux(e,_w(i)),u=Ux(t,_w(i));return()=>{o(),u()}}function zd(e,t,i){return(t===!0||t===e)&&(i===null||i===e)}function UI(e,t=10){let i=null;return Math.abs(e.y)>t?i="y":Math.abs(e.x)>t&&(i="x"),i}class zI extends Ma{constructor(t){super(t),this.removeGroupControls=gi,this.removeListeners=gi,this.controls=new kI(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||gi}update(){const{dragControls:t}=this.node.getProps(),{dragControls:i}=this.node.prevProps||{};t!==i&&(this.removeGroupControls(),t&&(this.removeGroupControls=t.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const am=e=>(t,i)=>{e&&Qt.update(()=>e(t,i),!1,!0)};class FI extends Ma{constructor(){super(...arguments),this.removePointerDownListener=gi}onPointerDown(t){this.session=new fC(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:hC(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:i,onPan:o,onPanEnd:u}=this.node.getProps();return{onSessionStart:am(t),onStart:am(i),onMove:am(o),onEnd:(h,p)=>{delete this.session,u&&Qt.postRender(()=>u(h,p))}}}mount(){this.removePointerDownListener=_c(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let om=!1;class VI extends F.Component{componentDidMount(){const{visualElement:t,layoutGroup:i,switchLayoutGroup:o,layoutId:u}=this.props,{projection:h}=t;h&&(i.group&&i.group.add(h),o&&o.register&&u&&o.register(h),om&&h.root.didUpdate(),h.addEventListener("animationComplete",()=>{this.safeToRemove()}),h.setOptions({...h.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),eh.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:i,visualElement:o,drag:u,isPresent:h}=this.props,{projection:p}=o;return p&&(p.isPresent=h,t.layoutDependency!==i&&p.setOptions({...p.options,layoutDependency:i}),om=!0,u||t.layoutDependency!==i||i===void 0||t.isPresent!==h?p.willUpdate():this.safeToRemove(),t.isPresent!==h&&(h?p.promote():p.relegate()||Qt.postRender(()=>{const x=p.getStack();(!x||!x.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),$g.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:i,switchLayoutGroup:o}=this.props,{projection:u}=t;om=!0,u&&(u.scheduleCheckAfterUnmount(),i&&i.group&&i.group.remove(u),o&&o.deregister&&o.deregister(u))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function gC(e){const[t,i]=rC(),o=F.useContext(Mg);return m.jsx(VI,{...e,layoutGroup:o,switchLayoutGroup:F.useContext(uC),isPresent:t,safeToRemove:i})}const HI={pan:{Feature:FI},drag:{Feature:zI,ProjectionNode:nC,MeasureLayout:gC}};function Dw(e,t,i){const{props:o}=e;e.animationState&&o.whileHover&&e.animationState.setActive("whileHover",i==="Start");const u="onHover"+i,h=o[u];h&&Qt.postRender(()=>h(t,ou(t)))}class qI extends Ma{mount(){const{current:t}=this.node;t&&(this.unmount=m9(t,(i,o)=>(Dw(this.node,o,"Start"),u=>Dw(this.node,u,"End"))))}unmount(){}}class GI extends Ma{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ru(Hc(this.node.current,"focus",()=>this.onFocus()),Hc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function jw(e,t,i){const{props:o}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&o.whileTap&&e.animationState.setActive("whileTap",i==="Start");const u="onTap"+(i==="End"?"":i),h=o[u];h&&Qt.postRender(()=>h(t,ou(t)))}class YI extends Ma{mount(){const{current:t}=this.node;if(!t)return;const{globalTapTarget:i,propagate:o}=this.node.props;this.unmount=x9(t,(u,h)=>(jw(this.node,h,"Start"),(p,{success:x})=>jw(this.node,p,x?"End":"Cancel")),{useGlobalTarget:i,stopPropagation:o?.tap===!1})}unmount(){}}const $m=new WeakMap,lm=new WeakMap,XI=e=>{const t=$m.get(e.target);t&&t(e)},WI=e=>{e.forEach(XI)};function QI({root:e,...t}){const i=e||document;lm.has(i)||lm.set(i,{});const o=lm.get(i),u=JSON.stringify(t);return o[u]||(o[u]=new IntersectionObserver(WI,{root:e,...t})),o[u]}function ZI(e,t,i){const o=QI(t);return $m.set(e,i),o.observe(e),()=>{$m.delete(e),o.unobserve(e)}}const KI={some:0,all:1};class $I extends Ma{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:i,margin:o,amount:u="some",once:h}=t,p={root:i?i.current:void 0,rootMargin:o,threshold:typeof u=="number"?u:KI[u]},x=w=>{const{isIntersecting:b}=w;if(this.isInView===b||(this.isInView=b,h&&!b&&this.hasEnteredView))return;b&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",b);const{onViewportEnter:E,onViewportLeave:S}=this.node.getProps(),R=b?E:S;R&&R(w)};return ZI(this.node.current,p,x)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:i}=this.node;["amount","margin","root"].some(JI(t,i))&&this.startObserver()}unmount(){}}function JI({viewport:e={}},{viewport:t={}}={}){return i=>e[i]!==t[i]}const e_={inView:{Feature:$I},tap:{Feature:YI},focus:{Feature:GI},hover:{Feature:qI}},t_={layout:{ProjectionNode:nC,MeasureLayout:gC}},n_={...AI,...e_,...HI,...t_},tn=xI(n_,wI),cm=[{text:"User Logging In...",icon:m.jsx(Mh,{className:"text-orange-500"})},{text:"Browsing Menu...",icon:m.jsx(Sg,{className:"text-orange-500"})},{text:"Kitchen Preparing...",icon:m.jsx(p5,{className:"text-orange-500"})},{text:"Order Prepared!",icon:m.jsx(Eg,{className:"text-green-500"})},{text:"Scan QR to Pickup",icon:m.jsx(p3,{className:"text-gray-800"})}],r_=()=>{const[e,t]=F.useState(0);return F.useEffect(()=>{const i=setInterval(()=>{t(o=>(o+1)%cm.length)},3e3);return()=>clearInterval(i)},[]),m.jsxs("div",{className:"relative border-gray-800 bg-gray-800 border-[10px] rounded-[2.5rem] h-[500px] w-[250px] shadow-xl overflow-hidden shrink-0",children:[m.jsx("div",{className:"w-24 h-4 bg-gray-800 top-0 left-1/2 -translate-x-1/2 absolute rounded-b-xl z-20"}),m.jsxs("div",{className:"h-full w-full bg-white p-6 flex flex-col items-center justify-center text-center",children:[m.jsx(au,{mode:"wait",children:m.jsxs(tn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"flex flex-col items-center gap-4",children:[m.jsx("div",{className:"p-4 bg-orange-50 rounded-2xl",children:cm[e].icon}),m.jsx("p",{className:"font-bold text-gray-700 text-sm",children:cm[e].text})]},e)}),m.jsxs("div",{className:"absolute bottom-10 left-6 right-6 space-y-2",children:[m.jsx("div",{className:"h-2 w-full bg-gray-100 rounded"}),m.jsx("div",{className:"h-2 w-2/3 bg-gray-100 rounded"})]})]})]})};function jn({label:e,type:t="text",placeholder:i,value:o,onChange:u,name:h,required:p=!1}){return m.jsxs("div",{className:"w-full flex flex-col gap-1.5 mb-4",children:[e&&m.jsx("label",{className:"text-sm font-semibold text-gray-700 ml-1",children:e}),m.jsx("input",{type:t,name:h,value:o,onChange:u,placeholder:i,required:p,className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-orange-500 focus:ring-2 focus:ring-orange-200 outline-none transition-all bg-white/50 backdrop-blur-sm"})]})}const At=({children:e,variant:t="primary",size:i="md",className:o="",...u})=>{const h="inline-flex items-center justify-center font-bold transition-all active:scale-95 disabled:opacity-50 disabled:pointer-events-none",p={primary:"bg-brand-primary hover:bg-brand-secondary text-white shadow-lg shadow-orange-100",secondary:"bg-orange-50 text-brand-primary hover:bg-orange-100",outline:"border-2 border-gray-200 text-gray-600 hover:border-brand-primary hover:text-brand-primary",danger:"bg-red-50 text-red-600 hover:bg-red-100",ghost:"text-gray-500 hover:bg-gray-100 hover:text-gray-800"},x={sm:"px-4 py-2 text-sm rounded-xl",md:"px-6 py-3 rounded-2xl",lg:"px-8 py-4 text-lg rounded-hb"};return m.jsx("button",{className:`${h} ${p[t]} ${x[i]} ${o}`,...u,children:e})},i_=({activeRole:e,setRole:t})=>m.jsxs("div",{className:"relative flex items-center w-64 h-11 bg-gray-100 rounded-full p-1 shadow-inner border border-gray-200",children:[m.jsx(tn.div,{className:"absolute top-1 bottom-1 left-1 w-[calc(50%-4px)] bg-white rounded-full shadow-md z-0",initial:!1,animate:{x:e===Xn.EMPLOYEE?0:"100%"},transition:{type:"spring",stiffness:400,damping:30}}),m.jsx("button",{type:"button",onClick:()=>t(Xn.EMPLOYEE),className:`relative z-10 flex-1 text-sm font-bold transition-colors duration-200 ${e===Xn.EMPLOYEE?"text-orange-600":"text-gray-500"}`,children:"Employee"}),m.jsx("button",{type:"button",onClick:()=>t(Xn.VENDOR),className:`relative z-10 flex-1 text-sm font-bold transition-colors duration-200 ${e===Xn.VENDOR?"text-orange-600":"text-gray-500"}`,children:"Vendor"})]});function pC({label:e,value:t,onChange:i,name:o,required:u=!1,children:h,disabled:p=!1}){return m.jsxs("div",{className:"w-full flex flex-col gap-1.5 mb-4",children:[e&&m.jsxs("label",{className:"text-sm font-semibold text-gray-700 ml-1",children:[e," ",u&&m.jsx("span",{className:"text-red-500",children:"*"})]}),m.jsx("select",{name:o,value:t,onChange:i,required:u,disabled:p,className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-orange-500 focus:ring-2 focus:ring-orange-200 outline-none transition-all bg-white/50 backdrop-blur-sm disabled:bg-gray-100 disabled:cursor-not-allowed",children:h})]})}const s_=({onDataChange:e,organizations:t,selectedOrgId:i,suggestedOrg:o})=>m.jsxs(m.Fragment,{children:[m.jsxs(pC,{label:"Organization",name:"organizationId",value:i,onChange:e,required:!0,children:[m.jsx("option",{value:"",children:"Select your organization"}),t.map(u=>m.jsxs("option",{value:u.id,children:[u.name,o?.id===u.id?"  Detected from email":""]},u.id))]}),o&&m.jsxs("div",{className:"mb-3 p-2 bg-green-50 border border-green-200 rounded-lg text-sm text-green-700",children:[m.jsx("span",{className:"font-semibold",children:" Organization detected:"})," ",o.name]}),m.jsx(jn,{label:"Employee ID",name:"employeeId",placeholder:"EMP12345",onChange:e,required:!0})]}),a_=({onDataChange:e,organizations:t,selectedOrgId:i})=>m.jsxs(m.Fragment,{children:[m.jsxs(pC,{label:"Organization",name:"organizationId",value:i,onChange:e,required:!0,children:[m.jsx("option",{value:"",children:"Select organization to partner with"}),t.map(o=>m.jsx("option",{value:o.id,children:o.name},o.id))]}),m.jsx(jn,{label:"Shop Name",name:"shopName",placeholder:"Healthy Bites",onChange:e,required:!0}),m.jsx(jn,{label:"GST Number",name:"gstNumber",placeholder:"22AAAAA0000A1Z5",onChange:e,required:!0})]}),yh={register:async e=>await De.post("/auth/register",e),login:async e=>await De.post("/auth/login",e),verifyAccount:async(e,t)=>await De.post(`/auth/verify?identifier=${e}&otp=${t}`),resendOtp:async(e,t)=>await De.post(`/auth/resend-otp?identifier=${e}&type=${t}`)},o_={getAllOrganizations:async()=>await De.get("/organization/public"),getOrganizationById:async e=>await De.get(`/organization/${e}`)},l_=({onSwitchToLogin:e,onBack:t})=>{const i=nr(),[o,u]=F.useState("ROLE_EMPLOYEE"),[h,p]=F.useState(!1),[x,w]=F.useState(null),[b,E]=F.useState([]),[S,R]=F.useState(null),[_,D]=F.useState({fullName:"",email:"",password:"",phoneNumber:"",organizationId:""});F.useEffect(()=>{(async()=>{try{const j=await o_.getAllOrganizations();j&&j.length>0&&E(j)}catch(j){console.error("Failed to fetch organizations:",j)}})()},[]);const L=Y=>{const{name:j,value:U}=Y.target;if(D({..._,[j]:U}),j==="email"&&U.includes("@")){const V=U.substring(U.indexOf("@")+1).toLowerCase(),I=b.find(X=>X.domain&&X.domain.toLowerCase()===V);I?(R(I),D(X=>({...X,organizationId:I.id}))):R(null)}},P=async Y=>{if(Y.preventDefault(),p(!0),w(null),!_.email&&!_.phoneNumber){w("Either email or phone number must be provided"),p(!1);return}const j={..._,role:o};try{await yh.register(j);const U=_.email||_.phoneNumber;i("/verify",{state:{identifier:U}})}catch(U){w(U.response?.data?.message||"Registration failed")}finally{p(!1)}};return m.jsxs("div",{className:"w-full max-w-md",children:[m.jsxs("div",{className:"flex items-center justify-between mb-6",children:[m.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-full",children:m.jsx(El,{size:20,className:"text-gray-600"})}),m.jsx(i_,{activeRole:o,setRole:u})]}),m.jsxs("div",{className:"mb-6 flex flex-col items-center",children:[m.jsx("img",{src:"/logo.svg",alt:"BiteDash",className:"h-16 w-16 mb-3"}),m.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Create Account"}),m.jsxs("p",{className:"text-gray-500 mt-1 text-center",children:["Join BiteDash as a ",o==="ROLE_EMPLOYEE"?"Employee":"Vendor","."]})]}),x&&m.jsx("div",{className:"mb-4 p-3 bg-red-50 text-red-700 text-sm rounded-md",children:x}),m.jsxs("form",{onSubmit:P,className:"space-y-3",children:[m.jsx(jn,{label:"Full Name",name:"fullName",placeholder:"John Doe",value:_.fullName,onChange:L,required:!0}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(jn,{label:"Email Address",name:"email",type:"email",placeholder:"john@company.com",value:_.email,onChange:L}),m.jsx("p",{className:"text-xs text-gray-500 text-center font-semibold",children:"OR"}),m.jsx(jn,{label:"Phone Number",name:"phoneNumber",placeholder:"9876543210",value:_.phoneNumber,onChange:L}),m.jsx("p",{className:"text-xs text-gray-500 italic ml-1",children:"* At least one contact method (email or phone) is required"})]}),m.jsx(jn,{label:"Password",name:"password",type:"password",placeholder:"",value:_.password,onChange:L,required:!0}),m.jsx(au,{mode:"wait",children:m.jsx(tn.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},children:o==="ROLE_EMPLOYEE"?m.jsx(s_,{onDataChange:L,organizations:b,selectedOrgId:_.organizationId,suggestedOrg:S}):m.jsx(a_,{onDataChange:L,organizations:b,selectedOrgId:_.organizationId})},o)}),m.jsx("div",{className:"pt-4",children:m.jsx(At,{type:"submit",className:"w-full",children:h?"Creating Account...":"Register Now"})})]}),m.jsxs("p",{className:"mt-6 text-center text-gray-600",children:["Already have an account?"," ",m.jsx("button",{onClick:e,className:"text-orange-600 font-bold hover:underline",children:"Sign In"})]})]})},c_=({onSwitchToRegister:e,onBack:t,onUnverified:i})=>{const{saveLoginDetails:o}=Ds(),u=nr(),[h,p]=F.useState({userIdentifier:"",password:""}),[x,w]=F.useState(!1),[b,E]=F.useState(null),S=_=>{p({...h,[_.target.name]:_.target.value}),b&&E(null)},R=async _=>{_.preventDefault(),w(!0),E(null);try{const D=await yh.login(h),{user:L,token:P}=D;switch(o(L,P),je.success(ah.LOGIN_SUCCESS),L.role){case Xn.SUPER_ADMIN:u("/admin/dashboard");break;case Xn.ORG_ADMIN:u("/org-admin/dashboard");break;case Xn.VENDOR:u("/vendor/dashboard");break;case Xn.EMPLOYEE:u("/employee/home");break;default:u("/")}}catch(D){if(console.log(D),(typeof D=="string"?D:String(D)).toLowerCase().includes("not verified")||D===go.ACC_NOT_VERIFIED)je.error("Account not verified yet. Redirecting..."),i(h.userIdentifier);else{const Y=D||go.INVALID_CREDENTIALS;E(Y),je.error(Y)}}finally{w(!1)}};return m.jsxs("div",{className:"w-full",children:[m.jsxs("button",{onClick:t,className:"flex items-center text-gray-500 hover:text-brand-primary mb-6 group transition-colors",children:[m.jsx(El,{size:18,className:"mr-2 group-hover:-translate-x-1 transition-transform"}),m.jsx("span",{className:"text-sm font-medium",children:"Back to Home"})]}),m.jsxs("div",{className:"mb-8 flex flex-col items-center",children:[m.jsx("img",{src:"/logo.svg",alt:"BiteDash",className:"h-20 w-20 mb-4"}),m.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Welcome Back"}),m.jsx("p",{className:"text-gray-500 mt-2 text-center",children:"Enter your details to access your BiteDash account."})]}),b&&m.jsx("div",{className:"mb-4 p-3 bg-red-50 text-red-700 text-sm rounded-md border border-red-200",children:b}),m.jsxs("form",{onSubmit:R,className:"space-y-4",children:[m.jsx(jn,{label:"Business Email or Phone Number",name:"userIdentifier",type:"text",placeholder:"name@company.com or 7867546787",value:h.userIdentifier,onChange:S,required:!0}),m.jsx(jn,{label:"Password",name:"password",type:"password",placeholder:"",value:h.password,onChange:S,required:!0}),m.jsx("div",{className:"flex justify-end",children:m.jsx("button",{type:"button",className:"text-sm font-semibold text-brand-primary hover:text-brand-secondary",children:"Forgot Password?"})}),m.jsx(At,{type:"submit",variant:"primary",className:"w-full h-14",disabled:x,children:x?"Authenticating...":"Sign In"})]}),m.jsx("div",{className:"mt-8 text-center",children:m.jsxs("p",{className:"text-gray-600",children:["Don't have an account?"," ",m.jsx("button",{onClick:e,className:"text-brand-primary font-bold hover:underline",children:"Create one for free"})]})})]})},u_=({identifier:e,onSuccess:t,onBack:i})=>{const[o,u]=F.useState(e?.includes("@")?"EMAIL":"SMS"),[h,p]=F.useState(e||""),[x,w]=F.useState(""),[b,E]=F.useState(!1),[S,R]=F.useState(!1),_=async L=>{L.preventDefault(),E(!0);try{await yh.verifyAccount(h,x),je.success("Account verified! You can now login."),t()}catch(P){je.error(P||"Invalid verification code.")}finally{E(!1)}},D=async()=>{R(!0);try{await yh.resendOtp(h,o),je.success(`Verification code sent to ${h}`)}catch{je.error("Failed to resend code.")}finally{R(!1)}};return m.jsxs("div",{className:"w-full",children:[m.jsxs("button",{onClick:i,className:"flex items-center text-gray-500 hover:text-orange-600 mb-6 group transition-colors",children:[m.jsx(El,{size:18,className:"mr-2 group-hover:-translate-x-1 transition-transform"}),m.jsx("span",{className:"text-sm font-medium",children:"Back to Registration"})]}),m.jsxs("div",{className:"mb-8",children:[m.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Verify Account"}),m.jsxs("p",{className:"text-gray-500 mt-2",children:["Please enter the 6-digit code sent to your ",o.toLowerCase(),"."]})]}),m.jsxs("div",{className:"relative flex bg-gray-100 p-1 rounded-full mb-8",children:[m.jsx(tn.div,{className:"absolute inset-y-1 left-1 bg-white rounded-full shadow-sm w-[48%]",animate:{x:o==="EMAIL"?"0%":"104%"},transition:{type:"spring",stiffness:300,damping:30}}),m.jsxs("button",{type:"button",onClick:()=>u("EMAIL"),className:`relative z-10 flex-1 py-2 text-sm font-bold flex items-center justify-center transition-colors ${o==="EMAIL"?"text-orange-600":"text-gray-500"}`,children:[m.jsx(I5,{size:16,className:"mr-2"})," Email"]}),m.jsxs("button",{type:"button",onClick:()=>u("SMS"),className:`relative z-10 flex-1 py-2 text-sm font-bold flex items-center justify-center transition-colors ${o==="SMS"?"text-orange-600":"text-gray-500"}`,children:[m.jsx(H5,{size:16,className:"mr-2"})," Phone"]})]}),m.jsxs("form",{onSubmit:_,className:"space-y-4",children:[m.jsx(jn,{label:o==="EMAIL"?"Business Email":"Phone Number",value:h,onChange:L=>p(L.target.value),placeholder:o==="EMAIL"?"name@company.com":"+91 98765...",required:!0}),m.jsx(jn,{label:"Verification Code",value:x,onChange:L=>w(L.target.value.replace(/\D/g,"")),placeholder:"     ",maxLength:6,className:"text-center text-2xl tracking-[0.5em] font-bold",required:!0}),m.jsx("div",{className:"pt-2",children:m.jsx(At,{type:"submit",className:"w-full h-14",disabled:b,children:b?"Verifying...":"Verify Code"})})]}),m.jsx("div",{className:"mt-8 text-center",children:m.jsxs("button",{type:"button",onClick:D,disabled:S,className:"flex items-center justify-center w-full text-orange-600 font-bold hover:underline disabled:opacity-50",children:[m.jsx(X5,{size:16,className:`mr-2 ${S?"animate-spin":""}`}),S?"Resending...":"Didn't receive code? Resend"]})})]})},d_=({onAction:e})=>{const t=[{icon:m.jsx(NR,{className:"text-brand-primary",size:18}),text:"Zero Wait"},{icon:m.jsx(xR,{className:"text-brand-primary",size:18}),text:"Multi-Vendor"},{icon:m.jsx(y3,{className:"text-brand-primary",size:18}),text:"Secure Pay"}];return m.jsx("div",{className:"flex flex-col text-left space-y-4 sm:space-y-5",children:m.jsxs(tn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"space-y-4 sm:space-y-5",children:[m.jsx("span",{className:"inline-block bg-cream-100 text-brand-primary px-3 py-1 sm:px-4 sm:py-1.5 rounded-full text-xs sm:text-sm font-semibold tracking-wide uppercase",children:"Corporate Dining"}),m.jsxs("h1",{className:"text-3xl sm:text-4xl lg:text-5xl font-extrabold text-gray-900 leading-tight",children:["Fuel your ",m.jsx("span",{className:"text-brand-primary",children:"Workday"})," with one tap"]}),m.jsx("p",{className:"text-sm sm:text-base lg:text-lg text-gray-600 leading-relaxed",children:"Modern workplace dining solution for employees and vendors."}),m.jsx("div",{className:"flex flex-wrap gap-2 sm:gap-3",children:t.map((i,o)=>m.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 bg-white shadow-sm border border-gray-100 px-2.5 py-1.5 sm:px-3 sm:py-2 rounded-lg",children:[i.icon,m.jsx("span",{className:"text-xs sm:text-sm font-medium text-gray-700",children:i.text})]},o))}),m.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-3 sm:gap-4 pt-2",children:[m.jsx("button",{onClick:e,className:"bg-brand-primary hover:bg-brand-secondary text-white px-6 py-3 sm:px-8 sm:py-4 rounded-xl font-bold text-base sm:text-lg shadow-lg shadow-cream-200 transition-all active:scale-95 min-h-[44px] touch-manipulation",children:"Get Started Now"}),m.jsx("button",{onClick:e,className:"bg-white border-2 border-gray-200 hover:border-brand-primary hover:text-brand-primary text-gray-700 px-6 py-3 sm:px-8 sm:py-4 rounded-xl font-bold text-base sm:text-lg transition-all min-h-[44px] touch-manipulation",children:"View Demo"})]})]})})},um={initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.2,ease:"easeInOut"}},h_={initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3}},f_=()=>{const[e,t]=F.useState(An.HOME),[i,o]=F.useState(""),u=nr();F.useEffect(()=>{const p=localStorage.getItem(Ji.TOKEN),x=localStorage.getItem(Ji.USER);if(p&&x&&window.location.pathname==="/")try{const w=JSON.parse(x),E={[Xn.SUPER_ADMIN]:"/admin/dashboard",[Xn.ORG_ADMIN]:"/org-admin/dashboard",[Xn.VENDOR]:"/vendor/dashboard",[Xn.EMPLOYEE]:"/home"}[w.role]||"/";u(E,{replace:!0})}catch{localStorage.clear()}},[u]);const h=p=>{o(p),t(An.ACC_VERIFY)};return m.jsxs("div",{className:"min-h-screen w-full bg-gradient-to-br from-cream-50 via-white to-cream-100 flex flex-col safe-area-insets",children:[m.jsxs("nav",{className:"flex justify-between items-center p-4 sm:p-6 bg-transparent w-full z-50 flex-shrink-0",children:[m.jsxs(tn.div,{initial:{opacity:0},animate:{opacity:1},className:"flex items-center gap-3 cursor-pointer",onClick:()=>t(An.HOME),children:[m.jsx("img",{src:"/logo.svg",alt:"BiteDash",className:"h-10 w-10 sm:h-12 sm:w-12"}),m.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-brand-primary",children:"BiteDash"})]}),m.jsxs("div",{className:"flex items-center space-x-3 sm:space-x-6",children:[m.jsx("button",{onClick:()=>t(An.LOGIN),className:"text-gray-700 font-semibold hover:text-brand-primary transition-colors text-sm sm:text-base min-h-[44px] px-3 touch-manipulation",children:"Login"}),m.jsxs("button",{onClick:()=>t(An.REGISTER),className:"bg-brand-primary hover:bg-brand-secondary text-white px-4 py-2 sm:px-6 sm:py-2.5 rounded-full font-bold shadow-lg shadow-cream-200 transition-all active:scale-95 text-sm sm:text-base min-h-[44px] touch-manipulation",children:[m.jsx("span",{className:"hidden sm:inline",children:"Join Now"}),m.jsx("span",{className:"sm:hidden",children:"Join"})]})]})]}),m.jsxs("div",{className:"container mx-auto flex flex-col lg:flex-row items-center justify-between flex-1 px-4 sm:px-6 py-4 sm:py-8 lg:py-0 gap-6 lg:gap-12 overflow-y-auto lg:overflow-hidden",children:[m.jsx("div",{className:"hidden lg:flex lg:w-1/2 justify-center items-center h-full",children:m.jsx(r_,{})}),m.jsx("div",{className:"w-full lg:w-1/2 flex justify-center lg:justify-start",children:m.jsx("div",{className:"w-full max-w-md bg-white/40 backdrop-blur-sm p-4 sm:p-6 rounded-2xl sm:rounded-3xl",children:m.jsxs(au,{mode:"wait",children:[e===An.HOME&&m.jsx(tn.div,{...h_,children:m.jsx(d_,{onAction:()=>t(An.REGISTER)})},An.HOME),e===An.REGISTER&&m.jsx(tn.div,{...um,children:m.jsx(l_,{onSwitchToLogin:()=>t(An.LOGIN),onBack:()=>t(An.HOME),onSuccess:h})},An.REGISTER),e===An.ACC_VERIFY&&m.jsx(tn.div,{...um,children:m.jsx(u_,{identifier:i,onSuccess:()=>t(An.LOGIN),onBack:()=>t(An.REGISTER)})},An.ACC_VERIFY),e===An.LOGIN&&m.jsx(tn.div,{...um,children:m.jsx(c_,{onSwitchToRegister:()=>t(An.REGISTER),onBack:()=>t(An.HOME),onUnverified:p=>{o(p),t(An.ACC_VERIFY)}})},An.LOGIN)]})})})]})]})},Dc={getDashboardStats:async()=>await De.get(`${Qi.ORG_SERVICE}/admin/stats`),getAllOrganizations:async()=>await De.get(`${Qi.ORG_SERVICE}/public`),getOrganizationById:async e=>await De.get(`${Qi.ORG_SERVICE}/${e}`),createOrganization:async e=>await De.post(`${Qi.ORG_SERVICE}`,e),createOrgAdmin:async e=>await De.post(`${Qi.IDENTITY_AUTH}/register/org-admin`,e),createCity:async e=>await De.post(`${Qi.VENDOR_SERVICE}/admin/cities`,e),getPendingApprovals:async()=>await De.get(`${Qi.IDENTITY_AUTH}/admin/pending-approvals`),updateUserStatus:async(e,t)=>await De.put(`${Qi.IDENTITY_AUTH}/admin/users/${e}/status`,{status:t}),getPlatformRevenueStats:async(e=null,t=null)=>{const i=new URLSearchParams;if(e){let u;e instanceof Date?u=e.toISOString():typeof e=="string"?u=e:(console.warn("Invalid startDate format:",e),u=null),u&&i.append("startDate",u)}if(t){let u;t instanceof Date?u=t.toISOString():typeof t=="string"?u=t:(console.warn("Invalid endDate format:",t),u=null),u&&i.append("endDate",u)}const o=i.toString()?`?${i.toString()}`:"";return await De.get(`/revenue/platform/stats${o}`)},getDailyRevenue:async(e=30)=>{if(typeof e=="number")return await De.get(`/revenue/platform/daily?days=${e}`);if(e&&typeof e=="object"){const t=new URLSearchParams;if(e.startDate){let i;e.startDate instanceof Date?i=e.startDate.toISOString():typeof e.startDate=="string"?i=e.startDate:console.warn("Invalid startDate format:",e.startDate),i&&t.append("startDate",i)}if(e.endDate){let i;e.endDate instanceof Date?i=e.endDate.toISOString():typeof e.endDate=="string"?i=e.endDate:console.warn("Invalid endDate format:",e.endDate),i&&t.append("endDate",i)}if(t.toString())return await De.get(`/revenue/platform/daily?${t.toString()}`)}return await De.get("/revenue/platform/daily?days=30")}};function m_({revenueStats:e,loading:t=!1}){if(t)return m.jsx("div",{className:"bg-white p-8 rounded-3xl border border-gray-100 shadow-sm",children:m.jsxs("div",{className:"animate-pulse space-y-4",children:[m.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/2"}),m.jsx("div",{className:"h-64 bg-gray-200 rounded"})]})});if(!e||!e.revenueByType)return m.jsxs("div",{className:"bg-white p-8 rounded-3xl border border-gray-100 shadow-sm",children:[m.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"Platform Revenue Breakdown"}),m.jsx("p",{className:"text-gray-400 text-center py-12",children:"No revenue data available"})]});const{totalRevenue:i=0,commissionRevenue:o=0,gatewayMarkupRevenue:u=0,promotionRevenue:h=0}=e,p=D=>i===0?0:(D/i*100).toFixed(1),x=[{label:"Order Commission",amount:o,percentage:p(o),color:"#f97316",icon:m.jsx(f3,{size:20})},{label:"Gateway Markup",amount:u,percentage:p(u),color:"#3b82f6",icon:m.jsx(h5,{size:20})},{label:"Promotion Revenue",amount:h,percentage:p(h),color:"#8b5cf6",icon:m.jsx(j5,{size:20})}],w=80,b=25,E=100,S=2*Math.PI*w;let R=0;const _=x.map(D=>{const P=parseFloat(D.percentage)/100*S,Y={...D,strokeDasharray:`${P} ${S}`,strokeDashoffset:-R};return R+=P,Y});return m.jsxs("div",{className:"bg-white p-8 rounded-3xl border border-gray-100 shadow-sm",children:[m.jsxs("div",{className:"flex items-center justify-between mb-6",children:[m.jsxs("div",{children:[m.jsxs("h3",{className:"text-lg font-bold text-gray-800 flex items-center gap-2",children:[m.jsx(gl,{className:"text-brand-primary",size:24}),"Platform Revenue Breakdown"]}),m.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Total earnings across all sources"})]}),m.jsxs("div",{className:"text-right",children:[m.jsx("p",{className:"text-sm text-gray-500",children:"Total Revenue"}),m.jsxs("p",{className:"text-3xl font-black text-brand-primary",children:["",i.toLocaleString("en-IN",{maximumFractionDigits:2})]})]})]}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[m.jsx("div",{className:"flex items-center justify-center",children:m.jsx("div",{className:"relative",children:m.jsxs("svg",{width:"200",height:"200",viewBox:"0 0 200 200",children:[m.jsx("circle",{cx:E,cy:E,r:w,fill:"none",stroke:"#f3f4f6",strokeWidth:b}),_.map((D,L)=>m.jsx("circle",{cx:E,cy:E,r:w,fill:"none",stroke:D.color,strokeWidth:b,strokeDasharray:D.strokeDasharray,strokeDashoffset:D.strokeDashoffset,strokeLinecap:"round",transform:`rotate(-90 ${E} ${E})`,className:"transition-all duration-300"},L)),m.jsx("text",{x:E,y:E-10,textAnchor:"middle",className:"text-xs fill-gray-500 font-medium",children:"Revenue"}),m.jsx("text",{x:E,y:E+10,textAnchor:"middle",className:"text-lg fill-gray-800 font-bold",children:"100%"})]})})}),m.jsxs("div",{className:"space-y-4",children:[x.map((D,L)=>m.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-2xl hover:bg-gray-100 transition-colors",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:D.color}}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("div",{style:{color:D.color},children:D.icon}),m.jsx("span",{className:"font-semibold text-gray-800",children:D.label})]})]}),m.jsxs("div",{className:"text-right",children:[m.jsxs("p",{className:"font-bold text-gray-900",children:["",D.amount.toLocaleString("en-IN",{maximumFractionDigits:2})]}),m.jsxs("p",{className:"text-sm text-gray-500 font-medium",children:[D.percentage,"%"]})]})]},L)),m.jsxs("div",{className:"mt-6 p-4 bg-orange-50 border border-orange-100 rounded-2xl",children:[m.jsxs("div",{className:"flex items-center gap-2 text-orange-900 mb-2",children:[m.jsx(gl,{size:18}),m.jsx("span",{className:"font-bold text-sm",children:"Revenue Insights"})]}),m.jsxs("p",{className:"text-xs text-orange-800 leading-relaxed",children:[o>u?"Order commissions are the primary revenue driver.":"Gateway markups contribute significantly to platform earnings.",h>0&&" Promotions are generating additional revenue."]})]})]})]})]})}const g_=()=>{const{data:e=[],isLoading:t}=un({queryKey:["organizations"],queryFn:Dc.getAllOrganizations,retry:1,refetchOnWindowFocus:!1}),{data:i,isLoading:o,error:u}=un({queryKey:["superAdminStats"],queryFn:Dc.getDashboardStats,retry:1,refetchOnWindowFocus:!1}),{data:h,isLoading:p,error:x}=un({queryKey:["platformRevenueStats"],queryFn:()=>Dc.getPlatformRevenueStats(),retry:1,refetchOnWindowFocus:!1}),w=t||o,b=en.useMemo(()=>({totalOrganizations:i?.totalOrganizations||e.length||0,totalLocations:i?.totalLocations||0,pendingVendors:i?.pendingVendors||0}),[i,e]);return w?m.jsxs("div",{className:"h-96 flex flex-col items-center justify-center gap-4 text-gray-400",children:[m.jsx(Nn,{className:"animate-spin text-brand-primary",size:40}),m.jsx("p",{className:"font-bold animate-pulse",children:"Loading System Data..."})]}):((u||x)&&console.error("Dashboard errors:",{statsError:u,revenueError:x}),m.jsxs("div",{className:"space-y-8",children:[m.jsx("div",{className:"flex justify-between items-end",children:m.jsxs("div",{children:[m.jsx("h1",{className:"text-4xl font-black text-gray-900 tracking-tight",children:"Super Admin"}),m.jsx("p",{className:"text-gray-500 font-medium",children:"Manage global organizations and system configurations."})]})}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[m.jsx(dm,{icon:m.jsx(ji,{}),label:"Total Orgs",value:b.totalOrganizations,color:"text-orange-500"}),m.jsx(dm,{icon:m.jsx(br,{}),label:"Active Locations",value:b.totalLocations,color:"text-blue-500"}),m.jsx(dm,{icon:m.jsx(b3,{}),label:"Pending Vendors",value:b.pendingVendors,color:"text-purple-500"})]}),m.jsx(m_,{revenueStats:h,loading:p}),m.jsx("div",{className:"bg-white rounded-3xl shadow-sm border border-gray-100 overflow-hidden",children:m.jsxs("table",{className:"w-full text-left",children:[m.jsx("thead",{className:"bg-gray-50 border-b border-gray-100",children:m.jsxs("tr",{children:[m.jsx("th",{className:"p-6 font-bold text-gray-600",children:"Organization Name"}),m.jsx("th",{className:"p-6 font-bold text-gray-600",children:"ID"}),m.jsx("th",{className:"p-6 font-bold text-gray-600",children:"Actions"})]})}),m.jsx("tbody",{children:e.map(E=>m.jsxs("tr",{className:"border-b border-gray-50 hover:bg-gray-50/50 transition-colors",children:[m.jsx("td",{className:"p-6 font-semibold text-gray-800",children:E.name}),m.jsx("td",{className:"p-6 text-gray-400 text-sm font-mono",children:E.id}),m.jsxs("td",{className:"p-6 flex gap-2",children:[m.jsx(At,{variant:"secondary",size:"sm",children:"Manage"}),m.jsx(At,{variant:"ghost",size:"sm",children:"Settings"})]})]},E.id))})]})})]}))},dm=({icon:e,label:t,value:i,color:o})=>m.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-gray-100 shadow-sm flex items-center gap-5",children:[m.jsx("div",{className:`p-4 rounded-2xl bg-gray-50 ${o}`,children:e}),m.jsxs("div",{children:[m.jsx("p",{className:"text-sm font-bold text-gray-400 uppercase tracking-wider",children:t}),m.jsx("p",{className:"text-2xl font-black text-gray-900",children:i})]})]}),p_=()=>{const[e,t]=F.useState(!1),[i,o]=F.useState({name:"",domain:"",adminEmail:"",adminPassword:""}),{data:u=[],isLoading:h,isError:p,refetch:x}=un({queryKey:["organizations"],queryFn:Dc.getAllOrganizations,staleTime:300*1e3}),w=async b=>{b.preventDefault();const E=je.loading("Setting up organization...");try{await Dc.createOrganization({name:i.name,domain:i.domain,fullName:i.name,email:i.adminEmail,password:i.adminPassword,role:"ROLE_ORG_ADMIN"}),t(!1),x(),je.success(ah.ORG_CREATED,{id:E}),o({name:"",domain:"",adminEmail:"",adminPassword:""})}catch(S){je.error(S?.response?.data?.message||go.ACTION_FAILED,{id:E})}};return m.jsxs("div",{className:"space-y-8",children:[m.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-4xl font-black text-gray-900 tracking-tight",children:"Corporate Clients"}),m.jsx("p",{className:"text-gray-500 mt-1",children:"Manage organizations and their administrative access."})]}),m.jsxs("button",{onClick:()=>t(!0),className:"bg-brand-primary hover:bg-brand-secondary text-white px-6 py-4 rounded-2xl font-bold flex items-center justify-center gap-2 shadow-lg shadow-orange-100 transition-all active:scale-95",children:[m.jsx(pi,{size:20})," Add New Organization"]})]}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:m.jsx("div",{className:`${Cm.CARD_STYLE} p-6`,children:m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("div",{className:"p-3 bg-orange-50 text-brand-primary rounded-2xl",children:m.jsx(ji,{size:24})}),m.jsxs("div",{children:[m.jsx("p",{className:"text-sm text-gray-500 font-bold uppercase tracking-wider",children:"Total Entities"}),m.jsx("p",{className:"text-3xl font-black text-gray-900",children:u.length})]})]})})}),m.jsxs("div",{className:`${Cm.CARD_STYLE} overflow-hidden`,children:[m.jsxs("div",{className:"p-6 border-b border-gray-100 flex items-center justify-between bg-white",children:[m.jsx("h3",{className:"font-bold text-gray-800 text-lg",children:"Active Organizations"}),m.jsxs("div",{className:"relative",children:[m.jsx(Sg,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),m.jsx("input",{type:"text",placeholder:"Search domains...",className:"pl-10 pr-4 py-2 bg-gray-50 rounded-xl border-none text-sm focus:ring-2 focus:ring-brand-primary/20 outline-none"})]})]}),m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"w-full text-left",children:[m.jsx("thead",{className:"bg-gray-50 text-gray-400 text-xs font-black uppercase tracking-widest",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-8 py-5",children:"Organization"}),m.jsx("th",{className:"px-8 py-5",children:"Domain"}),m.jsx("th",{className:"px-8 py-5 text-right",children:"Status"})]})}),m.jsx("tbody",{className:"divide-y divide-gray-50",children:h?m.jsx("tr",{children:m.jsx("td",{colSpan:"4",className:"p-20 text-center",children:m.jsxs("div",{className:"flex flex-col items-center gap-2 text-gray-400",children:[m.jsx(Nn,{className:"animate-spin"}),"Loading organizations..."]})})}):p?m.jsx("tr",{children:m.jsx("td",{colSpan:"4",className:"p-20 text-center text-red-500 font-bold",children:go.FETCH_FAILED})}):u.map(b=>m.jsxs("tr",{className:"hover:bg-orange-50/30 transition-colors group",children:[m.jsx("td",{className:"px-8 py-5",children:m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"w-10 h-10 bg-gray-100 rounded-xl flex items-center justify-center font-bold text-gray-500 group-hover:bg-brand-primary group-hover:text-white transition-colors",children:b.name.charAt(0)}),m.jsx("span",{className:"font-bold text-gray-800",children:b.name})]})}),m.jsx("td",{className:"px-8 py-5 text-gray-500",children:m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(b5,{size:14})," ",b.domain]})}),m.jsx("td",{className:"px-8 py-5 text-right",children:m.jsx("span",{className:"px-3 py-1 bg-green-50 text-green-600 rounded-full text-[10px] font-black uppercase tracking-widest",children:"Active"})})]},b.id))})]})})]}),e&&m.jsx("div",{className:"fixed inset-0 bg-gray-900/60 backdrop-blur-md flex items-center justify-center z-[100] p-4",children:m.jsxs("div",{className:"bg-white w-full max-w-xl rounded-hb p-10 shadow-2xl relative animate-in fade-in zoom-in duration-200",children:[m.jsx("button",{onClick:()=>t(!1),className:"absolute top-6 right-6 text-gray-400 hover:text-gray-900",children:""}),m.jsxs("div",{className:"mb-8",children:[m.jsx("h3",{className:"text-3xl font-black text-gray-900 tracking-tight",children:"New Org Setup"}),m.jsx("p",{className:"text-gray-500",children:"Create a secure corporate realm and administrative account."})]}),m.jsxs("form",{onSubmit:w,className:"space-y-6",children:[m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{className:"space-y-1",children:[m.jsx("label",{className:"text-xs font-black uppercase text-gray-400 ml-1",children:"Company Name"}),m.jsx("input",{className:"w-full p-4 rounded-2xl bg-gray-50 border-none focus:ring-2 focus:ring-brand-primary outline-none transition-all",placeholder:"e.g. Acme Corp",onChange:b=>o({...i,name:b.target.value}),required:!0})]}),m.jsxs("div",{className:"space-y-1",children:[m.jsx("label",{className:"text-xs font-black uppercase text-gray-400 ml-1",children:"Corporate Domain"}),m.jsx("input",{className:"w-full p-4 rounded-2xl bg-gray-50 border-none focus:ring-2 focus:ring-brand-primary outline-none transition-all",placeholder:"acme.com",onChange:b=>o({...i,domain:b.target.value}),required:!0})]})]}),m.jsxs("div",{className:"pt-4 border-t border-gray-100 mt-6",children:[m.jsxs("div",{className:"flex items-center gap-2 mb-4 text-brand-primary font-bold",children:[m.jsx(y3,{size:18})," Primary Administrator"]}),m.jsxs("div",{className:"space-y-4",children:[m.jsx("input",{type:"email",className:"w-full p-4 rounded-2xl bg-gray-50 border-none focus:ring-2 focus:ring-brand-primary outline-none transition-all",placeholder:"admin@domain.com",onChange:b=>o({...i,adminEmail:b.target.value}),required:!0}),m.jsx("input",{type:"password",className:"w-full p-4 rounded-2xl bg-gray-50 border-none focus:ring-2 focus:ring-brand-primary outline-none transition-all",placeholder:"Secure Password",onChange:b=>o({...i,adminPassword:b.target.value}),required:!0})]})]}),m.jsxs("div",{className:"flex gap-4 pt-6",children:[m.jsx("button",{type:"button",onClick:()=>t(!1),className:"flex-1 p-4 text-gray-500 font-bold hover:bg-gray-50 rounded-2xl transition-all",children:"Cancel"}),m.jsx("button",{type:"submit",className:"flex-1 p-4 bg-brand-primary text-white rounded-2xl font-bold shadow-lg shadow-orange-100 hover:bg-brand-secondary transition-all",children:"Launch Organization"})]})]})]})})]})},ir={getDashboardStats:async()=>await De.get("/organisation/admin/stats"),getPendingApprovals:async()=>await De.get(`${Qi.IDENTITY_AUTH}/admin/pending-approvals`),updateUserStatus:async(e,t)=>await De.put(`${Qi.IDENTITY_AUTH}/admin/users/${e}/status`,{status:t}),getAllLocations:async e=>await De.get(`/organisation/locations/org/${e}`),createLocation:async e=>await De.post("/organisation/locations",e),updateLocation:async(e,t)=>await De.put(`/organisation/locations/${e}`,t),deleteLocation:async e=>await De.delete(`/organisation/locations/${e}`),getOfficesByLocation:async e=>await De.get(`/organisation/offices/location/${e}`),createOffice:async e=>await De.post("/organisation/offices",e),updateOffice:async(e,t)=>await De.put(`/organisation/offices/${e}`,t),deleteOffice:async e=>await De.delete(`/organisation/offices/${e}`),getCafeteriasByOffice:async e=>await De.get(`/organisation/cafeterias/office/${e}`),createCafeteria:async e=>await De.post("/organisation/cafeterias",e),toggleCafeteriaStatus:async(e,t)=>await De.put(`/organisation/cafeterias/${e}/status`,null,{params:{active:t}}),updateCafeteria:async(e,t)=>await De.put(`/organisation/cafeterias/${e}`,t),deleteCafeteria:async e=>await De.delete(`/organisation/cafeterias/${e}`)},y_=({children:e,title:t,subtitle:i,extra:o,className:u=""})=>m.jsxs("div",{className:`${Cm.CARD_STYLE} ${u}`,children:[(t||o)&&m.jsxs("div",{className:"p-6 border-b border-gray-100 flex items-center justify-between bg-white",children:[m.jsxs("div",{children:[t&&m.jsx("h3",{className:"font-bold text-gray-800 text-lg",children:t}),i&&m.jsx("p",{className:"text-sm text-gray-400 font-medium",children:i})]}),o&&m.jsx("div",{children:o})]}),m.jsx("div",{className:"p-6",children:e})]}),b_=()=>{const[e,t]=F.useState([]),[i,o]=F.useState("ALL"),[u,h]=F.useState(!0),p=async()=>{try{h(!0);const b=await ir.getPendingApprovals();t(b)}catch(b){je.error(b||go.FETCH_FAILED)}finally{h(!1)}};F.useEffect(()=>{p()},[]);const x=async(b,E)=>{const S=E===Rd.ACTIVE?"approving":"rejecting",R=je.loading(`Please wait, ${S} user...`);try{await ir.updateUserStatus(b,E),t(_=>_.filter(D=>D.id!==b)),je.success(E===Rd.ACTIVE?ah.USER_APPROVED:ah.USER_REJECTED,{id:R})}catch(_){je.error(_||go.ACTION_FAILED,{id:R})}},w=i==="ALL"?e:e.filter(b=>b.role===`ROLE_${i}`);return m.jsxs("div",{className:"space-y-8",children:[m.jsxs("header",{children:[m.jsx("h1",{className:"text-4xl font-black text-gray-900 tracking-tight",children:"Approvals Required"}),m.jsx("p",{className:"text-gray-500 mt-2",children:"Verify and manage access for Employees and Vendors."})]}),m.jsx("div",{className:"flex gap-4",children:["ALL","EMPLOYEE","VENDOR"].map(b=>m.jsx(At,{variant:i===b?"primary":"secondary",size:"sm",onClick:()=>o(b),children:b},b))}),u?m.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-gray-400",children:[m.jsx(Nn,{className:"animate-spin mb-4",size:40}),m.jsx("p",{className:"font-medium",children:"Fetching pending requests..."})]}):m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[w.map(b=>m.jsxs(y_,{className:"hover:shadow-md transition-shadow",children:[m.jsxs("div",{className:"flex justify-between items-start mb-4",children:[m.jsx("div",{className:`p-3 rounded-2xl ${b.role==="ROLE_VENDOR"?"bg-purple-50 text-purple-600":"bg-blue-50 text-blue-600"}`,children:b.role==="ROLE_VENDOR"?m.jsx(po,{size:24}):m.jsx(b3,{size:24})}),m.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-gray-400",children:b.role.split("_")[1]})]}),m.jsx("h3",{className:"font-bold text-gray-900",children:b.username}),m.jsx("p",{className:"text-sm text-gray-500 mb-6",children:b.email}),m.jsxs("div",{className:"flex gap-3",children:[m.jsxs(At,{variant:"secondary",className:"flex-1 text-green-600 bg-green-50 hover:bg-green-100",onClick:()=>x(b.id,Rd.ACTIVE),children:[m.jsx(Jc,{size:18,className:"mr-2"})," Approve"]}),m.jsx(At,{variant:"danger",className:"px-4",onClick:()=>x(b.id,Rd.BLOCKED),children:m.jsx(h3,{size:18})})]})]},b.id)),w.length===0&&m.jsxs("div",{className:"col-span-full py-20 text-center text-gray-400 font-medium bg-gray-50 rounded-hb border-2 border-dashed border-gray-200",children:["No pending ",i.toLowerCase()," requests found."]})]})]})},v_=()=>{const e=nr(),{user:t}=Ds();if(!t||t.role!==Xn.ORG_ADMIN)return m.jsx("div",{className:"h-96 flex items-center justify-center",children:m.jsx("p",{className:"text-red-500 font-semibold",children:"Access Denied: Organization Admin role required"})});const i=t.organizationId,{data:o,isLoading:u,error:h}=un({queryKey:["dashboardStats"],queryFn:ir.getDashboardStats,retry:1,refetchOnWindowFocus:!1,enabled:!!i}),{data:p=[],isLoading:x}=un({queryKey:["locations",i],queryFn:()=>ir.getAllLocations(i),enabled:!!i,retry:1,refetchOnWindowFocus:!1}),w=u||x,b=en.useMemo(()=>({locations:o?.locations||0,offices:o?.offices||0,cafeterias:o?.cafeterias||0}),[o]);return i?w?m.jsxs("div",{className:"h-96 flex flex-col items-center justify-center gap-4 text-gray-400",children:[m.jsx(Nn,{className:"animate-spin text-brand-primary",size:40}),m.jsx("p",{className:"font-bold animate-pulse",children:"Loading Dashboard..."})]}):(h&&console.error("Stats error:",h),m.jsxs("div",{className:"space-y-8",children:[m.jsxs("div",{className:"flex justify-between items-end",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-4xl font-black text-gray-900 tracking-tight",children:"Organization Dashboard"}),m.jsx("p",{className:"text-gray-500 font-medium mt-2",children:"Manage your organization's locations, offices, and cafeterias."})]}),m.jsxs(At,{variant:"primary",onClick:()=>e("/org-admin/locations"),children:[m.jsx(pi,{className:"mr-2",size:20})," Add Location"]})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[m.jsx(hm,{icon:m.jsx(br,{}),label:"Locations",value:b.locations,color:"text-blue-500",bgColor:"bg-blue-50"}),m.jsx(hm,{icon:m.jsx(ji,{}),label:"Offices",value:b.offices,color:"text-purple-500",bgColor:"bg-purple-50"}),m.jsx(hm,{icon:m.jsx(Ca,{}),label:"Cafeterias",value:b.cafeterias,color:"text-orange-500",bgColor:"bg-orange-50"})]}),m.jsxs("div",{className:"bg-white rounded-3xl shadow-sm border border-gray-100 p-6",children:[m.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[m.jsx("div",{className:"p-3 rounded-2xl bg-brand-primary/10",children:m.jsx(gl,{className:"text-brand-primary",size:24})}),m.jsxs("div",{children:[m.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Quick Actions"}),m.jsx("p",{className:"text-sm text-gray-500",children:"Common tasks for managing your organization"})]})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsx(Lw,{icon:m.jsx(br,{}),title:"Add Location",description:"Create a new location/city",onClick:()=>e("/org-admin/locations")}),m.jsx(Lw,{icon:m.jsx(ji,{}),title:"View Locations",description:"Manage offices and cafeterias",onClick:()=>e("/org-admin/locations")})]})]}),m.jsxs("div",{className:"bg-white rounded-3xl shadow-sm border border-gray-100 overflow-hidden",children:[m.jsxs("div",{className:"p-6 border-b border-gray-100",children:[m.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Your Locations"}),m.jsx("p",{className:"text-sm text-gray-500 mt-1",children:p.length===0?"No locations yet. Create your first location to get started.":`Managing ${p.length} location${p.length!==1?"s":""}`})]}),p.length>0?m.jsxs("table",{className:"w-full text-left",children:[m.jsx("thead",{className:"bg-gray-50 border-b border-gray-100",children:m.jsxs("tr",{children:[m.jsx("th",{className:"p-6 font-bold text-gray-600",children:"City"}),m.jsx("th",{className:"p-6 font-bold text-gray-600",children:"State"}),m.jsx("th",{className:"p-6 font-bold text-gray-600",children:"Offices"}),m.jsx("th",{className:"p-6 font-bold text-gray-600",children:"Cafeterias"}),m.jsx("th",{className:"p-6 font-bold text-gray-600",children:"Actions"})]})}),m.jsx("tbody",{children:p.map(E=>m.jsxs("tr",{className:"border-b border-gray-50 hover:bg-gray-50/50 transition-colors",children:[m.jsx("td",{className:"p-6 font-semibold text-gray-800",children:E.cityName}),m.jsx("td",{className:"p-6 text-gray-600",children:E.state||"N/A"}),m.jsx("td",{className:"p-6 text-gray-400 text-sm",children:E.officeCount||0}),m.jsx("td",{className:"p-6 text-gray-400 text-sm",children:E.cafeteriaCount||0}),m.jsxs("td",{className:"p-6 flex gap-2",children:[m.jsx(At,{variant:"secondary",size:"sm",onClick:()=>e(`/org-admin/locations/${E.id}`),children:"View"}),m.jsx(At,{variant:"ghost",size:"sm",onClick:()=>e("/org-admin/locations"),children:"Edit"})]})]},E.id))})]}):m.jsxs("div",{className:"p-20 text-center",children:[m.jsx(br,{className:"mx-auto text-gray-300 mb-4",size:64}),m.jsx("h3",{className:"text-xl font-bold text-gray-600 mb-2",children:"No Locations Yet"}),m.jsx("p",{className:"text-gray-400 mb-6",children:"Start by creating your first location to organize your offices and cafeterias."}),m.jsxs(At,{variant:"primary",onClick:()=>e("/org-admin/locations"),children:[m.jsx(pi,{className:"mr-2",size:20})," Create First Location"]})]})]})]})):m.jsxs("div",{className:"h-96 flex flex-col items-center justify-center gap-4",children:[m.jsx("p",{className:"text-red-500 font-semibold",children:"Error: Organization ID not found in user profile"}),m.jsx("p",{className:"text-gray-500 text-sm",children:"Please contact support or log in again."})]})},hm=({icon:e,label:t,value:i,color:o,bgColor:u,clickable:h,onClick:p})=>m.jsxs("div",{className:`bg-white p-6 rounded-3xl border border-gray-100 shadow-sm flex items-center gap-5 ${h?"cursor-pointer hover:shadow-md transition-shadow":""}`,onClick:h?p:void 0,children:[m.jsx("div",{className:`p-4 rounded-2xl ${u} ${o}`,children:e}),m.jsxs("div",{children:[m.jsx("p",{className:"text-sm font-bold text-gray-400 uppercase tracking-wider",children:t}),m.jsx("p",{className:"text-3xl font-black text-gray-900",children:i})]})]}),Lw=({icon:e,title:t,description:i,onClick:o})=>m.jsxs("button",{onClick:o,className:"flex items-start gap-4 p-4 rounded-2xl border-2 border-gray-100 hover:border-brand-primary hover:bg-brand-primary/5 transition-all text-left group",children:[m.jsx("div",{className:"p-3 rounded-xl bg-gray-50 text-gray-400 group-hover:bg-brand-primary group-hover:text-white transition-colors",children:en.cloneElement(e,{size:20})}),m.jsxs("div",{className:"flex-1",children:[m.jsx("h3",{className:"font-bold text-gray-900 mb-1",children:t}),m.jsx("p",{className:"text-sm text-gray-500",children:i})]})]});function yo({isOpen:e,onClose:t,children:i,title:o}){return m.jsx(au,{children:e&&m.jsxs(m.Fragment,{children:[m.jsx(tn.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:t,className:"fixed inset-0 bg-black/40 backdrop-blur-sm z-[100]"}),m.jsx("div",{className:"fixed inset-0 z-[101] flex items-center justify-center p-4 sm:p-6 md:p-8",children:m.jsxs(tn.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},transition:{type:"spring",duration:.3},className:"relative w-full max-w-md max-h-[90vh] bg-white rounded-3xl shadow-2xl flex flex-col overflow-hidden",children:[m.jsxs("div",{className:"flex-shrink-0 px-6 sm:px-8 pt-6 sm:pt-8 pb-4 border-b border-gray-100 bg-white",children:[o&&m.jsx("h2",{className:"text-2xl font-bold text-gray-800 pr-8",children:o}),m.jsx("button",{onClick:t,className:"absolute top-4 sm:top-6 right-4 sm:right-6 p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-xl transition-all","aria-label":"Close modal",children:m.jsx(Ih,{size:20})})]}),m.jsx("div",{className:"flex-1 overflow-y-auto px-6 sm:px-8 py-6",children:i})]})})]})})}const x_=()=>{const e=nr(),t=_s(),[i,o]=F.useState(!1),[u,h]=F.useState(null),[p,x]=F.useState({cityName:"",state:""}),b=JSON.parse(localStorage.getItem("hb_user")||"{}").organizationId,{data:E=[],isLoading:S}=un({queryKey:["locations",b],queryFn:()=>ir.getAllLocations(b),enabled:!!b,retry:1,refetchOnWindowFocus:!1}),R=sr({mutationFn:ir.createLocation,onSuccess:()=>{t.invalidateQueries(["locations"]),o(!1),j(),je.success("Location created successfully!")},onError:V=>{je.error(V?.response?.data?.message||"Failed to create location")}}),_=sr({mutationFn:({id:V,data:I})=>ir.updateLocation(V,I),onSuccess:()=>{t.invalidateQueries(["locations"]),o(!1),j(),je.success("Location updated successfully!")},onError:V=>{je.error(V?.response?.data?.message||"Failed to update location")}}),D=sr({mutationFn:ir.deleteLocation,onSuccess:()=>{t.invalidateQueries(["locations"]),je.success("Location deleted successfully!")},onError:V=>{je.error(V?.response?.data?.message||"Failed to delete location")}}),L=V=>{V.preventDefault();const I=je.loading(u?"Updating location...":"Creating location...");u?_.mutate({id:u.id,data:p},{onSettled:()=>je.dismiss(I)}):R.mutate(p,{onSettled:()=>je.dismiss(I)})},P=V=>{h(V),x({cityName:V.cityName||"",state:V.state||""}),o(!0)},Y=V=>{window.confirm("Are you sure you want to delete this location? This will also delete all associated offices and cafeterias.")&&D.mutate(V)},j=()=>{x({cityName:"",state:""}),h(null)},U=()=>{o(!1),j()};return S?m.jsxs("div",{className:"h-96 flex flex-col items-center justify-center gap-4 text-gray-400",children:[m.jsx(Nn,{className:"animate-spin text-brand-primary",size:40}),m.jsx("p",{className:"font-bold animate-pulse",children:"Loading Locations..."})]}):m.jsxs("div",{className:"space-y-8",children:[m.jsxs("div",{className:"flex justify-between items-end",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-4xl font-black text-gray-900 tracking-tight",children:"Location Management"}),m.jsx("p",{className:"text-gray-500 font-medium mt-2",children:"Manage locations where your organization operates"})]}),m.jsxs(At,{variant:"primary",onClick:()=>o(!0),children:[m.jsx(pi,{className:"mr-2",size:20})," Add Location"]})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[m.jsx(fm,{icon:m.jsx(br,{}),label:"Total Locations",value:E.length,color:"text-blue-500",bgColor:"bg-blue-50"}),m.jsx(fm,{icon:m.jsx(ji,{}),label:"Total Offices",value:E.reduce((V,I)=>V+(I.officeCount||0),0),color:"text-purple-500",bgColor:"bg-purple-50"}),m.jsx(fm,{icon:m.jsx(Ca,{}),label:"Total Cafeterias",value:E.reduce((V,I)=>V+(I.cafeteriaCount||0),0),color:"text-orange-500",bgColor:"bg-orange-50"})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[E.map(V=>m.jsx(w_,{location:V,onEdit:P,onDelete:Y,onViewDetails:()=>e(`/org-admin/locations/${V.id}`)},V.id)),E.length===0&&m.jsxs("div",{className:"col-span-full py-20 text-center",children:[m.jsx(br,{className:"mx-auto text-gray-300 mb-4",size:64}),m.jsx("h3",{className:"text-xl font-bold text-gray-600 mb-2",children:"No Locations Yet"}),m.jsx("p",{className:"text-gray-400 mb-6",children:"Create your first location to start organizing offices and cafeterias."}),m.jsxs(At,{variant:"primary",onClick:()=>o(!0),children:[m.jsx(pi,{className:"mr-2",size:20})," Create First Location"]})]})]}),m.jsx(yo,{isOpen:i,onClose:U,title:u?"Edit Location":"Create New Location",children:m.jsxs("form",{onSubmit:L,className:"space-y-5",children:[m.jsx(jn,{label:"City Name",name:"cityName",value:p.cityName,onChange:V=>x({...p,cityName:V.target.value}),placeholder:"e.g., Bangalore",required:!0}),m.jsx(jn,{label:"State/Province",name:"state",value:p.state,onChange:V=>x({...p,state:V.target.value}),placeholder:"e.g., Karnataka",required:!0}),m.jsxs("div",{className:"flex gap-3 pt-6 border-t border-gray-100 -mx-6 sm:-mx-8 px-6 sm:px-8 -mb-6 pb-6 bg-gray-50 sticky bottom-0",children:[m.jsx(At,{type:"submit",variant:"primary",className:"flex-1",disabled:R.isLoading||_.isLoading,children:u?"Update Location":"Create Location"}),m.jsx(At,{type:"button",variant:"secondary",onClick:U,children:"Cancel"})]})]})})]})},fm=({icon:e,label:t,value:i,color:o,bgColor:u})=>m.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-gray-100 shadow-sm flex items-center gap-5",children:[m.jsx("div",{className:`p-4 rounded-2xl ${u} ${o}`,children:e}),m.jsxs("div",{children:[m.jsx("p",{className:"text-sm font-bold text-gray-400 uppercase tracking-wider",children:t}),m.jsx("p",{className:"text-3xl font-black text-gray-900",children:i})]})]}),w_=({location:e,onEdit:t,onDelete:i,onViewDetails:o})=>m.jsx("div",{className:"bg-white rounded-3xl border border-gray-100 shadow-sm hover:shadow-md transition-shadow overflow-hidden",children:m.jsxs("div",{className:"p-6",children:[m.jsxs("div",{className:"flex items-start justify-between mb-4",children:[m.jsx("div",{className:"p-3 rounded-2xl bg-blue-50 text-blue-600",children:m.jsx(br,{size:24})}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{onClick:()=>t(e),className:"p-2 hover:bg-gray-100 rounded-xl transition-colors text-gray-400 hover:text-gray-600",children:m.jsx(oh,{size:16})}),m.jsx("button",{onClick:()=>i(e.id),className:"p-2 hover:bg-red-50 rounded-xl transition-colors text-gray-400 hover:text-red-600",children:m.jsx(ml,{size:16})})]})]}),m.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-1",children:e.cityName}),m.jsx("p",{className:"text-sm text-gray-500 mb-4",children:e.state||"No state specified"}),m.jsxs("div",{className:"flex gap-4 mb-6 pt-4 border-t border-gray-100",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(ji,{size:16,className:"text-gray-400"}),m.jsxs("span",{className:"text-sm font-semibold text-gray-600",children:[e.officeCount||0," ",(e.officeCount||0)===1?"Office":"Offices"]})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(Ca,{size:16,className:"text-gray-400"}),m.jsxs("span",{className:"text-sm font-semibold text-gray-600",children:[e.cafeteriaCount||0," ",(e.cafeteriaCount||0)===1?"Cafeteria":"Cafeterias"]})]})]}),m.jsxs(At,{variant:"secondary",className:"w-full group",onClick:o,children:["View Details",m.jsx(Xd,{size:18,className:"ml-auto group-hover:translate-x-1 transition-transform"})]})]})}),E_=()=>{const{locationId:e}=dE(),t=nr(),i=_s(),[o,u]=F.useState(!1),[h,p]=F.useState(!1),[x,w]=F.useState(null),[b,E]=F.useState(null),[S,R]=F.useState(null),[_,D]=F.useState({officeName:"",address:""}),[L,P]=F.useState({name:"",floorNumber:""}),{data:Y=[],isLoading:j}=un({queryKey:["offices",e],queryFn:()=>ir.getOfficesByLocation(e),enabled:!!e,retry:1}),{data:U=[],isLoading:V}=un({queryKey:["cafeterias",S],queryFn:()=>ir.getCafeteriasByOffice(S),enabled:!!S,retry:1}),I=sr({mutationFn:xe=>ir.createOffice(xe),onSuccess:()=>{i.invalidateQueries(["offices",e]),u(!1),ie(),je.success("Office created successfully!")},onError:xe=>{je.error(xe?.response?.data?.message||"Failed to create office")}}),X=sr({mutationFn:({id:xe,data:ke})=>ir.updateOffice(xe,ke),onSuccess:()=>{i.invalidateQueries(["offices",e]),u(!1),ie(),je.success("Office updated successfully!")},onError:xe=>{je.error(xe?.response?.data?.message||"Failed to update office")}}),z=sr({mutationFn:ir.deleteOffice,onSuccess:()=>{i.invalidateQueries(["offices",e]),je.success("Office deleted successfully!")},onError:xe=>{je.error(xe?.response?.data?.message||"Failed to delete office")}}),H=sr({mutationFn:xe=>ir.createCafeteria(xe),onSuccess:()=>{i.invalidateQueries(["cafeterias",S]),p(!1),ue(),je.success("Cafeteria created successfully!")},onError:xe=>{je.error(xe?.response?.data?.message||"Failed to create cafeteria")}}),Q=sr({mutationFn:({id:xe,data:ke})=>ir.updateCafeteria(xe,ke),onSuccess:()=>{i.invalidateQueries(["cafeterias",S]),p(!1),ue(),je.success("Cafeteria updated successfully!")},onError:xe=>{je.error(xe?.response?.data?.message||"Failed to update cafeteria")}}),Ee=sr({mutationFn:ir.deleteCafeteria,onSuccess:()=>{i.invalidateQueries(["cafeterias",S]),je.success("Cafeteria deleted successfully!")},onError:xe=>{je.error(xe?.response?.data?.message||"Failed to delete cafeteria")}}),ae=xe=>{xe.preventDefault();const ke={locationId:parseInt(e),..._};x?X.mutate({id:x.id,data:ke}):I.mutate(ke)},ve=xe=>{xe.preventDefault();const ke={officeId:parseInt(S),name:L.name,floorNumber:parseInt(L.floorNumber)};b?Q.mutate({id:b.id,data:ke}):H.mutate(ke)},me=xe=>{w(xe),D({officeName:xe.officeName||"",address:xe.address||""}),u(!0)},Le=xe=>{E(xe),P({name:xe.name,floorNumber:xe.floorNumber?.toString()||""}),p(!0)},ne=xe=>{R(xe),p(!0)},ie=()=>{D({officeName:"",address:""}),w(null)},ue=()=>{P({name:"",floorNumber:""}),E(null)};return j?m.jsxs("div",{className:"h-96 flex flex-col items-center justify-center gap-4 text-gray-400",children:[m.jsx(Nn,{className:"animate-spin text-brand-primary",size:40}),m.jsx("p",{className:"font-bold animate-pulse",children:"Loading Location Details..."})]}):m.jsxs("div",{className:"space-y-8",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx(At,{variant:"ghost",onClick:()=>t("/org-admin/locations"),className:"!p-3",children:m.jsx(El,{size:20})}),m.jsxs("div",{className:"flex-1",children:[m.jsx("h1",{className:"text-4xl font-black text-gray-900 tracking-tight",children:"Location Details"}),m.jsx("p",{className:"text-gray-500 font-medium mt-2",children:"Manage offices and cafeterias for this location"})]}),m.jsxs(At,{variant:"primary",onClick:()=>u(!0),children:[m.jsx(pi,{className:"mr-2",size:20})," Add Office"]})]}),m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx(ji,{className:"text-purple-500",size:28}),m.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Offices"})]}),Y.length===0?m.jsxs("div",{className:"bg-white rounded-3xl border border-gray-100 p-20 text-center",children:[m.jsx(ji,{className:"mx-auto text-gray-300 mb-4",size:64}),m.jsx("h3",{className:"text-xl font-bold text-gray-600 mb-2",children:"No Offices Yet"}),m.jsx("p",{className:"text-gray-400 mb-6",children:"Add your first office building to start creating cafeterias."}),m.jsxs(At,{variant:"primary",onClick:()=>u(!0),children:[m.jsx(pi,{className:"mr-2",size:20})," Create First Office"]})]}):m.jsx("div",{className:"space-y-6",children:Y.map(xe=>m.jsx(C_,{office:xe,onEdit:me,onDelete:()=>{window.confirm("Delete this office and all its cafeterias?")&&z.mutate(xe.id)},onAddCafeteria:()=>ne(xe.id),onViewCafeterias:()=>R(xe.id),cafeterias:S===xe.id?U:[],isLoadingCafeterias:S===xe.id&&V,onEditCafeteria:Le,onDeleteCafeteria:ke=>{window.confirm("Delete this cafeteria?")&&Ee.mutate(ke)}},xe.id))})]}),m.jsx(yo,{isOpen:o,onClose:()=>{u(!1),ie()},title:x?"Edit Office":"Create New Office",children:m.jsxs("form",{onSubmit:ae,className:"space-y-5",children:[m.jsx(jn,{label:"Office Name",name:"officeName",value:_.officeName,onChange:xe=>D({..._,officeName:xe.target.value}),placeholder:"e.g., Building A",required:!0}),m.jsx(jn,{label:"Address",name:"address",value:_.address,onChange:xe=>D({..._,address:xe.target.value}),placeholder:"e.g., 123 Tech Street, Whitefield",required:!0}),m.jsxs("div",{className:"flex gap-3 pt-6 border-t border-gray-100 -mx-6 sm:-mx-8 px-6 sm:px-8 -mb-6 pb-6 bg-gray-50 sticky bottom-0",children:[m.jsx(At,{type:"submit",variant:"primary",className:"flex-1",children:x?"Update Office":"Create Office"}),m.jsx(At,{type:"button",variant:"secondary",onClick:()=>{u(!1),ie()},children:"Cancel"})]})]})}),m.jsx(yo,{isOpen:h,onClose:()=>{p(!1),ue()},title:b?"Edit Cafeteria":"Create New Cafeteria",children:m.jsxs("form",{onSubmit:ve,className:"space-y-5",children:[m.jsx(jn,{label:"Cafeteria Name",name:"name",value:L.name,onChange:xe=>P({...L,name:xe.target.value}),placeholder:"e.g., Main Food Court",required:!0}),m.jsx(jn,{label:"Floor Number",type:"number",name:"floorNumber",value:L.floorNumber,onChange:xe=>P({...L,floorNumber:xe.target.value}),placeholder:"e.g., 2",required:!0}),m.jsxs("div",{className:"flex gap-3 pt-6 border-t border-gray-100 -mx-6 sm:-mx-8 px-6 sm:px-8 -mb-6 pb-6 bg-gray-50 sticky bottom-0",children:[m.jsx(At,{type:"submit",variant:"primary",className:"flex-1",children:b?"Update Cafeteria":"Create Cafeteria"}),m.jsx(At,{type:"button",variant:"secondary",onClick:()=>{p(!1),ue()},children:"Cancel"})]})]})})]})},C_=({office:e,onEdit:t,onDelete:i,onAddCafeteria:o,onViewCafeterias:u,cafeterias:h,isLoadingCafeterias:p,onEditCafeteria:x,onDeleteCafeteria:w})=>{const[b,E]=en.useState(!1);return m.jsx("div",{className:"bg-white rounded-3xl border border-gray-100 shadow-sm overflow-hidden",children:m.jsxs("div",{className:"p-6",children:[m.jsxs("div",{className:"flex items-start justify-between mb-4",children:[m.jsx("div",{className:"flex-1",children:m.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[m.jsx("div",{className:"p-3 rounded-2xl bg-purple-50 text-purple-600",children:m.jsx(ji,{size:24})}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-xl font-bold text-gray-900",children:e.officeName}),m.jsx("p",{className:"text-sm text-gray-500",children:e.address})]})]})}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{onClick:()=>t(e),className:"p-2 hover:bg-gray-100 rounded-xl transition-colors text-gray-400 hover:text-gray-600",children:m.jsx(oh,{size:16})}),m.jsx("button",{onClick:i,className:"p-2 hover:bg-red-50 rounded-xl transition-colors text-gray-400 hover:text-red-600",children:m.jsx(ml,{size:16})})]})]}),m.jsxs("div",{className:"flex gap-3",children:[m.jsxs(At,{variant:"secondary",size:"sm",onClick:()=>{E(!b),b||u()},children:[m.jsx(Ca,{size:16,className:"mr-2"}),b?"Hide":"View"," Cafeterias (",e.cafeteriaCount||0,")"]}),m.jsxs(At,{variant:"primary",size:"sm",onClick:o,children:[m.jsx(pi,{size:16,className:"mr-2"})," Add Cafeteria"]})]}),b&&m.jsx("div",{className:"mt-6 pt-6 border-t border-gray-100 space-y-3",children:p?m.jsxs("div",{className:"text-center py-8 text-gray-400",children:[m.jsx(Nn,{className:"animate-spin mx-auto mb-2",size:24}),m.jsx("p",{className:"text-sm",children:"Loading cafeterias..."})]}):h.length===0?m.jsxs("div",{className:"text-center py-8 text-gray-400",children:[m.jsx(Ca,{className:"mx-auto mb-2",size:32}),m.jsx("p",{className:"text-sm",children:"No cafeterias in this office yet"})]}):h.map(S=>m.jsxs("div",{className:"flex items-center justify-between p-4 rounded-2xl bg-orange-50 border border-orange-100",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx(Ca,{size:20,className:"text-orange-500"}),m.jsxs("div",{children:[m.jsx("p",{className:"font-semibold text-gray-900",children:S.name}),m.jsxs("p",{className:"text-sm text-gray-500",children:["Floor ",S.floorNumber]})]})]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{onClick:()=>x(S),className:"p-2 hover:bg-orange-100 rounded-xl transition-colors text-gray-400 hover:text-gray-600",children:m.jsx(oh,{size:14})}),m.jsx("button",{onClick:()=>w(S.id),className:"p-2 hover:bg-red-100 rounded-xl transition-colors text-gray-400 hover:text-red-600",children:m.jsx(ml,{size:14})})]})]},S.id))})]})})},S_=()=>{const{user:e}=Ds(),t=[{label:"Total Orders",value:"0",icon:eR,color:"text-blue-600"},{label:"Menu Items",value:"0",icon:Sa,color:"text-green-600"},{label:"Revenue",value:"0",icon:f3,color:"text-purple-600"},{label:"Growth",value:"0%",icon:gl,color:"text-orange-600"}];return m.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:m.jsxs("div",{className:"max-w-7xl mx-auto",children:[m.jsxs("div",{className:"mb-8",children:[m.jsxs("h1",{className:"text-3xl font-bold text-gray-900",children:["Welcome back, ",e?.username||"Vendor","!"]}),m.jsx("p",{className:"text-gray-600 mt-2",children:"Here's what's happening with your business today."})]}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:t.map((i,o)=>m.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-sm text-gray-600 mb-1",children:i.label}),m.jsx("p",{className:"text-2xl font-bold text-gray-900",children:i.value})]}),m.jsx("div",{className:`p-3 rounded-lg bg-gray-50 ${i.color}`,children:m.jsx(i.icon,{size:24})})]})},o))}),m.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-12 text-center",children:m.jsxs("div",{className:"max-w-md mx-auto",children:[m.jsx("div",{className:"w-20 h-20 bg-brand-primary/10 rounded-full flex items-center justify-center mx-auto mb-4",children:m.jsx(Sa,{className:"text-brand-primary",size:40})}),m.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Vendor Dashboard Coming Soon"}),m.jsx("p",{className:"text-gray-600 mb-6",children:"We're working on building an amazing dashboard experience for vendors. Features like order management, menu management, and analytics will be available soon!"}),m.jsxs("div",{className:"flex gap-4 justify-center",children:[m.jsx("a",{href:"/vendor/menu",className:"px-6 py-2 bg-brand-primary text-white rounded-lg hover:bg-brand-secondary transition-colors",children:"Manage Menu"}),m.jsx("a",{href:"/vendor/orders",className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"View Orders"})]})]})})]})})},Ki={getMyMenuItems:async e=>await De.get(`/menu/vendor/${e}`),getMenuItemById:async e=>await De.get(`/menu/items/${e}`),createMenuItem:async e=>await De.post("/menu/items",e),updateMenuItem:async(e,t)=>await De.put(`/menu/items/${e}`,t),deleteMenuItem:async e=>await De.delete(`/menu/items/${e}`),getMyCategories:async(e,t=!1)=>await De.get(`/menu/categories/vendor/${e}?includeItems=${t}`),createCategory:async e=>await De.post("/menu/categories",e),updateCategory:async(e,t)=>await De.put(`/menu/categories/${e}`,t),deleteCategory:async e=>await De.delete(`/menu/categories/${e}`),getMyOrders:async e=>await De.get(`/orders/vendor/${e}`),updateOrderStatus:async(e,t,i=null)=>{const o=new URLSearchParams({status:t});return i&&o.append("remarks",i),await De.put(`/orders/${e}/status?${o}`)},getOrderById:async e=>await De.get(`/orders/${e}`),getOrderByQRCode:async e=>await De.get(`/orders/qr/${e}`),getOrderHistory:async e=>await De.get(`/orders/${e}/history`),getMyRating:async e=>await De.get(`/orders/vendor/${e}/rating`)};var A_=Object.defineProperty,bh=Object.getOwnPropertySymbols,yC=Object.prototype.hasOwnProperty,bC=Object.prototype.propertyIsEnumerable,Bw=(e,t,i)=>t in e?A_(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,Jm=(e,t)=>{for(var i in t||(t={}))yC.call(t,i)&&Bw(e,i,t[i]);if(bh)for(var i of bh(t))bC.call(t,i)&&Bw(e,i,t[i]);return e},eg=(e,t)=>{var i={};for(var o in e)yC.call(e,o)&&t.indexOf(o)<0&&(i[o]=e[o]);if(e!=null&&bh)for(var o of bh(e))t.indexOf(o)<0&&bC.call(e,o)&&(i[o]=e[o]);return i};var bo;(e=>{const t=class dt{constructor(w,b,E,S){if(this.version=w,this.errorCorrectionLevel=b,this.modules=[],this.isFunction=[],w<dt.MIN_VERSION||w>dt.MAX_VERSION)throw new RangeError("Version value out of range");if(S<-1||S>7)throw new RangeError("Mask value out of range");this.size=w*4+17;let R=[];for(let D=0;D<this.size;D++)R.push(!1);for(let D=0;D<this.size;D++)this.modules.push(R.slice()),this.isFunction.push(R.slice());this.drawFunctionPatterns();const _=this.addEccAndInterleave(E);if(this.drawCodewords(_),S==-1){let D=1e9;for(let L=0;L<8;L++){this.applyMask(L),this.drawFormatBits(L);const P=this.getPenaltyScore();P<D&&(S=L,D=P),this.applyMask(L)}}u(0<=S&&S<=7),this.mask=S,this.applyMask(S),this.drawFormatBits(S),this.isFunction=[]}static encodeText(w,b){const E=e.QrSegment.makeSegments(w);return dt.encodeSegments(E,b)}static encodeBinary(w,b){const E=e.QrSegment.makeBytes(w);return dt.encodeSegments([E],b)}static encodeSegments(w,b,E=1,S=40,R=-1,_=!0){if(!(dt.MIN_VERSION<=E&&E<=S&&S<=dt.MAX_VERSION)||R<-1||R>7)throw new RangeError("Invalid value");let D,L;for(D=E;;D++){const U=dt.getNumDataCodewords(D,b)*8,V=p.getTotalBits(w,D);if(V<=U){L=V;break}if(D>=S)throw new RangeError("Data too long")}for(const U of[dt.Ecc.MEDIUM,dt.Ecc.QUARTILE,dt.Ecc.HIGH])_&&L<=dt.getNumDataCodewords(D,U)*8&&(b=U);let P=[];for(const U of w){i(U.mode.modeBits,4,P),i(U.numChars,U.mode.numCharCountBits(D),P);for(const V of U.getData())P.push(V)}u(P.length==L);const Y=dt.getNumDataCodewords(D,b)*8;u(P.length<=Y),i(0,Math.min(4,Y-P.length),P),i(0,(8-P.length%8)%8,P),u(P.length%8==0);for(let U=236;P.length<Y;U^=253)i(U,8,P);let j=[];for(;j.length*8<P.length;)j.push(0);return P.forEach((U,V)=>j[V>>>3]|=U<<7-(V&7)),new dt(D,b,j,R)}getModule(w,b){return 0<=w&&w<this.size&&0<=b&&b<this.size&&this.modules[b][w]}getModules(){return this.modules}drawFunctionPatterns(){for(let E=0;E<this.size;E++)this.setFunctionModule(6,E,E%2==0),this.setFunctionModule(E,6,E%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const w=this.getAlignmentPatternPositions(),b=w.length;for(let E=0;E<b;E++)for(let S=0;S<b;S++)E==0&&S==0||E==0&&S==b-1||E==b-1&&S==0||this.drawAlignmentPattern(w[E],w[S]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(w){const b=this.errorCorrectionLevel.formatBits<<3|w;let E=b;for(let R=0;R<10;R++)E=E<<1^(E>>>9)*1335;const S=(b<<10|E)^21522;u(S>>>15==0);for(let R=0;R<=5;R++)this.setFunctionModule(8,R,o(S,R));this.setFunctionModule(8,7,o(S,6)),this.setFunctionModule(8,8,o(S,7)),this.setFunctionModule(7,8,o(S,8));for(let R=9;R<15;R++)this.setFunctionModule(14-R,8,o(S,R));for(let R=0;R<8;R++)this.setFunctionModule(this.size-1-R,8,o(S,R));for(let R=8;R<15;R++)this.setFunctionModule(8,this.size-15+R,o(S,R));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let w=this.version;for(let E=0;E<12;E++)w=w<<1^(w>>>11)*7973;const b=this.version<<12|w;u(b>>>18==0);for(let E=0;E<18;E++){const S=o(b,E),R=this.size-11+E%3,_=Math.floor(E/3);this.setFunctionModule(R,_,S),this.setFunctionModule(_,R,S)}}drawFinderPattern(w,b){for(let E=-4;E<=4;E++)for(let S=-4;S<=4;S++){const R=Math.max(Math.abs(S),Math.abs(E)),_=w+S,D=b+E;0<=_&&_<this.size&&0<=D&&D<this.size&&this.setFunctionModule(_,D,R!=2&&R!=4)}}drawAlignmentPattern(w,b){for(let E=-2;E<=2;E++)for(let S=-2;S<=2;S++)this.setFunctionModule(w+S,b+E,Math.max(Math.abs(S),Math.abs(E))!=1)}setFunctionModule(w,b,E){this.modules[b][w]=E,this.isFunction[b][w]=!0}addEccAndInterleave(w){const b=this.version,E=this.errorCorrectionLevel;if(w.length!=dt.getNumDataCodewords(b,E))throw new RangeError("Invalid argument");const S=dt.NUM_ERROR_CORRECTION_BLOCKS[E.ordinal][b],R=dt.ECC_CODEWORDS_PER_BLOCK[E.ordinal][b],_=Math.floor(dt.getNumRawDataModules(b)/8),D=S-_%S,L=Math.floor(_/S);let P=[];const Y=dt.reedSolomonComputeDivisor(R);for(let U=0,V=0;U<S;U++){let I=w.slice(V,V+L-R+(U<D?0:1));V+=I.length;const X=dt.reedSolomonComputeRemainder(I,Y);U<D&&I.push(0),P.push(I.concat(X))}let j=[];for(let U=0;U<P[0].length;U++)P.forEach((V,I)=>{(U!=L-R||I>=D)&&j.push(V[U])});return u(j.length==_),j}drawCodewords(w){if(w.length!=Math.floor(dt.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let b=0;for(let E=this.size-1;E>=1;E-=2){E==6&&(E=5);for(let S=0;S<this.size;S++)for(let R=0;R<2;R++){const _=E-R,L=(E+1&2)==0?this.size-1-S:S;!this.isFunction[L][_]&&b<w.length*8&&(this.modules[L][_]=o(w[b>>>3],7-(b&7)),b++)}}u(b==w.length*8)}applyMask(w){if(w<0||w>7)throw new RangeError("Mask value out of range");for(let b=0;b<this.size;b++)for(let E=0;E<this.size;E++){let S;switch(w){case 0:S=(E+b)%2==0;break;case 1:S=b%2==0;break;case 2:S=E%3==0;break;case 3:S=(E+b)%3==0;break;case 4:S=(Math.floor(E/3)+Math.floor(b/2))%2==0;break;case 5:S=E*b%2+E*b%3==0;break;case 6:S=(E*b%2+E*b%3)%2==0;break;case 7:S=((E+b)%2+E*b%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[b][E]&&S&&(this.modules[b][E]=!this.modules[b][E])}}getPenaltyScore(){let w=0;for(let R=0;R<this.size;R++){let _=!1,D=0,L=[0,0,0,0,0,0,0];for(let P=0;P<this.size;P++)this.modules[R][P]==_?(D++,D==5?w+=dt.PENALTY_N1:D>5&&w++):(this.finderPenaltyAddHistory(D,L),_||(w+=this.finderPenaltyCountPatterns(L)*dt.PENALTY_N3),_=this.modules[R][P],D=1);w+=this.finderPenaltyTerminateAndCount(_,D,L)*dt.PENALTY_N3}for(let R=0;R<this.size;R++){let _=!1,D=0,L=[0,0,0,0,0,0,0];for(let P=0;P<this.size;P++)this.modules[P][R]==_?(D++,D==5?w+=dt.PENALTY_N1:D>5&&w++):(this.finderPenaltyAddHistory(D,L),_||(w+=this.finderPenaltyCountPatterns(L)*dt.PENALTY_N3),_=this.modules[P][R],D=1);w+=this.finderPenaltyTerminateAndCount(_,D,L)*dt.PENALTY_N3}for(let R=0;R<this.size-1;R++)for(let _=0;_<this.size-1;_++){const D=this.modules[R][_];D==this.modules[R][_+1]&&D==this.modules[R+1][_]&&D==this.modules[R+1][_+1]&&(w+=dt.PENALTY_N2)}let b=0;for(const R of this.modules)b=R.reduce((_,D)=>_+(D?1:0),b);const E=this.size*this.size,S=Math.ceil(Math.abs(b*20-E*10)/E)-1;return u(0<=S&&S<=9),w+=S*dt.PENALTY_N4,u(0<=w&&w<=2568888),w}getAlignmentPatternPositions(){if(this.version==1)return[];{const w=Math.floor(this.version/7)+2,b=this.version==32?26:Math.ceil((this.version*4+4)/(w*2-2))*2;let E=[6];for(let S=this.size-7;E.length<w;S-=b)E.splice(1,0,S);return E}}static getNumRawDataModules(w){if(w<dt.MIN_VERSION||w>dt.MAX_VERSION)throw new RangeError("Version number out of range");let b=(16*w+128)*w+64;if(w>=2){const E=Math.floor(w/7)+2;b-=(25*E-10)*E-55,w>=7&&(b-=36)}return u(208<=b&&b<=29648),b}static getNumDataCodewords(w,b){return Math.floor(dt.getNumRawDataModules(w)/8)-dt.ECC_CODEWORDS_PER_BLOCK[b.ordinal][w]*dt.NUM_ERROR_CORRECTION_BLOCKS[b.ordinal][w]}static reedSolomonComputeDivisor(w){if(w<1||w>255)throw new RangeError("Degree out of range");let b=[];for(let S=0;S<w-1;S++)b.push(0);b.push(1);let E=1;for(let S=0;S<w;S++){for(let R=0;R<b.length;R++)b[R]=dt.reedSolomonMultiply(b[R],E),R+1<b.length&&(b[R]^=b[R+1]);E=dt.reedSolomonMultiply(E,2)}return b}static reedSolomonComputeRemainder(w,b){let E=b.map(S=>0);for(const S of w){const R=S^E.shift();E.push(0),b.forEach((_,D)=>E[D]^=dt.reedSolomonMultiply(_,R))}return E}static reedSolomonMultiply(w,b){if(w>>>8||b>>>8)throw new RangeError("Byte out of range");let E=0;for(let S=7;S>=0;S--)E=E<<1^(E>>>7)*285,E^=(b>>>S&1)*w;return u(E>>>8==0),E}finderPenaltyCountPatterns(w){const b=w[1];u(b<=this.size*3);const E=b>0&&w[2]==b&&w[3]==b*3&&w[4]==b&&w[5]==b;return(E&&w[0]>=b*4&&w[6]>=b?1:0)+(E&&w[6]>=b*4&&w[0]>=b?1:0)}finderPenaltyTerminateAndCount(w,b,E){return w&&(this.finderPenaltyAddHistory(b,E),b=0),b+=this.size,this.finderPenaltyAddHistory(b,E),this.finderPenaltyCountPatterns(E)}finderPenaltyAddHistory(w,b){b[0]==0&&(w+=this.size),b.pop(),b.unshift(w)}};t.MIN_VERSION=1,t.MAX_VERSION=40,t.PENALTY_N1=3,t.PENALTY_N2=3,t.PENALTY_N3=40,t.PENALTY_N4=10,t.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],t.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e.QrCode=t;function i(x,w,b){if(w<0||w>31||x>>>w)throw new RangeError("Value out of range");for(let E=w-1;E>=0;E--)b.push(x>>>E&1)}function o(x,w){return(x>>>w&1)!=0}function u(x){if(!x)throw new Error("Assertion error")}const h=class yn{constructor(w,b,E){if(this.mode=w,this.numChars=b,this.bitData=E,b<0)throw new RangeError("Invalid argument");this.bitData=E.slice()}static makeBytes(w){let b=[];for(const E of w)i(E,8,b);return new yn(yn.Mode.BYTE,w.length,b)}static makeNumeric(w){if(!yn.isNumeric(w))throw new RangeError("String contains non-numeric characters");let b=[];for(let E=0;E<w.length;){const S=Math.min(w.length-E,3);i(parseInt(w.substring(E,E+S),10),S*3+1,b),E+=S}return new yn(yn.Mode.NUMERIC,w.length,b)}static makeAlphanumeric(w){if(!yn.isAlphanumeric(w))throw new RangeError("String contains unencodable characters in alphanumeric mode");let b=[],E;for(E=0;E+2<=w.length;E+=2){let S=yn.ALPHANUMERIC_CHARSET.indexOf(w.charAt(E))*45;S+=yn.ALPHANUMERIC_CHARSET.indexOf(w.charAt(E+1)),i(S,11,b)}return E<w.length&&i(yn.ALPHANUMERIC_CHARSET.indexOf(w.charAt(E)),6,b),new yn(yn.Mode.ALPHANUMERIC,w.length,b)}static makeSegments(w){return w==""?[]:yn.isNumeric(w)?[yn.makeNumeric(w)]:yn.isAlphanumeric(w)?[yn.makeAlphanumeric(w)]:[yn.makeBytes(yn.toUtf8ByteArray(w))]}static makeEci(w){let b=[];if(w<0)throw new RangeError("ECI assignment value out of range");if(w<128)i(w,8,b);else if(w<16384)i(2,2,b),i(w,14,b);else if(w<1e6)i(6,3,b),i(w,21,b);else throw new RangeError("ECI assignment value out of range");return new yn(yn.Mode.ECI,0,b)}static isNumeric(w){return yn.NUMERIC_REGEX.test(w)}static isAlphanumeric(w){return yn.ALPHANUMERIC_REGEX.test(w)}getData(){return this.bitData.slice()}static getTotalBits(w,b){let E=0;for(const S of w){const R=S.mode.numCharCountBits(b);if(S.numChars>=1<<R)return 1/0;E+=4+R+S.bitData.length}return E}static toUtf8ByteArray(w){w=encodeURI(w);let b=[];for(let E=0;E<w.length;E++)w.charAt(E)!="%"?b.push(w.charCodeAt(E)):(b.push(parseInt(w.substring(E+1,E+3),16)),E+=2);return b}};h.NUMERIC_REGEX=/^[0-9]*$/,h.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,h.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let p=h;e.QrSegment=h})(bo||(bo={}));(e=>{(t=>{const i=class{constructor(u,h){this.ordinal=u,this.formatBits=h}};i.LOW=new i(0,1),i.MEDIUM=new i(1,0),i.QUARTILE=new i(2,3),i.HIGH=new i(3,2),t.Ecc=i})(e.QrCode||(e.QrCode={}))})(bo||(bo={}));(e=>{(t=>{const i=class{constructor(u,h){this.modeBits=u,this.numBitsCharCount=h}numCharCountBits(u){return this.numBitsCharCount[Math.floor((u+7)/17)]}};i.NUMERIC=new i(1,[10,12,14]),i.ALPHANUMERIC=new i(2,[9,11,13]),i.BYTE=new i(4,[8,16,16]),i.KANJI=new i(8,[8,10,12]),i.ECI=new i(7,[0,0,0]),t.Mode=i})(e.QrSegment||(e.QrSegment={}))})(bo||(bo={}));var ul=bo;var N_={L:ul.QrCode.Ecc.LOW,M:ul.QrCode.Ecc.MEDIUM,Q:ul.QrCode.Ecc.QUARTILE,H:ul.QrCode.Ecc.HIGH},vC=128,xC="L",wC="#FFFFFF",EC="#000000",CC=!1,SC=1,T_=4,R_=0,O_=.1;function AC(e,t=0){const i=[];return e.forEach(function(o,u){let h=null;o.forEach(function(p,x){if(!p&&h!==null){i.push(`M${h+t} ${u+t}h${x-h}v1H${h+t}z`),h=null;return}if(x===o.length-1){if(!p)return;h===null?i.push(`M${x+t},${u+t} h1v1H${x+t}z`):i.push(`M${h+t},${u+t} h${x+1-h}v1H${h+t}z`);return}p&&h===null&&(h=x)})}),i.join("")}function NC(e,t){return e.slice().map((i,o)=>o<t.y||o>=t.y+t.h?i:i.map((u,h)=>h<t.x||h>=t.x+t.w?u:!1))}function M_(e,t,i,o){if(o==null)return null;const u=e.length+i*2,h=Math.floor(t*O_),p=u/t,x=(o.width||h)*p,w=(o.height||h)*p,b=o.x==null?e.length/2-x/2:o.x*p,E=o.y==null?e.length/2-w/2:o.y*p,S=o.opacity==null?1:o.opacity;let R=null;if(o.excavate){let D=Math.floor(b),L=Math.floor(E),P=Math.ceil(x+b-D),Y=Math.ceil(w+E-L);R={x:D,y:L,w:P,h:Y}}const _=o.crossOrigin;return{x:b,y:E,h:w,w:x,excavation:R,opacity:S,crossOrigin:_}}function I_(e,t){return t!=null?Math.max(Math.floor(t),0):e?T_:R_}function TC({value:e,level:t,minVersion:i,includeMargin:o,marginSize:u,imageSettings:h,size:p,boostLevel:x}){let w=en.useMemo(()=>{const D=(Array.isArray(e)?e:[e]).reduce((L,P)=>(L.push(...ul.QrSegment.makeSegments(P)),L),[]);return ul.QrCode.encodeSegments(D,N_[t],i,void 0,void 0,x)},[e,t,i,x]);const{cells:b,margin:E,numCells:S,calculatedImageSettings:R}=en.useMemo(()=>{let _=w.getModules();const D=I_(o,u),L=_.length+D*2,P=M_(_,p,D,h);return{cells:_,margin:D,numCells:L,calculatedImageSettings:P}},[w,p,h,o,u]);return{qrcode:w,margin:E,cells:b,numCells:S,calculatedImageSettings:R}}var __=(function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0})(),D_=en.forwardRef(function(t,i){const o=t,{value:u,size:h=vC,level:p=xC,bgColor:x=wC,fgColor:w=EC,includeMargin:b=CC,minVersion:E=SC,boostLevel:S,marginSize:R,imageSettings:_}=o,L=eg(o,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:P}=L,Y=eg(L,["style"]),j=_?.src,U=en.useRef(null),V=en.useRef(null),I=en.useCallback(Le=>{U.current=Le,typeof i=="function"?i(Le):i&&(i.current=Le)},[i]),[X,z]=en.useState(!1),{margin:H,cells:Q,numCells:Ee,calculatedImageSettings:ae}=TC({value:u,level:p,minVersion:E,boostLevel:S,includeMargin:b,marginSize:R,imageSettings:_,size:h});en.useEffect(()=>{if(U.current!=null){const Le=U.current,ne=Le.getContext("2d");if(!ne)return;let ie=Q;const ue=V.current,xe=ae!=null&&ue!==null&&ue.complete&&ue.naturalHeight!==0&&ue.naturalWidth!==0;xe&&ae.excavation!=null&&(ie=NC(Q,ae.excavation));const ke=window.devicePixelRatio||1;Le.height=Le.width=h*ke;const ye=h/Ee*ke;ne.scale(ye,ye),ne.fillStyle=x,ne.fillRect(0,0,Ee,Ee),ne.fillStyle=w,__?ne.fill(new Path2D(AC(ie,H))):Q.forEach(function($,ge){$.forEach(function(Me,_e){Me&&ne.fillRect(_e+H,ge+H,1,1)})}),ae&&(ne.globalAlpha=ae.opacity),xe&&ne.drawImage(ue,ae.x+H,ae.y+H,ae.w,ae.h)}}),en.useEffect(()=>{z(!1)},[j]);const ve=Jm({height:h,width:h},P);let me=null;return j!=null&&(me=en.createElement("img",{src:j,key:j,style:{display:"none"},onLoad:()=>{z(!0)},ref:V,crossOrigin:ae?.crossOrigin})),en.createElement(en.Fragment,null,en.createElement("canvas",Jm({style:ve,height:h,width:h,ref:I,role:"img"},Y)),me)});D_.displayName="QRCodeCanvas";var RC=en.forwardRef(function(t,i){const o=t,{value:u,size:h=vC,level:p=xC,bgColor:x=wC,fgColor:w=EC,includeMargin:b=CC,minVersion:E=SC,boostLevel:S,title:R,marginSize:_,imageSettings:D}=o,L=eg(o,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:P,cells:Y,numCells:j,calculatedImageSettings:U}=TC({value:u,level:p,minVersion:E,boostLevel:S,includeMargin:b,marginSize:_,imageSettings:D,size:h});let V=Y,I=null;D!=null&&U!=null&&(U.excavation!=null&&(V=NC(Y,U.excavation)),I=en.createElement("image",{href:D.src,height:U.h,width:U.w,x:U.x+P,y:U.y+P,preserveAspectRatio:"none",opacity:U.opacity,crossOrigin:U.crossOrigin}));const X=AC(V,P);return en.createElement("svg",Jm({height:h,width:h,viewBox:`0 0 ${j} ${j}`,ref:i,role:"img"},L),!!R&&en.createElement("title",null,R),en.createElement("path",{fill:x,d:`M0,0 h${j}v${j}H0z`,shapeRendering:"crispEdges"}),en.createElement("path",{fill:w,d:X,shapeRendering:"crispEdges"}),I)});RC.displayName="QRCodeSVG";function j_({qrCodeData:e,orderNumber:t,size:i=200}){const o=()=>{const u=document.getElementById("qr-code-svg"),h=new XMLSerializer().serializeToString(u),p=document.createElement("canvas"),x=p.getContext("2d"),w=new Image;w.onload=()=>{p.width=i,p.height=i,x.drawImage(w,0,0);const b=p.toDataURL("image/png"),E=document.createElement("a");E.download=`order-${t}-qr.png`,E.href=b,E.click()},w.src="data:image/svg+xml;base64,"+btoa(h)};return e?m.jsxs("div",{className:"flex flex-col items-center gap-4 p-6 bg-white border border-gray-200 rounded-2xl shadow-sm",children:[m.jsx("div",{className:"p-4 bg-white rounded-xl border-2 border-gray-100",children:m.jsx(RC,{id:"qr-code-svg",value:e,size:i,level:"H",includeMargin:!0,className:"rounded-lg"})}),t&&m.jsxs("div",{className:"text-center",children:[m.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Order Number"}),m.jsx("p",{className:"text-lg font-bold text-gray-800",children:t})]}),m.jsxs("button",{onClick:o,className:"flex items-center gap-2 px-4 py-2 text-sm font-medium text-brand-primary bg-orange-50 hover:bg-orange-100 rounded-xl transition-colors",children:[m.jsx(m3,{size:16}),"Download QR Code"]}),m.jsx("p",{className:"text-xs text-gray-500 text-center max-w-xs",children:"Show this QR code to the vendor for order verification"})]}):m.jsx("div",{className:"flex items-center justify-center p-8 bg-gray-50 rounded-2xl",children:m.jsx("p",{className:"text-gray-500",children:"QR code not available"})})}const L_=()=>{const{user:e}=Ds(),t=_s(),{isConnected:i}=Og(),[o,u]=F.useState("ALL"),[h,p]=F.useState({}),[x,w]=F.useState(null),[b,E]=F.useState(!1),[S,R]=F.useState(!0),{data:_,isLoading:D,error:L,refetch:P}=un({queryKey:["vendor-orders",e?.id],queryFn:async()=>await Ki.getMyOrders(e.id),enabled:!!e?.id,refetchInterval:S?5e3:!1,retry:1}),Y=sr({mutationFn:async({orderId:ae,status:ve,remarks:me})=>await Ki.updateOrderStatus(ae,ve,me),onSuccess:()=>{je.success("Order status updated!"),t.invalidateQueries(["vendor-orders"])},onError:ae=>{je.error(ae||"Failed to update order status")}}),j=ae=>{p(ve=>({...ve,[ae]:!ve[ae]}))},U=(ae,ve)=>{window.confirm(`Update order status to ${ve}?`)&&Y.mutate({orderId:ae,status:ve})},V=ae=>{w(ae),E(!0)},I=ae=>new Date(ae).toLocaleString("en-IN",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),X=ae=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:2}).format(ae||0),z=ae=>{const ve={PENDING:{label:"New",icon:Bc,color:"bg-yellow-100 text-yellow-700 border-yellow-200",nextStatus:"PREPARING",nextLabel:"Start Preparing"},PREPARING:{label:"Preparing",icon:c3,color:"bg-blue-100 text-blue-700 border-blue-200",nextStatus:"READY",nextLabel:"Mark as Ready"},READY:{label:"Ready",icon:Sa,color:"bg-green-100 text-green-700 border-green-200",nextStatus:"DELIVERED",nextLabel:"Mark as Delivered"},DELIVERED:{label:"Delivered",icon:Eg,color:"bg-gray-100 text-gray-700 border-gray-200",nextStatus:null,nextLabel:null}};return ve[ae]||ve.PENDING},H=[{key:"ALL",label:"All Orders"},{key:"PENDING",label:"New"},{key:"PREPARING",label:"Preparing"},{key:"READY",label:"Ready"},{key:"DELIVERED",label:"Delivered"}],Q=_?.filter(ae=>o==="ALL"?!0:ae.status===o)||[],Ee=ae=>ae==="ALL"?_?.length||0:_?.filter(ve=>ve.status===ae).length||0;return F.useEffect(()=>{i&&console.log("[LiveOrders] WebSocket connected - real-time updates enabled")},[i]),F.useEffect(()=>{const ae=()=>{!document.hidden&&i&&P()};return document.addEventListener("visibilitychange",ae),()=>document.removeEventListener("visibilitychange",ae)},[i,P]),D?m.jsx("div",{className:"flex items-center justify-center min-h-screen",children:m.jsxs("div",{className:"text-center",children:[m.jsx(Nn,{className:"animate-spin text-brand-primary mx-auto mb-4",size:48}),m.jsx("p",{className:"text-gray-600",children:"Loading orders..."})]})}):L?m.jsx("div",{className:"min-h-screen bg-surface-bg p-6",children:m.jsx("div",{className:"max-w-7xl mx-auto",children:m.jsxs("div",{className:"text-center py-12",children:[m.jsx($c,{className:"text-red-500 mx-auto mb-4",size:48}),m.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Failed to Load Orders"}),m.jsx("p",{className:"text-gray-600 mb-4",children:L}),m.jsx("button",{onClick:()=>P(),className:"px-6 py-2 bg-brand-primary text-white rounded-xl hover:bg-brand-secondary transition-colors",children:"Try Again"})]})})}):!_||_.length===0?m.jsx("div",{className:"min-h-screen bg-surface-bg p-6",children:m.jsxs("div",{className:"max-w-7xl mx-auto",children:[m.jsxs("div",{className:"mb-8",children:[m.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Live Orders"}),m.jsx("p",{className:"text-gray-600 mt-2",children:"Real-time order management and tracking"})]}),m.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-12 text-center",children:m.jsxs("div",{className:"max-w-md mx-auto",children:[m.jsx("div",{className:"w-20 h-20 bg-brand-primary/10 rounded-full flex items-center justify-center mx-auto mb-4",children:m.jsx(av,{className:"text-brand-primary",size:40})}),m.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"No Orders Yet"}),m.jsx("p",{className:"text-gray-600",children:"When you receive orders, they'll appear here for real-time tracking and management."})]})})]})}):m.jsxs("div",{className:"min-h-screen bg-surface-bg pb-6",children:[m.jsx("div",{className:"bg-white border-b border-gray-200 sticky top-0 z-10",children:m.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-4",children:[m.jsxs("div",{className:"flex items-center justify-between mb-4",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Live Orders"}),m.jsxs("p",{className:"text-gray-600 text-sm mt-1",children:[_.length," total ",_.length===1?"order":"orders"]})]}),m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("div",{className:"flex items-center gap-2 text-sm",children:i?m.jsxs(m.Fragment,{children:[m.jsx(v3,{className:"text-green-500",size:16}),m.jsx("span",{className:"text-green-600 font-medium",children:"Live"})]}):m.jsxs(m.Fragment,{children:[m.jsx(Ag,{className:"text-gray-400",size:16}),m.jsx("span",{className:"text-gray-500 font-medium",children:"Offline"})]})}),m.jsxs("label",{className:"flex items-center cursor-pointer",children:[m.jsx("input",{type:"checkbox",checked:S,onChange:ae=>R(ae.target.checked),className:"sr-only peer"}),m.jsx("div",{className:"relative w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-orange-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-brand-primary"}),m.jsx("span",{className:"ml-3 text-sm font-medium text-gray-700",children:"Auto-refresh"})]}),m.jsx("button",{onClick:()=>P(),className:"p-2 hover:bg-gray-100 rounded-xl transition-colors",title:"Refresh orders",children:m.jsx(Cg,{className:"text-gray-600",size:20})})]})]}),m.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:H.map(ae=>m.jsxs("button",{onClick:()=>u(ae.key),className:`px-4 py-2 rounded-xl font-semibold whitespace-nowrap transition-colors ${o===ae.key?"bg-brand-primary text-white":"bg-white text-gray-700 border border-gray-200 hover:border-brand-primary"}`,children:[ae.label," (",Ee(ae.key),")"]},ae.key))})]})}),m.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-6",children:Q.length===0?m.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-12 text-center",children:[m.jsx(av,{className:"text-gray-400 mx-auto mb-4",size:48}),m.jsxs("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:["No ",o!=="ALL"?o.toLowerCase():""," orders"]}),m.jsx("p",{className:"text-gray-600",children:o!=="ALL"?`You don't have any ${o.toLowerCase()} orders at the moment.`:"All orders have been completed."})]}):m.jsx("div",{className:"space-y-4",children:Q.sort((ae,ve)=>new Date(ve.createdAt)-new Date(ae.createdAt)).map(ae=>{const ve=z(ae.status),me=ve.icon,Le=h[ae.id];return m.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden hover:shadow-md transition-shadow",children:[m.jsxs("div",{className:"p-6",children:[m.jsxs("div",{className:"flex items-start justify-between mb-4",children:[m.jsxs("div",{className:"flex items-start",children:[m.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center mr-4 ${ve.color}`,children:m.jsx(me,{size:24})}),m.jsxs("div",{children:[m.jsxs("h3",{className:"font-bold text-gray-900 text-lg mb-1",children:["Order #",ae.orderNumber]}),m.jsxs("div",{className:"flex items-center text-sm text-gray-500 gap-3",children:[m.jsxs("div",{className:"flex items-center gap-1",children:[m.jsx(Bc,{size:14}),I(ae.createdAt)]}),ae.userId&&m.jsxs("div",{className:"flex items-center gap-1",children:[m.jsx(Mh,{size:14}),"Customer ID: ",ae.userId]})]})]})]}),m.jsxs("div",{className:"text-right",children:[m.jsxs("div",{className:"flex items-center text-xl font-bold text-gray-900 mb-2",children:[m.jsx(Zr,{size:20}),ae.totalAmount?.toFixed(2)]}),m.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-xs font-semibold border ${ve.color}`,children:ve.label})]})]}),m.jsxs("div",{className:"flex gap-3",children:[m.jsx("button",{onClick:()=>j(ae.id),className:"flex-1 py-2 px-4 border-2 border-gray-200 text-gray-700 font-semibold rounded-xl hover:border-brand-primary hover:text-brand-primary transition-colors flex items-center justify-center",children:Le?m.jsxs(m.Fragment,{children:["Hide Items ",m.jsx(d3,{className:"ml-2",size:16})]}):m.jsxs(m.Fragment,{children:["View Items ",m.jsx(u3,{className:"ml-2",size:16})]})}),m.jsxs("button",{onClick:()=>V(ae),className:"py-2 px-4 border-2 border-brand-primary text-brand-primary font-semibold rounded-xl hover:bg-orange-50 transition-colors flex items-center",children:[m.jsx(p3,{className:"mr-2",size:16}),"QR Code"]}),ve.nextStatus&&m.jsxs("button",{onClick:()=>U(ae.id,ve.nextStatus),disabled:Y.isPending,className:"py-2 px-4 bg-brand-primary text-white font-semibold rounded-xl hover:bg-brand-secondary transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:[Y.isPending?m.jsx(Nn,{className:"animate-spin mr-2",size:16}):null,ve.nextLabel]})]})]}),Le&&m.jsxs("div",{className:"border-t border-gray-200 bg-gray-50 p-6",children:[m.jsx("h4",{className:"font-bold text-gray-900 mb-4",children:"Order Items"}),m.jsx("div",{className:"space-y-3",children:ae.orderItems?.map((ne,ie)=>m.jsxs("div",{className:"bg-white rounded-xl p-4 flex items-center justify-between",children:[m.jsxs("div",{className:"flex-1",children:[m.jsx("p",{className:"font-semibold text-gray-900",children:ne.menuItemName||"Menu Item"}),m.jsxs("p",{className:"text-sm text-gray-500",children:["Quantity: ",ne.quantity]})]}),m.jsxs("div",{className:"text-right",children:[m.jsxs("p",{className:"text-sm text-gray-500 mb-1",children:[X(ne.price),"  ",ne.quantity]}),m.jsxs("div",{className:"flex items-center text-lg font-bold text-gray-900",children:[m.jsx(Zr,{size:18}),(ne.price*ne.quantity).toFixed(2)]})]})]},ie))}),ae.rating&&m.jsxs("div",{className:"mt-4 p-4 bg-yellow-50 rounded-xl border border-yellow-200",children:[m.jsxs("p",{className:"text-sm font-semibold text-yellow-700 mb-1",children:["Customer Rating:  ",ae.rating]}),ae.feedback&&m.jsx("p",{className:"text-sm text-yellow-600",children:ae.feedback})]})]})]},ae.id)})})}),m.jsx(yo,{isOpen:b,onClose:()=>{E(!1),w(null)},title:"Order QR Code",children:x&&m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"bg-gray-50 rounded-xl p-4",children:[m.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Order Number"}),m.jsx("p",{className:"text-xl font-bold text-gray-900",children:x.orderNumber})]}),m.jsx(j_,{qrCodeData:x.qrCodeData,orderNumber:x.orderNumber,size:250}),m.jsx("p",{className:"text-xs text-gray-500 text-center",children:"Customer will present this QR code for order verification"})]})})]})},B_=()=>{const{user:e}=Ds(),t=_s(),[i,o]=F.useState("grid"),[u,h]=F.useState(!1),[p,x]=F.useState(!1),[w,b]=F.useState(null),[E,S]=F.useState(null),[R,_]=F.useState(null),[D,L]=F.useState({name:"",description:"",price:"",categoryId:"",available:!0}),[P,Y]=F.useState({name:"",description:""}),{data:j,isLoading:U,error:V}=un({queryKey:["vendor-menu-items",e?.id],queryFn:async()=>await Ki.getMyMenuItems(e.id),enabled:!!e?.id,retry:1}),{data:I,isLoading:X}=un({queryKey:["vendor-categories",e?.id],queryFn:async()=>await Ki.getMyCategories(e.id,!1),enabled:!!e?.id,retry:1}),z=sr({mutationFn:async ye=>w?await Ki.updateMenuItem(w.id,ye):await Ki.createMenuItem(ye),onSuccess:()=>{je.success(w?"Menu item updated!":"Menu item created!"),t.invalidateQueries(["vendor-menu-items"]),ve()},onError:ye=>{je.error(ye||"Failed to save menu item")}}),H=sr({mutationFn:async ye=>await Ki.deleteMenuItem(ye),onSuccess:()=>{je.success("Menu item deleted"),t.invalidateQueries(["vendor-menu-items"])},onError:ye=>{je.error(ye||"Failed to delete menu item")}}),Q=sr({mutationFn:async ye=>E?await Ki.updateCategory(E.id,ye):await Ki.createCategory(ye),onSuccess:()=>{je.success(E?"Category updated!":"Category created!"),t.invalidateQueries(["vendor-categories"]),Le()},onError:ye=>{je.error(ye||"Failed to save category")}}),Ee=sr({mutationFn:async({itemId:ye,available:$})=>{const ge=j.find(Me=>Me.id===ye);return await Ki.updateMenuItem(ye,{...ge,available:$})},onSuccess:()=>{t.invalidateQueries(["vendor-menu-items"])},onError:ye=>{je.error(ye||"Failed to update availability")}}),ae=(ye=null)=>{ye?(b(ye),L({name:ye.name,description:ye.description||"",price:ye.price.toString(),categoryId:ye.categoryId?.toString()||"",available:ye.available})):(b(null),L({name:"",description:"",price:"",categoryId:R?.toString()||"",available:!0})),h(!0)},ve=()=>{h(!1),b(null),L({name:"",description:"",price:"",categoryId:"",available:!0})},me=(ye=null)=>{ye?(S(ye),Y({name:ye.name,description:ye.description||""})):(S(null),Y({name:"",description:""})),x(!0)},Le=()=>{x(!1),S(null),Y({name:"",description:""})},ne=ye=>{ye.preventDefault();const $={name:D.name,description:D.description||null,price:parseFloat(D.price),categoryId:D.categoryId?parseInt(D.categoryId):null,available:D.available};z.mutate($)},ie=ye=>{ye.preventDefault(),Q.mutate(P)},ue=ye=>{window.confirm(`Are you sure you want to delete "${ye.name}"?`)&&H.mutate(ye.id)},xe=ye=>{Ee.mutate({itemId:ye.id,available:!ye.available})},ke=R?j?.filter(ye=>ye.categoryId===R):j;return U||X?m.jsx("div",{className:"flex items-center justify-center min-h-screen",children:m.jsxs("div",{className:"text-center",children:[m.jsx(Nn,{className:"animate-spin text-brand-primary mx-auto mb-4",size:48}),m.jsx("p",{className:"text-gray-600",children:"Loading menu..."})]})}):V?m.jsx("div",{className:"min-h-screen bg-surface-bg p-6",children:m.jsx("div",{className:"max-w-7xl mx-auto",children:m.jsxs("div",{className:"text-center py-12",children:[m.jsx($c,{className:"text-red-500 mx-auto mb-4",size:48}),m.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Failed to Load Menu"}),m.jsx("p",{className:"text-gray-600",children:V})]})})}):m.jsxs("div",{className:"min-h-screen bg-surface-bg pb-6",children:[m.jsx("div",{className:"bg-white border-b border-gray-200",children:m.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-6",children:[m.jsxs("div",{className:"flex items-center justify-between mb-4",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Menu Management"}),m.jsx("p",{className:"text-gray-600 mt-2",children:"Manage your menu items, pricing, and availability"})]}),m.jsxs("div",{className:"flex gap-3",children:[m.jsxs("button",{onClick:()=>me(),className:"px-4 py-2 border-2 border-brand-primary text-brand-primary font-semibold rounded-xl hover:bg-orange-50 transition-colors flex items-center",children:[m.jsx(lR,{className:"mr-2",size:20}),"Add Category"]}),m.jsxs("button",{onClick:()=>ae(),className:"px-4 py-2 bg-brand-primary text-white font-semibold rounded-xl hover:bg-brand-secondary transition-colors flex items-center",children:[m.jsx(pi,{className:"mr-2",size:20}),"Add Menu Item"]})]})]}),m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{className:"flex gap-2 overflow-x-auto pb-2",children:[m.jsxs("button",{onClick:()=>_(null),className:`px-4 py-2 rounded-xl font-semibold whitespace-nowrap transition-colors ${R===null?"bg-brand-primary text-white":"bg-white text-gray-700 border border-gray-200 hover:border-brand-primary"}`,children:["All (",j?.length||0,")"]}),I?.map(ye=>m.jsxs("button",{onClick:()=>_(ye.id),className:`px-4 py-2 rounded-xl font-semibold whitespace-nowrap transition-colors ${R===ye.id?"bg-brand-primary text-white":"bg-white text-gray-700 border border-gray-200 hover:border-brand-primary"}`,children:[ye.name," (",j?.filter($=>$.categoryId===ye.id).length||0,")"]},ye.id))]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{onClick:()=>o("grid"),className:`p-2 rounded-xl transition-colors ${i==="grid"?"bg-brand-primary text-white":"bg-white text-gray-700 border border-gray-200 hover:border-brand-primary"}`,children:m.jsx(x5,{size:20})}),m.jsx("button",{onClick:()=>o("list"),className:`p-2 rounded-xl transition-colors ${i==="list"?"bg-brand-primary text-white":"bg-white text-gray-700 border border-gray-200 hover:border-brand-primary"}`,children:m.jsx(N5,{size:20})})]})]})]})}),m.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-6",children:!ke||ke.length===0?m.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-12 text-center",children:m.jsxs("div",{className:"max-w-md mx-auto",children:[m.jsx("div",{className:"w-20 h-20 bg-brand-primary/10 rounded-full flex items-center justify-center mx-auto mb-4",children:m.jsx(Ca,{className:"text-brand-primary",size:40})}),m.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:R?"No Items in This Category":"No Menu Items Yet"}),m.jsx("p",{className:"text-gray-600 mb-6",children:R?"Add menu items to this category to get started.":"Start adding your menu items to showcase your offerings to customers."}),m.jsx("button",{onClick:()=>ae(),className:"px-6 py-3 bg-brand-primary text-white font-semibold rounded-xl hover:bg-brand-secondary transition-colors",children:"Add Menu Item"})]})}):i==="grid"?m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:ke.map(ye=>{const $=I?.find(ge=>ge.id===ye.categoryId);return m.jsxs("div",{className:`bg-white rounded-2xl shadow-sm border-2 p-4 transition-all ${ye.available?"border-gray-200 hover:border-brand-primary":"border-gray-300 opacity-60"}`,children:[m.jsx("div",{className:"flex justify-between items-start mb-3",children:m.jsxs("div",{className:"flex-1",children:[m.jsx("h3",{className:"font-bold text-gray-900 mb-1",children:ye.name}),ye.description&&m.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:ye.description}),$&&m.jsx("span",{className:"inline-block mt-2 px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded-lg",children:$.name})]})}),m.jsxs("div",{className:"flex items-center justify-between mb-3",children:[m.jsxs("div",{className:"flex items-center text-brand-primary font-bold text-xl",children:[m.jsx(Zr,{size:20}),ye.price.toFixed(2)]}),m.jsx("button",{onClick:()=>xe(ye),className:"flex items-center gap-1 text-sm font-semibold",title:ye.available?"Mark as unavailable":"Mark as available",children:ye.available?m.jsxs(m.Fragment,{children:[m.jsx(cv,{className:"text-green-500",size:24}),m.jsx("span",{className:"text-green-600",children:"Available"})]}):m.jsxs(m.Fragment,{children:[m.jsx(lv,{className:"text-gray-400",size:24}),m.jsx("span",{className:"text-gray-500",children:"Unavailable"})]})})]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsxs("button",{onClick:()=>ae(ye),className:"flex-1 py-2 px-3 border-2 border-gray-200 text-gray-700 font-semibold rounded-xl hover:border-brand-primary hover:text-brand-primary transition-colors flex items-center justify-center",children:[m.jsx(ov,{size:16,className:"mr-1"}),"Edit"]}),m.jsx("button",{onClick:()=>ue(ye),className:"py-2 px-3 border-2 border-red-200 text-red-600 font-semibold rounded-xl hover:bg-red-50 transition-colors",title:"Delete item",children:m.jsx(ml,{size:16})})]})]},ye.id)})}):m.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden",children:m.jsxs("table",{className:"w-full",children:[m.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase",children:"Name"}),m.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase",children:"Category"}),m.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase",children:"Price"}),m.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase",children:"Status"}),m.jsx("th",{className:"px-6 py-3 text-right text-xs font-semibold text-gray-600 uppercase",children:"Actions"})]})}),m.jsx("tbody",{className:"divide-y divide-gray-200",children:ke.map(ye=>{const $=I?.find(ge=>ge.id===ye.categoryId);return m.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[m.jsx("td",{className:"px-6 py-4",children:m.jsxs("div",{children:[m.jsx("p",{className:"font-semibold text-gray-900",children:ye.name}),ye.description&&m.jsx("p",{className:"text-sm text-gray-500 line-clamp-1",children:ye.description})]})}),m.jsx("td",{className:"px-6 py-4",children:$&&m.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-sm rounded-lg",children:$.name})}),m.jsx("td",{className:"px-6 py-4",children:m.jsxs("div",{className:"flex items-center font-bold text-brand-primary",children:[m.jsx(Zr,{size:16}),ye.price.toFixed(2)]})}),m.jsx("td",{className:"px-6 py-4",children:m.jsx("button",{onClick:()=>xe(ye),className:"flex items-center gap-1",children:ye.available?m.jsxs(m.Fragment,{children:[m.jsx(cv,{className:"text-green-500",size:20}),m.jsx("span",{className:"text-sm font-semibold text-green-600",children:"Available"})]}):m.jsxs(m.Fragment,{children:[m.jsx(lv,{className:"text-gray-400",size:20}),m.jsx("span",{className:"text-sm font-semibold text-gray-500",children:"Unavailable"})]})})}),m.jsx("td",{className:"px-6 py-4",children:m.jsxs("div",{className:"flex gap-2 justify-end",children:[m.jsx("button",{onClick:()=>ae(ye),className:"p-2 text-brand-primary hover:bg-orange-50 rounded-lg transition-colors",title:"Edit item",children:m.jsx(ov,{size:18})}),m.jsx("button",{onClick:()=>ue(ye),className:"p-2 text-red-500 hover:bg-red-50 rounded-lg transition-colors",title:"Delete item",children:m.jsx(ml,{size:18})})]})})]},ye.id)})})]})})}),m.jsx(yo,{isOpen:u,onClose:ve,title:w?"Edit Menu Item":"Add Menu Item",children:m.jsxs("form",{onSubmit:ne,className:"space-y-4",children:[m.jsx(jn,{label:"Item Name",type:"text",placeholder:"e.g., Veggie Burger",value:D.name,onChange:ye=>L({...D,name:ye.target.value}),required:!0}),m.jsxs("div",{children:[m.jsx("label",{className:"text-sm font-semibold text-gray-700 ml-1 mb-1.5 block",children:"Description (Optional)"}),m.jsx("textarea",{placeholder:"Describe your menu item...",value:D.description,onChange:ye=>L({...D,description:ye.target.value}),rows:3,className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-orange-500 focus:ring-2 focus:ring-orange-200 outline-none transition-all bg-white/50 backdrop-blur-sm resize-none"})]}),m.jsx(jn,{label:"Price ()",type:"number",placeholder:"0.00",value:D.price,onChange:ye=>L({...D,price:ye.target.value}),required:!0,min:"0",step:"0.01"}),m.jsxs("div",{children:[m.jsx("label",{className:"text-sm font-semibold text-gray-700 ml-1 mb-1.5 block",children:"Category"}),m.jsxs("select",{value:D.categoryId,onChange:ye=>L({...D,categoryId:ye.target.value}),className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-orange-500 focus:ring-2 focus:ring-orange-200 outline-none transition-all bg-white/50 backdrop-blur-sm",children:[m.jsx("option",{value:"",children:"No Category"}),I?.map(ye=>m.jsx("option",{value:ye.id,children:ye.name},ye.id))]})]}),m.jsxs("div",{className:"flex items-center",children:[m.jsx("input",{type:"checkbox",id:"available",checked:D.available,onChange:ye=>L({...D,available:ye.target.checked}),className:"w-4 h-4 text-brand-primary border-gray-300 rounded focus:ring-brand-primary"}),m.jsx("label",{htmlFor:"available",className:"ml-2 text-sm font-semibold text-gray-700",children:"Available for ordering"})]}),m.jsx("button",{type:"submit",disabled:z.isPending,className:"w-full py-3 bg-brand-primary text-white font-bold rounded-xl hover:bg-brand-secondary transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:z.isPending?m.jsxs(m.Fragment,{children:[m.jsx(Nn,{className:"animate-spin mr-2",size:20}),"Saving..."]}):w?"Update Item":"Create Item"})]})}),m.jsx(yo,{isOpen:p,onClose:Le,title:E?"Edit Category":"Add Category",children:m.jsxs("form",{onSubmit:ie,className:"space-y-4",children:[m.jsx(jn,{label:"Category Name",type:"text",placeholder:"e.g., Burgers, Drinks, Desserts",value:P.name,onChange:ye=>Y({...P,name:ye.target.value}),required:!0}),m.jsxs("div",{children:[m.jsx("label",{className:"text-sm font-semibold text-gray-700 ml-1 mb-1.5 block",children:"Description (Optional)"}),m.jsx("textarea",{placeholder:"Describe this category...",value:P.description,onChange:ye=>Y({...P,description:ye.target.value}),rows:2,className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-orange-500 focus:ring-2 focus:ring-orange-200 outline-none transition-all bg-white/50 backdrop-blur-sm resize-none"})]}),m.jsx("button",{type:"submit",disabled:Q.isPending,className:"w-full py-3 bg-brand-primary text-white font-bold rounded-xl hover:bg-brand-secondary transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:Q.isPending?m.jsxs(m.Fragment,{children:[m.jsx(Nn,{className:"animate-spin mr-2",size:20}),"Saving..."]}):E?"Update Category":"Create Category"})]})})]})};var Pe;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Pe||(Pe={}));var kw=new Map([[Pe.QR_CODE,"QR_CODE"],[Pe.AZTEC,"AZTEC"],[Pe.CODABAR,"CODABAR"],[Pe.CODE_39,"CODE_39"],[Pe.CODE_93,"CODE_93"],[Pe.CODE_128,"CODE_128"],[Pe.DATA_MATRIX,"DATA_MATRIX"],[Pe.MAXICODE,"MAXICODE"],[Pe.ITF,"ITF"],[Pe.EAN_13,"EAN_13"],[Pe.EAN_8,"EAN_8"],[Pe.PDF_417,"PDF_417"],[Pe.RSS_14,"RSS_14"],[Pe.RSS_EXPANDED,"RSS_EXPANDED"],[Pe.UPC_A,"UPC_A"],[Pe.UPC_E,"UPC_E"],[Pe.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),Pw;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})(Pw||(Pw={}));function k_(e){return Object.values(Pe).includes(e)}var Ta;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(Ta||(Ta={}));var Ii=(function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[Ta.SCAN_TYPE_CAMERA,Ta.SCAN_TYPE_FILE],e})(),OC=(function(){function e(t,i){this.format=t,this.formatName=i}return e.prototype.toString=function(){return this.formatName},e.create=function(t){if(!kw.has(t))throw"".concat(t," not in html5QrcodeSupportedFormatsTextMap");return new e(t,kw.get(t))},e})(),Uw=(function(){function e(){}return e.createFromText=function(t){var i={text:t};return{decodedText:t,result:i}},e.createFromQrcodeResult=function(t){return{decodedText:t.text,result:t}},e})(),tg;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(tg||(tg={}));var MC=(function(){function e(){}return e.createFrom=function(t){return{errorMessage:t,type:tg.UNKWOWN_ERROR}},e})(),IC=(function(){function e(t){this.verbose=t}return e.prototype.log=function(t){this.verbose&&console.log(t)},e.prototype.warn=function(t){this.verbose&&console.warn(t)},e.prototype.logError=function(t,i){(this.verbose||i===!0)&&console.error(t)},e.prototype.logErrors=function(t){if(t.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(t)},e})();function $i(e){return typeof e>"u"||e===null}function P_(e,t,i){return e>i?i:e<t?t:e}var dl=(function(){function e(){}return e.codeParseError=function(t){return"QR code parse error, error = ".concat(t)},e.errorGettingUserMedia=function(t){return"Error getting userMedia, error = ".concat(t)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e})(),Pt=(function(){function e(){}return e.scanningStatus=function(){return"Scanning"},e.idleStatus=function(){return"Idle"},e.errorStatus=function(){return"Error"},e.permissionStatus=function(){return"Permission"},e.noCameraFoundErrorStatus=function(){return"No Cameras"},e.lastMatch=function(t){return"Last Match: ".concat(t)},e.codeScannerTitle=function(){return"Code Scanner"},e.cameraPermissionTitle=function(){return"Request Camera Permissions"},e.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},e.noCameraFound=function(){return"No camera found"},e.scanButtonStopScanningText=function(){return"Stop Scanning"},e.scanButtonStartScanningText=function(){return"Start Scanning"},e.torchOnButton=function(){return"Switch On Torch"},e.torchOffButton=function(){return"Switch Off Torch"},e.torchOnFailedMessage=function(){return"Failed to turn on torch"},e.torchOffFailedMessage=function(){return"Failed to turn off torch"},e.scanButtonScanningStarting=function(){return"Launching Camera..."},e.textIfCameraScanSelected=function(){return"Scan an Image File"},e.textIfFileScanSelected=function(){return"Scan using camera directly"},e.selectCamera=function(){return"Select Camera"},e.fileSelectionChooseImage=function(){return"Choose Image"},e.fileSelectionChooseAnother=function(){return"Choose Another"},e.fileSelectionNoImageSelected=function(){return"No image choosen"},e.anonymousCameraPrefix=function(){return"Anonymous Camera"},e.dragAndDropMessage=function(){return"Or drop an image to scan"},e.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},e.zoom=function(){return"zoom"},e.loadingImage=function(){return"Loading image..."},e.cameraScanAltText=function(){return"Camera based scan"},e.fileScanAltText=function(){return"Fule based scan"},e})(),zw=(function(){function e(){}return e.poweredBy=function(){return"Powered by "},e.reportIssues=function(){return"Report issues"},e})(),_C=(function(){function e(){}return e.isMediaStreamConstraintsValid=function(t,i){if(typeof t!="object"){var o=typeof t;return i.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(o,"."),!0),!1}for(var u=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],h=new Set(u),p=Object.keys(t),x=0,w=p;x<w.length;x++){var b=w[x];if(h.has(b))return i.logError("".concat(b," is not supported videoConstaints."),!0),!1}return!0},e})(),Rc={exports:{}},U_=Rc.exports,Fw;function z_(){return Fw||(Fw=1,(function(e,t){(function(i,o){o(t)})(U_,(function(i){function o(B){return B==null}var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(B,r){B.__proto__=r}||function(B,r){for(var a in r)r.hasOwnProperty(a)&&(B[a]=r[a])};function h(B,r){u(B,r);function a(){this.constructor=B}B.prototype=r===null?Object.create(r):(a.prototype=r.prototype,new a)}function p(B,r){var a=Object.setPrototypeOf;a?a(B,r):B.__proto__=r}function x(B,r){r===void 0&&(r=B.constructor);var a=Error.captureStackTrace;a&&a(B,r)}var w=(function(B){h(r,B);function r(a){var l=this.constructor,d=B.call(this,a)||this;return Object.defineProperty(d,"name",{value:l.name,enumerable:!1}),p(d,l.prototype),x(d),d}return r})(Error);class b extends w{constructor(r=void 0){super(r),this.message=r}getKind(){return this.constructor.kind}}b.kind="Exception";class E extends b{}E.kind="ArgumentException";class S extends b{}S.kind="IllegalArgumentException";class R{constructor(r){if(this.binarizer=r,r===null)throw new S("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(r,a){return this.binarizer.getBlackRow(r,a)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(r,a,l,d){const f=this.binarizer.getLuminanceSource().crop(r,a,l,d);return new R(this.binarizer.createBinarizer(f))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const r=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new R(this.binarizer.createBinarizer(r))}rotateCounterClockwise45(){const r=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new R(this.binarizer.createBinarizer(r))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class _ extends b{static getChecksumInstance(){return new _}}_.kind="ChecksumException";class D{constructor(r){this.source=r}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class L{static arraycopy(r,a,l,d,f){for(;f--;)l[d++]=r[a++]}static currentTimeMillis(){return Date.now()}}class P extends b{}P.kind="IndexOutOfBoundsException";class Y extends P{constructor(r=void 0,a=void 0){super(a),this.index=r,this.message=a}}Y.kind="ArrayIndexOutOfBoundsException";class j{static fill(r,a){for(let l=0,d=r.length;l<d;l++)r[l]=a}static fillWithin(r,a,l,d){j.rangeCheck(r.length,a,l);for(let f=a;f<l;f++)r[f]=d}static rangeCheck(r,a,l){if(a>l)throw new S("fromIndex("+a+") > toIndex("+l+")");if(a<0)throw new Y(a);if(l>r)throw new Y(l)}static asList(...r){return r}static create(r,a,l){return Array.from({length:r}).map(f=>Array.from({length:a}).fill(l))}static createInt32Array(r,a,l){return Array.from({length:r}).map(f=>Int32Array.from({length:a}).fill(l))}static equals(r,a){if(!r||!a||!r.length||!a.length||r.length!==a.length)return!1;for(let l=0,d=r.length;l<d;l++)if(r[l]!==a[l])return!1;return!0}static hashCode(r){if(r===null)return 0;let a=1;for(const l of r)a=31*a+l;return a}static fillUint8Array(r,a){for(let l=0;l!==r.length;l++)r[l]=a}static copyOf(r,a){return r.slice(0,a)}static copyOfUint8Array(r,a){if(r.length<=a){const l=new Uint8Array(a);return l.set(r),l}return r.slice(0,a)}static copyOfRange(r,a,l){const d=l-a,f=new Int32Array(d);return L.arraycopy(r,a,f,0,d),f}static binarySearch(r,a,l){l===void 0&&(l=j.numberComparator);let d=0,f=r.length-1;for(;d<=f;){const y=f+d>>1,v=l(a,r[y]);if(v>0)d=y+1;else if(v<0)f=y-1;else return y}return-d-1}static numberComparator(r,a){return r-a}}class U{static numberOfTrailingZeros(r){let a;if(r===0)return 32;let l=31;return a=r<<16,a!==0&&(l-=16,r=a),a=r<<8,a!==0&&(l-=8,r=a),a=r<<4,a!==0&&(l-=4,r=a),a=r<<2,a!==0&&(l-=2,r=a),l-(r<<1>>>31)}static numberOfLeadingZeros(r){if(r===0)return 32;let a=1;return r>>>16||(a+=16,r<<=16),r>>>24||(a+=8,r<<=8),r>>>28||(a+=4,r<<=4),r>>>30||(a+=2,r<<=2),a-=r>>>31,a}static toHexString(r){return r.toString(16)}static toBinaryString(r){return String(parseInt(String(r),2))}static bitCount(r){return r=r-(r>>>1&1431655765),r=(r&858993459)+(r>>>2&858993459),r=r+(r>>>4)&252645135,r=r+(r>>>8),r=r+(r>>>16),r&63}static truncDivision(r,a){return Math.trunc(r/a)}static parseInt(r,a=void 0){return parseInt(r,a)}}U.MIN_VALUE_32_BITS=-2147483648,U.MAX_VALUE=Number.MAX_SAFE_INTEGER;class V{constructor(r,a){r===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=r,a==null?this.bits=V.makeArray(r):this.bits=a)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(r){if(r>this.bits.length*32){const a=V.makeArray(r);L.arraycopy(this.bits,0,a,0,this.bits.length),this.bits=a}}get(r){return(this.bits[Math.floor(r/32)]&1<<(r&31))!==0}set(r){this.bits[Math.floor(r/32)]|=1<<(r&31)}flip(r){this.bits[Math.floor(r/32)]^=1<<(r&31)}getNextSet(r){const a=this.size;if(r>=a)return a;const l=this.bits;let d=Math.floor(r/32),f=l[d];f&=~((1<<(r&31))-1);const y=l.length;for(;f===0;){if(++d===y)return a;f=l[d]}const v=d*32+U.numberOfTrailingZeros(f);return v>a?a:v}getNextUnset(r){const a=this.size;if(r>=a)return a;const l=this.bits;let d=Math.floor(r/32),f=~l[d];f&=~((1<<(r&31))-1);const y=l.length;for(;f===0;){if(++d===y)return a;f=~l[d]}const v=d*32+U.numberOfTrailingZeros(f);return v>a?a:v}setBulk(r,a){this.bits[Math.floor(r/32)]=a}setRange(r,a){if(a<r||r<0||a>this.size)throw new S;if(a===r)return;a--;const l=Math.floor(r/32),d=Math.floor(a/32),f=this.bits;for(let y=l;y<=d;y++){const v=y>l?0:r&31,T=(2<<(y<d?31:a&31))-(1<<v);f[y]|=T}}clear(){const r=this.bits.length,a=this.bits;for(let l=0;l<r;l++)a[l]=0}isRange(r,a,l){if(a<r||r<0||a>this.size)throw new S;if(a===r)return!0;a--;const d=Math.floor(r/32),f=Math.floor(a/32),y=this.bits;for(let v=d;v<=f;v++){const A=v>d?0:r&31,O=(2<<(v<f?31:a&31))-(1<<A)&4294967295;if((y[v]&O)!==(l?O:0))return!1}return!0}appendBit(r){this.ensureCapacity(this.size+1),r&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(r,a){if(a<0||a>32)throw new S("Num bits must be between 0 and 32");this.ensureCapacity(this.size+a);for(let l=a;l>0;l--)this.appendBit((r>>l-1&1)===1)}appendBitArray(r){const a=r.size;this.ensureCapacity(this.size+a);for(let l=0;l<a;l++)this.appendBit(r.get(l))}xor(r){if(this.size!==r.size)throw new S("Sizes don't match");const a=this.bits;for(let l=0,d=a.length;l<d;l++)a[l]^=r.bits[l]}toBytes(r,a,l,d){for(let f=0;f<d;f++){let y=0;for(let v=0;v<8;v++)this.get(r)&&(y|=1<<7-v),r++;a[l+f]=y}}getBitArray(){return this.bits}reverse(){const r=new Int32Array(this.bits.length),a=Math.floor((this.size-1)/32),l=a+1,d=this.bits;for(let f=0;f<l;f++){let y=d[f];y=y>>1&1431655765|(y&1431655765)<<1,y=y>>2&858993459|(y&858993459)<<2,y=y>>4&252645135|(y&252645135)<<4,y=y>>8&16711935|(y&16711935)<<8,y=y>>16&65535|(y&65535)<<16,r[a-f]=y}if(this.size!==l*32){const f=l*32-this.size;let y=r[0]>>>f;for(let v=1;v<l;v++){const A=r[v];y|=A<<32-f,r[v-1]=y,y=A>>>f}r[l-1]=y}this.bits=r}static makeArray(r){return new Int32Array(Math.floor((r+31)/32))}equals(r){if(!(r instanceof V))return!1;const a=r;return this.size===a.size&&j.equals(this.bits,a.bits)}hashCode(){return 31*this.size+j.hashCode(this.bits)}toString(){let r="";for(let a=0,l=this.size;a<l;a++)(a&7)===0&&(r+=" "),r+=this.get(a)?"X":".";return r}clone(){return new V(this.size,this.bits.slice())}}var I;(function(B){B[B.OTHER=0]="OTHER",B[B.PURE_BARCODE=1]="PURE_BARCODE",B[B.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",B[B.TRY_HARDER=3]="TRY_HARDER",B[B.CHARACTER_SET=4]="CHARACTER_SET",B[B.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",B[B.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",B[B.ASSUME_GS1=7]="ASSUME_GS1",B[B.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",B[B.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",B[B.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(I||(I={}));var X=I;class z extends b{static getFormatInstance(){return new z}}z.kind="FormatException";var H;(function(B){B[B.Cp437=0]="Cp437",B[B.ISO8859_1=1]="ISO8859_1",B[B.ISO8859_2=2]="ISO8859_2",B[B.ISO8859_3=3]="ISO8859_3",B[B.ISO8859_4=4]="ISO8859_4",B[B.ISO8859_5=5]="ISO8859_5",B[B.ISO8859_6=6]="ISO8859_6",B[B.ISO8859_7=7]="ISO8859_7",B[B.ISO8859_8=8]="ISO8859_8",B[B.ISO8859_9=9]="ISO8859_9",B[B.ISO8859_10=10]="ISO8859_10",B[B.ISO8859_11=11]="ISO8859_11",B[B.ISO8859_13=12]="ISO8859_13",B[B.ISO8859_14=13]="ISO8859_14",B[B.ISO8859_15=14]="ISO8859_15",B[B.ISO8859_16=15]="ISO8859_16",B[B.SJIS=16]="SJIS",B[B.Cp1250=17]="Cp1250",B[B.Cp1251=18]="Cp1251",B[B.Cp1252=19]="Cp1252",B[B.Cp1256=20]="Cp1256",B[B.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",B[B.UTF8=22]="UTF8",B[B.ASCII=23]="ASCII",B[B.Big5=24]="Big5",B[B.GB18030=25]="GB18030",B[B.EUC_KR=26]="EUC_KR"})(H||(H={}));class Q{constructor(r,a,l,...d){this.valueIdentifier=r,this.name=l,typeof a=="number"?this.values=Int32Array.from([a]):this.values=a,this.otherEncodingNames=d,Q.VALUE_IDENTIFIER_TO_ECI.set(r,this),Q.NAME_TO_ECI.set(l,this);const f=this.values;for(let y=0,v=f.length;y!==v;y++){const A=f[y];Q.VALUES_TO_ECI.set(A,this)}for(const y of d)Q.NAME_TO_ECI.set(y,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(r){if(r<0||r>=900)throw new z("incorect value");const a=Q.VALUES_TO_ECI.get(r);if(a===void 0)throw new z("incorect value");return a}static getCharacterSetECIByName(r){const a=Q.NAME_TO_ECI.get(r);if(a===void 0)throw new z("incorect value");return a}equals(r){if(!(r instanceof Q))return!1;const a=r;return this.getName()===a.getName()}}Q.VALUE_IDENTIFIER_TO_ECI=new Map,Q.VALUES_TO_ECI=new Map,Q.NAME_TO_ECI=new Map,Q.Cp437=new Q(H.Cp437,Int32Array.from([0,2]),"Cp437"),Q.ISO8859_1=new Q(H.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),Q.ISO8859_2=new Q(H.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),Q.ISO8859_3=new Q(H.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),Q.ISO8859_4=new Q(H.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),Q.ISO8859_5=new Q(H.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),Q.ISO8859_6=new Q(H.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),Q.ISO8859_7=new Q(H.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),Q.ISO8859_8=new Q(H.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),Q.ISO8859_9=new Q(H.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),Q.ISO8859_10=new Q(H.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),Q.ISO8859_11=new Q(H.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),Q.ISO8859_13=new Q(H.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),Q.ISO8859_14=new Q(H.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),Q.ISO8859_15=new Q(H.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),Q.ISO8859_16=new Q(H.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),Q.SJIS=new Q(H.SJIS,20,"SJIS","Shift_JIS"),Q.Cp1250=new Q(H.Cp1250,21,"Cp1250","windows-1250"),Q.Cp1251=new Q(H.Cp1251,22,"Cp1251","windows-1251"),Q.Cp1252=new Q(H.Cp1252,23,"Cp1252","windows-1252"),Q.Cp1256=new Q(H.Cp1256,24,"Cp1256","windows-1256"),Q.UnicodeBigUnmarked=new Q(H.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),Q.UTF8=new Q(H.UTF8,26,"UTF8","UTF-8"),Q.ASCII=new Q(H.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),Q.Big5=new Q(H.Big5,28,"Big5"),Q.GB18030=new Q(H.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),Q.EUC_KR=new Q(H.EUC_KR,30,"EUC_KR","EUC-KR");class Ee extends b{}Ee.kind="UnsupportedOperationException";class ae{static decode(r,a){const l=this.encodingName(a);return this.customDecoder?this.customDecoder(r,l):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(l)?this.decodeFallback(r,l):new TextDecoder(l).decode(r)}static shouldDecodeOnFallback(r){return!ae.isBrowser()&&r==="ISO-8859-1"}static encode(r,a){const l=this.encodingName(a);return this.customEncoder?this.customEncoder(r,l):typeof TextEncoder>"u"?this.encodeFallback(r):new TextEncoder().encode(r)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(r){return typeof r=="string"?r:r.getName()}static encodingCharacterSet(r){return r instanceof Q?r:Q.getCharacterSetECIByName(r)}static decodeFallback(r,a){const l=this.encodingCharacterSet(a);if(ae.isDecodeFallbackSupported(l)){let d="";for(let f=0,y=r.length;f<y;f++){let v=r[f].toString(16);v.length<2&&(v="0"+v),d+="%"+v}return decodeURIComponent(d)}if(l.equals(Q.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(r.buffer));throw new Ee(`Encoding ${this.encodingName(a)} not supported by fallback.`)}static isDecodeFallbackSupported(r){return r.equals(Q.UTF8)||r.equals(Q.ISO8859_1)||r.equals(Q.ASCII)}static encodeFallback(r){const l=btoa(unescape(encodeURIComponent(r))).split(""),d=[];for(let f=0;f<l.length;f++)d.push(l[f].charCodeAt(0));return new Uint8Array(d)}}class ve{static castAsNonUtf8Char(r,a=null){const l=a?a.getName():this.ISO88591;return ae.decode(new Uint8Array([r]),l)}static guessEncoding(r,a){if(a!=null&&a.get(X.CHARACTER_SET)!==void 0)return a.get(X.CHARACTER_SET).toString();const l=r.length;let d=!0,f=!0,y=!0,v=0,A=0,T=0,O=0,k=0,q=0,Z=0,J=0,ee=0,se=0,he=0;const Re=r.length>3&&r[0]===239&&r[1]===187&&r[2]===191;for(let Te=0;Te<l&&(d||f||y);Te++){const Ne=r[Te]&255;y&&(v>0?(Ne&128)===0?y=!1:v--:(Ne&128)!==0&&((Ne&64)===0?y=!1:(v++,(Ne&32)===0?A++:(v++,(Ne&16)===0?T++:(v++,(Ne&8)===0?O++:y=!1))))),d&&(Ne>127&&Ne<160?d=!1:Ne>159&&(Ne<192||Ne===215||Ne===247)&&he++),f&&(k>0?Ne<64||Ne===127||Ne>252?f=!1:k--:Ne===128||Ne===160||Ne>239?f=!1:Ne>160&&Ne<224?(q++,J=0,Z++,Z>ee&&(ee=Z)):Ne>127?(k++,Z=0,J++,J>se&&(se=J)):(Z=0,J=0))}return y&&v>0&&(y=!1),f&&k>0&&(f=!1),y&&(Re||A+T+O>0)?ve.UTF8:f&&(ve.ASSUME_SHIFT_JIS||ee>=3||se>=3)?ve.SHIFT_JIS:d&&f?ee===2&&q===2||he*10>=l?ve.SHIFT_JIS:ve.ISO88591:d?ve.ISO88591:f?ve.SHIFT_JIS:y?ve.UTF8:ve.PLATFORM_DEFAULT_ENCODING}static format(r,...a){let l=-1;function d(y,v,A,T,O,k){if(y==="%%")return"%";if(a[++l]===void 0)return;y=T?parseInt(T.substr(1)):void 0;let q=O?parseInt(O.substr(1)):void 0,Z;switch(k){case"s":Z=a[l];break;case"c":Z=a[l][0];break;case"f":Z=parseFloat(a[l]).toFixed(y);break;case"p":Z=parseFloat(a[l]).toPrecision(y);break;case"e":Z=parseFloat(a[l]).toExponential(y);break;case"x":Z=parseInt(a[l]).toString(q||16);break;case"d":Z=parseFloat(parseInt(a[l],q||10).toPrecision(y)).toFixed(0);break}Z=typeof Z=="object"?JSON.stringify(Z):(+Z).toString(q);let J=parseInt(A),ee=A&&A[0]+""=="0"?"0":" ";for(;Z.length<J;)Z=v!==void 0?Z+ee:ee+Z;return Z}let f=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return r.replace(f,d)}static getBytes(r,a){return ae.encode(r,a)}static getCharCode(r,a=0){return r.charCodeAt(a)}static getCharAt(r){return String.fromCharCode(r)}}ve.SHIFT_JIS=Q.SJIS.getName(),ve.GB2312="GB2312",ve.ISO88591=Q.ISO8859_1.getName(),ve.EUC_JP="EUC_JP",ve.UTF8=Q.UTF8.getName(),ve.PLATFORM_DEFAULT_ENCODING=ve.UTF8,ve.ASSUME_SHIFT_JIS=!1;class me{constructor(r=""){this.value=r}enableDecoding(r){return this.encoding=r,this}append(r){return typeof r=="string"?this.value+=r.toString():this.encoding?this.value+=ve.castAsNonUtf8Char(r,this.encoding):this.value+=String.fromCharCode(r),this}appendChars(r,a,l){for(let d=a;a<a+l;d++)this.append(r[d]);return this}length(){return this.value.length}charAt(r){return this.value.charAt(r)}deleteCharAt(r){this.value=this.value.substr(0,r)+this.value.substring(r+1)}setCharAt(r,a){this.value=this.value.substr(0,r)+a+this.value.substr(r+1)}substring(r,a){return this.value.substring(r,a)}setLengthToZero(){this.value=""}toString(){return this.value}insert(r,a){this.value=this.value.substr(0,r)+a+this.value.substr(r+a.length)}}class Le{constructor(r,a,l,d){if(this.width=r,this.height=a,this.rowSize=l,this.bits=d,a==null&&(a=r),this.height=a,r<1||a<1)throw new S("Both dimensions must be greater than 0");l==null&&(l=Math.floor((r+31)/32)),this.rowSize=l,d==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(r){const a=r.length,l=r[0].length,d=new Le(l,a);for(let f=0;f<a;f++){const y=r[f];for(let v=0;v<l;v++)y[v]&&d.set(v,f)}return d}static parseFromString(r,a,l){if(r===null)throw new S("stringRepresentation cannot be null");const d=new Array(r.length);let f=0,y=0,v=-1,A=0,T=0;for(;T<r.length;)if(r.charAt(T)===`
`||r.charAt(T)==="\r"){if(f>y){if(v===-1)v=f-y;else if(f-y!==v)throw new S("row lengths do not match");y=f,A++}T++}else if(r.substring(T,T+a.length)===a)T+=a.length,d[f]=!0,f++;else if(r.substring(T,T+l.length)===l)T+=l.length,d[f]=!1,f++;else throw new S("illegal character encountered: "+r.substring(T));if(f>y){if(v===-1)v=f-y;else if(f-y!==v)throw new S("row lengths do not match");A++}const O=new Le(v,A);for(let k=0;k<f;k++)d[k]&&O.set(Math.floor(k%v),Math.floor(k/v));return O}get(r,a){const l=a*this.rowSize+Math.floor(r/32);return(this.bits[l]>>>(r&31)&1)!==0}set(r,a){const l=a*this.rowSize+Math.floor(r/32);this.bits[l]|=1<<(r&31)&4294967295}unset(r,a){const l=a*this.rowSize+Math.floor(r/32);this.bits[l]&=~(1<<(r&31)&4294967295)}flip(r,a){const l=a*this.rowSize+Math.floor(r/32);this.bits[l]^=1<<(r&31)&4294967295}xor(r){if(this.width!==r.getWidth()||this.height!==r.getHeight()||this.rowSize!==r.getRowSize())throw new S("input matrix dimensions do not match");const a=new V(Math.floor(this.width/32)+1),l=this.rowSize,d=this.bits;for(let f=0,y=this.height;f<y;f++){const v=f*l,A=r.getRow(f,a).getBitArray();for(let T=0;T<l;T++)d[v+T]^=A[T]}}clear(){const r=this.bits,a=r.length;for(let l=0;l<a;l++)r[l]=0}setRegion(r,a,l,d){if(a<0||r<0)throw new S("Left and top must be nonnegative");if(d<1||l<1)throw new S("Height and width must be at least 1");const f=r+l,y=a+d;if(y>this.height||f>this.width)throw new S("The region must fit inside the matrix");const v=this.rowSize,A=this.bits;for(let T=a;T<y;T++){const O=T*v;for(let k=r;k<f;k++)A[O+Math.floor(k/32)]|=1<<(k&31)&4294967295}}getRow(r,a){a==null||a.getSize()<this.width?a=new V(this.width):a.clear();const l=this.rowSize,d=this.bits,f=r*l;for(let y=0;y<l;y++)a.setBulk(y*32,d[f+y]);return a}setRow(r,a){L.arraycopy(a.getBitArray(),0,this.bits,r*this.rowSize,this.rowSize)}rotate180(){const r=this.getWidth(),a=this.getHeight();let l=new V(r),d=new V(r);for(let f=0,y=Math.floor((a+1)/2);f<y;f++)l=this.getRow(f,l),d=this.getRow(a-1-f,d),l.reverse(),d.reverse(),this.setRow(f,d),this.setRow(a-1-f,l)}getEnclosingRectangle(){const r=this.width,a=this.height,l=this.rowSize,d=this.bits;let f=r,y=a,v=-1,A=-1;for(let T=0;T<a;T++)for(let O=0;O<l;O++){const k=d[T*l+O];if(k!==0){if(T<y&&(y=T),T>A&&(A=T),O*32<f){let q=0;for(;(k<<31-q&4294967295)===0;)q++;O*32+q<f&&(f=O*32+q)}if(O*32+31>v){let q=31;for(;!(k>>>q);)q--;O*32+q>v&&(v=O*32+q)}}}return v<f||A<y?null:Int32Array.from([f,y,v-f+1,A-y+1])}getTopLeftOnBit(){const r=this.rowSize,a=this.bits;let l=0;for(;l<a.length&&a[l]===0;)l++;if(l===a.length)return null;const d=l/r;let f=l%r*32;const y=a[l];let v=0;for(;(y<<31-v&4294967295)===0;)v++;return f+=v,Int32Array.from([f,d])}getBottomRightOnBit(){const r=this.rowSize,a=this.bits;let l=a.length-1;for(;l>=0&&a[l]===0;)l--;if(l<0)return null;const d=Math.floor(l/r);let f=Math.floor(l%r)*32;const y=a[l];let v=31;for(;!(y>>>v);)v--;return f+=v,Int32Array.from([f,d])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(r){if(!(r instanceof Le))return!1;const a=r;return this.width===a.width&&this.height===a.height&&this.rowSize===a.rowSize&&j.equals(this.bits,a.bits)}hashCode(){let r=this.width;return r=31*r+this.width,r=31*r+this.height,r=31*r+this.rowSize,r=31*r+j.hashCode(this.bits),r}toString(r="X ",a="  ",l=`
`){return this.buildToString(r,a,l)}buildToString(r,a,l){let d=new me;for(let f=0,y=this.height;f<y;f++){for(let v=0,A=this.width;v<A;v++)d.append(this.get(v,f)?r:a);d.append(l)}return d.toString()}clone(){return new Le(this.width,this.height,this.rowSize,this.bits.slice())}}class ne extends b{static getNotFoundInstance(){return new ne}}ne.kind="NotFoundException";class ie extends D{constructor(r){super(r),this.luminances=ie.EMPTY,this.buckets=new Int32Array(ie.LUMINANCE_BUCKETS)}getBlackRow(r,a){const l=this.getLuminanceSource(),d=l.getWidth();a==null||a.getSize()<d?a=new V(d):a.clear(),this.initArrays(d);const f=l.getRow(r,this.luminances),y=this.buckets;for(let A=0;A<d;A++)y[(f[A]&255)>>ie.LUMINANCE_SHIFT]++;const v=ie.estimateBlackPoint(y);if(d<3)for(let A=0;A<d;A++)(f[A]&255)<v&&a.set(A);else{let A=f[0]&255,T=f[1]&255;for(let O=1;O<d-1;O++){const k=f[O+1]&255;(T*4-A-k)/2<v&&a.set(O),A=T,T=k}}return a}getBlackMatrix(){const r=this.getLuminanceSource(),a=r.getWidth(),l=r.getHeight(),d=new Le(a,l);this.initArrays(a);const f=this.buckets;for(let A=1;A<5;A++){const T=Math.floor(l*A/5),O=r.getRow(T,this.luminances),k=Math.floor(a*4/5);for(let q=Math.floor(a/5);q<k;q++){const Z=O[q]&255;f[Z>>ie.LUMINANCE_SHIFT]++}}const y=ie.estimateBlackPoint(f),v=r.getMatrix();for(let A=0;A<l;A++){const T=A*a;for(let O=0;O<a;O++)(v[T+O]&255)<y&&d.set(O,A)}return d}createBinarizer(r){return new ie(r)}initArrays(r){this.luminances.length<r&&(this.luminances=new Uint8ClampedArray(r));const a=this.buckets;for(let l=0;l<ie.LUMINANCE_BUCKETS;l++)a[l]=0}static estimateBlackPoint(r){const a=r.length;let l=0,d=0,f=0;for(let O=0;O<a;O++)r[O]>f&&(d=O,f=r[O]),r[O]>l&&(l=r[O]);let y=0,v=0;for(let O=0;O<a;O++){const k=O-d,q=r[O]*k*k;q>v&&(y=O,v=q)}if(d>y){const O=d;d=y,y=O}if(y-d<=a/16)throw new ne;let A=y-1,T=-1;for(let O=y-1;O>d;O--){const k=O-d,q=k*k*(y-O)*(l-r[O]);q>T&&(A=O,T=q)}return A<<ie.LUMINANCE_SHIFT}}ie.LUMINANCE_BITS=5,ie.LUMINANCE_SHIFT=8-ie.LUMINANCE_BITS,ie.LUMINANCE_BUCKETS=1<<ie.LUMINANCE_BITS,ie.EMPTY=Uint8ClampedArray.from([0]);class ue extends ie{constructor(r){super(r),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const r=this.getLuminanceSource(),a=r.getWidth(),l=r.getHeight();if(a>=ue.MINIMUM_DIMENSION&&l>=ue.MINIMUM_DIMENSION){const d=r.getMatrix();let f=a>>ue.BLOCK_SIZE_POWER;(a&ue.BLOCK_SIZE_MASK)!==0&&f++;let y=l>>ue.BLOCK_SIZE_POWER;(l&ue.BLOCK_SIZE_MASK)!==0&&y++;const v=ue.calculateBlackPoints(d,f,y,a,l),A=new Le(a,l);ue.calculateThresholdForBlock(d,f,y,a,l,v,A),this.matrix=A}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(r){return new ue(r)}static calculateThresholdForBlock(r,a,l,d,f,y,v){const A=f-ue.BLOCK_SIZE,T=d-ue.BLOCK_SIZE;for(let O=0;O<l;O++){let k=O<<ue.BLOCK_SIZE_POWER;k>A&&(k=A);const q=ue.cap(O,2,l-3);for(let Z=0;Z<a;Z++){let J=Z<<ue.BLOCK_SIZE_POWER;J>T&&(J=T);const ee=ue.cap(Z,2,a-3);let se=0;for(let Re=-2;Re<=2;Re++){const Te=y[q+Re];se+=Te[ee-2]+Te[ee-1]+Te[ee]+Te[ee+1]+Te[ee+2]}const he=se/25;ue.thresholdBlock(r,J,k,he,d,v)}}}static cap(r,a,l){return r<a?a:r>l?l:r}static thresholdBlock(r,a,l,d,f,y){for(let v=0,A=l*f+a;v<ue.BLOCK_SIZE;v++,A+=f)for(let T=0;T<ue.BLOCK_SIZE;T++)(r[A+T]&255)<=d&&y.set(a+T,l+v)}static calculateBlackPoints(r,a,l,d,f){const y=f-ue.BLOCK_SIZE,v=d-ue.BLOCK_SIZE,A=new Array(l);for(let T=0;T<l;T++){A[T]=new Int32Array(a);let O=T<<ue.BLOCK_SIZE_POWER;O>y&&(O=y);for(let k=0;k<a;k++){let q=k<<ue.BLOCK_SIZE_POWER;q>v&&(q=v);let Z=0,J=255,ee=0;for(let he=0,Re=O*d+q;he<ue.BLOCK_SIZE;he++,Re+=d){for(let Te=0;Te<ue.BLOCK_SIZE;Te++){const Ne=r[Re+Te]&255;Z+=Ne,Ne<J&&(J=Ne),Ne>ee&&(ee=Ne)}if(ee-J>ue.MIN_DYNAMIC_RANGE)for(he++,Re+=d;he<ue.BLOCK_SIZE;he++,Re+=d)for(let Te=0;Te<ue.BLOCK_SIZE;Te++)Z+=r[Re+Te]&255}let se=Z>>ue.BLOCK_SIZE_POWER*2;if(ee-J<=ue.MIN_DYNAMIC_RANGE&&(se=J/2,T>0&&k>0)){const he=(A[T-1][k]+2*A[T][k-1]+A[T-1][k-1])/4;J<he&&(se=he)}A[T][k]=se}}return A}}ue.BLOCK_SIZE_POWER=3,ue.BLOCK_SIZE=1<<ue.BLOCK_SIZE_POWER,ue.BLOCK_SIZE_MASK=ue.BLOCK_SIZE-1,ue.MINIMUM_DIMENSION=ue.BLOCK_SIZE*5,ue.MIN_DYNAMIC_RANGE=24;class xe{constructor(r,a){this.width=r,this.height=a}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(r,a,l,d){throw new Ee("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new Ee("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new Ee("This luminance source does not support rotation by 45 degrees.")}toString(){const r=new Uint8ClampedArray(this.width);let a=new me;for(let l=0;l<this.height;l++){const d=this.getRow(l,r);for(let f=0;f<this.width;f++){const y=d[f]&255;let v;y<64?v="#":y<128?v="+":y<192?v=".":v=" ",a.append(v)}a.append(`
`)}return a.toString()}}class ke extends xe{constructor(r){super(r.getWidth(),r.getHeight()),this.delegate=r}getRow(r,a){const l=this.delegate.getRow(r,a),d=this.getWidth();for(let f=0;f<d;f++)l[f]=255-(l[f]&255);return l}getMatrix(){const r=this.delegate.getMatrix(),a=this.getWidth()*this.getHeight(),l=new Uint8ClampedArray(a);for(let d=0;d<a;d++)l[d]=255-(r[d]&255);return l}isCropSupported(){return this.delegate.isCropSupported()}crop(r,a,l,d){return new ke(this.delegate.crop(r,a,l,d))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new ke(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new ke(this.delegate.rotateCounterClockwise45())}}class ye extends xe{constructor(r){super(r.width,r.height),this.canvas=r,this.tempCanvasElement=null,this.buffer=ye.makeBufferFromCanvasImageData(r)}static makeBufferFromCanvasImageData(r){const a=r.getContext("2d").getImageData(0,0,r.width,r.height);return ye.toGrayscaleBuffer(a.data,r.width,r.height)}static toGrayscaleBuffer(r,a,l){const d=new Uint8ClampedArray(a*l);for(let f=0,y=0,v=r.length;f<v;f+=4,y++){let A;if(r[f+3]===0)A=255;else{const O=r[f],k=r[f+1],q=r[f+2];A=306*O+601*k+117*q+512>>10}d[y]=A}return d}getRow(r,a){if(r<0||r>=this.getHeight())throw new S("Requested row is outside the image: "+r);const l=this.getWidth(),d=r*l;return a===null?a=this.buffer.slice(d,d+l):(a.length<l&&(a=new Uint8ClampedArray(l)),a.set(this.buffer.slice(d,d+l))),a}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(r,a,l,d){return super.crop(r,a,l,d),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const r=this.canvas.ownerDocument.createElement("canvas");r.width=this.canvas.width,r.height=this.canvas.height,this.tempCanvasElement=r}return this.tempCanvasElement}rotate(r){const a=this.getTempCanvasElement(),l=a.getContext("2d"),d=r*ye.DEGREE_TO_RADIANS,f=this.canvas.width,y=this.canvas.height,v=Math.ceil(Math.abs(Math.cos(d))*f+Math.abs(Math.sin(d))*y),A=Math.ceil(Math.abs(Math.sin(d))*f+Math.abs(Math.cos(d))*y);return a.width=v,a.height=A,l.translate(v/2,A/2),l.rotate(d),l.drawImage(this.canvas,f/-2,y/-2),this.buffer=ye.makeBufferFromCanvasImageData(a),this}invert(){return new ke(this)}}ye.DEGREE_TO_RADIANS=Math.PI/180;class ${constructor(r,a,l){this.deviceId=r,this.label=a,this.kind="videoinput",this.groupId=l||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var ge=(globalThis||globalThis||self||window||void 0)&&(globalThis||globalThis||self||window||void 0).__awaiter||function(B,r,a,l){function d(f){return f instanceof a?f:new a(function(y){y(f)})}return new(a||(a=Promise))(function(f,y){function v(O){try{T(l.next(O))}catch(k){y(k)}}function A(O){try{T(l.throw(O))}catch(k){y(k)}}function T(O){O.done?f(O.value):d(O.value).then(v,A)}T((l=l.apply(B,r||[])).next())})};class Me{constructor(r,a=500,l){this.reader=r,this.timeBetweenScansMillis=a,this._hints=l,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(r){this._timeBetweenDecodingAttempts=r<0?0:r}set hints(r){this._hints=r||null}get hints(){return this._hints}listVideoInputDevices(){return ge(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const r=yield navigator.mediaDevices.enumerateDevices(),a=[];for(const l of r){const d=l.kind==="video"?"videoinput":l.kind;if(d!=="videoinput")continue;const f=l.deviceId||l.id,y=l.label||`Video device ${a.length+1}`,v=l.groupId,A={deviceId:f,label:y,kind:d,groupId:v};a.push(A)}return a})}getVideoInputDevices(){return ge(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(a=>new $(a.deviceId,a.label))})}findDeviceById(r){return ge(this,void 0,void 0,function*(){const a=yield this.listVideoInputDevices();return a?a.find(l=>l.deviceId===r):null})}decodeFromInputVideoDevice(r,a){return ge(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(r,a)})}decodeOnceFromVideoDevice(r,a){return ge(this,void 0,void 0,function*(){this.reset();let l;r?l={deviceId:{exact:r}}:l={facingMode:"environment"};const d={video:l};return yield this.decodeOnceFromConstraints(d,a)})}decodeOnceFromConstraints(r,a){return ge(this,void 0,void 0,function*(){const l=yield navigator.mediaDevices.getUserMedia(r);return yield this.decodeOnceFromStream(l,a)})}decodeOnceFromStream(r,a){return ge(this,void 0,void 0,function*(){this.reset();const l=yield this.attachStreamToVideo(r,a);return yield this.decodeOnce(l)})}decodeFromInputVideoDeviceContinuously(r,a,l){return ge(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(r,a,l)})}decodeFromVideoDevice(r,a,l){return ge(this,void 0,void 0,function*(){let d;r?d={deviceId:{exact:r}}:d={facingMode:"environment"};const f={video:d};return yield this.decodeFromConstraints(f,a,l)})}decodeFromConstraints(r,a,l){return ge(this,void 0,void 0,function*(){const d=yield navigator.mediaDevices.getUserMedia(r);return yield this.decodeFromStream(d,a,l)})}decodeFromStream(r,a,l){return ge(this,void 0,void 0,function*(){this.reset();const d=yield this.attachStreamToVideo(r,a);return yield this.decodeContinuously(d,l)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(r,a){return ge(this,void 0,void 0,function*(){const l=this.prepareVideoElement(a);return this.addVideoSource(l,r),this.videoElement=l,this.stream=r,yield this.playVideoOnLoadAsync(l),l})}playVideoOnLoadAsync(r){return new Promise((a,l)=>this.playVideoOnLoad(r,()=>a()))}playVideoOnLoad(r,a){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(r),r.addEventListener("ended",this.videoEndedListener),r.addEventListener("canplay",this.videoCanPlayListener),r.addEventListener("playing",a),this.tryPlayVideo(r)}isVideoPlaying(r){return r.currentTime>0&&!r.paused&&!r.ended&&r.readyState>2}tryPlayVideo(r){return ge(this,void 0,void 0,function*(){if(this.isVideoPlaying(r)){console.warn("Trying to play video that is already playing.");return}try{yield r.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(r,a){const l=document.getElementById(r);if(!l)throw new E(`element with id '${r}' not found`);if(l.nodeName.toLowerCase()!==a.toLowerCase())throw new E(`element with id '${r}' must be an ${a} element`);return l}decodeFromImage(r,a){if(!r&&!a)throw new E("either imageElement with a src set or an url must be provided");return a&&!r?this.decodeFromImageUrl(a):this.decodeFromImageElement(r)}decodeFromVideo(r,a){if(!r&&!a)throw new E("Either an element with a src set or an URL must be provided");return a&&!r?this.decodeFromVideoUrl(a):this.decodeFromVideoElement(r)}decodeFromVideoContinuously(r,a,l){if(r===void 0&&a===void 0)throw new E("Either an element with a src set or an URL must be provided");return a&&!r?this.decodeFromVideoUrlContinuously(a,l):this.decodeFromVideoElementContinuously(r,l)}decodeFromImageElement(r){if(!r)throw new E("An image element must be provided.");this.reset();const a=this.prepareImageElement(r);this.imageElement=a;let l;return this.isImageLoaded(a)?l=this.decodeOnce(a,!1,!0):l=this._decodeOnLoadImage(a),l}decodeFromVideoElement(r){const a=this._decodeFromVideoElementSetup(r);return this._decodeOnLoadVideo(a)}decodeFromVideoElementContinuously(r,a){const l=this._decodeFromVideoElementSetup(r);return this._decodeOnLoadVideoContinuously(l,a)}_decodeFromVideoElementSetup(r){if(!r)throw new E("A video element must be provided.");this.reset();const a=this.prepareVideoElement(r);return this.videoElement=a,a}decodeFromImageUrl(r){if(!r)throw new E("An URL must be provided.");this.reset();const a=this.prepareImageElement();this.imageElement=a;const l=this._decodeOnLoadImage(a);return a.src=r,l}decodeFromVideoUrl(r){if(!r)throw new E("An URL must be provided.");this.reset();const a=this.prepareVideoElement(),l=this.decodeFromVideoElement(a);return a.src=r,l}decodeFromVideoUrlContinuously(r,a){if(!r)throw new E("An URL must be provided.");this.reset();const l=this.prepareVideoElement(),d=this.decodeFromVideoElementContinuously(l,a);return l.src=r,d}_decodeOnLoadImage(r){return new Promise((a,l)=>{this.imageLoadedListener=()=>this.decodeOnce(r,!1,!0).then(a,l),r.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(r){return ge(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(r),yield this.decodeOnce(r)})}_decodeOnLoadVideoContinuously(r,a){return ge(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(r),this.decodeContinuously(r,a)})}isImageLoaded(r){return!(!r.complete||r.naturalWidth===0)}prepareImageElement(r){let a;return typeof r>"u"&&(a=document.createElement("img"),a.width=200,a.height=200),typeof r=="string"&&(a=this.getMediaElement(r,"img")),r instanceof HTMLImageElement&&(a=r),a}prepareVideoElement(r){let a;return!r&&typeof document<"u"&&(a=document.createElement("video"),a.width=200,a.height=200),typeof r=="string"&&(a=this.getMediaElement(r,"video")),r instanceof HTMLVideoElement&&(a=r),a.setAttribute("autoplay","true"),a.setAttribute("muted","true"),a.setAttribute("playsinline","true"),a}decodeOnce(r,a=!0,l=!0){this._stopAsyncDecode=!1;const d=(f,y)=>{if(this._stopAsyncDecode){y(new ne("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const v=this.decode(r);f(v)}catch(v){const A=a&&v instanceof ne,O=(v instanceof _||v instanceof z)&&l;if(A||O)return setTimeout(d,this._timeBetweenDecodingAttempts,f,y);y(v)}};return new Promise((f,y)=>d(f,y))}decodeContinuously(r,a){this._stopContinuousDecode=!1;const l=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const d=this.decode(r);a(d,null),setTimeout(l,this.timeBetweenScansMillis)}catch(d){a(null,d);const f=d instanceof _||d instanceof z,y=d instanceof ne;(f||y)&&setTimeout(l,this._timeBetweenDecodingAttempts)}};l()}decode(r){const a=this.createBinaryBitmap(r);return this.decodeBitmap(a)}_isHTMLVideoElement(r){return r.videoWidth!==0}drawFrameOnCanvas(r,a,l){a||(a={sx:0,sy:0,sWidth:r.videoWidth,sHeight:r.videoHeight,dx:0,dy:0,dWidth:r.videoWidth,dHeight:r.videoHeight}),l||(l=this.captureCanvasContext),l.drawImage(r,a.sx,a.sy,a.sWidth,a.sHeight,a.dx,a.dy,a.dWidth,a.dHeight)}drawImageOnCanvas(r,a,l=this.captureCanvasContext){a||(a={sx:0,sy:0,sWidth:r.naturalWidth,sHeight:r.naturalHeight,dx:0,dy:0,dWidth:r.naturalWidth,dHeight:r.naturalHeight}),l||(l=this.captureCanvasContext),l.drawImage(r,a.sx,a.sy,a.sWidth,a.sHeight,a.dx,a.dy,a.dWidth,a.dHeight)}createBinaryBitmap(r){this.getCaptureCanvasContext(r),this._isHTMLVideoElement(r)?this.drawFrameOnCanvas(r):this.drawImageOnCanvas(r);const a=this.getCaptureCanvas(r),l=new ye(a),d=new ue(l);return new R(d)}getCaptureCanvasContext(r){if(!this.captureCanvasContext){const l=this.getCaptureCanvas(r).getContext("2d");this.captureCanvasContext=l}return this.captureCanvasContext}getCaptureCanvas(r){if(!this.captureCanvas){const a=this.createCaptureCanvas(r);this.captureCanvas=a}return this.captureCanvas}decodeBitmap(r){return this.reader.decode(r,this._hints)}createCaptureCanvas(r){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const a=document.createElement("canvas");let l,d;return typeof r<"u"&&(r instanceof HTMLVideoElement?(l=r.videoWidth,d=r.videoHeight):r instanceof HTMLImageElement&&(l=r.naturalWidth||r.width,d=r.naturalHeight||r.height)),a.style.width=l+"px",a.style.height=d+"px",a.width=l,a.height=d,a}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(r=>r.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(r,a){try{r.srcObject=a}catch{r.src=URL.createObjectURL(a)}}cleanVideoSource(r){try{r.srcObject=null}catch{r.src=""}this.videoElement.removeAttribute("src")}}class _e{constructor(r,a,l=a==null?0:8*a.length,d,f,y=L.currentTimeMillis()){this.text=r,this.rawBytes=a,this.numBits=l,this.resultPoints=d,this.format=f,this.timestamp=y,this.text=r,this.rawBytes=a,l==null?this.numBits=a==null?0:8*a.length:this.numBits=l,this.resultPoints=d,this.format=f,this.resultMetadata=null,y==null?this.timestamp=L.currentTimeMillis():this.timestamp=y}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(r,a){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(r,a)}putAllMetadata(r){r!==null&&(this.resultMetadata===null?this.resultMetadata=r:this.resultMetadata=new Map(r))}addResultPoints(r){const a=this.resultPoints;if(a===null)this.resultPoints=r;else if(r!==null&&r.length>0){const l=new Array(a.length+r.length);L.arraycopy(a,0,l,0,a.length),L.arraycopy(r,0,l,a.length,r.length),this.resultPoints=l}}getTimestamp(){return this.timestamp}toString(){return this.text}}var Ze;(function(B){B[B.AZTEC=0]="AZTEC",B[B.CODABAR=1]="CODABAR",B[B.CODE_39=2]="CODE_39",B[B.CODE_93=3]="CODE_93",B[B.CODE_128=4]="CODE_128",B[B.DATA_MATRIX=5]="DATA_MATRIX",B[B.EAN_8=6]="EAN_8",B[B.EAN_13=7]="EAN_13",B[B.ITF=8]="ITF",B[B.MAXICODE=9]="MAXICODE",B[B.PDF_417=10]="PDF_417",B[B.QR_CODE=11]="QR_CODE",B[B.RSS_14=12]="RSS_14",B[B.RSS_EXPANDED=13]="RSS_EXPANDED",B[B.UPC_A=14]="UPC_A",B[B.UPC_E=15]="UPC_E",B[B.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Ze||(Ze={}));var Ie=Ze,yt;(function(B){B[B.OTHER=0]="OTHER",B[B.ORIENTATION=1]="ORIENTATION",B[B.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",B[B.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",B[B.ISSUE_NUMBER=4]="ISSUE_NUMBER",B[B.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",B[B.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",B[B.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",B[B.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",B[B.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",B[B.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(yt||(yt={}));var bt=yt;class Ht{constructor(r,a,l,d,f=-1,y=-1){this.rawBytes=r,this.text=a,this.byteSegments=l,this.ecLevel=d,this.structuredAppendSequenceNumber=f,this.structuredAppendParity=y,this.numBits=r==null?0:8*r.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(r){this.numBits=r}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(r){this.errorsCorrected=r}getErasures(){return this.erasures}setErasures(r){this.erasures=r}getOther(){return this.other}setOther(r){this.other=r}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class vi{exp(r){return this.expTable[r]}log(r){if(r===0)throw new S;return this.logTable[r]}static addOrSubtract(r,a){return r^a}}class Ln{constructor(r,a){if(a.length===0)throw new S;this.field=r;const l=a.length;if(l>1&&a[0]===0){let d=1;for(;d<l&&a[d]===0;)d++;d===l?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(l-d),L.arraycopy(a,d,this.coefficients,0,this.coefficients.length))}else this.coefficients=a}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(r){return this.coefficients[this.coefficients.length-1-r]}evaluateAt(r){if(r===0)return this.getCoefficient(0);const a=this.coefficients;let l;if(r===1){l=0;for(let y=0,v=a.length;y!==v;y++){const A=a[y];l=vi.addOrSubtract(l,A)}return l}l=a[0];const d=a.length,f=this.field;for(let y=1;y<d;y++)l=vi.addOrSubtract(f.multiply(r,l),a[y]);return l}addOrSubtract(r){if(!this.field.equals(r.field))throw new S("GenericGFPolys do not have same GenericGF field");if(this.isZero())return r;if(r.isZero())return this;let a=this.coefficients,l=r.coefficients;if(a.length>l.length){const y=a;a=l,l=y}let d=new Int32Array(l.length);const f=l.length-a.length;L.arraycopy(l,0,d,0,f);for(let y=f;y<l.length;y++)d[y]=vi.addOrSubtract(a[y-f],l[y]);return new Ln(this.field,d)}multiply(r){if(!this.field.equals(r.field))throw new S("GenericGFPolys do not have same GenericGF field");if(this.isZero()||r.isZero())return this.field.getZero();const a=this.coefficients,l=a.length,d=r.coefficients,f=d.length,y=new Int32Array(l+f-1),v=this.field;for(let A=0;A<l;A++){const T=a[A];for(let O=0;O<f;O++)y[A+O]=vi.addOrSubtract(y[A+O],v.multiply(T,d[O]))}return new Ln(v,y)}multiplyScalar(r){if(r===0)return this.field.getZero();if(r===1)return this;const a=this.coefficients.length,l=this.field,d=new Int32Array(a),f=this.coefficients;for(let y=0;y<a;y++)d[y]=l.multiply(f[y],r);return new Ln(l,d)}multiplyByMonomial(r,a){if(r<0)throw new S;if(a===0)return this.field.getZero();const l=this.coefficients,d=l.length,f=new Int32Array(d+r),y=this.field;for(let v=0;v<d;v++)f[v]=y.multiply(l[v],a);return new Ln(y,f)}divide(r){if(!this.field.equals(r.field))throw new S("GenericGFPolys do not have same GenericGF field");if(r.isZero())throw new S("Divide by 0");const a=this.field;let l=a.getZero(),d=this;const f=r.getCoefficient(r.getDegree()),y=a.inverse(f);for(;d.getDegree()>=r.getDegree()&&!d.isZero();){const v=d.getDegree()-r.getDegree(),A=a.multiply(d.getCoefficient(d.getDegree()),y),T=r.multiplyByMonomial(v,A),O=a.buildMonomial(v,A);l=l.addOrSubtract(O),d=d.addOrSubtract(T)}return[l,d]}toString(){let r="";for(let a=this.getDegree();a>=0;a--){let l=this.getCoefficient(a);if(l!==0){if(l<0?(r+=" - ",l=-l):r.length>0&&(r+=" + "),a===0||l!==1){const d=this.field.log(l);d===0?r+="1":d===1?r+="a":(r+="a^",r+=d)}a!==0&&(a===1?r+="x":(r+="x^",r+=a))}}return r}}class js extends b{}js.kind="ArithmeticException";class vt extends vi{constructor(r,a,l){super(),this.primitive=r,this.size=a,this.generatorBase=l;const d=new Int32Array(a);let f=1;for(let v=0;v<a;v++)d[v]=f,f*=2,f>=a&&(f^=r,f&=a-1);this.expTable=d;const y=new Int32Array(a);for(let v=0;v<a-1;v++)y[d[v]]=v;this.logTable=y,this.zero=new Ln(this,Int32Array.from([0])),this.one=new Ln(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(r,a){if(r<0)throw new S;if(a===0)return this.zero;const l=new Int32Array(r+1);return l[0]=a,new Ln(this,l)}inverse(r){if(r===0)throw new js;return this.expTable[this.size-this.logTable[r]-1]}multiply(r,a){return r===0||a===0?0:this.expTable[(this.logTable[r]+this.logTable[a])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+U.toHexString(this.primitive)+","+this.size+")"}equals(r){return r===this}}vt.AZTEC_DATA_12=new vt(4201,4096,1),vt.AZTEC_DATA_10=new vt(1033,1024,1),vt.AZTEC_DATA_6=new vt(67,64,1),vt.AZTEC_PARAM=new vt(19,16,1),vt.QR_CODE_FIELD_256=new vt(285,256,0),vt.DATA_MATRIX_FIELD_256=new vt(301,256,1),vt.AZTEC_DATA_8=vt.DATA_MATRIX_FIELD_256,vt.MAXICODE_FIELD_64=vt.AZTEC_DATA_6;class xr extends b{}xr.kind="ReedSolomonException";class wr extends b{}wr.kind="IllegalStateException";class rs{constructor(r){this.field=r}decode(r,a){const l=this.field,d=new Ln(l,r),f=new Int32Array(a);let y=!0;for(let Z=0;Z<a;Z++){const J=d.evaluateAt(l.exp(Z+l.getGeneratorBase()));f[f.length-1-Z]=J,J!==0&&(y=!1)}if(y)return;const v=new Ln(l,f),A=this.runEuclideanAlgorithm(l.buildMonomial(a,1),v,a),T=A[0],O=A[1],k=this.findErrorLocations(T),q=this.findErrorMagnitudes(O,k);for(let Z=0;Z<k.length;Z++){const J=r.length-1-l.log(k[Z]);if(J<0)throw new xr("Bad error location");r[J]=vt.addOrSubtract(r[J],q[Z])}}runEuclideanAlgorithm(r,a,l){if(r.getDegree()<a.getDegree()){const Z=r;r=a,a=Z}const d=this.field;let f=r,y=a,v=d.getZero(),A=d.getOne();for(;y.getDegree()>=(l/2|0);){let Z=f,J=v;if(f=y,v=A,f.isZero())throw new xr("r_{i-1} was zero");y=Z;let ee=d.getZero();const se=f.getCoefficient(f.getDegree()),he=d.inverse(se);for(;y.getDegree()>=f.getDegree()&&!y.isZero();){const Re=y.getDegree()-f.getDegree(),Te=d.multiply(y.getCoefficient(y.getDegree()),he);ee=ee.addOrSubtract(d.buildMonomial(Re,Te)),y=y.addOrSubtract(f.multiplyByMonomial(Re,Te))}if(A=ee.multiply(v).addOrSubtract(J),y.getDegree()>=f.getDegree())throw new wr("Division algorithm failed to reduce polynomial?")}const T=A.getCoefficient(0);if(T===0)throw new xr("sigmaTilde(0) was zero");const O=d.inverse(T),k=A.multiplyScalar(O),q=y.multiplyScalar(O);return[k,q]}findErrorLocations(r){const a=r.getDegree();if(a===1)return Int32Array.from([r.getCoefficient(1)]);const l=new Int32Array(a);let d=0;const f=this.field;for(let y=1;y<f.getSize()&&d<a;y++)r.evaluateAt(y)===0&&(l[d]=f.inverse(y),d++);if(d!==a)throw new xr("Error locator degree does not match number of roots");return l}findErrorMagnitudes(r,a){const l=a.length,d=new Int32Array(l),f=this.field;for(let y=0;y<l;y++){const v=f.inverse(a[y]);let A=1;for(let T=0;T<l;T++)if(y!==T){const O=f.multiply(a[T],v),k=(O&1)===0?O|1:O&-2;A=f.multiply(A,k)}d[y]=f.multiply(r.evaluateAt(v),f.inverse(A)),f.getGeneratorBase()!==0&&(d[y]=f.multiply(d[y],v))}return d}}var Bn;(function(B){B[B.UPPER=0]="UPPER",B[B.LOWER=1]="LOWER",B[B.MIXED=2]="MIXED",B[B.DIGIT=3]="DIGIT",B[B.PUNCT=4]="PUNCT",B[B.BINARY=5]="BINARY"})(Bn||(Bn={}));class jt{decode(r){this.ddata=r;let a=r.getBits(),l=this.extractBits(a),d=this.correctBits(l),f=jt.convertBoolArrayToByteArray(d),y=jt.getEncodedData(d),v=new Ht(f,y,null,null);return v.setNumBits(d.length),v}static highLevelDecode(r){return this.getEncodedData(r)}static getEncodedData(r){let a=r.length,l=Bn.UPPER,d=Bn.UPPER,f="",y=0;for(;y<a;)if(d===Bn.BINARY){if(a-y<5)break;let v=jt.readCode(r,y,5);if(y+=5,v===0){if(a-y<11)break;v=jt.readCode(r,y,11)+31,y+=11}for(let A=0;A<v;A++){if(a-y<8){y=a;break}const T=jt.readCode(r,y,8);f+=ve.castAsNonUtf8Char(T),y+=8}d=l}else{let v=d===Bn.DIGIT?4:5;if(a-y<v)break;let A=jt.readCode(r,y,v);y+=v;let T=jt.getCharacter(d,A);T.startsWith("CTRL_")?(l=d,d=jt.getTable(T.charAt(5)),T.charAt(6)==="L"&&(l=d)):(f+=T,d=l)}return f}static getTable(r){switch(r){case"L":return Bn.LOWER;case"P":return Bn.PUNCT;case"M":return Bn.MIXED;case"D":return Bn.DIGIT;case"B":return Bn.BINARY;default:return Bn.UPPER}}static getCharacter(r,a){switch(r){case Bn.UPPER:return jt.UPPER_TABLE[a];case Bn.LOWER:return jt.LOWER_TABLE[a];case Bn.MIXED:return jt.MIXED_TABLE[a];case Bn.PUNCT:return jt.PUNCT_TABLE[a];case Bn.DIGIT:return jt.DIGIT_TABLE[a];default:throw new wr("Bad table")}}correctBits(r){let a,l;this.ddata.getNbLayers()<=2?(l=6,a=vt.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(l=8,a=vt.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(l=10,a=vt.AZTEC_DATA_10):(l=12,a=vt.AZTEC_DATA_12);let d=this.ddata.getNbDatablocks(),f=r.length/l;if(f<d)throw new z;let y=r.length%l,v=new Int32Array(f);for(let q=0;q<f;q++,y+=l)v[q]=jt.readCode(r,y,l);try{new rs(a).decode(v,f-d)}catch(q){throw new z(q)}let A=(1<<l)-1,T=0;for(let q=0;q<d;q++){let Z=v[q];if(Z===0||Z===A)throw new z;(Z===1||Z===A-1)&&T++}let O=new Array(d*l-T),k=0;for(let q=0;q<d;q++){let Z=v[q];if(Z===1||Z===A-1)O.fill(Z>1,k,k+l-1),k+=l-1;else for(let J=l-1;J>=0;--J)O[k++]=(Z&1<<J)!==0}return O}extractBits(r){let a=this.ddata.isCompact(),l=this.ddata.getNbLayers(),d=(a?11:14)+l*4,f=new Int32Array(d),y=new Array(this.totalBitsInLayer(l,a));if(a)for(let v=0;v<f.length;v++)f[v]=v;else{let v=d+1+2*U.truncDivision(U.truncDivision(d,2)-1,15),A=d/2,T=U.truncDivision(v,2);for(let O=0;O<A;O++){let k=O+U.truncDivision(O,15);f[A-O-1]=T-k-1,f[A+O]=T+k+1}}for(let v=0,A=0;v<l;v++){let T=(l-v)*4+(a?9:12),O=v*2,k=d-1-O;for(let q=0;q<T;q++){let Z=q*2;for(let J=0;J<2;J++)y[A+Z+J]=r.get(f[O+J],f[O+q]),y[A+2*T+Z+J]=r.get(f[O+q],f[k-J]),y[A+4*T+Z+J]=r.get(f[k-J],f[k-q]),y[A+6*T+Z+J]=r.get(f[k-q],f[O+J])}A+=T*8}return y}static readCode(r,a,l){let d=0;for(let f=a;f<a+l;f++)d<<=1,r[f]&&(d|=1);return d}static readByte(r,a){let l=r.length-a;return l>=8?jt.readCode(r,a,8):jt.readCode(r,a,l)<<8-l}static convertBoolArrayToByteArray(r){let a=new Uint8Array((r.length+7)/8);for(let l=0;l<a.length;l++)a[l]=jt.readByte(r,8*l);return a}totalBitsInLayer(r,a){return((a?88:112)+16*r)*r}}jt.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],jt.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],jt.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],jt.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],jt.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class ot{constructor(){}static round(r){return r===NaN?0:r<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:r>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:r+(r<0?-.5:.5)|0}static distance(r,a,l,d){const f=r-l,y=a-d;return Math.sqrt(f*f+y*y)}static sum(r){let a=0;for(let l=0,d=r.length;l!==d;l++){const f=r[l];a+=f}return a}}class Ls{static floatToIntBits(r){return r}}Ls.MAX_VALUE=Number.MAX_SAFE_INTEGER;class ze{constructor(r,a){this.x=r,this.y=a}getX(){return this.x}getY(){return this.y}equals(r){if(r instanceof ze){const a=r;return this.x===a.x&&this.y===a.y}return!1}hashCode(){return 31*Ls.floatToIntBits(this.x)+Ls.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(r){const a=this.distance(r[0],r[1]),l=this.distance(r[1],r[2]),d=this.distance(r[0],r[2]);let f,y,v;if(l>=a&&l>=d?(y=r[0],f=r[1],v=r[2]):d>=l&&d>=a?(y=r[1],f=r[0],v=r[2]):(y=r[2],f=r[0],v=r[1]),this.crossProductZ(f,y,v)<0){const A=f;f=v,v=A}r[0]=f,r[1]=y,r[2]=v}static distance(r,a){return ot.distance(r.x,r.y,a.x,a.y)}static crossProductZ(r,a,l){const d=a.x,f=a.y;return(l.x-d)*(r.y-f)-(l.y-f)*(r.x-d)}}class vo{constructor(r,a){this.bits=r,this.points=a}getBits(){return this.bits}getPoints(){return this.points}}class lu extends vo{constructor(r,a,l,d,f){super(r,a),this.compact=l,this.nbDatablocks=d,this.nbLayers=f}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class on{constructor(r,a,l,d){this.image=r,this.height=r.getHeight(),this.width=r.getWidth(),a==null&&(a=on.INIT_SIZE),l==null&&(l=r.getWidth()/2|0),d==null&&(d=r.getHeight()/2|0);const f=a/2|0;if(this.leftInit=l-f,this.rightInit=l+f,this.upInit=d-f,this.downInit=d+f,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new ne}detect(){let r=this.leftInit,a=this.rightInit,l=this.upInit,d=this.downInit,f=!1,y=!0,v=!1,A=!1,T=!1,O=!1,k=!1;const q=this.width,Z=this.height;for(;y;){y=!1;let J=!0;for(;(J||!A)&&a<q;)J=this.containsBlackPoint(l,d,a,!1),J?(a++,y=!0,A=!0):A||a++;if(a>=q){f=!0;break}let ee=!0;for(;(ee||!T)&&d<Z;)ee=this.containsBlackPoint(r,a,d,!0),ee?(d++,y=!0,T=!0):T||d++;if(d>=Z){f=!0;break}let se=!0;for(;(se||!O)&&r>=0;)se=this.containsBlackPoint(l,d,r,!1),se?(r--,y=!0,O=!0):O||r--;if(r<0){f=!0;break}let he=!0;for(;(he||!k)&&l>=0;)he=this.containsBlackPoint(r,a,l,!0),he?(l--,y=!0,k=!0):k||l--;if(l<0){f=!0;break}y&&(v=!0)}if(!f&&v){const J=a-r;let ee=null;for(let Te=1;ee===null&&Te<J;Te++)ee=this.getBlackPointOnSegment(r,d-Te,r+Te,d);if(ee==null)throw new ne;let se=null;for(let Te=1;se===null&&Te<J;Te++)se=this.getBlackPointOnSegment(r,l+Te,r+Te,l);if(se==null)throw new ne;let he=null;for(let Te=1;he===null&&Te<J;Te++)he=this.getBlackPointOnSegment(a,l+Te,a-Te,l);if(he==null)throw new ne;let Re=null;for(let Te=1;Re===null&&Te<J;Te++)Re=this.getBlackPointOnSegment(a,d-Te,a-Te,d);if(Re==null)throw new ne;return this.centerEdges(Re,ee,he,se)}else throw new ne}getBlackPointOnSegment(r,a,l,d){const f=ot.round(ot.distance(r,a,l,d)),y=(l-r)/f,v=(d-a)/f,A=this.image;for(let T=0;T<f;T++){const O=ot.round(r+T*y),k=ot.round(a+T*v);if(A.get(O,k))return new ze(O,k)}return null}centerEdges(r,a,l,d){const f=r.getX(),y=r.getY(),v=a.getX(),A=a.getY(),T=l.getX(),O=l.getY(),k=d.getX(),q=d.getY(),Z=on.CORR;return f<this.width/2?[new ze(k-Z,q+Z),new ze(v+Z,A+Z),new ze(T-Z,O-Z),new ze(f+Z,y-Z)]:[new ze(k+Z,q+Z),new ze(v+Z,A-Z),new ze(T-Z,O+Z),new ze(f-Z,y-Z)]}containsBlackPoint(r,a,l,d){const f=this.image;if(d){for(let y=r;y<=a;y++)if(f.get(y,l))return!0}else for(let y=r;y<=a;y++)if(f.get(l,y))return!0;return!1}}on.INIT_SIZE=10,on.CORR=1;class Rl{static checkAndNudgePoints(r,a){const l=r.getWidth(),d=r.getHeight();let f=!0;for(let y=0;y<a.length&&f;y+=2){const v=Math.floor(a[y]),A=Math.floor(a[y+1]);if(v<-1||v>l||A<-1||A>d)throw new ne;f=!1,v===-1?(a[y]=0,f=!0):v===l&&(a[y]=l-1,f=!0),A===-1?(a[y+1]=0,f=!0):A===d&&(a[y+1]=d-1,f=!0)}f=!0;for(let y=a.length-2;y>=0&&f;y-=2){const v=Math.floor(a[y]),A=Math.floor(a[y+1]);if(v<-1||v>l||A<-1||A>d)throw new ne;f=!1,v===-1?(a[y]=0,f=!0):v===l&&(a[y]=l-1,f=!0),A===-1?(a[y+1]=0,f=!0):A===d&&(a[y+1]=d-1,f=!0)}}}class Er{constructor(r,a,l,d,f,y,v,A,T){this.a11=r,this.a21=a,this.a31=l,this.a12=d,this.a22=f,this.a32=y,this.a13=v,this.a23=A,this.a33=T}static quadrilateralToQuadrilateral(r,a,l,d,f,y,v,A,T,O,k,q,Z,J,ee,se){const he=Er.quadrilateralToSquare(r,a,l,d,f,y,v,A);return Er.squareToQuadrilateral(T,O,k,q,Z,J,ee,se).times(he)}transformPoints(r){const a=r.length,l=this.a11,d=this.a12,f=this.a13,y=this.a21,v=this.a22,A=this.a23,T=this.a31,O=this.a32,k=this.a33;for(let q=0;q<a;q+=2){const Z=r[q],J=r[q+1],ee=f*Z+A*J+k;r[q]=(l*Z+y*J+T)/ee,r[q+1]=(d*Z+v*J+O)/ee}}transformPointsWithValues(r,a){const l=this.a11,d=this.a12,f=this.a13,y=this.a21,v=this.a22,A=this.a23,T=this.a31,O=this.a32,k=this.a33,q=r.length;for(let Z=0;Z<q;Z++){const J=r[Z],ee=a[Z],se=f*J+A*ee+k;r[Z]=(l*J+y*ee+T)/se,a[Z]=(d*J+v*ee+O)/se}}static squareToQuadrilateral(r,a,l,d,f,y,v,A){const T=r-l+f-v,O=a-d+y-A;if(T===0&&O===0)return new Er(l-r,f-l,r,d-a,y-d,a,0,0,1);{const k=l-f,q=v-f,Z=d-y,J=A-y,ee=k*J-q*Z,se=(T*J-q*O)/ee,he=(k*O-T*Z)/ee;return new Er(l-r+se*l,v-r+he*v,r,d-a+se*d,A-a+he*A,a,se,he,1)}}static quadrilateralToSquare(r,a,l,d,f,y,v,A){return Er.squareToQuadrilateral(r,a,l,d,f,y,v,A).buildAdjoint()}buildAdjoint(){return new Er(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(r){return new Er(this.a11*r.a11+this.a21*r.a12+this.a31*r.a13,this.a11*r.a21+this.a21*r.a22+this.a31*r.a23,this.a11*r.a31+this.a21*r.a32+this.a31*r.a33,this.a12*r.a11+this.a22*r.a12+this.a32*r.a13,this.a12*r.a21+this.a22*r.a22+this.a32*r.a23,this.a12*r.a31+this.a22*r.a32+this.a32*r.a33,this.a13*r.a11+this.a23*r.a12+this.a33*r.a13,this.a13*r.a21+this.a23*r.a22+this.a33*r.a23,this.a13*r.a31+this.a23*r.a32+this.a33*r.a33)}}class Ol extends Rl{sampleGrid(r,a,l,d,f,y,v,A,T,O,k,q,Z,J,ee,se,he,Re,Te){const Ne=Er.quadrilateralToQuadrilateral(d,f,y,v,A,T,O,k,q,Z,J,ee,se,he,Re,Te);return this.sampleGridWithTransform(r,a,l,Ne)}sampleGridWithTransform(r,a,l,d){if(a<=0||l<=0)throw new ne;const f=new Le(a,l),y=new Float32Array(2*a);for(let v=0;v<l;v++){const A=y.length,T=v+.5;for(let O=0;O<A;O+=2)y[O]=O/2+.5,y[O+1]=T;d.transformPoints(y),Rl.checkAndNudgePoints(r,y);try{for(let O=0;O<A;O+=2)r.get(Math.floor(y[O]),Math.floor(y[O+1]))&&f.set(O/2,v)}catch{throw new ne}}return f}}class Lr{static setGridSampler(r){Lr.gridSampler=r}static getInstance(){return Lr.gridSampler}}Lr.gridSampler=new Ol;class Wn{constructor(r,a){this.x=r,this.y=a}toResultPoint(){return new ze(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Ml{constructor(r){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=r}detect(){return this.detectMirror(!1)}detectMirror(r){let a=this.getMatrixCenter(),l=this.getBullsEyeCorners(a);if(r){let y=l[0];l[0]=l[2],l[2]=y}this.extractParameters(l);let d=this.sampleGrid(this.image,l[this.shift%4],l[(this.shift+1)%4],l[(this.shift+2)%4],l[(this.shift+3)%4]),f=this.getMatrixCornerPoints(l);return new lu(d,f,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(r){if(!this.isValidPoint(r[0])||!this.isValidPoint(r[1])||!this.isValidPoint(r[2])||!this.isValidPoint(r[3]))throw new ne;let a=2*this.nbCenterLayers,l=new Int32Array([this.sampleLine(r[0],r[1],a),this.sampleLine(r[1],r[2],a),this.sampleLine(r[2],r[3],a),this.sampleLine(r[3],r[0],a)]);this.shift=this.getRotation(l,a);let d=0;for(let y=0;y<4;y++){let v=l[(this.shift+y)%4];this.compact?(d<<=7,d+=v>>1&127):(d<<=10,d+=(v>>2&992)+(v>>1&31))}let f=this.getCorrectedParameterData(d,this.compact);this.compact?(this.nbLayers=(f>>6)+1,this.nbDataBlocks=(f&63)+1):(this.nbLayers=(f>>11)+1,this.nbDataBlocks=(f&2047)+1)}getRotation(r,a){let l=0;r.forEach((d,f,y)=>{let v=(d>>a-2<<1)+(d&1);l=(l<<3)+v}),l=((l&1)<<11)+(l>>1);for(let d=0;d<4;d++)if(U.bitCount(l^this.EXPECTED_CORNER_BITS[d])<=2)return d;throw new ne}getCorrectedParameterData(r,a){let l,d;a?(l=7,d=2):(l=10,d=4);let f=l-d,y=new Int32Array(l);for(let A=l-1;A>=0;--A)y[A]=r&15,r>>=4;try{new rs(vt.AZTEC_PARAM).decode(y,f)}catch{throw new ne}let v=0;for(let A=0;A<d;A++)v=(v<<4)+y[A];return v}getBullsEyeCorners(r){let a=r,l=r,d=r,f=r,y=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let k=this.getFirstDifferent(a,y,1,-1),q=this.getFirstDifferent(l,y,1,1),Z=this.getFirstDifferent(d,y,-1,1),J=this.getFirstDifferent(f,y,-1,-1);if(this.nbCenterLayers>2){let ee=this.distancePoint(J,k)*this.nbCenterLayers/(this.distancePoint(f,a)*(this.nbCenterLayers+2));if(ee<.75||ee>1.25||!this.isWhiteOrBlackRectangle(k,q,Z,J))break}a=k,l=q,d=Z,f=J,y=!y}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new ne;this.compact=this.nbCenterLayers===5;let v=new ze(a.getX()+.5,a.getY()-.5),A=new ze(l.getX()+.5,l.getY()+.5),T=new ze(d.getX()-.5,d.getY()+.5),O=new ze(f.getX()-.5,f.getY()-.5);return this.expandSquare([v,A,T,O],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let r,a,l,d;try{let v=new on(this.image).detect();r=v[0],a=v[1],l=v[2],d=v[3]}catch{let A=this.image.getWidth()/2,T=this.image.getHeight()/2;r=this.getFirstDifferent(new Wn(A+7,T-7),!1,1,-1).toResultPoint(),a=this.getFirstDifferent(new Wn(A+7,T+7),!1,1,1).toResultPoint(),l=this.getFirstDifferent(new Wn(A-7,T+7),!1,-1,1).toResultPoint(),d=this.getFirstDifferent(new Wn(A-7,T-7),!1,-1,-1).toResultPoint()}let f=ot.round((r.getX()+d.getX()+a.getX()+l.getX())/4),y=ot.round((r.getY()+d.getY()+a.getY()+l.getY())/4);try{let v=new on(this.image,15,f,y).detect();r=v[0],a=v[1],l=v[2],d=v[3]}catch{r=this.getFirstDifferent(new Wn(f+7,y-7),!1,1,-1).toResultPoint(),a=this.getFirstDifferent(new Wn(f+7,y+7),!1,1,1).toResultPoint(),l=this.getFirstDifferent(new Wn(f-7,y+7),!1,-1,1).toResultPoint(),d=this.getFirstDifferent(new Wn(f-7,y-7),!1,-1,-1).toResultPoint()}return f=ot.round((r.getX()+d.getX()+a.getX()+l.getX())/4),y=ot.round((r.getY()+d.getY()+a.getY()+l.getY())/4),new Wn(f,y)}getMatrixCornerPoints(r){return this.expandSquare(r,2*this.nbCenterLayers,this.getDimension())}sampleGrid(r,a,l,d,f){let y=Lr.getInstance(),v=this.getDimension(),A=v/2-this.nbCenterLayers,T=v/2+this.nbCenterLayers;return y.sampleGrid(r,v,v,A,A,T,A,T,T,A,T,a.getX(),a.getY(),l.getX(),l.getY(),d.getX(),d.getY(),f.getX(),f.getY())}sampleLine(r,a,l){let d=0,f=this.distanceResultPoint(r,a),y=f/l,v=r.getX(),A=r.getY(),T=y*(a.getX()-r.getX())/f,O=y*(a.getY()-r.getY())/f;for(let k=0;k<l;k++)this.image.get(ot.round(v+k*T),ot.round(A+k*O))&&(d|=1<<l-k-1);return d}isWhiteOrBlackRectangle(r,a,l,d){let f=3;r=new Wn(r.getX()-f,r.getY()+f),a=new Wn(a.getX()-f,a.getY()-f),l=new Wn(l.getX()+f,l.getY()-f),d=new Wn(d.getX()+f,d.getY()+f);let y=this.getColor(d,r);if(y===0)return!1;let v=this.getColor(r,a);return v!==y||(v=this.getColor(a,l),v!==y)?!1:(v=this.getColor(l,d),v===y)}getColor(r,a){let l=this.distancePoint(r,a),d=(a.getX()-r.getX())/l,f=(a.getY()-r.getY())/l,y=0,v=r.getX(),A=r.getY(),T=this.image.get(r.getX(),r.getY()),O=Math.ceil(l);for(let q=0;q<O;q++)v+=d,A+=f,this.image.get(ot.round(v),ot.round(A))!==T&&y++;let k=y/l;return k>.1&&k<.9?0:k<=.1===T?1:-1}getFirstDifferent(r,a,l,d){let f=r.getX()+l,y=r.getY()+d;for(;this.isValid(f,y)&&this.image.get(f,y)===a;)f+=l,y+=d;for(f-=l,y-=d;this.isValid(f,y)&&this.image.get(f,y)===a;)f+=l;for(f-=l;this.isValid(f,y)&&this.image.get(f,y)===a;)y+=d;return y-=d,new Wn(f,y)}expandSquare(r,a,l){let d=l/(2*a),f=r[0].getX()-r[2].getX(),y=r[0].getY()-r[2].getY(),v=(r[0].getX()+r[2].getX())/2,A=(r[0].getY()+r[2].getY())/2,T=new ze(v+d*f,A+d*y),O=new ze(v-d*f,A-d*y);f=r[1].getX()-r[3].getX(),y=r[1].getY()-r[3].getY(),v=(r[1].getX()+r[3].getX())/2,A=(r[1].getY()+r[3].getY())/2;let k=new ze(v+d*f,A+d*y),q=new ze(v-d*f,A-d*y);return[T,k,O,q]}isValid(r,a){return r>=0&&r<this.image.getWidth()&&a>0&&a<this.image.getHeight()}isValidPoint(r){let a=ot.round(r.getX()),l=ot.round(r.getY());return this.isValid(a,l)}distancePoint(r,a){return ot.distance(r.getX(),r.getY(),a.getX(),a.getY())}distanceResultPoint(r,a){return ot.distance(r.getX(),r.getY(),a.getX(),a.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(U.truncDivision(this.nbLayers-4,8)+1)+15}}class xo{decode(r,a=null){let l=null,d=new Ml(r.getBlackMatrix()),f=null,y=null;try{let O=d.detectMirror(!1);f=O.getPoints(),this.reportFoundResultPoints(a,f),y=new jt().decode(O)}catch(O){l=O}if(y==null)try{let O=d.detectMirror(!0);f=O.getPoints(),this.reportFoundResultPoints(a,f),y=new jt().decode(O)}catch(O){throw l??O}let v=new _e(y.getText(),y.getRawBytes(),y.getNumBits(),f,Ie.AZTEC,L.currentTimeMillis()),A=y.getByteSegments();A!=null&&v.putMetadata(bt.BYTE_SEGMENTS,A);let T=y.getECLevel();return T!=null&&v.putMetadata(bt.ERROR_CORRECTION_LEVEL,T),v}reportFoundResultPoints(r,a){if(r!=null){let l=r.get(X.NEED_RESULT_POINT_CALLBACK);l!=null&&a.forEach((d,f,y)=>{l.foundPossibleResultPoint(d)})}}reset(){}}class Ph extends Me{constructor(r=500){super(new xo,r)}}class Wt{decode(r,a){try{return this.doDecode(r,a)}catch{if(a&&a.get(X.TRY_HARDER)===!0&&r.isRotateSupported()){const f=r.rotateCounterClockwise(),y=this.doDecode(f,a),v=y.getResultMetadata();let A=270;v!==null&&v.get(bt.ORIENTATION)===!0&&(A=A+v.get(bt.ORIENTATION)%360),y.putMetadata(bt.ORIENTATION,A);const T=y.getResultPoints();if(T!==null){const O=f.getHeight();for(let k=0;k<T.length;k++)T[k]=new ze(O-T[k].getY()-1,T[k].getX())}return y}else throw new ne}}reset(){}doDecode(r,a){const l=r.getWidth(),d=r.getHeight();let f=new V(l);const y=a&&a.get(X.TRY_HARDER)===!0,v=Math.max(1,d>>(y?8:5));let A;y?A=d:A=15;const T=Math.trunc(d/2);for(let O=0;O<A;O++){const k=Math.trunc((O+1)/2),q=(O&1)===0,Z=T+v*(q?k:-k);if(Z<0||Z>=d)break;try{f=r.getBlackRow(Z,f)}catch{continue}for(let J=0;J<2;J++){if(J===1&&(f.reverse(),a&&a.get(X.NEED_RESULT_POINT_CALLBACK)===!0)){const ee=new Map;a.forEach((se,he)=>ee.set(he,se)),ee.delete(X.NEED_RESULT_POINT_CALLBACK),a=ee}try{const ee=this.decodeRow(Z,f,a);if(J===1){ee.putMetadata(bt.ORIENTATION,180);const se=ee.getResultPoints();se!==null&&(se[0]=new ze(l-se[0].getX()-1,se[0].getY()),se[1]=new ze(l-se[1].getX()-1,se[1].getY()))}return ee}catch{}}}throw new ne}static recordPattern(r,a,l){const d=l.length;for(let T=0;T<d;T++)l[T]=0;const f=r.getSize();if(a>=f)throw new ne;let y=!r.get(a),v=0,A=a;for(;A<f;){if(r.get(A)!==y)l[v]++;else{if(++v===d)break;l[v]=1,y=!y}A++}if(!(v===d||v===d-1&&A===f))throw new ne}static recordPatternInReverse(r,a,l){let d=l.length,f=r.get(a);for(;a>0&&d>=0;)r.get(--a)!==f&&(d--,f=!f);if(d>=0)throw new ne;Wt.recordPattern(r,a+1,l)}static patternMatchVariance(r,a,l){const d=r.length;let f=0,y=0;for(let T=0;T<d;T++)f+=r[T],y+=a[T];if(f<y)return Number.POSITIVE_INFINITY;const v=f/y;l*=v;let A=0;for(let T=0;T<d;T++){const O=r[T],k=a[T]*v,q=O>k?O-k:k-O;if(q>l)return Number.POSITIVE_INFINITY;A+=q}return A/f}}class Oe extends Wt{static findStartPattern(r){const a=r.getSize(),l=r.getNextSet(0);let d=0,f=Int32Array.from([0,0,0,0,0,0]),y=l,v=!1;const A=6;for(let T=l;T<a;T++)if(r.get(T)!==v)f[d]++;else{if(d===A-1){let O=Oe.MAX_AVG_VARIANCE,k=-1;for(let q=Oe.CODE_START_A;q<=Oe.CODE_START_C;q++){const Z=Wt.patternMatchVariance(f,Oe.CODE_PATTERNS[q],Oe.MAX_INDIVIDUAL_VARIANCE);Z<O&&(O=Z,k=q)}if(k>=0&&r.isRange(Math.max(0,y-(T-y)/2),y,!1))return Int32Array.from([y,T,k]);y+=f[0]+f[1],f=f.slice(2,f.length-1),f[d-1]=0,f[d]=0,d--}else d++;f[d]=1,v=!v}throw new ne}static decodeCode(r,a,l){Wt.recordPattern(r,l,a);let d=Oe.MAX_AVG_VARIANCE,f=-1;for(let y=0;y<Oe.CODE_PATTERNS.length;y++){const v=Oe.CODE_PATTERNS[y],A=this.patternMatchVariance(a,v,Oe.MAX_INDIVIDUAL_VARIANCE);A<d&&(d=A,f=y)}if(f>=0)return f;throw new ne}decodeRow(r,a,l){const d=l&&l.get(X.ASSUME_GS1)===!0,f=Oe.findStartPattern(a),y=f[2];let v=0;const A=new Uint8Array(20);A[v++]=y;let T;switch(y){case Oe.CODE_START_A:T=Oe.CODE_CODE_A;break;case Oe.CODE_START_B:T=Oe.CODE_CODE_B;break;case Oe.CODE_START_C:T=Oe.CODE_CODE_C;break;default:throw new z}let O=!1,k=!1,q="",Z=f[0],J=f[1];const ee=Int32Array.from([0,0,0,0,0,0]);let se=0,he=0,Re=y,Te=0,Ne=!0,st=!1,Je=!1;for(;!O;){const us=k;switch(k=!1,se=he,he=Oe.decodeCode(a,ee,J),A[v++]=he,he!==Oe.CODE_STOP&&(Ne=!0),he!==Oe.CODE_STOP&&(Te++,Re+=Te*he),Z=J,J+=ee.reduce((Cu,Vl)=>Cu+Vl,0),he){case Oe.CODE_START_A:case Oe.CODE_START_B:case Oe.CODE_START_C:throw new z}switch(T){case Oe.CODE_CODE_A:if(he<64)Je===st?q+=String.fromCharCode(32+he):q+=String.fromCharCode(32+he+128),Je=!1;else if(he<96)Je===st?q+=String.fromCharCode(he-64):q+=String.fromCharCode(he+64),Je=!1;else switch(he!==Oe.CODE_STOP&&(Ne=!1),he){case Oe.CODE_FNC_1:d&&(q.length===0?q+="]C1":q+="");break;case Oe.CODE_FNC_2:case Oe.CODE_FNC_3:break;case Oe.CODE_FNC_4_A:!st&&Je?(st=!0,Je=!1):st&&Je?(st=!1,Je=!1):Je=!0;break;case Oe.CODE_SHIFT:k=!0,T=Oe.CODE_CODE_B;break;case Oe.CODE_CODE_B:T=Oe.CODE_CODE_B;break;case Oe.CODE_CODE_C:T=Oe.CODE_CODE_C;break;case Oe.CODE_STOP:O=!0;break}break;case Oe.CODE_CODE_B:if(he<96)Je===st?q+=String.fromCharCode(32+he):q+=String.fromCharCode(32+he+128),Je=!1;else switch(he!==Oe.CODE_STOP&&(Ne=!1),he){case Oe.CODE_FNC_1:d&&(q.length===0?q+="]C1":q+="");break;case Oe.CODE_FNC_2:case Oe.CODE_FNC_3:break;case Oe.CODE_FNC_4_B:!st&&Je?(st=!0,Je=!1):st&&Je?(st=!1,Je=!1):Je=!0;break;case Oe.CODE_SHIFT:k=!0,T=Oe.CODE_CODE_A;break;case Oe.CODE_CODE_A:T=Oe.CODE_CODE_A;break;case Oe.CODE_CODE_C:T=Oe.CODE_CODE_C;break;case Oe.CODE_STOP:O=!0;break}break;case Oe.CODE_CODE_C:if(he<100)he<10&&(q+="0"),q+=he;else switch(he!==Oe.CODE_STOP&&(Ne=!1),he){case Oe.CODE_FNC_1:d&&(q.length===0?q+="]C1":q+="");break;case Oe.CODE_CODE_A:T=Oe.CODE_CODE_A;break;case Oe.CODE_CODE_B:T=Oe.CODE_CODE_B;break;case Oe.CODE_STOP:O=!0;break}break}us&&(T=T===Oe.CODE_CODE_A?Oe.CODE_CODE_B:Oe.CODE_CODE_A)}const mn=J-Z;if(J=a.getNextUnset(J),!a.isRange(J,Math.min(a.getSize(),J+(J-Z)/2),!1))throw new ne;if(Re-=Te*se,Re%103!==se)throw new _;const Nr=q.length;if(Nr===0)throw new ne;Nr>0&&Ne&&(T===Oe.CODE_CODE_C?q=q.substring(0,Nr-2):q=q.substring(0,Nr-1));const Zn=(f[1]+f[0])/2,Dt=Z+mn/2,zn=A.length,fr=new Uint8Array(zn);for(let us=0;us<zn;us++)fr[us]=A[us];const Qs=[new ze(Zn,r),new ze(Dt,r)];return new _e(q,fr,0,Qs,Ie.CODE_128,new Date().getTime())}}Oe.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],Oe.MAX_AVG_VARIANCE=.25,Oe.MAX_INDIVIDUAL_VARIANCE=.7,Oe.CODE_SHIFT=98,Oe.CODE_CODE_C=99,Oe.CODE_CODE_B=100,Oe.CODE_CODE_A=101,Oe.CODE_FNC_1=102,Oe.CODE_FNC_2=97,Oe.CODE_FNC_3=96,Oe.CODE_FNC_4_A=101,Oe.CODE_FNC_4_B=100,Oe.CODE_START_A=103,Oe.CODE_START_B=104,Oe.CODE_START_C=105,Oe.CODE_STOP=106;class Ut extends Wt{constructor(r=!1,a=!1){super(),this.usingCheckDigit=r,this.extendedMode=a,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(r,a,l){let d=this.counters;d.fill(0),this.decodeRowResult="";let f=Ut.findAsteriskPattern(a,d),y=a.getNextSet(f[1]),v=a.getSize(),A,T;do{Ut.recordPattern(a,y,d);let ee=Ut.toNarrowWidePattern(d);if(ee<0)throw new ne;A=Ut.patternToChar(ee),this.decodeRowResult+=A,T=y;for(let se of d)y+=se;y=a.getNextSet(y)}while(A!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let O=0;for(let ee of d)O+=ee;let k=y-T-O;if(y!==v&&k*2<O)throw new ne;if(this.usingCheckDigit){let ee=this.decodeRowResult.length-1,se=0;for(let he=0;he<ee;he++)se+=Ut.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(he));if(this.decodeRowResult.charAt(ee)!==Ut.ALPHABET_STRING.charAt(se%43))throw new _;this.decodeRowResult=this.decodeRowResult.substring(0,ee)}if(this.decodeRowResult.length===0)throw new ne;let q;this.extendedMode?q=Ut.decodeExtended(this.decodeRowResult):q=this.decodeRowResult;let Z=(f[1]+f[0])/2,J=T+O/2;return new _e(q,null,0,[new ze(Z,r),new ze(J,r)],Ie.CODE_39,new Date().getTime())}static findAsteriskPattern(r,a){let l=r.getSize(),d=r.getNextSet(0),f=0,y=d,v=!1,A=a.length;for(let T=d;T<l;T++)if(r.get(T)!==v)a[f]++;else{if(f===A-1){if(this.toNarrowWidePattern(a)===Ut.ASTERISK_ENCODING&&r.isRange(Math.max(0,y-Math.floor((T-y)/2)),y,!1))return[y,T];y+=a[0]+a[1],a.copyWithin(0,2,2+f-1),a[f-1]=0,a[f]=0,f--}else f++;a[f]=1,v=!v}throw new ne}static toNarrowWidePattern(r){let a=r.length,l=0,d;do{let f=2147483647;for(let A of r)A<f&&A>l&&(f=A);l=f,d=0;let y=0,v=0;for(let A=0;A<a;A++){let T=r[A];T>l&&(v|=1<<a-1-A,d++,y+=T)}if(d===3){for(let A=0;A<a&&d>0;A++){let T=r[A];if(T>l&&(d--,T*2>=y))return-1}return v}}while(d>3);return-1}static patternToChar(r){for(let a=0;a<Ut.CHARACTER_ENCODINGS.length;a++)if(Ut.CHARACTER_ENCODINGS[a]===r)return Ut.ALPHABET_STRING.charAt(a);if(r===Ut.ASTERISK_ENCODING)return"*";throw new ne}static decodeExtended(r){let a=r.length,l="";for(let d=0;d<a;d++){let f=r.charAt(d);if(f==="+"||f==="$"||f==="%"||f==="/"){let y=r.charAt(d+1),v="\0";switch(f){case"+":if(y>="A"&&y<="Z")v=String.fromCharCode(y.charCodeAt(0)+32);else throw new z;break;case"$":if(y>="A"&&y<="Z")v=String.fromCharCode(y.charCodeAt(0)-64);else throw new z;break;case"%":if(y>="A"&&y<="E")v=String.fromCharCode(y.charCodeAt(0)-38);else if(y>="F"&&y<="J")v=String.fromCharCode(y.charCodeAt(0)-11);else if(y>="K"&&y<="O")v=String.fromCharCode(y.charCodeAt(0)+16);else if(y>="P"&&y<="T")v=String.fromCharCode(y.charCodeAt(0)+43);else if(y==="U")v="\0";else if(y==="V")v="@";else if(y==="W")v="`";else if(y==="X"||y==="Y"||y==="Z")v="";else throw new z;break;case"/":if(y>="A"&&y<="O")v=String.fromCharCode(y.charCodeAt(0)-32);else if(y==="Z")v=":";else throw new z;break}l+=v,d++}else l+=f}return l}}Ut.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",Ut.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],Ut.ASTERISK_ENCODING=148;class nt extends Wt{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(r,a,l){let d=this.decodeStart(a),f=this.decodeEnd(a),y=new me;nt.decodeMiddle(a,d[1],f[0],y);let v=y.toString(),A=null;l!=null&&(A=l.get(X.ALLOWED_LENGTHS)),A==null&&(A=nt.DEFAULT_ALLOWED_LENGTHS);let T=v.length,O=!1,k=0;for(let J of A){if(T===J){O=!0;break}J>k&&(k=J)}if(!O&&T>k&&(O=!0),!O)throw new z;const q=[new ze(d[1],r),new ze(f[0],r)];return new _e(v,null,0,q,Ie.ITF,new Date().getTime())}static decodeMiddle(r,a,l,d){let f=new Int32Array(10),y=new Int32Array(5),v=new Int32Array(5);for(f.fill(0),y.fill(0),v.fill(0);a<l;){Wt.recordPattern(r,a,f);for(let T=0;T<5;T++){let O=2*T;y[T]=f[O],v[T]=f[O+1]}let A=nt.decodeDigit(y);d.append(A.toString()),A=this.decodeDigit(v),d.append(A.toString()),f.forEach(function(T){a+=T})}}decodeStart(r){let a=nt.skipWhiteSpace(r),l=nt.findGuardPattern(r,a,nt.START_PATTERN);return this.narrowLineWidth=(l[1]-l[0])/4,this.validateQuietZone(r,l[0]),l}validateQuietZone(r,a){let l=this.narrowLineWidth*10;l=l<a?l:a;for(let d=a-1;l>0&&d>=0&&!r.get(d);d--)l--;if(l!==0)throw new ne}static skipWhiteSpace(r){const a=r.getSize(),l=r.getNextSet(0);if(l===a)throw new ne;return l}decodeEnd(r){r.reverse();try{let a=nt.skipWhiteSpace(r),l;try{l=nt.findGuardPattern(r,a,nt.END_PATTERN_REVERSED[0])}catch(f){f instanceof ne&&(l=nt.findGuardPattern(r,a,nt.END_PATTERN_REVERSED[1]))}this.validateQuietZone(r,l[0]);let d=l[0];return l[0]=r.getSize()-l[1],l[1]=r.getSize()-d,l}finally{r.reverse()}}static findGuardPattern(r,a,l){let d=l.length,f=new Int32Array(d),y=r.getSize(),v=!1,A=0,T=a;f.fill(0);for(let O=a;O<y;O++)if(r.get(O)!==v)f[A]++;else{if(A===d-1){if(Wt.patternMatchVariance(f,l,nt.MAX_INDIVIDUAL_VARIANCE)<nt.MAX_AVG_VARIANCE)return[T,O];T+=f[0]+f[1],L.arraycopy(f,2,f,0,A-1),f[A-1]=0,f[A]=0,A--}else A++;f[A]=1,v=!v}throw new ne}static decodeDigit(r){let a=nt.MAX_AVG_VARIANCE,l=-1,d=nt.PATTERNS.length;for(let f=0;f<d;f++){let y=nt.PATTERNS[f],v=Wt.patternMatchVariance(r,y,nt.MAX_INDIVIDUAL_VARIANCE);v<a?(a=v,l=f):v===a&&(l=-1)}if(l>=0)return l%10;throw new ne}}nt.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],nt.MAX_AVG_VARIANCE=.38,nt.MAX_INDIVIDUAL_VARIANCE=.5,nt.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],nt.START_PATTERN=Int32Array.from([1,1,1,1]),nt.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class nn extends Wt{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(r){let a=!1,l,d=0,f=Int32Array.from([0,0,0]);for(;!a;){f=Int32Array.from([0,0,0]),l=nn.findGuardPattern(r,d,!1,this.START_END_PATTERN,f);let y=l[0];d=l[1];let v=y-(d-y);v>=0&&(a=r.isRange(v,y,!1))}return l}static checkChecksum(r){return nn.checkStandardUPCEANChecksum(r)}static checkStandardUPCEANChecksum(r){let a=r.length;if(a===0)return!1;let l=parseInt(r.charAt(a-1),10);return nn.getStandardUPCEANChecksum(r.substring(0,a-1))===l}static getStandardUPCEANChecksum(r){let a=r.length,l=0;for(let d=a-1;d>=0;d-=2){let f=r.charAt(d).charCodeAt(0)-48;if(f<0||f>9)throw new z;l+=f}l*=3;for(let d=a-2;d>=0;d-=2){let f=r.charAt(d).charCodeAt(0)-48;if(f<0||f>9)throw new z;l+=f}return(1e3-l)%10}static decodeEnd(r,a){return nn.findGuardPattern(r,a,!1,nn.START_END_PATTERN,new Int32Array(nn.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(r,a,l,d){return this.findGuardPattern(r,a,l,d,new Int32Array(d.length))}static findGuardPattern(r,a,l,d,f){let y=r.getSize();a=l?r.getNextUnset(a):r.getNextSet(a);let v=0,A=a,T=d.length,O=l;for(let k=a;k<y;k++)if(r.get(k)!==O)f[v]++;else{if(v===T-1){if(Wt.patternMatchVariance(f,d,nn.MAX_INDIVIDUAL_VARIANCE)<nn.MAX_AVG_VARIANCE)return Int32Array.from([A,k]);A+=f[0]+f[1];let q=f.slice(2,f.length-1);for(let Z=0;Z<v-1;Z++)f[Z]=q[Z];f[v-1]=0,f[v]=0,v--}else v++;f[v]=1,O=!O}throw new ne}static decodeDigit(r,a,l,d){this.recordPattern(r,l,a);let f=this.MAX_AVG_VARIANCE,y=-1,v=d.length;for(let A=0;A<v;A++){let T=d[A],O=Wt.patternMatchVariance(a,T,nn.MAX_INDIVIDUAL_VARIANCE);O<f&&(f=O,y=A)}if(y>=0)return y;throw new ne}}nn.MAX_AVG_VARIANCE=.48,nn.MAX_INDIVIDUAL_VARIANCE=.7,nn.START_END_PATTERN=Int32Array.from([1,1,1]),nn.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),nn.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),nn.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Ia{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(r,a,l){let d=this.decodeRowStringBuffer,f=this.decodeMiddle(a,l,d),y=d.toString(),v=Ia.parseExtensionString(y),A=[new ze((l[0]+l[1])/2,r),new ze(f,r)],T=new _e(y,null,0,A,Ie.UPC_EAN_EXTENSION,new Date().getTime());return v!=null&&T.putAllMetadata(v),T}decodeMiddle(r,a,l){let d=this.decodeMiddleCounters;d[0]=0,d[1]=0,d[2]=0,d[3]=0;let f=r.getSize(),y=a[1],v=0;for(let T=0;T<5&&y<f;T++){let O=nn.decodeDigit(r,d,y,nn.L_AND_G_PATTERNS);l+=String.fromCharCode(48+O%10);for(let k of d)y+=k;O>=10&&(v|=1<<4-T),T!==4&&(y=r.getNextSet(y),y=r.getNextUnset(y))}if(l.length!==5)throw new ne;let A=this.determineCheckDigit(v);if(Ia.extensionChecksum(l.toString())!==A)throw new ne;return y}static extensionChecksum(r){let a=r.length,l=0;for(let d=a-2;d>=0;d-=2)l+=r.charAt(d).charCodeAt(0)-48;l*=3;for(let d=a-1;d>=0;d-=2)l+=r.charAt(d).charCodeAt(0)-48;return l*=3,l%10}determineCheckDigit(r){for(let a=0;a<10;a++)if(r===this.CHECK_DIGIT_ENCODINGS[a])return a;throw new ne}static parseExtensionString(r){if(r.length!==5)return null;let a=Ia.parseExtension5String(r);return a==null?null:new Map([[bt.SUGGESTED_PRICE,a]])}static parseExtension5String(r){let a;switch(r.charAt(0)){case"0":a="";break;case"5":a="$";break;case"9":switch(r){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}a="";break;default:a="";break}let l=parseInt(r.substring(1)),d=(l/100).toString(),f=l%100,y=f<10?"0"+f:f.toString();return a+d+"."+y}}class Il{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(r,a,l){let d=this.decodeRowStringBuffer,f=this.decodeMiddle(a,l,d),y=d.toString(),v=Il.parseExtensionString(y),A=[new ze((l[0]+l[1])/2,r),new ze(f,r)],T=new _e(y,null,0,A,Ie.UPC_EAN_EXTENSION,new Date().getTime());return v!=null&&T.putAllMetadata(v),T}decodeMiddle(r,a,l){let d=this.decodeMiddleCounters;d[0]=0,d[1]=0,d[2]=0,d[3]=0;let f=r.getSize(),y=a[1],v=0;for(let A=0;A<2&&y<f;A++){let T=nn.decodeDigit(r,d,y,nn.L_AND_G_PATTERNS);l+=String.fromCharCode(48+T%10);for(let O of d)y+=O;T>=10&&(v|=1<<1-A),A!==1&&(y=r.getNextSet(y),y=r.getNextUnset(y))}if(l.length!==2)throw new ne;if(parseInt(l.toString())%4!==v)throw new ne;return y}static parseExtensionString(r){return r.length!==2?null:new Map([[bt.ISSUE_NUMBER,parseInt(r)]])}}class _a{static decodeRow(r,a,l){let d=nn.findGuardPattern(a,l,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Ia().decodeRow(r,a,d)}catch{return new Il().decodeRow(r,a,d)}}}_a.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class ht extends nn{constructor(){super(),this.decodeRowStringBuffer="",ht.L_AND_G_PATTERNS=ht.L_PATTERNS.map(r=>Int32Array.from(r));for(let r=10;r<20;r++){let a=ht.L_PATTERNS[r-10],l=new Int32Array(a.length);for(let d=0;d<a.length;d++)l[d]=a[a.length-d-1];ht.L_AND_G_PATTERNS[r]=l}}decodeRow(r,a,l){let d=ht.findStartGuardPattern(a),f=l==null?null:l.get(X.NEED_RESULT_POINT_CALLBACK);if(f!=null){const Ne=new ze((d[0]+d[1])/2,r);f.foundPossibleResultPoint(Ne)}let y=this.decodeMiddle(a,d,this.decodeRowStringBuffer),v=y.rowOffset,A=y.resultString;if(f!=null){const Ne=new ze(v,r);f.foundPossibleResultPoint(Ne)}let T=this.decodeEnd(a,v);if(f!=null){const Ne=new ze((T[0]+T[1])/2,r);f.foundPossibleResultPoint(Ne)}let O=T[1],k=O+(O-T[0]);if(k>=a.getSize()||!a.isRange(O,k,!1))throw new ne;let q=A.toString();if(q.length<8)throw new z;if(!ht.checkChecksum(q))throw new _;let Z=(d[1]+d[0])/2,J=(T[1]+T[0])/2,ee=this.getBarcodeFormat(),se=[new ze(Z,r),new ze(J,r)],he=new _e(q,null,0,se,ee,new Date().getTime()),Re=0;try{let Ne=_a.decodeRow(r,a,T[1]);he.putMetadata(bt.UPC_EAN_EXTENSION,Ne.getText()),he.putAllMetadata(Ne.getResultMetadata()),he.addResultPoints(Ne.getResultPoints()),Re=Ne.getText().length}catch{}let Te=l==null?null:l.get(X.ALLOWED_EAN_EXTENSIONS);if(Te!=null){let Ne=!1;for(let st in Te)if(Re.toString()===st){Ne=!0;break}if(!Ne)throw new ne}return he}decodeEnd(r,a){return ht.findGuardPattern(r,a,!1,ht.START_END_PATTERN,new Int32Array(ht.START_END_PATTERN.length).fill(0))}static checkChecksum(r){return ht.checkStandardUPCEANChecksum(r)}static checkStandardUPCEANChecksum(r){let a=r.length;if(a===0)return!1;let l=parseInt(r.charAt(a-1),10);return ht.getStandardUPCEANChecksum(r.substring(0,a-1))===l}static getStandardUPCEANChecksum(r){let a=r.length,l=0;for(let d=a-1;d>=0;d-=2){let f=r.charAt(d).charCodeAt(0)-48;if(f<0||f>9)throw new z;l+=f}l*=3;for(let d=a-2;d>=0;d-=2){let f=r.charAt(d).charCodeAt(0)-48;if(f<0||f>9)throw new z;l+=f}return(1e3-l)%10}}class Jr extends ht{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(r,a,l){let d=this.decodeMiddleCounters;d[0]=0,d[1]=0,d[2]=0,d[3]=0;let f=r.getSize(),y=a[1],v=0;for(let T=0;T<6&&y<f;T++){let O=ht.decodeDigit(r,d,y,ht.L_AND_G_PATTERNS);l+=String.fromCharCode(48+O%10);for(let k of d)y+=k;O>=10&&(v|=1<<5-T)}l=Jr.determineFirstDigit(l,v),y=ht.findGuardPattern(r,y,!0,ht.MIDDLE_PATTERN,new Int32Array(ht.MIDDLE_PATTERN.length).fill(0))[1];for(let T=0;T<6&&y<f;T++){let O=ht.decodeDigit(r,d,y,ht.L_PATTERNS);l+=String.fromCharCode(48+O);for(let k of d)y+=k}return{rowOffset:y,resultString:l}}getBarcodeFormat(){return Ie.EAN_13}static determineFirstDigit(r,a){for(let l=0;l<10;l++)if(a===this.FIRST_DIGIT_ENCODINGS[l])return r=String.fromCharCode(48+l)+r,r;throw new ne}}Jr.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class ki extends ht{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(r,a,l){const d=this.decodeMiddleCounters;d[0]=0,d[1]=0,d[2]=0,d[3]=0;let f=r.getSize(),y=a[1];for(let A=0;A<4&&y<f;A++){let T=ht.decodeDigit(r,d,y,ht.L_PATTERNS);l+=String.fromCharCode(48+T);for(let O of d)y+=O}y=ht.findGuardPattern(r,y,!0,ht.MIDDLE_PATTERN,new Int32Array(ht.MIDDLE_PATTERN.length).fill(0))[1];for(let A=0;A<4&&y<f;A++){let T=ht.decodeDigit(r,d,y,ht.L_PATTERNS);l+=String.fromCharCode(48+T);for(let O of d)y+=O}return{rowOffset:y,resultString:l}}getBarcodeFormat(){return Ie.EAN_8}}class Da extends ht{constructor(){super(...arguments),this.ean13Reader=new Jr}getBarcodeFormat(){return Ie.UPC_A}decode(r,a){return this.maybeReturnResult(this.ean13Reader.decode(r))}decodeRow(r,a,l){return this.maybeReturnResult(this.ean13Reader.decodeRow(r,a,l))}decodeMiddle(r,a,l){return this.ean13Reader.decodeMiddle(r,a,l)}maybeReturnResult(r){let a=r.getText();if(a.charAt(0)==="0"){let l=new _e(a.substring(1),null,null,r.getResultPoints(),Ie.UPC_A);return r.getResultMetadata()!=null&&l.putAllMetadata(r.getResultMetadata()),l}else throw new ne}reset(){this.ean13Reader.reset()}}class Qn extends ht{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(r,a,l){const d=this.decodeMiddleCounters.map(T=>T);d[0]=0,d[1]=0,d[2]=0,d[3]=0;const f=r.getSize();let y=a[1],v=0;for(let T=0;T<6&&y<f;T++){const O=Qn.decodeDigit(r,d,y,Qn.L_AND_G_PATTERNS);l+=String.fromCharCode(48+O%10);for(let k of d)y+=k;O>=10&&(v|=1<<5-T)}let A=Qn.determineNumSysAndCheckDigit(l,v);return{rowOffset:y,resultString:A}}decodeEnd(r,a){return Qn.findGuardPatternWithoutCounters(r,a,!0,Qn.MIDDLE_END_PATTERN)}checkChecksum(r){return ht.checkChecksum(Qn.convertUPCEtoUPCA(r))}static determineNumSysAndCheckDigit(r,a){for(let l=0;l<=1;l++)for(let d=0;d<10;d++)if(a===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[l][d]){let f=String.fromCharCode(48+l),y=String.fromCharCode(48+d);return f+r+y}throw ne.getNotFoundInstance()}getBarcodeFormat(){return Ie.UPC_E}static convertUPCEtoUPCA(r){const a=r.slice(1,7).split("").map(f=>f.charCodeAt(0)),l=new me;l.append(r.charAt(0));let d=a[5];switch(d){case 0:case 1:case 2:l.appendChars(a,0,2),l.append(d),l.append("0000"),l.appendChars(a,2,3);break;case 3:l.appendChars(a,0,3),l.append("00000"),l.appendChars(a,3,2);break;case 4:l.appendChars(a,0,4),l.append("00000"),l.append(a[4]);break;default:l.appendChars(a,0,5),l.append("0000"),l.append(d);break}return r.length>=8&&l.append(r.charAt(7)),l.toString()}}Qn.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Qn.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class _l extends Wt{constructor(r){super();let a=r==null?null:r.get(X.POSSIBLE_FORMATS),l=[];o(a)?(l.push(new Jr),l.push(new Da),l.push(new ki),l.push(new Qn)):(a.indexOf(Ie.EAN_13)>-1&&l.push(new Jr),a.indexOf(Ie.UPC_A)>-1&&l.push(new Da),a.indexOf(Ie.EAN_8)>-1&&l.push(new ki),a.indexOf(Ie.UPC_E)>-1&&l.push(new Qn)),this.readers=l}decodeRow(r,a,l){for(let d of this.readers)try{const f=d.decodeRow(r,a,l),y=f.getBarcodeFormat()===Ie.EAN_13&&f.getText().charAt(0)==="0",v=l==null?null:l.get(X.POSSIBLE_FORMATS),A=v==null||v.includes(Ie.UPC_A);if(y&&A){const T=f.getRawBytes(),O=new _e(f.getText().substring(1),T,T?T.length:null,f.getResultPoints(),Ie.UPC_A);return O.putAllMetadata(f.getResultMetadata()),O}return f}catch{}throw new ne}reset(){for(let r of this.readers)r.reset()}}class kn extends Wt{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(r,a){for(let l=0;l<a.length;l++)if(Wt.patternMatchVariance(r,a[l],kn.MAX_INDIVIDUAL_VARIANCE)<kn.MAX_AVG_VARIANCE)return l;throw new ne}static count(r){return ot.sum(new Int32Array(r))}static increment(r,a){let l=0,d=a[0];for(let f=1;f<r.length;f++)a[f]>d&&(d=a[f],l=f);r[l]++}static decrement(r,a){let l=0,d=a[0];for(let f=1;f<r.length;f++)a[f]<d&&(d=a[f],l=f);r[l]--}static isFinderPattern(r){let a=r[0]+r[1],l=a+r[2]+r[3],d=a/l;if(d>=kn.MIN_FINDER_PATTERN_RATIO&&d<=kn.MAX_FINDER_PATTERN_RATIO){let f=Number.MAX_SAFE_INTEGER,y=Number.MIN_SAFE_INTEGER;for(let v of r)v>y&&(y=v),v<f&&(f=v);return y<10*f}return!1}}kn.MAX_AVG_VARIANCE=.2,kn.MAX_INDIVIDUAL_VARIANCE=.45,kn.MIN_FINDER_PATTERN_RATIO=9.5/12,kn.MAX_FINDER_PATTERN_RATIO=12.5/14;class Pi{constructor(r,a){this.value=r,this.checksumPortion=a}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(r){if(!(r instanceof Pi))return!1;const a=r;return this.value===a.value&&this.checksumPortion===a.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class Ui{constructor(r,a,l,d,f){this.value=r,this.startEnd=a,this.value=r,this.startEnd=a,this.resultPoints=new Array,this.resultPoints.push(new ze(l,f)),this.resultPoints.push(new ze(d,f))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(r){if(!(r instanceof Ui))return!1;const a=r;return this.value===a.value}hashCode(){return this.value}}class ei{constructor(){}static getRSSvalue(r,a,l){let d=0;for(let A of r)d+=A;let f=0,y=0,v=r.length;for(let A=0;A<v-1;A++){let T;for(T=1,y|=1<<A;T<r[A];T++,y&=~(1<<A)){let O=ei.combins(d-T-1,v-A-2);if(l&&y===0&&d-T-(v-A-1)>=v-A-1&&(O-=ei.combins(d-T-(v-A),v-A-2)),v-A-1>1){let k=0;for(let q=d-T-(v-A-2);q>a;q--)k+=ei.combins(d-T-q-1,v-A-3);O-=k*(v-1-A)}else d-T>a&&O--;f+=O}d-=T}return f}static combins(r,a){let l,d;r-a>a?(d=a,l=r-a):(d=r-a,l=a);let f=1,y=1;for(let v=r;v>l;v--)f*=v,y<=d&&(f/=y,y++);for(;y<=d;)f/=y,y++;return f}}class cu{static buildBitArray(r){let a=r.length*2-1;r[r.length-1].getRightChar()==null&&(a-=1);let l=12*a,d=new V(l),f=0,v=r[0].getRightChar().getValue();for(let A=11;A>=0;--A)(v&1<<A)!=0&&d.set(f),f++;for(let A=1;A<r.length;++A){let T=r[A],O=T.getLeftChar().getValue();for(let k=11;k>=0;--k)(O&1<<k)!=0&&d.set(f),f++;if(T.getRightChar()!=null){let k=T.getRightChar().getValue();for(let q=11;q>=0;--q)(k&1<<q)!=0&&d.set(f),f++}}return d}}class zi{constructor(r,a){a?this.decodedInformation=null:(this.finished=r,this.decodedInformation=a)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class wo{constructor(r){this.newPosition=r}getNewPosition(){return this.newPosition}}class Gn extends wo{constructor(r,a){super(r),this.value=a}getValue(){return this.value}isFNC1(){return this.value===Gn.FNC1}}Gn.FNC1="$";class xi extends wo{constructor(r,a,l){super(r),l?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=a}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class lr extends wo{constructor(r,a,l){if(super(r),a<0||a>10||l<0||l>10)throw new z;this.firstDigit=a,this.secondDigit=l}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===lr.FNC1}isSecondDigitFNC1(){return this.secondDigit===lr.FNC1}isAnyFNC1(){return this.firstDigit===lr.FNC1||this.secondDigit===lr.FNC1}}lr.FNC1=10;class Be{constructor(){}static parseFieldsInGeneralPurpose(r){if(!r)return null;if(r.length<2)throw new ne;let a=r.substring(0,2);for(let f of Be.TWO_DIGIT_DATA_LENGTH)if(f[0]===a)return f[1]===Be.VARIABLE_LENGTH?Be.processVariableAI(2,f[2],r):Be.processFixedAI(2,f[1],r);if(r.length<3)throw new ne;let l=r.substring(0,3);for(let f of Be.THREE_DIGIT_DATA_LENGTH)if(f[0]===l)return f[1]===Be.VARIABLE_LENGTH?Be.processVariableAI(3,f[2],r):Be.processFixedAI(3,f[1],r);for(let f of Be.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(f[0]===l)return f[1]===Be.VARIABLE_LENGTH?Be.processVariableAI(4,f[2],r):Be.processFixedAI(4,f[1],r);if(r.length<4)throw new ne;let d=r.substring(0,4);for(let f of Be.FOUR_DIGIT_DATA_LENGTH)if(f[0]===d)return f[1]===Be.VARIABLE_LENGTH?Be.processVariableAI(4,f[2],r):Be.processFixedAI(4,f[1],r);throw new ne}static processFixedAI(r,a,l){if(l.length<r)throw new ne;let d=l.substring(0,r);if(l.length<r+a)throw new ne;let f=l.substring(r,r+a),y=l.substring(r+a),v="("+d+")"+f,A=Be.parseFieldsInGeneralPurpose(y);return A==null?v:v+A}static processVariableAI(r,a,l){let d=l.substring(0,r),f;l.length<r+a?f=l.length:f=r+a;let y=l.substring(r,f),v=l.substring(f),A="("+d+")"+y,T=Be.parseFieldsInGeneralPurpose(v);return T==null?A:A+T}}Be.VARIABLE_LENGTH=[],Be.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",Be.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",Be.VARIABLE_LENGTH,20],["22",Be.VARIABLE_LENGTH,29],["30",Be.VARIABLE_LENGTH,8],["37",Be.VARIABLE_LENGTH,8],["90",Be.VARIABLE_LENGTH,30],["91",Be.VARIABLE_LENGTH,30],["92",Be.VARIABLE_LENGTH,30],["93",Be.VARIABLE_LENGTH,30],["94",Be.VARIABLE_LENGTH,30],["95",Be.VARIABLE_LENGTH,30],["96",Be.VARIABLE_LENGTH,30],["97",Be.VARIABLE_LENGTH,3],["98",Be.VARIABLE_LENGTH,30],["99",Be.VARIABLE_LENGTH,30]],Be.THREE_DIGIT_DATA_LENGTH=[["240",Be.VARIABLE_LENGTH,30],["241",Be.VARIABLE_LENGTH,30],["242",Be.VARIABLE_LENGTH,6],["250",Be.VARIABLE_LENGTH,30],["251",Be.VARIABLE_LENGTH,30],["253",Be.VARIABLE_LENGTH,17],["254",Be.VARIABLE_LENGTH,20],["400",Be.VARIABLE_LENGTH,30],["401",Be.VARIABLE_LENGTH,30],["402",17],["403",Be.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",Be.VARIABLE_LENGTH,20],["421",Be.VARIABLE_LENGTH,15],["422",3],["423",Be.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],Be.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",Be.VARIABLE_LENGTH,15],["391",Be.VARIABLE_LENGTH,18],["392",Be.VARIABLE_LENGTH,15],["393",Be.VARIABLE_LENGTH,18],["703",Be.VARIABLE_LENGTH,30]],Be.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",Be.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",Be.VARIABLE_LENGTH,20],["8003",Be.VARIABLE_LENGTH,30],["8004",Be.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",Be.VARIABLE_LENGTH,30],["8008",Be.VARIABLE_LENGTH,12],["8018",18],["8020",Be.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",Be.VARIABLE_LENGTH,70],["8200",Be.VARIABLE_LENGTH,70]];class cr{constructor(r){this.buffer=new me,this.information=r}decodeAllCodes(r,a){let l=a,d=null;do{let f=this.decodeGeneralPurposeField(l,d),y=Be.parseFieldsInGeneralPurpose(f.getNewString());if(y!=null&&r.append(y),f.isRemaining()?d=""+f.getRemainingValue():d=null,l===f.getNewPosition())break;l=f.getNewPosition()}while(!0);return r.toString()}isStillNumeric(r){if(r+7>this.information.getSize())return r+4<=this.information.getSize();for(let a=r;a<r+3;++a)if(this.information.get(a))return!0;return this.information.get(r+3)}decodeNumeric(r){if(r+7>this.information.getSize()){let f=this.extractNumericValueFromBitArray(r,4);return f===0?new lr(this.information.getSize(),lr.FNC1,lr.FNC1):new lr(this.information.getSize(),f-1,lr.FNC1)}let a=this.extractNumericValueFromBitArray(r,7),l=(a-8)/11,d=(a-8)%11;return new lr(r+7,l,d)}extractNumericValueFromBitArray(r,a){return cr.extractNumericValueFromBitArray(this.information,r,a)}static extractNumericValueFromBitArray(r,a,l){let d=0;for(let f=0;f<l;++f)r.get(a+f)&&(d|=1<<l-f-1);return d}decodeGeneralPurposeField(r,a){this.buffer.setLengthToZero(),a!=null&&this.buffer.append(a),this.current.setPosition(r);let l=this.parseBlocks();return l!=null&&l.isRemaining()?new xi(this.current.getPosition(),this.buffer.toString(),l.getRemainingValue()):new xi(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let r,a;do{let l=this.current.getPosition();if(this.current.isAlpha()?(a=this.parseAlphaBlock(),r=a.isFinished()):this.current.isIsoIec646()?(a=this.parseIsoIec646Block(),r=a.isFinished()):(a=this.parseNumericBlock(),r=a.isFinished()),!(l!==this.current.getPosition())&&!r)break}while(!r);return a.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let r=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(r.getNewPosition()),r.isFirstDigitFNC1()){let a;return r.isSecondDigitFNC1()?a=new xi(this.current.getPosition(),this.buffer.toString()):a=new xi(this.current.getPosition(),this.buffer.toString(),r.getSecondDigit()),new zi(!0,a)}if(this.buffer.append(r.getFirstDigit()),r.isSecondDigitFNC1()){let a=new xi(this.current.getPosition(),this.buffer.toString());return new zi(!0,a)}this.buffer.append(r.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new zi(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let r=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(r.getNewPosition()),r.isFNC1()){let a=new xi(this.current.getPosition(),this.buffer.toString());return new zi(!0,a)}this.buffer.append(r.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new zi(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let r=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(r.getNewPosition()),r.isFNC1()){let a=new xi(this.current.getPosition(),this.buffer.toString());return new zi(!0,a)}this.buffer.append(r.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new zi(!1)}isStillIsoIec646(r){if(r+5>this.information.getSize())return!1;let a=this.extractNumericValueFromBitArray(r,5);if(a>=5&&a<16)return!0;if(r+7>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(r,7);if(l>=64&&l<116)return!0;if(r+8>this.information.getSize())return!1;let d=this.extractNumericValueFromBitArray(r,8);return d>=232&&d<253}decodeIsoIec646(r){let a=this.extractNumericValueFromBitArray(r,5);if(a===15)return new Gn(r+5,Gn.FNC1);if(a>=5&&a<15)return new Gn(r+5,"0"+(a-5));let l=this.extractNumericValueFromBitArray(r,7);if(l>=64&&l<90)return new Gn(r+7,""+(l+1));if(l>=90&&l<116)return new Gn(r+7,""+(l+7));let d=this.extractNumericValueFromBitArray(r,8),f;switch(d){case 232:f="!";break;case 233:f='"';break;case 234:f="%";break;case 235:f="&";break;case 236:f="'";break;case 237:f="(";break;case 238:f=")";break;case 239:f="*";break;case 240:f="+";break;case 241:f=",";break;case 242:f="-";break;case 243:f=".";break;case 244:f="/";break;case 245:f=":";break;case 246:f=";";break;case 247:f="<";break;case 248:f="=";break;case 249:f=">";break;case 250:f="?";break;case 251:f="_";break;case 252:f=" ";break;default:throw new z}return new Gn(r+8,f)}isStillAlpha(r){if(r+5>this.information.getSize())return!1;let a=this.extractNumericValueFromBitArray(r,5);if(a>=5&&a<16)return!0;if(r+6>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(r,6);return l>=16&&l<63}decodeAlphanumeric(r){let a=this.extractNumericValueFromBitArray(r,5);if(a===15)return new Gn(r+5,Gn.FNC1);if(a>=5&&a<15)return new Gn(r+5,"0"+(a-5));let l=this.extractNumericValueFromBitArray(r,6);if(l>=32&&l<58)return new Gn(r+6,""+(l+33));let d;switch(l){case 58:d="*";break;case 59:d=",";break;case 60:d="-";break;case 61:d=".";break;case 62:d="/";break;default:throw new wr("Decoding invalid alphanumeric value: "+l)}return new Gn(r+6,d)}isAlphaTo646ToAlphaLatch(r){if(r+1>this.information.getSize())return!1;for(let a=0;a<5&&a+r<this.information.getSize();++a)if(a===2){if(!this.information.get(r+2))return!1}else if(this.information.get(r+a))return!1;return!0}isAlphaOr646ToNumericLatch(r){if(r+3>this.information.getSize())return!1;for(let a=r;a<r+3;++a)if(this.information.get(a))return!1;return!0}isNumericToAlphaNumericLatch(r){if(r+1>this.information.getSize())return!1;for(let a=0;a<4&&a+r<this.information.getSize();++a)if(this.information.get(r+a))return!1;return!0}}class xn{constructor(r){this.information=r,this.generalDecoder=new cr(r)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class Lt extends xn{constructor(r){super(r)}encodeCompressedGtin(r,a){r.append("(01)");let l=r.length();r.append("9"),this.encodeCompressedGtinWithoutAI(r,a,l)}encodeCompressedGtinWithoutAI(r,a,l){for(let d=0;d<4;++d){let f=this.getGeneralDecoder().extractNumericValueFromBitArray(a+10*d,10);f/100===0&&r.append("0"),f/10===0&&r.append("0"),r.append(f)}Lt.appendCheckDigit(r,l)}static appendCheckDigit(r,a){let l=0;for(let d=0;d<13;d++){let f=r.charAt(d+a).charCodeAt(0)-48;l+=(d&1)===0?3*f:f}l=10-l%10,l===10&&(l=0),r.append(l)}}Lt.GTIN_SIZE=40;class Br extends Lt{constructor(r){super(r)}parseInformation(){let r=new me;r.append("(01)");let a=r.length(),l=this.getGeneralDecoder().extractNumericValueFromBitArray(Br.HEADER_SIZE,4);return r.append(l),this.encodeCompressedGtinWithoutAI(r,Br.HEADER_SIZE+4,a),this.getGeneralDecoder().decodeAllCodes(r,Br.HEADER_SIZE+44)}}Br.HEADER_SIZE=4;class Bs extends xn{constructor(r){super(r)}parseInformation(){let r=new me;return this.getGeneralDecoder().decodeAllCodes(r,Bs.HEADER_SIZE)}}Bs.HEADER_SIZE=5;class Eo extends Lt{constructor(r){super(r)}encodeCompressedWeight(r,a,l){let d=this.getGeneralDecoder().extractNumericValueFromBitArray(a,l);this.addWeightCode(r,d);let f=this.checkWeight(d),y=1e5;for(let v=0;v<5;++v)f/y===0&&r.append("0"),y/=10;r.append(f)}}class ti extends Eo{constructor(r){super(r)}parseInformation(){if(this.getInformation().getSize()!=ti.HEADER_SIZE+Eo.GTIN_SIZE+ti.WEIGHT_SIZE)throw new ne;let r=new me;return this.encodeCompressedGtin(r,ti.HEADER_SIZE),this.encodeCompressedWeight(r,ti.HEADER_SIZE+Eo.GTIN_SIZE,ti.WEIGHT_SIZE),r.toString()}}ti.HEADER_SIZE=5,ti.WEIGHT_SIZE=15;class uu extends ti{constructor(r){super(r)}addWeightCode(r,a){r.append("(3103)")}checkWeight(r){return r}}class ja extends ti{constructor(r){super(r)}addWeightCode(r,a){a<1e4?r.append("(3202)"):r.append("(3203)")}checkWeight(r){return r<1e4?r:r-1e4}}class Cr extends Lt{constructor(r){super(r)}parseInformation(){if(this.getInformation().getSize()<Cr.HEADER_SIZE+Lt.GTIN_SIZE)throw new ne;let r=new me;this.encodeCompressedGtin(r,Cr.HEADER_SIZE);let a=this.getGeneralDecoder().extractNumericValueFromBitArray(Cr.HEADER_SIZE+Lt.GTIN_SIZE,Cr.LAST_DIGIT_SIZE);r.append("(392"),r.append(a),r.append(")");let l=this.getGeneralDecoder().decodeGeneralPurposeField(Cr.HEADER_SIZE+Lt.GTIN_SIZE+Cr.LAST_DIGIT_SIZE,null);return r.append(l.getNewString()),r.toString()}}Cr.HEADER_SIZE=8,Cr.LAST_DIGIT_SIZE=2;class hn extends Lt{constructor(r){super(r)}parseInformation(){if(this.getInformation().getSize()<hn.HEADER_SIZE+Lt.GTIN_SIZE)throw new ne;let r=new me;this.encodeCompressedGtin(r,hn.HEADER_SIZE);let a=this.getGeneralDecoder().extractNumericValueFromBitArray(hn.HEADER_SIZE+Lt.GTIN_SIZE,hn.LAST_DIGIT_SIZE);r.append("(393"),r.append(a),r.append(")");let l=this.getGeneralDecoder().extractNumericValueFromBitArray(hn.HEADER_SIZE+Lt.GTIN_SIZE+hn.LAST_DIGIT_SIZE,hn.FIRST_THREE_DIGITS_SIZE);l/100==0&&r.append("0"),l/10==0&&r.append("0"),r.append(l);let d=this.getGeneralDecoder().decodeGeneralPurposeField(hn.HEADER_SIZE+Lt.GTIN_SIZE+hn.LAST_DIGIT_SIZE+hn.FIRST_THREE_DIGITS_SIZE,null);return r.append(d.getNewString()),r.toString()}}hn.HEADER_SIZE=8,hn.LAST_DIGIT_SIZE=2,hn.FIRST_THREE_DIGITS_SIZE=10;class Nt extends Eo{constructor(r,a,l){super(r),this.dateCode=l,this.firstAIdigits=a}parseInformation(){if(this.getInformation().getSize()!=Nt.HEADER_SIZE+Nt.GTIN_SIZE+Nt.WEIGHT_SIZE+Nt.DATE_SIZE)throw new ne;let r=new me;return this.encodeCompressedGtin(r,Nt.HEADER_SIZE),this.encodeCompressedWeight(r,Nt.HEADER_SIZE+Nt.GTIN_SIZE,Nt.WEIGHT_SIZE),this.encodeCompressedDate(r,Nt.HEADER_SIZE+Nt.GTIN_SIZE+Nt.WEIGHT_SIZE),r.toString()}encodeCompressedDate(r,a){let l=this.getGeneralDecoder().extractNumericValueFromBitArray(a,Nt.DATE_SIZE);if(l==38400)return;r.append("("),r.append(this.dateCode),r.append(")");let d=l%32;l/=32;let f=l%12+1;l/=12;let y=l;y/10==0&&r.append("0"),r.append(y),f/10==0&&r.append("0"),r.append(f),d/10==0&&r.append("0"),r.append(d)}addWeightCode(r,a){r.append("("),r.append(this.firstAIdigits),r.append(a/1e5),r.append(")")}checkWeight(r){return r%1e5}}Nt.HEADER_SIZE=8,Nt.WEIGHT_SIZE=20,Nt.DATE_SIZE=16;function ks(B){try{if(B.get(1))return new Br(B);if(!B.get(2))return new Bs(B);switch(cr.extractNumericValueFromBitArray(B,1,4)){case 4:return new uu(B);case 5:return new ja(B)}switch(cr.extractNumericValueFromBitArray(B,1,5)){case 12:return new Cr(B);case 13:return new hn(B)}switch(cr.extractNumericValueFromBitArray(B,1,7)){case 56:return new Nt(B,"310","11");case 57:return new Nt(B,"320","11");case 58:return new Nt(B,"310","13");case 59:return new Nt(B,"320","13");case 60:return new Nt(B,"310","15");case 61:return new Nt(B,"320","15");case 62:return new Nt(B,"310","17");case 63:return new Nt(B,"320","17")}}catch(r){throw console.log(r),new wr("unknown decoder: "+B)}}class ur{constructor(r,a,l,d){this.leftchar=r,this.rightchar=a,this.finderpattern=l,this.maybeLast=d}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(r,a){return r instanceof ur?ur.equalsOrNull(r.leftchar,a.leftchar)&&ur.equalsOrNull(r.rightchar,a.rightchar)&&ur.equalsOrNull(r.finderpattern,a.finderpattern):!1}static equalsOrNull(r,a){return r===null?a===null:ur.equals(r,a)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class fn{constructor(r,a,l){this.pairs=r,this.rowNumber=a,this.wasReversed=l}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(r){return this.checkEqualitity(this,r)}toString(){return"{ "+this.pairs+" }"}equals(r,a){return r instanceof fn?this.checkEqualitity(r,a)&&r.wasReversed===a.wasReversed:!1}checkEqualitity(r,a){if(!r||!a)return;let l;return r.forEach((d,f)=>{a.forEach(y=>{d.getLeftChar().getValue()===y.getLeftChar().getValue()&&d.getRightChar().getValue()===y.getRightChar().getValue()&&d.getFinderPatter().getValue()===y.getFinderPatter().getValue()&&(l=!0)})}),l}}class Ae extends kn{constructor(r){super(...arguments),this.pairs=new Array(Ae.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=r===!0}decodeRow(r,a,l){this.pairs.length=0,this.startFromEven=!1;try{return Ae.constructResult(this.decodeRow2pairs(r,a))}catch(d){this.verbose&&console.log(d)}return this.pairs.length=0,this.startFromEven=!0,Ae.constructResult(this.decodeRow2pairs(r,a))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(r,a){let l=!1;for(;!l;)try{this.pairs.push(this.retrieveNextPair(a,this.pairs,r))}catch(f){if(f instanceof ne){if(!this.pairs.length)throw new ne;l=!0}}if(this.checkChecksum())return this.pairs;let d;if(this.rows.length?d=!0:d=!1,this.storeRow(r,!1),d){let f=this.checkRowsBoolean(!1);if(f!=null||(f=this.checkRowsBoolean(!0),f!=null))return f}throw new ne}checkRowsBoolean(r){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,r&&(this.rows=this.rows.reverse());let a=null;try{a=this.checkRows(new Array,0)}catch(l){this.verbose&&console.log(l)}return r&&(this.rows=this.rows.reverse()),a}checkRows(r,a){for(let l=a;l<this.rows.length;l++){let d=this.rows[l];this.pairs.length=0;for(let y of r)this.pairs.push(y.getPairs());if(this.pairs.push(d.getPairs()),!Ae.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let f=new Array(r);f.push(d);try{return this.checkRows(f,l+1)}catch(y){this.verbose&&console.log(y)}}throw new ne}static isValidSequence(r){for(let a of Ae.FINDER_PATTERN_SEQUENCES){if(r.length>a.length)continue;let l=!0;for(let d=0;d<r.length;d++)if(r[d].getFinderPattern().getValue()!=a[d]){l=!1;break}if(l)return!0}return!1}storeRow(r,a){let l=0,d=!1,f=!1;for(;l<this.rows.length;){let y=this.rows[l];if(y.getRowNumber()>r){f=y.isEquivalent(this.pairs);break}d=y.isEquivalent(this.pairs),l++}f||d||Ae.isPartialRow(this.pairs,this.rows)||(this.rows.push(l,new fn(this.pairs,r,a)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(r,a){for(let l of a)if(l.getPairs().length!==r.length){for(let d of l.getPairs())for(let f of r)if(ur.equals(d,f))break}}static isPartialRow(r,a){for(let l of a){let d=!0;for(let f of r){let y=!1;for(let v of l.getPairs())if(f.equals(v)){y=!0;break}if(!y){d=!1;break}}if(d)return!0}return!1}getRows(){return this.rows}static constructResult(r){let a=cu.buildBitArray(r),d=ks(a).parseInformation(),f=r[0].getFinderPattern().getResultPoints(),y=r[r.length-1].getFinderPattern().getResultPoints(),v=[f[0],f[1],y[0],y[1]];return new _e(d,null,null,v,Ie.RSS_EXPANDED,null)}checkChecksum(){let r=this.pairs.get(0),a=r.getLeftChar(),l=r.getRightChar();if(l==null)return!1;let d=l.getChecksumPortion(),f=2;for(let v=1;v<this.pairs.size();++v){let A=this.pairs.get(v);d+=A.getLeftChar().getChecksumPortion(),f++;let T=A.getRightChar();T!=null&&(d+=T.getChecksumPortion(),f++)}return d%=211,211*(f-4)+d==a.getValue()}static getNextSecondBar(r,a){let l;return r.get(a)?(l=r.getNextUnset(a),l=r.getNextSet(l)):(l=r.getNextSet(a),l=r.getNextUnset(l)),l}retrieveNextPair(r,a,l){let d=a.length%2==0;this.startFromEven&&(d=!d);let f,y=!0,v=-1;do this.findNextPair(r,a,v),f=this.parseFoundFinderPattern(r,l,d),f==null?v=Ae.getNextSecondBar(r,this.startEnd[0]):y=!1;while(y);let A=this.decodeDataCharacter(r,f,d,!0);if(!this.isEmptyPair(a)&&a[a.length-1].mustBeLast())throw new ne;let T;try{T=this.decodeDataCharacter(r,f,d,!1)}catch(O){T=null,this.verbose&&console.log(O)}return new ur(A,T,f,!0)}isEmptyPair(r){return r.length===0}findNextPair(r,a,l){let d=this.getDecodeFinderCounters();d[0]=0,d[1]=0,d[2]=0,d[3]=0;let f=r.getSize(),y;l>=0?y=l:this.isEmptyPair(a)?y=0:y=a[a.length-1].getFinderPattern().getStartEnd()[1];let v=a.length%2!=0;this.startFromEven&&(v=!v);let A=!1;for(;y<f&&(A=!r.get(y),!!A);)y++;let T=0,O=y;for(let k=y;k<f;k++)if(r.get(k)!=A)d[T]++;else{if(T==3){if(v&&Ae.reverseCounters(d),Ae.isFinderPattern(d)){this.startEnd[0]=O,this.startEnd[1]=k;return}v&&Ae.reverseCounters(d),O+=d[0]+d[1],d[0]=d[2],d[1]=d[3],d[2]=0,d[3]=0,T--}else T++;d[T]=1,A=!A}throw new ne}static reverseCounters(r){let a=r.length;for(let l=0;l<a/2;++l){let d=r[l];r[l]=r[a-l-1],r[a-l-1]=d}}parseFoundFinderPattern(r,a,l){let d,f,y;if(l){let T=this.startEnd[0]-1;for(;T>=0&&!r.get(T);)T--;T++,d=this.startEnd[0]-T,f=T,y=this.startEnd[1]}else f=this.startEnd[0],y=r.getNextUnset(this.startEnd[1]+1),d=y-this.startEnd[1];let v=this.getDecodeFinderCounters();L.arraycopy(v,0,v,1,v.length-1),v[0]=d;let A;try{A=this.parseFinderValue(v,Ae.FINDER_PATTERNS)}catch{return null}return new Ui(A,[f,y],f,y,a)}decodeDataCharacter(r,a,l,d){let f=this.getDataCharacterCounters();for(let Dt=0;Dt<f.length;Dt++)f[Dt]=0;if(d)Ae.recordPatternInReverse(r,a.getStartEnd()[0],f);else{Ae.recordPattern(r,a.getStartEnd()[1],f);for(let Dt=0,zn=f.length-1;Dt<zn;Dt++,zn--){let fr=f[Dt];f[Dt]=f[zn],f[zn]=fr}}let y=17,v=ot.sum(new Int32Array(f))/y,A=(a.getStartEnd()[1]-a.getStartEnd()[0])/15;if(Math.abs(v-A)/A>.3)throw new ne;let T=this.getOddCounts(),O=this.getEvenCounts(),k=this.getOddRoundingErrors(),q=this.getEvenRoundingErrors();for(let Dt=0;Dt<f.length;Dt++){let zn=1*f[Dt]/v,fr=zn+.5;if(fr<1){if(zn<.3)throw new ne;fr=1}else if(fr>8){if(zn>8.7)throw new ne;fr=8}let Qs=Dt/2;(Dt&1)==0?(T[Qs]=fr,k[Qs]=zn-fr):(O[Qs]=fr,q[Qs]=zn-fr)}this.adjustOddEvenCounts(y);let Z=4*a.getValue()+(l?0:2)+(d?0:1)-1,J=0,ee=0;for(let Dt=T.length-1;Dt>=0;Dt--){if(Ae.isNotA1left(a,l,d)){let zn=Ae.WEIGHTS[Z][2*Dt];ee+=T[Dt]*zn}J+=T[Dt]}let se=0;for(let Dt=O.length-1;Dt>=0;Dt--)if(Ae.isNotA1left(a,l,d)){let zn=Ae.WEIGHTS[Z][2*Dt+1];se+=O[Dt]*zn}let he=ee+se;if((J&1)!=0||J>13||J<4)throw new ne;let Re=(13-J)/2,Te=Ae.SYMBOL_WIDEST[Re],Ne=9-Te,st=ei.getRSSvalue(T,Te,!0),Je=ei.getRSSvalue(O,Ne,!1),mn=Ae.EVEN_TOTAL_SUBSET[Re],Nr=Ae.GSUM[Re],Zn=st*mn+Je+Nr;return new Pi(Zn,he)}static isNotA1left(r,a,l){return!(r.getValue()==0&&a&&l)}adjustOddEvenCounts(r){let a=ot.sum(new Int32Array(this.getOddCounts())),l=ot.sum(new Int32Array(this.getEvenCounts())),d=!1,f=!1;a>13?f=!0:a<4&&(d=!0);let y=!1,v=!1;l>13?v=!0:l<4&&(y=!0);let A=a+l-r,T=(a&1)==1,O=(l&1)==0;if(A==1)if(T){if(O)throw new ne;f=!0}else{if(!O)throw new ne;v=!0}else if(A==-1)if(T){if(O)throw new ne;d=!0}else{if(!O)throw new ne;y=!0}else if(A==0){if(T){if(!O)throw new ne;a<l?(d=!0,v=!0):(f=!0,y=!0)}else if(O)throw new ne}else throw new ne;if(d){if(f)throw new ne;Ae.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(f&&Ae.decrement(this.getOddCounts(),this.getOddRoundingErrors()),y){if(v)throw new ne;Ae.increment(this.getEvenCounts(),this.getOddRoundingErrors())}v&&Ae.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Ae.SYMBOL_WIDEST=[7,5,4,3,1],Ae.EVEN_TOTAL_SUBSET=[4,20,52,104,204],Ae.GSUM=[0,348,1388,2948,3988],Ae.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],Ae.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],Ae.FINDER_PAT_A=0,Ae.FINDER_PAT_B=1,Ae.FINDER_PAT_C=2,Ae.FINDER_PAT_D=3,Ae.FINDER_PAT_E=4,Ae.FINDER_PAT_F=5,Ae.FINDER_PATTERN_SEQUENCES=[[Ae.FINDER_PAT_A,Ae.FINDER_PAT_A],[Ae.FINDER_PAT_A,Ae.FINDER_PAT_B,Ae.FINDER_PAT_B],[Ae.FINDER_PAT_A,Ae.FINDER_PAT_C,Ae.FINDER_PAT_B,Ae.FINDER_PAT_D],[Ae.FINDER_PAT_A,Ae.FINDER_PAT_E,Ae.FINDER_PAT_B,Ae.FINDER_PAT_D,Ae.FINDER_PAT_C],[Ae.FINDER_PAT_A,Ae.FINDER_PAT_E,Ae.FINDER_PAT_B,Ae.FINDER_PAT_D,Ae.FINDER_PAT_D,Ae.FINDER_PAT_F],[Ae.FINDER_PAT_A,Ae.FINDER_PAT_E,Ae.FINDER_PAT_B,Ae.FINDER_PAT_D,Ae.FINDER_PAT_E,Ae.FINDER_PAT_F,Ae.FINDER_PAT_F],[Ae.FINDER_PAT_A,Ae.FINDER_PAT_A,Ae.FINDER_PAT_B,Ae.FINDER_PAT_B,Ae.FINDER_PAT_C,Ae.FINDER_PAT_C,Ae.FINDER_PAT_D,Ae.FINDER_PAT_D],[Ae.FINDER_PAT_A,Ae.FINDER_PAT_A,Ae.FINDER_PAT_B,Ae.FINDER_PAT_B,Ae.FINDER_PAT_C,Ae.FINDER_PAT_C,Ae.FINDER_PAT_D,Ae.FINDER_PAT_E,Ae.FINDER_PAT_E],[Ae.FINDER_PAT_A,Ae.FINDER_PAT_A,Ae.FINDER_PAT_B,Ae.FINDER_PAT_B,Ae.FINDER_PAT_C,Ae.FINDER_PAT_C,Ae.FINDER_PAT_D,Ae.FINDER_PAT_E,Ae.FINDER_PAT_F,Ae.FINDER_PAT_F],[Ae.FINDER_PAT_A,Ae.FINDER_PAT_A,Ae.FINDER_PAT_B,Ae.FINDER_PAT_B,Ae.FINDER_PAT_C,Ae.FINDER_PAT_D,Ae.FINDER_PAT_D,Ae.FINDER_PAT_E,Ae.FINDER_PAT_E,Ae.FINDER_PAT_F,Ae.FINDER_PAT_F]],Ae.MAX_PAIRS=11;class du extends Pi{constructor(r,a,l){super(r,a),this.count=0,this.finderPattern=l}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class It extends kn{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(r,a,l){const d=this.decodePair(a,!1,r,l);It.addOrTally(this.possibleLeftPairs,d),a.reverse();let f=this.decodePair(a,!0,r,l);It.addOrTally(this.possibleRightPairs,f),a.reverse();for(let y of this.possibleLeftPairs)if(y.getCount()>1){for(let v of this.possibleRightPairs)if(v.getCount()>1&&It.checkChecksum(y,v))return It.constructResult(y,v)}throw new ne}static addOrTally(r,a){if(a==null)return;let l=!1;for(let d of r)if(d.getValue()===a.getValue()){d.incrementCount(),l=!0;break}l||r.push(a)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(r,a){let l=4537077*r.getValue()+a.getValue(),d=new String(l).toString(),f=new me;for(let T=13-d.length;T>0;T--)f.append("0");f.append(d);let y=0;for(let T=0;T<13;T++){let O=f.charAt(T).charCodeAt(0)-48;y+=(T&1)===0?3*O:O}y=10-y%10,y===10&&(y=0),f.append(y.toString());let v=r.getFinderPattern().getResultPoints(),A=a.getFinderPattern().getResultPoints();return new _e(f.toString(),null,0,[v[0],v[1],A[0],A[1]],Ie.RSS_14,new Date().getTime())}static checkChecksum(r,a){let l=(r.getChecksumPortion()+16*a.getChecksumPortion())%79,d=9*r.getFinderPattern().getValue()+a.getFinderPattern().getValue();return d>72&&d--,d>8&&d--,l===d}decodePair(r,a,l,d){try{let f=this.findFinderPattern(r,a),y=this.parseFoundFinderPattern(r,l,a,f),v=d==null?null:d.get(X.NEED_RESULT_POINT_CALLBACK);if(v!=null){let O=(f[0]+f[1])/2;a&&(O=r.getSize()-1-O),v.foundPossibleResultPoint(new ze(O,l))}let A=this.decodeDataCharacter(r,y,!0),T=this.decodeDataCharacter(r,y,!1);return new du(1597*A.getValue()+T.getValue(),A.getChecksumPortion()+4*T.getChecksumPortion(),y)}catch{return null}}decodeDataCharacter(r,a,l){let d=this.getDataCharacterCounters();for(let se=0;se<d.length;se++)d[se]=0;if(l)Wt.recordPatternInReverse(r,a.getStartEnd()[0],d);else{Wt.recordPattern(r,a.getStartEnd()[1]+1,d);for(let se=0,he=d.length-1;se<he;se++,he--){let Re=d[se];d[se]=d[he],d[he]=Re}}let f=l?16:15,y=ot.sum(new Int32Array(d))/f,v=this.getOddCounts(),A=this.getEvenCounts(),T=this.getOddRoundingErrors(),O=this.getEvenRoundingErrors();for(let se=0;se<d.length;se++){let he=d[se]/y,Re=Math.floor(he+.5);Re<1?Re=1:Re>8&&(Re=8);let Te=Math.floor(se/2);(se&1)===0?(v[Te]=Re,T[Te]=he-Re):(A[Te]=Re,O[Te]=he-Re)}this.adjustOddEvenCounts(l,f);let k=0,q=0;for(let se=v.length-1;se>=0;se--)q*=9,q+=v[se],k+=v[se];let Z=0,J=0;for(let se=A.length-1;se>=0;se--)Z*=9,Z+=A[se],J+=A[se];let ee=q+3*Z;if(l){if((k&1)!==0||k>12||k<4)throw new ne;let se=(12-k)/2,he=It.OUTSIDE_ODD_WIDEST[se],Re=9-he,Te=ei.getRSSvalue(v,he,!1),Ne=ei.getRSSvalue(A,Re,!0),st=It.OUTSIDE_EVEN_TOTAL_SUBSET[se],Je=It.OUTSIDE_GSUM[se];return new Pi(Te*st+Ne+Je,ee)}else{if((J&1)!==0||J>10||J<4)throw new ne;let se=(10-J)/2,he=It.INSIDE_ODD_WIDEST[se],Re=9-he,Te=ei.getRSSvalue(v,he,!0),Ne=ei.getRSSvalue(A,Re,!1),st=It.INSIDE_ODD_TOTAL_SUBSET[se],Je=It.INSIDE_GSUM[se];return new Pi(Ne*st+Te+Je,ee)}}findFinderPattern(r,a){let l=this.getDecodeFinderCounters();l[0]=0,l[1]=0,l[2]=0,l[3]=0;let d=r.getSize(),f=!1,y=0;for(;y<d&&(f=!r.get(y),a!==f);)y++;let v=0,A=y;for(let T=y;T<d;T++)if(r.get(T)!==f)l[v]++;else{if(v===3){if(kn.isFinderPattern(l))return[A,T];A+=l[0]+l[1],l[0]=l[2],l[1]=l[3],l[2]=0,l[3]=0,v--}else v++;l[v]=1,f=!f}throw new ne}parseFoundFinderPattern(r,a,l,d){let f=r.get(d[0]),y=d[0]-1;for(;y>=0&&f!==r.get(y);)y--;y++;const v=d[0]-y,A=this.getDecodeFinderCounters(),T=new Int32Array(A.length);L.arraycopy(A,0,T,1,A.length-1),T[0]=v;const O=this.parseFinderValue(T,It.FINDER_PATTERNS);let k=y,q=d[1];return l&&(k=r.getSize()-1-k,q=r.getSize()-1-q),new Ui(O,[y,d[1]],k,q,a)}adjustOddEvenCounts(r,a){let l=ot.sum(new Int32Array(this.getOddCounts())),d=ot.sum(new Int32Array(this.getEvenCounts())),f=!1,y=!1,v=!1,A=!1;r?(l>12?y=!0:l<4&&(f=!0),d>12?A=!0:d<4&&(v=!0)):(l>11?y=!0:l<5&&(f=!0),d>10?A=!0:d<4&&(v=!0));let T=l+d-a,O=(l&1)===(r?1:0),k=(d&1)===1;if(T===1)if(O){if(k)throw new ne;y=!0}else{if(!k)throw new ne;A=!0}else if(T===-1)if(O){if(k)throw new ne;f=!0}else{if(!k)throw new ne;v=!0}else if(T===0){if(O){if(!k)throw new ne;l<d?(f=!0,A=!0):(y=!0,v=!0)}else if(k)throw new ne}else throw new ne;if(f){if(y)throw new ne;kn.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(y&&kn.decrement(this.getOddCounts(),this.getOddRoundingErrors()),v){if(A)throw new ne;kn.increment(this.getEvenCounts(),this.getOddRoundingErrors())}A&&kn.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}It.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],It.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],It.OUTSIDE_GSUM=[0,161,961,2015,2715],It.INSIDE_GSUM=[0,336,1036,1516],It.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],It.INSIDE_ODD_WIDEST=[2,4,6,8],It.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class kr extends Wt{constructor(r,a){super(),this.readers=[],this.verbose=a===!0;const l=r?r.get(X.POSSIBLE_FORMATS):null,d=r&&r.get(X.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;l?((l.includes(Ie.EAN_13)||l.includes(Ie.UPC_A)||l.includes(Ie.EAN_8)||l.includes(Ie.UPC_E))&&this.readers.push(new _l(r)),l.includes(Ie.CODE_39)&&this.readers.push(new Ut(d)),l.includes(Ie.CODE_128)&&this.readers.push(new Oe),l.includes(Ie.ITF)&&this.readers.push(new nt),l.includes(Ie.RSS_14)&&this.readers.push(new It),l.includes(Ie.RSS_EXPANDED)&&this.readers.push(new Ae(this.verbose))):(this.readers.push(new _l(r)),this.readers.push(new Ut),this.readers.push(new _l(r)),this.readers.push(new Oe),this.readers.push(new nt),this.readers.push(new It),this.readers.push(new Ae(this.verbose)))}decodeRow(r,a,l){for(let d=0;d<this.readers.length;d++)try{return this.readers[d].decodeRow(r,a,l)}catch{}throw new ne}reset(){this.readers.forEach(r=>r.reset())}}class Uh extends Me{constructor(r=500,a){super(new kr(a),r,a)}}class wt{constructor(r,a,l){this.ecCodewords=r,this.ecBlocks=[a],l&&this.ecBlocks.push(l)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class xt{constructor(r,a){this.count=r,this.dataCodewords=a}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class lt{constructor(r,a,l,d,f,y){this.versionNumber=r,this.symbolSizeRows=a,this.symbolSizeColumns=l,this.dataRegionSizeRows=d,this.dataRegionSizeColumns=f,this.ecBlocks=y;let v=0;const A=y.getECCodewords(),T=y.getECBlocks();for(let O of T)v+=O.getCount()*(O.getDataCodewords()+A);this.totalCodewords=v}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(r,a){if((r&1)!==0||(a&1)!==0)throw new z;for(let l of lt.VERSIONS)if(l.symbolSizeRows===r&&l.symbolSizeColumns===a)return l;throw new z}toString(){return""+this.versionNumber}static buildVersions(){return[new lt(1,10,10,8,8,new wt(5,new xt(1,3))),new lt(2,12,12,10,10,new wt(7,new xt(1,5))),new lt(3,14,14,12,12,new wt(10,new xt(1,8))),new lt(4,16,16,14,14,new wt(12,new xt(1,12))),new lt(5,18,18,16,16,new wt(14,new xt(1,18))),new lt(6,20,20,18,18,new wt(18,new xt(1,22))),new lt(7,22,22,20,20,new wt(20,new xt(1,30))),new lt(8,24,24,22,22,new wt(24,new xt(1,36))),new lt(9,26,26,24,24,new wt(28,new xt(1,44))),new lt(10,32,32,14,14,new wt(36,new xt(1,62))),new lt(11,36,36,16,16,new wt(42,new xt(1,86))),new lt(12,40,40,18,18,new wt(48,new xt(1,114))),new lt(13,44,44,20,20,new wt(56,new xt(1,144))),new lt(14,48,48,22,22,new wt(68,new xt(1,174))),new lt(15,52,52,24,24,new wt(42,new xt(2,102))),new lt(16,64,64,14,14,new wt(56,new xt(2,140))),new lt(17,72,72,16,16,new wt(36,new xt(4,92))),new lt(18,80,80,18,18,new wt(48,new xt(4,114))),new lt(19,88,88,20,20,new wt(56,new xt(4,144))),new lt(20,96,96,22,22,new wt(68,new xt(4,174))),new lt(21,104,104,24,24,new wt(56,new xt(6,136))),new lt(22,120,120,18,18,new wt(68,new xt(6,175))),new lt(23,132,132,20,20,new wt(62,new xt(8,163))),new lt(24,144,144,22,22,new wt(62,new xt(8,156),new xt(2,155))),new lt(25,8,18,6,16,new wt(7,new xt(1,5))),new lt(26,8,32,6,14,new wt(11,new xt(1,10))),new lt(27,12,26,10,24,new wt(14,new xt(1,16))),new lt(28,12,36,10,16,new wt(18,new xt(1,22))),new lt(29,16,36,14,16,new wt(24,new xt(1,32))),new lt(30,16,48,14,22,new wt(28,new xt(1,49)))]}}lt.VERSIONS=lt.buildVersions();class Ps{constructor(r){const a=r.getHeight();if(a<8||a>144||(a&1)!==0)throw new z;this.version=Ps.readVersion(r),this.mappingBitMatrix=this.extractDataRegion(r),this.readMappingMatrix=new Le(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(r){const a=r.getHeight(),l=r.getWidth();return lt.getVersionForDimensions(a,l)}readCodewords(){const r=new Int8Array(this.version.getTotalCodewords());let a=0,l=4,d=0;const f=this.mappingBitMatrix.getHeight(),y=this.mappingBitMatrix.getWidth();let v=!1,A=!1,T=!1,O=!1;do if(l===f&&d===0&&!v)r[a++]=this.readCorner1(f,y)&255,l-=2,d+=2,v=!0;else if(l===f-2&&d===0&&(y&3)!==0&&!A)r[a++]=this.readCorner2(f,y)&255,l-=2,d+=2,A=!0;else if(l===f+4&&d===2&&(y&7)===0&&!T)r[a++]=this.readCorner3(f,y)&255,l-=2,d+=2,T=!0;else if(l===f-2&&d===0&&(y&7)===4&&!O)r[a++]=this.readCorner4(f,y)&255,l-=2,d+=2,O=!0;else{do l<f&&d>=0&&!this.readMappingMatrix.get(d,l)&&(r[a++]=this.readUtah(l,d,f,y)&255),l-=2,d+=2;while(l>=0&&d<y);l+=1,d+=3;do l>=0&&d<y&&!this.readMappingMatrix.get(d,l)&&(r[a++]=this.readUtah(l,d,f,y)&255),l+=2,d-=2;while(l<f&&d>=0);l+=3,d+=1}while(l<f||d<y);if(a!==this.version.getTotalCodewords())throw new z;return r}readModule(r,a,l,d){return r<0&&(r+=l,a+=4-(l+4&7)),a<0&&(a+=d,r+=4-(d+4&7)),this.readMappingMatrix.set(a,r),this.mappingBitMatrix.get(a,r)}readUtah(r,a,l,d){let f=0;return this.readModule(r-2,a-2,l,d)&&(f|=1),f<<=1,this.readModule(r-2,a-1,l,d)&&(f|=1),f<<=1,this.readModule(r-1,a-2,l,d)&&(f|=1),f<<=1,this.readModule(r-1,a-1,l,d)&&(f|=1),f<<=1,this.readModule(r-1,a,l,d)&&(f|=1),f<<=1,this.readModule(r,a-2,l,d)&&(f|=1),f<<=1,this.readModule(r,a-1,l,d)&&(f|=1),f<<=1,this.readModule(r,a,l,d)&&(f|=1),f}readCorner1(r,a){let l=0;return this.readModule(r-1,0,r,a)&&(l|=1),l<<=1,this.readModule(r-1,1,r,a)&&(l|=1),l<<=1,this.readModule(r-1,2,r,a)&&(l|=1),l<<=1,this.readModule(0,a-2,r,a)&&(l|=1),l<<=1,this.readModule(0,a-1,r,a)&&(l|=1),l<<=1,this.readModule(1,a-1,r,a)&&(l|=1),l<<=1,this.readModule(2,a-1,r,a)&&(l|=1),l<<=1,this.readModule(3,a-1,r,a)&&(l|=1),l}readCorner2(r,a){let l=0;return this.readModule(r-3,0,r,a)&&(l|=1),l<<=1,this.readModule(r-2,0,r,a)&&(l|=1),l<<=1,this.readModule(r-1,0,r,a)&&(l|=1),l<<=1,this.readModule(0,a-4,r,a)&&(l|=1),l<<=1,this.readModule(0,a-3,r,a)&&(l|=1),l<<=1,this.readModule(0,a-2,r,a)&&(l|=1),l<<=1,this.readModule(0,a-1,r,a)&&(l|=1),l<<=1,this.readModule(1,a-1,r,a)&&(l|=1),l}readCorner3(r,a){let l=0;return this.readModule(r-1,0,r,a)&&(l|=1),l<<=1,this.readModule(r-1,a-1,r,a)&&(l|=1),l<<=1,this.readModule(0,a-3,r,a)&&(l|=1),l<<=1,this.readModule(0,a-2,r,a)&&(l|=1),l<<=1,this.readModule(0,a-1,r,a)&&(l|=1),l<<=1,this.readModule(1,a-3,r,a)&&(l|=1),l<<=1,this.readModule(1,a-2,r,a)&&(l|=1),l<<=1,this.readModule(1,a-1,r,a)&&(l|=1),l}readCorner4(r,a){let l=0;return this.readModule(r-3,0,r,a)&&(l|=1),l<<=1,this.readModule(r-2,0,r,a)&&(l|=1),l<<=1,this.readModule(r-1,0,r,a)&&(l|=1),l<<=1,this.readModule(0,a-2,r,a)&&(l|=1),l<<=1,this.readModule(0,a-1,r,a)&&(l|=1),l<<=1,this.readModule(1,a-1,r,a)&&(l|=1),l<<=1,this.readModule(2,a-1,r,a)&&(l|=1),l<<=1,this.readModule(3,a-1,r,a)&&(l|=1),l}extractDataRegion(r){const a=this.version.getSymbolSizeRows(),l=this.version.getSymbolSizeColumns();if(r.getHeight()!==a)throw new S("Dimension of bitMatrix must match the version size");const d=this.version.getDataRegionSizeRows(),f=this.version.getDataRegionSizeColumns(),y=a/d|0,v=l/f|0,A=y*d,T=v*f,O=new Le(T,A);for(let k=0;k<y;++k){const q=k*d;for(let Z=0;Z<v;++Z){const J=Z*f;for(let ee=0;ee<d;++ee){const se=k*(d+2)+1+ee,he=q+ee;for(let Re=0;Re<f;++Re){const Te=Z*(f+2)+1+Re;if(r.get(Te,se)){const Ne=J+Re;O.set(Ne,he)}}}}}return O}}class Us{constructor(r,a){this.numDataCodewords=r,this.codewords=a}static getDataBlocks(r,a){const l=a.getECBlocks();let d=0;const f=l.getECBlocks();for(let ee of f)d+=ee.getCount();const y=new Array(d);let v=0;for(let ee of f)for(let se=0;se<ee.getCount();se++){const he=ee.getDataCodewords(),Re=l.getECCodewords()+he;y[v++]=new Us(he,new Uint8Array(Re))}const T=y[0].codewords.length-l.getECCodewords(),O=T-1;let k=0;for(let ee=0;ee<O;ee++)for(let se=0;se<v;se++)y[se].codewords[ee]=r[k++];const q=a.getVersionNumber()===24,Z=q?8:v;for(let ee=0;ee<Z;ee++)y[ee].codewords[T-1]=r[k++];const J=y[0].codewords.length;for(let ee=T;ee<J;ee++)for(let se=0;se<v;se++){const he=q?(se+8)%v:se,Re=q&&he>7?ee-1:ee;y[he].codewords[Re]=r[k++]}if(k!==r.length)throw new S;return y}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Pr{constructor(r){this.bytes=r,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(r){if(r<1||r>32||r>this.available())throw new S(""+r);let a=0,l=this.bitOffset,d=this.byteOffset;const f=this.bytes;if(l>0){const y=8-l,v=r<y?r:y,A=y-v,T=255>>8-v<<A;a=(f[d]&T)>>A,r-=v,l+=v,l===8&&(l=0,d++)}if(r>0){for(;r>=8;)a=a<<8|f[d]&255,d++,r-=8;if(r>0){const y=8-r,v=255>>y<<y;a=a<<r|(f[d]&v)>>y,l+=r}}return this.bitOffset=l,this.byteOffset=d,a}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Et;(function(B){B[B.PAD_ENCODE=0]="PAD_ENCODE",B[B.ASCII_ENCODE=1]="ASCII_ENCODE",B[B.C40_ENCODE=2]="C40_ENCODE",B[B.TEXT_ENCODE=3]="TEXT_ENCODE",B[B.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",B[B.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",B[B.BASE256_ENCODE=6]="BASE256_ENCODE"})(Et||(Et={}));class wi{static decode(r){const a=new Pr(r),l=new me,d=new me,f=new Array;let y=Et.ASCII_ENCODE;do if(y===Et.ASCII_ENCODE)y=this.decodeAsciiSegment(a,l,d);else{switch(y){case Et.C40_ENCODE:this.decodeC40Segment(a,l);break;case Et.TEXT_ENCODE:this.decodeTextSegment(a,l);break;case Et.ANSIX12_ENCODE:this.decodeAnsiX12Segment(a,l);break;case Et.EDIFACT_ENCODE:this.decodeEdifactSegment(a,l);break;case Et.BASE256_ENCODE:this.decodeBase256Segment(a,l,f);break;default:throw new z}y=Et.ASCII_ENCODE}while(y!==Et.PAD_ENCODE&&a.available()>0);return d.length()>0&&l.append(d.toString()),new Ht(r,l.toString(),f.length===0?null:f,null)}static decodeAsciiSegment(r,a,l){let d=!1;do{let f=r.readBits(8);if(f===0)throw new z;if(f<=128)return d&&(f+=128),a.append(String.fromCharCode(f-1)),Et.ASCII_ENCODE;if(f===129)return Et.PAD_ENCODE;if(f<=229){const y=f-130;y<10&&a.append("0"),a.append(""+y)}else switch(f){case 230:return Et.C40_ENCODE;case 231:return Et.BASE256_ENCODE;case 232:a.append("");break;case 233:case 234:break;case 235:d=!0;break;case 236:a.append("[)>05"),l.insert(0,"");break;case 237:a.append("[)>06"),l.insert(0,"");break;case 238:return Et.ANSIX12_ENCODE;case 239:return Et.TEXT_ENCODE;case 240:return Et.EDIFACT_ENCODE;case 241:break;default:if(f!==254||r.available()!==0)throw new z;break}}while(r.available()>0);return Et.ASCII_ENCODE}static decodeC40Segment(r,a){let l=!1;const d=[];let f=0;do{if(r.available()===8)return;const y=r.readBits(8);if(y===254)return;this.parseTwoBytes(y,r.readBits(8),d);for(let v=0;v<3;v++){const A=d[v];switch(f){case 0:if(A<3)f=A+1;else if(A<this.C40_BASIC_SET_CHARS.length){const T=this.C40_BASIC_SET_CHARS[A];l?(a.append(String.fromCharCode(T.charCodeAt(0)+128)),l=!1):a.append(T)}else throw new z;break;case 1:l?(a.append(String.fromCharCode(A+128)),l=!1):a.append(String.fromCharCode(A)),f=0;break;case 2:if(A<this.C40_SHIFT2_SET_CHARS.length){const T=this.C40_SHIFT2_SET_CHARS[A];l?(a.append(String.fromCharCode(T.charCodeAt(0)+128)),l=!1):a.append(T)}else switch(A){case 27:a.append("");break;case 30:l=!0;break;default:throw new z}f=0;break;case 3:l?(a.append(String.fromCharCode(A+224)),l=!1):a.append(String.fromCharCode(A+96)),f=0;break;default:throw new z}}}while(r.available()>0)}static decodeTextSegment(r,a){let l=!1,d=[],f=0;do{if(r.available()===8)return;const y=r.readBits(8);if(y===254)return;this.parseTwoBytes(y,r.readBits(8),d);for(let v=0;v<3;v++){const A=d[v];switch(f){case 0:if(A<3)f=A+1;else if(A<this.TEXT_BASIC_SET_CHARS.length){const T=this.TEXT_BASIC_SET_CHARS[A];l?(a.append(String.fromCharCode(T.charCodeAt(0)+128)),l=!1):a.append(T)}else throw new z;break;case 1:l?(a.append(String.fromCharCode(A+128)),l=!1):a.append(String.fromCharCode(A)),f=0;break;case 2:if(A<this.TEXT_SHIFT2_SET_CHARS.length){const T=this.TEXT_SHIFT2_SET_CHARS[A];l?(a.append(String.fromCharCode(T.charCodeAt(0)+128)),l=!1):a.append(T)}else switch(A){case 27:a.append("");break;case 30:l=!0;break;default:throw new z}f=0;break;case 3:if(A<this.TEXT_SHIFT3_SET_CHARS.length){const T=this.TEXT_SHIFT3_SET_CHARS[A];l?(a.append(String.fromCharCode(T.charCodeAt(0)+128)),l=!1):a.append(T),f=0}else throw new z;break;default:throw new z}}}while(r.available()>0)}static decodeAnsiX12Segment(r,a){const l=[];do{if(r.available()===8)return;const d=r.readBits(8);if(d===254)return;this.parseTwoBytes(d,r.readBits(8),l);for(let f=0;f<3;f++){const y=l[f];switch(y){case 0:a.append("\r");break;case 1:a.append("*");break;case 2:a.append(">");break;case 3:a.append(" ");break;default:if(y<14)a.append(String.fromCharCode(y+44));else if(y<40)a.append(String.fromCharCode(y+51));else throw new z;break}}}while(r.available()>0)}static parseTwoBytes(r,a,l){let d=(r<<8)+a-1,f=Math.floor(d/1600);l[0]=f,d-=f*1600,f=Math.floor(d/40),l[1]=f,l[2]=d-f*40}static decodeEdifactSegment(r,a){do{if(r.available()<=16)return;for(let l=0;l<4;l++){let d=r.readBits(6);if(d===31){const f=8-r.getBitOffset();f!==8&&r.readBits(f);return}(d&32)===0&&(d|=64),a.append(String.fromCharCode(d))}}while(r.available()>0)}static decodeBase256Segment(r,a,l){let d=1+r.getByteOffset();const f=this.unrandomize255State(r.readBits(8),d++);let y;if(f===0?y=r.available()/8|0:f<250?y=f:y=250*(f-249)+this.unrandomize255State(r.readBits(8),d++),y<0)throw new z;const v=new Uint8Array(y);for(let A=0;A<y;A++){if(r.available()<8)throw new z;v[A]=this.unrandomize255State(r.readBits(8),d++)}l.push(v);try{a.append(ae.decode(v,ve.ISO88591))}catch(A){throw new wr("Platform does not support required encoding: "+A.message)}}static unrandomize255State(r,a){const l=149*a%255+1,d=r-l;return d>=0?d:d+256}}wi.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],wi.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],wi.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],wi.TEXT_SHIFT2_SET_CHARS=wi.C40_SHIFT2_SET_CHARS,wi.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class zh{constructor(){this.rsDecoder=new rs(vt.DATA_MATRIX_FIELD_256)}decode(r){const a=new Ps(r),l=a.getVersion(),d=a.readCodewords(),f=Us.getDataBlocks(d,l);let y=0;for(let T of f)y+=T.getNumDataCodewords();const v=new Uint8Array(y),A=f.length;for(let T=0;T<A;T++){const O=f[T],k=O.getCodewords(),q=O.getNumDataCodewords();this.correctErrors(k,q);for(let Z=0;Z<q;Z++)v[Z*A+T]=k[Z]}return wi.decode(v)}correctErrors(r,a){const l=new Int32Array(r);try{this.rsDecoder.decode(l,r.length-a)}catch{throw new _}for(let d=0;d<a;d++)r[d]=l[d]}}class Zt{constructor(r){this.image=r,this.rectangleDetector=new on(this.image)}detect(){const r=this.rectangleDetector.detect();let a=this.detectSolid1(r);if(a=this.detectSolid2(a),a[3]=this.correctTopRight(a),!a[3])throw new ne;a=this.shiftToModuleCenter(a);const l=a[0],d=a[1],f=a[2],y=a[3];let v=this.transitionsBetween(l,y)+1,A=this.transitionsBetween(f,y)+1;(v&1)===1&&(v+=1),(A&1)===1&&(A+=1),4*v<7*A&&4*A<7*v&&(v=A=Math.max(v,A));let T=Zt.sampleGrid(this.image,l,d,f,y,v,A);return new vo(T,[l,d,f,y])}static shiftPoint(r,a,l){let d=(a.getX()-r.getX())/(l+1),f=(a.getY()-r.getY())/(l+1);return new ze(r.getX()+d,r.getY()+f)}static moveAway(r,a,l){let d=r.getX(),f=r.getY();return d<a?d-=1:d+=1,f<l?f-=1:f+=1,new ze(d,f)}detectSolid1(r){let a=r[0],l=r[1],d=r[3],f=r[2],y=this.transitionsBetween(a,l),v=this.transitionsBetween(l,d),A=this.transitionsBetween(d,f),T=this.transitionsBetween(f,a),O=y,k=[f,a,l,d];return O>v&&(O=v,k[0]=a,k[1]=l,k[2]=d,k[3]=f),O>A&&(O=A,k[0]=l,k[1]=d,k[2]=f,k[3]=a),O>T&&(k[0]=d,k[1]=f,k[2]=a,k[3]=l),k}detectSolid2(r){let a=r[0],l=r[1],d=r[2],f=r[3],y=this.transitionsBetween(a,f),v=Zt.shiftPoint(l,d,(y+1)*4),A=Zt.shiftPoint(d,l,(y+1)*4),T=this.transitionsBetween(v,a),O=this.transitionsBetween(A,f);return T<O?(r[0]=a,r[1]=l,r[2]=d,r[3]=f):(r[0]=l,r[1]=d,r[2]=f,r[3]=a),r}correctTopRight(r){let a=r[0],l=r[1],d=r[2],f=r[3],y=this.transitionsBetween(a,f),v=this.transitionsBetween(l,f),A=Zt.shiftPoint(a,l,(v+1)*4),T=Zt.shiftPoint(d,l,(y+1)*4);y=this.transitionsBetween(A,f),v=this.transitionsBetween(T,f);let O=new ze(f.getX()+(d.getX()-l.getX())/(y+1),f.getY()+(d.getY()-l.getY())/(y+1)),k=new ze(f.getX()+(a.getX()-l.getX())/(v+1),f.getY()+(a.getY()-l.getY())/(v+1));if(!this.isValid(O))return this.isValid(k)?k:null;if(!this.isValid(k))return O;let q=this.transitionsBetween(A,O)+this.transitionsBetween(T,O),Z=this.transitionsBetween(A,k)+this.transitionsBetween(T,k);return q>Z?O:k}shiftToModuleCenter(r){let a=r[0],l=r[1],d=r[2],f=r[3],y=this.transitionsBetween(a,f)+1,v=this.transitionsBetween(d,f)+1,A=Zt.shiftPoint(a,l,v*4),T=Zt.shiftPoint(d,l,y*4);y=this.transitionsBetween(A,f)+1,v=this.transitionsBetween(T,f)+1,(y&1)===1&&(y+=1),(v&1)===1&&(v+=1);let O=(a.getX()+l.getX()+d.getX()+f.getX())/4,k=(a.getY()+l.getY()+d.getY()+f.getY())/4;a=Zt.moveAway(a,O,k),l=Zt.moveAway(l,O,k),d=Zt.moveAway(d,O,k),f=Zt.moveAway(f,O,k);let q,Z;return A=Zt.shiftPoint(a,l,v*4),A=Zt.shiftPoint(A,f,y*4),q=Zt.shiftPoint(l,a,v*4),q=Zt.shiftPoint(q,d,y*4),T=Zt.shiftPoint(d,f,v*4),T=Zt.shiftPoint(T,l,y*4),Z=Zt.shiftPoint(f,d,v*4),Z=Zt.shiftPoint(Z,a,y*4),[A,q,T,Z]}isValid(r){return r.getX()>=0&&r.getX()<this.image.getWidth()&&r.getY()>0&&r.getY()<this.image.getHeight()}static sampleGrid(r,a,l,d,f,y,v){return Lr.getInstance().sampleGrid(r,y,v,.5,.5,y-.5,.5,y-.5,v-.5,.5,v-.5,a.getX(),a.getY(),f.getX(),f.getY(),d.getX(),d.getY(),l.getX(),l.getY())}transitionsBetween(r,a){let l=Math.trunc(r.getX()),d=Math.trunc(r.getY()),f=Math.trunc(a.getX()),y=Math.trunc(a.getY()),v=Math.abs(y-d)>Math.abs(f-l);if(v){let ee=l;l=d,d=ee,ee=f,f=y,y=ee}let A=Math.abs(f-l),T=Math.abs(y-d),O=-A/2,k=d<y?1:-1,q=l<f?1:-1,Z=0,J=this.image.get(v?d:l,v?l:d);for(let ee=l,se=d;ee!==f;ee+=q){let he=this.image.get(v?se:ee,v?ee:se);if(he!==J&&(Z++,J=he),O+=T,O>0){if(se===y)break;se+=k,O-=A}}return Z}}class Ei{constructor(){this.decoder=new zh}decode(r,a=null){let l,d;if(a!=null&&a.has(X.PURE_BARCODE)){const T=Ei.extractPureBits(r.getBlackMatrix());l=this.decoder.decode(T),d=Ei.NO_POINTS}else{const T=new Zt(r.getBlackMatrix()).detect();l=this.decoder.decode(T.getBits()),d=T.getPoints()}const f=l.getRawBytes(),y=new _e(l.getText(),f,8*f.length,d,Ie.DATA_MATRIX,L.currentTimeMillis()),v=l.getByteSegments();v!=null&&y.putMetadata(bt.BYTE_SEGMENTS,v);const A=l.getECLevel();return A!=null&&y.putMetadata(bt.ERROR_CORRECTION_LEVEL,A),y}reset(){}static extractPureBits(r){const a=r.getTopLeftOnBit(),l=r.getBottomRightOnBit();if(a==null||l==null)throw new ne;const d=this.moduleSize(a,r);let f=a[1];const y=l[1];let v=a[0];const T=(l[0]-v+1)/d,O=(y-f+1)/d;if(T<=0||O<=0)throw new ne;const k=d/2;f+=k,v+=k;const q=new Le(T,O);for(let Z=0;Z<O;Z++){const J=f+Z*d;for(let ee=0;ee<T;ee++)r.get(v+ee*d,J)&&q.set(ee,Z)}return q}static moduleSize(r,a){const l=a.getWidth();let d=r[0];const f=r[1];for(;d<l&&a.get(d,f);)d++;if(d===l)throw new ne;const y=d-r[0];if(y===0)throw new ne;return y}}Ei.NO_POINTS=[];class Co extends Me{constructor(r=500){super(new Ei,r)}}var zs;(function(B){B[B.L=0]="L",B[B.M=1]="M",B[B.Q=2]="Q",B[B.H=3]="H"})(zs||(zs={}));class at{constructor(r,a,l){this.value=r,this.stringValue=a,this.bits=l,at.FOR_BITS.set(l,this),at.FOR_VALUE.set(r,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(r){switch(r){case"L":return at.L;case"M":return at.M;case"Q":return at.Q;case"H":return at.H;default:throw new E(r+"not available")}}toString(){return this.stringValue}equals(r){if(!(r instanceof at))return!1;const a=r;return this.value===a.value}static forBits(r){if(r<0||r>=at.FOR_BITS.size)throw new S;return at.FOR_BITS.get(r)}}at.FOR_BITS=new Map,at.FOR_VALUE=new Map,at.L=new at(zs.L,"L",1),at.M=new at(zs.M,"M",0),at.Q=new at(zs.Q,"Q",3),at.H=new at(zs.H,"H",2);class Tn{constructor(r){this.errorCorrectionLevel=at.forBits(r>>3&3),this.dataMask=r&7}static numBitsDiffering(r,a){return U.bitCount(r^a)}static decodeFormatInformation(r,a){const l=Tn.doDecodeFormatInformation(r,a);return l!==null?l:Tn.doDecodeFormatInformation(r^Tn.FORMAT_INFO_MASK_QR,a^Tn.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(r,a){let l=Number.MAX_SAFE_INTEGER,d=0;for(const f of Tn.FORMAT_INFO_DECODE_LOOKUP){const y=f[0];if(y===r||y===a)return new Tn(f[1]);let v=Tn.numBitsDiffering(r,y);v<l&&(d=f[1],l=v),r!==a&&(v=Tn.numBitsDiffering(a,y),v<l&&(d=f[1],l=v))}return l<=3?new Tn(d):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(r){if(!(r instanceof Tn))return!1;const a=r;return this.errorCorrectionLevel===a.errorCorrectionLevel&&this.dataMask===a.dataMask}}Tn.FORMAT_INFO_MASK_QR=21522,Tn.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class oe{constructor(r,...a){this.ecCodewordsPerBlock=r,this.ecBlocks=a}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let r=0;const a=this.ecBlocks;for(const l of a)r+=l.getCount();return r}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class W{constructor(r,a){this.count=r,this.dataCodewords=a}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class He{constructor(r,a,...l){this.versionNumber=r,this.alignmentPatternCenters=a,this.ecBlocks=l;let d=0;const f=l[0].getECCodewordsPerBlock(),y=l[0].getECBlocks();for(const v of y)d+=v.getCount()*(v.getDataCodewords()+f);this.totalCodewords=d}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(r){return this.ecBlocks[r.getValue()]}static getProvisionalVersionForDimension(r){if(r%4!==1)throw new z;try{return this.getVersionForNumber((r-17)/4)}catch{throw new z}}static getVersionForNumber(r){if(r<1||r>40)throw new S;return He.VERSIONS[r-1]}static decodeVersionInformation(r){let a=Number.MAX_SAFE_INTEGER,l=0;for(let d=0;d<He.VERSION_DECODE_INFO.length;d++){const f=He.VERSION_DECODE_INFO[d];if(f===r)return He.getVersionForNumber(d+7);const y=Tn.numBitsDiffering(r,f);y<a&&(l=d+7,a=y)}return a<=3?He.getVersionForNumber(l):null}buildFunctionPattern(){const r=this.getDimensionForVersion(),a=new Le(r);a.setRegion(0,0,9,9),a.setRegion(r-8,0,8,9),a.setRegion(0,r-8,9,8);const l=this.alignmentPatternCenters.length;for(let d=0;d<l;d++){const f=this.alignmentPatternCenters[d]-2;for(let y=0;y<l;y++)d===0&&(y===0||y===l-1)||d===l-1&&y===0||a.setRegion(this.alignmentPatternCenters[y]-2,f,5,5)}return a.setRegion(6,9,1,r-17),a.setRegion(9,6,r-17,1),this.versionNumber>6&&(a.setRegion(r-11,0,3,6),a.setRegion(0,r-11,6,3)),a}toString(){return""+this.versionNumber}}He.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),He.VERSIONS=[new He(1,new Int32Array(0),new oe(7,new W(1,19)),new oe(10,new W(1,16)),new oe(13,new W(1,13)),new oe(17,new W(1,9))),new He(2,Int32Array.from([6,18]),new oe(10,new W(1,34)),new oe(16,new W(1,28)),new oe(22,new W(1,22)),new oe(28,new W(1,16))),new He(3,Int32Array.from([6,22]),new oe(15,new W(1,55)),new oe(26,new W(1,44)),new oe(18,new W(2,17)),new oe(22,new W(2,13))),new He(4,Int32Array.from([6,26]),new oe(20,new W(1,80)),new oe(18,new W(2,32)),new oe(26,new W(2,24)),new oe(16,new W(4,9))),new He(5,Int32Array.from([6,30]),new oe(26,new W(1,108)),new oe(24,new W(2,43)),new oe(18,new W(2,15),new W(2,16)),new oe(22,new W(2,11),new W(2,12))),new He(6,Int32Array.from([6,34]),new oe(18,new W(2,68)),new oe(16,new W(4,27)),new oe(24,new W(4,19)),new oe(28,new W(4,15))),new He(7,Int32Array.from([6,22,38]),new oe(20,new W(2,78)),new oe(18,new W(4,31)),new oe(18,new W(2,14),new W(4,15)),new oe(26,new W(4,13),new W(1,14))),new He(8,Int32Array.from([6,24,42]),new oe(24,new W(2,97)),new oe(22,new W(2,38),new W(2,39)),new oe(22,new W(4,18),new W(2,19)),new oe(26,new W(4,14),new W(2,15))),new He(9,Int32Array.from([6,26,46]),new oe(30,new W(2,116)),new oe(22,new W(3,36),new W(2,37)),new oe(20,new W(4,16),new W(4,17)),new oe(24,new W(4,12),new W(4,13))),new He(10,Int32Array.from([6,28,50]),new oe(18,new W(2,68),new W(2,69)),new oe(26,new W(4,43),new W(1,44)),new oe(24,new W(6,19),new W(2,20)),new oe(28,new W(6,15),new W(2,16))),new He(11,Int32Array.from([6,30,54]),new oe(20,new W(4,81)),new oe(30,new W(1,50),new W(4,51)),new oe(28,new W(4,22),new W(4,23)),new oe(24,new W(3,12),new W(8,13))),new He(12,Int32Array.from([6,32,58]),new oe(24,new W(2,92),new W(2,93)),new oe(22,new W(6,36),new W(2,37)),new oe(26,new W(4,20),new W(6,21)),new oe(28,new W(7,14),new W(4,15))),new He(13,Int32Array.from([6,34,62]),new oe(26,new W(4,107)),new oe(22,new W(8,37),new W(1,38)),new oe(24,new W(8,20),new W(4,21)),new oe(22,new W(12,11),new W(4,12))),new He(14,Int32Array.from([6,26,46,66]),new oe(30,new W(3,115),new W(1,116)),new oe(24,new W(4,40),new W(5,41)),new oe(20,new W(11,16),new W(5,17)),new oe(24,new W(11,12),new W(5,13))),new He(15,Int32Array.from([6,26,48,70]),new oe(22,new W(5,87),new W(1,88)),new oe(24,new W(5,41),new W(5,42)),new oe(30,new W(5,24),new W(7,25)),new oe(24,new W(11,12),new W(7,13))),new He(16,Int32Array.from([6,26,50,74]),new oe(24,new W(5,98),new W(1,99)),new oe(28,new W(7,45),new W(3,46)),new oe(24,new W(15,19),new W(2,20)),new oe(30,new W(3,15),new W(13,16))),new He(17,Int32Array.from([6,30,54,78]),new oe(28,new W(1,107),new W(5,108)),new oe(28,new W(10,46),new W(1,47)),new oe(28,new W(1,22),new W(15,23)),new oe(28,new W(2,14),new W(17,15))),new He(18,Int32Array.from([6,30,56,82]),new oe(30,new W(5,120),new W(1,121)),new oe(26,new W(9,43),new W(4,44)),new oe(28,new W(17,22),new W(1,23)),new oe(28,new W(2,14),new W(19,15))),new He(19,Int32Array.from([6,30,58,86]),new oe(28,new W(3,113),new W(4,114)),new oe(26,new W(3,44),new W(11,45)),new oe(26,new W(17,21),new W(4,22)),new oe(26,new W(9,13),new W(16,14))),new He(20,Int32Array.from([6,34,62,90]),new oe(28,new W(3,107),new W(5,108)),new oe(26,new W(3,41),new W(13,42)),new oe(30,new W(15,24),new W(5,25)),new oe(28,new W(15,15),new W(10,16))),new He(21,Int32Array.from([6,28,50,72,94]),new oe(28,new W(4,116),new W(4,117)),new oe(26,new W(17,42)),new oe(28,new W(17,22),new W(6,23)),new oe(30,new W(19,16),new W(6,17))),new He(22,Int32Array.from([6,26,50,74,98]),new oe(28,new W(2,111),new W(7,112)),new oe(28,new W(17,46)),new oe(30,new W(7,24),new W(16,25)),new oe(24,new W(34,13))),new He(23,Int32Array.from([6,30,54,78,102]),new oe(30,new W(4,121),new W(5,122)),new oe(28,new W(4,47),new W(14,48)),new oe(30,new W(11,24),new W(14,25)),new oe(30,new W(16,15),new W(14,16))),new He(24,Int32Array.from([6,28,54,80,106]),new oe(30,new W(6,117),new W(4,118)),new oe(28,new W(6,45),new W(14,46)),new oe(30,new W(11,24),new W(16,25)),new oe(30,new W(30,16),new W(2,17))),new He(25,Int32Array.from([6,32,58,84,110]),new oe(26,new W(8,106),new W(4,107)),new oe(28,new W(8,47),new W(13,48)),new oe(30,new W(7,24),new W(22,25)),new oe(30,new W(22,15),new W(13,16))),new He(26,Int32Array.from([6,30,58,86,114]),new oe(28,new W(10,114),new W(2,115)),new oe(28,new W(19,46),new W(4,47)),new oe(28,new W(28,22),new W(6,23)),new oe(30,new W(33,16),new W(4,17))),new He(27,Int32Array.from([6,34,62,90,118]),new oe(30,new W(8,122),new W(4,123)),new oe(28,new W(22,45),new W(3,46)),new oe(30,new W(8,23),new W(26,24)),new oe(30,new W(12,15),new W(28,16))),new He(28,Int32Array.from([6,26,50,74,98,122]),new oe(30,new W(3,117),new W(10,118)),new oe(28,new W(3,45),new W(23,46)),new oe(30,new W(4,24),new W(31,25)),new oe(30,new W(11,15),new W(31,16))),new He(29,Int32Array.from([6,30,54,78,102,126]),new oe(30,new W(7,116),new W(7,117)),new oe(28,new W(21,45),new W(7,46)),new oe(30,new W(1,23),new W(37,24)),new oe(30,new W(19,15),new W(26,16))),new He(30,Int32Array.from([6,26,52,78,104,130]),new oe(30,new W(5,115),new W(10,116)),new oe(28,new W(19,47),new W(10,48)),new oe(30,new W(15,24),new W(25,25)),new oe(30,new W(23,15),new W(25,16))),new He(31,Int32Array.from([6,30,56,82,108,134]),new oe(30,new W(13,115),new W(3,116)),new oe(28,new W(2,46),new W(29,47)),new oe(30,new W(42,24),new W(1,25)),new oe(30,new W(23,15),new W(28,16))),new He(32,Int32Array.from([6,34,60,86,112,138]),new oe(30,new W(17,115)),new oe(28,new W(10,46),new W(23,47)),new oe(30,new W(10,24),new W(35,25)),new oe(30,new W(19,15),new W(35,16))),new He(33,Int32Array.from([6,30,58,86,114,142]),new oe(30,new W(17,115),new W(1,116)),new oe(28,new W(14,46),new W(21,47)),new oe(30,new W(29,24),new W(19,25)),new oe(30,new W(11,15),new W(46,16))),new He(34,Int32Array.from([6,34,62,90,118,146]),new oe(30,new W(13,115),new W(6,116)),new oe(28,new W(14,46),new W(23,47)),new oe(30,new W(44,24),new W(7,25)),new oe(30,new W(59,16),new W(1,17))),new He(35,Int32Array.from([6,30,54,78,102,126,150]),new oe(30,new W(12,121),new W(7,122)),new oe(28,new W(12,47),new W(26,48)),new oe(30,new W(39,24),new W(14,25)),new oe(30,new W(22,15),new W(41,16))),new He(36,Int32Array.from([6,24,50,76,102,128,154]),new oe(30,new W(6,121),new W(14,122)),new oe(28,new W(6,47),new W(34,48)),new oe(30,new W(46,24),new W(10,25)),new oe(30,new W(2,15),new W(64,16))),new He(37,Int32Array.from([6,28,54,80,106,132,158]),new oe(30,new W(17,122),new W(4,123)),new oe(28,new W(29,46),new W(14,47)),new oe(30,new W(49,24),new W(10,25)),new oe(30,new W(24,15),new W(46,16))),new He(38,Int32Array.from([6,32,58,84,110,136,162]),new oe(30,new W(4,122),new W(18,123)),new oe(28,new W(13,46),new W(32,47)),new oe(30,new W(48,24),new W(14,25)),new oe(30,new W(42,15),new W(32,16))),new He(39,Int32Array.from([6,26,54,82,110,138,166]),new oe(30,new W(20,117),new W(4,118)),new oe(28,new W(40,47),new W(7,48)),new oe(30,new W(43,24),new W(22,25)),new oe(30,new W(10,15),new W(67,16))),new He(40,Int32Array.from([6,30,58,86,114,142,170]),new oe(30,new W(19,118),new W(6,119)),new oe(28,new W(18,47),new W(31,48)),new oe(30,new W(34,24),new W(34,25)),new oe(30,new W(20,15),new W(61,16)))];var wn;(function(B){B[B.DATA_MASK_000=0]="DATA_MASK_000",B[B.DATA_MASK_001=1]="DATA_MASK_001",B[B.DATA_MASK_010=2]="DATA_MASK_010",B[B.DATA_MASK_011=3]="DATA_MASK_011",B[B.DATA_MASK_100=4]="DATA_MASK_100",B[B.DATA_MASK_101=5]="DATA_MASK_101",B[B.DATA_MASK_110=6]="DATA_MASK_110",B[B.DATA_MASK_111=7]="DATA_MASK_111"})(wn||(wn={}));class dr{constructor(r,a){this.value=r,this.isMasked=a}unmaskBitMatrix(r,a){for(let l=0;l<a;l++)for(let d=0;d<a;d++)this.isMasked(l,d)&&r.flip(d,l)}}dr.values=new Map([[wn.DATA_MASK_000,new dr(wn.DATA_MASK_000,(B,r)=>(B+r&1)===0)],[wn.DATA_MASK_001,new dr(wn.DATA_MASK_001,(B,r)=>(B&1)===0)],[wn.DATA_MASK_010,new dr(wn.DATA_MASK_010,(B,r)=>r%3===0)],[wn.DATA_MASK_011,new dr(wn.DATA_MASK_011,(B,r)=>(B+r)%3===0)],[wn.DATA_MASK_100,new dr(wn.DATA_MASK_100,(B,r)=>(Math.floor(B/2)+Math.floor(r/3)&1)===0)],[wn.DATA_MASK_101,new dr(wn.DATA_MASK_101,(B,r)=>B*r%6===0)],[wn.DATA_MASK_110,new dr(wn.DATA_MASK_110,(B,r)=>B*r%6<3)],[wn.DATA_MASK_111,new dr(wn.DATA_MASK_111,(B,r)=>(B+r+B*r%3&1)===0)]]);class Fs{constructor(r){const a=r.getHeight();if(a<21||(a&3)!==1)throw new z;this.bitMatrix=r}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let r=0;for(let f=0;f<6;f++)r=this.copyBit(f,8,r);r=this.copyBit(7,8,r),r=this.copyBit(8,8,r),r=this.copyBit(8,7,r);for(let f=5;f>=0;f--)r=this.copyBit(8,f,r);const a=this.bitMatrix.getHeight();let l=0;const d=a-7;for(let f=a-1;f>=d;f--)l=this.copyBit(8,f,l);for(let f=a-8;f<a;f++)l=this.copyBit(f,8,l);if(this.parsedFormatInfo=Tn.decodeFormatInformation(r,l),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new z}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const r=this.bitMatrix.getHeight(),a=Math.floor((r-17)/4);if(a<=6)return He.getVersionForNumber(a);let l=0;const d=r-11;for(let y=5;y>=0;y--)for(let v=r-9;v>=d;v--)l=this.copyBit(v,y,l);let f=He.decodeVersionInformation(l);if(f!==null&&f.getDimensionForVersion()===r)return this.parsedVersion=f,f;l=0;for(let y=5;y>=0;y--)for(let v=r-9;v>=d;v--)l=this.copyBit(y,v,l);if(f=He.decodeVersionInformation(l),f!==null&&f.getDimensionForVersion()===r)return this.parsedVersion=f,f;throw new z}copyBit(r,a,l){return(this.isMirror?this.bitMatrix.get(a,r):this.bitMatrix.get(r,a))?l<<1|1:l<<1}readCodewords(){const r=this.readFormatInformation(),a=this.readVersion(),l=dr.values.get(r.getDataMask()),d=this.bitMatrix.getHeight();l.unmaskBitMatrix(this.bitMatrix,d);const f=a.buildFunctionPattern();let y=!0;const v=new Uint8Array(a.getTotalCodewords());let A=0,T=0,O=0;for(let k=d-1;k>0;k-=2){k===6&&k--;for(let q=0;q<d;q++){const Z=y?d-1-q:q;for(let J=0;J<2;J++)f.get(k-J,Z)||(O++,T<<=1,this.bitMatrix.get(k-J,Z)&&(T|=1),O===8&&(v[A++]=T,O=0,T=0))}y=!y}if(A!==a.getTotalCodewords())throw new z;return v}remask(){if(this.parsedFormatInfo===null)return;const r=dr.values[this.parsedFormatInfo.getDataMask()],a=this.bitMatrix.getHeight();r.unmaskBitMatrix(this.bitMatrix,a)}setMirror(r){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=r}mirror(){const r=this.bitMatrix;for(let a=0,l=r.getWidth();a<l;a++)for(let d=a+1,f=r.getHeight();d<f;d++)r.get(a,d)!==r.get(d,a)&&(r.flip(d,a),r.flip(a,d))}}class Dl{constructor(r,a){this.numDataCodewords=r,this.codewords=a}static getDataBlocks(r,a,l){if(r.length!==a.getTotalCodewords())throw new S;const d=a.getECBlocksForLevel(l);let f=0;const y=d.getECBlocks();for(const J of y)f+=J.getCount();const v=new Array(f);let A=0;for(const J of y)for(let ee=0;ee<J.getCount();ee++){const se=J.getDataCodewords(),he=d.getECCodewordsPerBlock()+se;v[A++]=new Dl(se,new Uint8Array(he))}const T=v[0].codewords.length;let O=v.length-1;for(;O>=0&&v[O].codewords.length!==T;)O--;O++;const k=T-d.getECCodewordsPerBlock();let q=0;for(let J=0;J<k;J++)for(let ee=0;ee<A;ee++)v[ee].codewords[J]=r[q++];for(let J=O;J<A;J++)v[J].codewords[k]=r[q++];const Z=v[0].codewords.length;for(let J=k;J<Z;J++)for(let ee=0;ee<A;ee++){const se=ee<O?J:J+1;v[ee].codewords[se]=r[q++]}return v}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var hr;(function(B){B[B.TERMINATOR=0]="TERMINATOR",B[B.NUMERIC=1]="NUMERIC",B[B.ALPHANUMERIC=2]="ALPHANUMERIC",B[B.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",B[B.BYTE=4]="BYTE",B[B.ECI=5]="ECI",B[B.KANJI=6]="KANJI",B[B.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",B[B.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",B[B.HANZI=9]="HANZI"})(hr||(hr={}));class Ge{constructor(r,a,l,d){this.value=r,this.stringValue=a,this.characterCountBitsForVersions=l,this.bits=d,Ge.FOR_BITS.set(d,this),Ge.FOR_VALUE.set(r,this)}static forBits(r){const a=Ge.FOR_BITS.get(r);if(a===void 0)throw new S;return a}getCharacterCountBits(r){const a=r.getVersionNumber();let l;return a<=9?l=0:a<=26?l=1:l=2,this.characterCountBitsForVersions[l]}getValue(){return this.value}getBits(){return this.bits}equals(r){if(!(r instanceof Ge))return!1;const a=r;return this.value===a.value}toString(){return this.stringValue}}Ge.FOR_BITS=new Map,Ge.FOR_VALUE=new Map,Ge.TERMINATOR=new Ge(hr.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Ge.NUMERIC=new Ge(hr.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Ge.ALPHANUMERIC=new Ge(hr.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Ge.STRUCTURED_APPEND=new Ge(hr.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Ge.BYTE=new Ge(hr.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Ge.ECI=new Ge(hr.ECI,"ECI",Int32Array.from([0,0,0]),7),Ge.KANJI=new Ge(hr.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Ge.FNC1_FIRST_POSITION=new Ge(hr.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Ge.FNC1_SECOND_POSITION=new Ge(hr.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Ge.HANZI=new Ge(hr.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class qt{static decode(r,a,l,d){const f=new Pr(r);let y=new me;const v=new Array;let A=-1,T=-1;try{let O=null,k=!1,q;do{if(f.available()<4)q=Ge.TERMINATOR;else{const Z=f.readBits(4);q=Ge.forBits(Z)}switch(q){case Ge.TERMINATOR:break;case Ge.FNC1_FIRST_POSITION:case Ge.FNC1_SECOND_POSITION:k=!0;break;case Ge.STRUCTURED_APPEND:if(f.available()<16)throw new z;A=f.readBits(8),T=f.readBits(8);break;case Ge.ECI:const Z=qt.parseECIValue(f);if(O=Q.getCharacterSetECIByValue(Z),O===null)throw new z;break;case Ge.HANZI:const J=f.readBits(4),ee=f.readBits(q.getCharacterCountBits(a));J===qt.GB2312_SUBSET&&qt.decodeHanziSegment(f,y,ee);break;default:const se=f.readBits(q.getCharacterCountBits(a));switch(q){case Ge.NUMERIC:qt.decodeNumericSegment(f,y,se);break;case Ge.ALPHANUMERIC:qt.decodeAlphanumericSegment(f,y,se,k);break;case Ge.BYTE:qt.decodeByteSegment(f,y,se,O,v,d);break;case Ge.KANJI:qt.decodeKanjiSegment(f,y,se);break;default:throw new z}break}}while(q!==Ge.TERMINATOR)}catch{throw new z}return new Ht(r,y.toString(),v.length===0?null:v,l===null?null:l.toString(),A,T)}static decodeHanziSegment(r,a,l){if(l*13>r.available())throw new z;const d=new Uint8Array(2*l);let f=0;for(;l>0;){const y=r.readBits(13);let v=y/96<<8&4294967295|y%96;v<959?v+=41377:v+=42657,d[f]=v>>8&255,d[f+1]=v&255,f+=2,l--}try{a.append(ae.decode(d,ve.GB2312))}catch(y){throw new z(y)}}static decodeKanjiSegment(r,a,l){if(l*13>r.available())throw new z;const d=new Uint8Array(2*l);let f=0;for(;l>0;){const y=r.readBits(13);let v=y/192<<8&4294967295|y%192;v<7936?v+=33088:v+=49472,d[f]=v>>8,d[f+1]=v,f+=2,l--}try{a.append(ae.decode(d,ve.SHIFT_JIS))}catch(y){throw new z(y)}}static decodeByteSegment(r,a,l,d,f,y){if(8*l>r.available())throw new z;const v=new Uint8Array(l);for(let T=0;T<l;T++)v[T]=r.readBits(8);let A;d===null?A=ve.guessEncoding(v,y):A=d.getName();try{a.append(ae.decode(v,A))}catch(T){throw new z(T)}f.push(v)}static toAlphaNumericChar(r){if(r>=qt.ALPHANUMERIC_CHARS.length)throw new z;return qt.ALPHANUMERIC_CHARS[r]}static decodeAlphanumericSegment(r,a,l,d){const f=a.length();for(;l>1;){if(r.available()<11)throw new z;const y=r.readBits(11);a.append(qt.toAlphaNumericChar(Math.floor(y/45))),a.append(qt.toAlphaNumericChar(y%45)),l-=2}if(l===1){if(r.available()<6)throw new z;a.append(qt.toAlphaNumericChar(r.readBits(6)))}if(d)for(let y=f;y<a.length();y++)a.charAt(y)==="%"&&(y<a.length()-1&&a.charAt(y+1)==="%"?a.deleteCharAt(y+1):a.setCharAt(y,""))}static decodeNumericSegment(r,a,l){for(;l>=3;){if(r.available()<10)throw new z;const d=r.readBits(10);if(d>=1e3)throw new z;a.append(qt.toAlphaNumericChar(Math.floor(d/100))),a.append(qt.toAlphaNumericChar(Math.floor(d/10)%10)),a.append(qt.toAlphaNumericChar(d%10)),l-=3}if(l===2){if(r.available()<7)throw new z;const d=r.readBits(7);if(d>=100)throw new z;a.append(qt.toAlphaNumericChar(Math.floor(d/10))),a.append(qt.toAlphaNumericChar(d%10))}else if(l===1){if(r.available()<4)throw new z;const d=r.readBits(4);if(d>=10)throw new z;a.append(qt.toAlphaNumericChar(d))}}static parseECIValue(r){const a=r.readBits(8);if((a&128)===0)return a&127;if((a&192)===128){const l=r.readBits(8);return(a&63)<<8&4294967295|l}if((a&224)===192){const l=r.readBits(16);return(a&31)<<16&4294967295|l}throw new z}}qt.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",qt.GB2312_SUBSET=1;class hu{constructor(r){this.mirrored=r}isMirrored(){return this.mirrored}applyMirroredCorrection(r){if(!this.mirrored||r===null||r.length<3)return;const a=r[0];r[0]=r[2],r[2]=a}}class Fh{constructor(){this.rsDecoder=new rs(vt.QR_CODE_FIELD_256)}decodeBooleanArray(r,a){return this.decodeBitMatrix(Le.parseFromBooleanArray(r),a)}decodeBitMatrix(r,a){const l=new Fs(r);let d=null;try{return this.decodeBitMatrixParser(l,a)}catch(f){d=f}try{l.remask(),l.setMirror(!0),l.readVersion(),l.readFormatInformation(),l.mirror();const f=this.decodeBitMatrixParser(l,a);return f.setOther(new hu(!0)),f}catch(f){throw d!==null?d:f}}decodeBitMatrixParser(r,a){const l=r.readVersion(),d=r.readFormatInformation().getErrorCorrectionLevel(),f=r.readCodewords(),y=Dl.getDataBlocks(f,l,d);let v=0;for(const O of y)v+=O.getNumDataCodewords();const A=new Uint8Array(v);let T=0;for(const O of y){const k=O.getCodewords(),q=O.getNumDataCodewords();this.correctErrors(k,q);for(let Z=0;Z<q;Z++)A[T++]=k[Z]}return qt.decode(A,l,d,a)}correctErrors(r,a){const l=new Int32Array(r);try{this.rsDecoder.decode(l,r.length-a)}catch{throw new _}for(let d=0;d<a;d++)r[d]=l[d]}}class Vs extends ze{constructor(r,a,l){super(r,a),this.estimatedModuleSize=l}aboutEquals(r,a,l){if(Math.abs(a-this.getY())<=r&&Math.abs(l-this.getX())<=r){const d=Math.abs(r-this.estimatedModuleSize);return d<=1||d<=this.estimatedModuleSize}return!1}combineEstimate(r,a,l){const d=(this.getX()+a)/2,f=(this.getY()+r)/2,y=(this.estimatedModuleSize+l)/2;return new Vs(d,f,y)}}class Sr{constructor(r,a,l,d,f,y,v){this.image=r,this.startX=a,this.startY=l,this.width=d,this.height=f,this.moduleSize=y,this.resultPointCallback=v,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const r=this.startX,a=this.height,l=this.width,d=r+l,f=this.startY+a/2,y=new Int32Array(3),v=this.image;for(let A=0;A<a;A++){const T=f+((A&1)===0?Math.floor((A+1)/2):-Math.floor((A+1)/2));y[0]=0,y[1]=0,y[2]=0;let O=r;for(;O<d&&!v.get(O,T);)O++;let k=0;for(;O<d;){if(v.get(O,T))if(k===1)y[1]++;else if(k===2){if(this.foundPatternCross(y)){const q=this.handlePossibleCenter(y,T,O);if(q!==null)return q}y[0]=y[2],y[1]=1,y[2]=0,k=1}else y[++k]++;else k===1&&k++,y[k]++;O++}if(this.foundPatternCross(y)){const q=this.handlePossibleCenter(y,T,d);if(q!==null)return q}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new ne}static centerFromEnd(r,a){return a-r[2]-r[1]/2}foundPatternCross(r){const a=this.moduleSize,l=a/2;for(let d=0;d<3;d++)if(Math.abs(a-r[d])>=l)return!1;return!0}crossCheckVertical(r,a,l,d){const f=this.image,y=f.getHeight(),v=this.crossCheckStateCount;v[0]=0,v[1]=0,v[2]=0;let A=r;for(;A>=0&&f.get(a,A)&&v[1]<=l;)v[1]++,A--;if(A<0||v[1]>l)return NaN;for(;A>=0&&!f.get(a,A)&&v[0]<=l;)v[0]++,A--;if(v[0]>l)return NaN;for(A=r+1;A<y&&f.get(a,A)&&v[1]<=l;)v[1]++,A++;if(A===y||v[1]>l)return NaN;for(;A<y&&!f.get(a,A)&&v[2]<=l;)v[2]++,A++;if(v[2]>l)return NaN;const T=v[0]+v[1]+v[2];return 5*Math.abs(T-d)>=2*d?NaN:this.foundPatternCross(v)?Sr.centerFromEnd(v,A):NaN}handlePossibleCenter(r,a,l){const d=r[0]+r[1]+r[2],f=Sr.centerFromEnd(r,l),y=this.crossCheckVertical(a,f,2*r[1],d);if(!isNaN(y)){const v=(r[0]+r[1]+r[2])/3;for(const T of this.possibleCenters)if(T.aboutEquals(v,y,f))return T.combineEstimate(y,f,v);const A=new Vs(f,y,v);this.possibleCenters.push(A),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(A)}return null}}class La extends ze{constructor(r,a,l,d){super(r,a),this.estimatedModuleSize=l,this.count=d,d===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(r,a,l){if(Math.abs(a-this.getY())<=r&&Math.abs(l-this.getX())<=r){const d=Math.abs(r-this.estimatedModuleSize);return d<=1||d<=this.estimatedModuleSize}return!1}combineEstimate(r,a,l){const d=this.count+1,f=(this.count*this.getX()+a)/d,y=(this.count*this.getY()+r)/d,v=(this.count*this.estimatedModuleSize+l)/d;return new La(f,y,v,d)}}class jl{constructor(r){this.bottomLeft=r[0],this.topLeft=r[1],this.topRight=r[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Kt{constructor(r,a){this.image=r,this.resultPointCallback=a,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=a}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(r){const a=r!=null&&r.get(X.TRY_HARDER)!==void 0,l=r!=null&&r.get(X.PURE_BARCODE)!==void 0,d=this.image,f=d.getHeight(),y=d.getWidth();let v=Math.floor(3*f/(4*Kt.MAX_MODULES));(v<Kt.MIN_SKIP||a)&&(v=Kt.MIN_SKIP);let A=!1;const T=new Int32Array(5);for(let k=v-1;k<f&&!A;k+=v){T[0]=0,T[1]=0,T[2]=0,T[3]=0,T[4]=0;let q=0;for(let Z=0;Z<y;Z++)if(d.get(Z,k))(q&1)===1&&q++,T[q]++;else if((q&1)===0)if(q===4)if(Kt.foundPatternCross(T)){if(this.handlePossibleCenter(T,k,Z,l)===!0)if(v=2,this.hasSkipped===!0)A=this.haveMultiplyConfirmedCenters();else{const ee=this.findRowSkip();ee>T[2]&&(k+=ee-T[2]-v,Z=y-1)}else{T[0]=T[2],T[1]=T[3],T[2]=T[4],T[3]=1,T[4]=0,q=3;continue}q=0,T[0]=0,T[1]=0,T[2]=0,T[3]=0,T[4]=0}else T[0]=T[2],T[1]=T[3],T[2]=T[4],T[3]=1,T[4]=0,q=3;else T[++q]++;else T[q]++;Kt.foundPatternCross(T)&&this.handlePossibleCenter(T,k,y,l)===!0&&(v=T[0],this.hasSkipped&&(A=this.haveMultiplyConfirmedCenters()))}const O=this.selectBestPatterns();return ze.orderBestPatterns(O),new jl(O)}static centerFromEnd(r,a){return a-r[4]-r[3]-r[2]/2}static foundPatternCross(r){let a=0;for(let f=0;f<5;f++){const y=r[f];if(y===0)return!1;a+=y}if(a<7)return!1;const l=a/7,d=l/2;return Math.abs(l-r[0])<d&&Math.abs(l-r[1])<d&&Math.abs(3*l-r[2])<3*d&&Math.abs(l-r[3])<d&&Math.abs(l-r[4])<d}getCrossCheckStateCount(){const r=this.crossCheckStateCount;return r[0]=0,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r}crossCheckDiagonal(r,a,l,d){const f=this.getCrossCheckStateCount();let y=0;const v=this.image;for(;r>=y&&a>=y&&v.get(a-y,r-y);)f[2]++,y++;if(r<y||a<y)return!1;for(;r>=y&&a>=y&&!v.get(a-y,r-y)&&f[1]<=l;)f[1]++,y++;if(r<y||a<y||f[1]>l)return!1;for(;r>=y&&a>=y&&v.get(a-y,r-y)&&f[0]<=l;)f[0]++,y++;if(f[0]>l)return!1;const A=v.getHeight(),T=v.getWidth();for(y=1;r+y<A&&a+y<T&&v.get(a+y,r+y);)f[2]++,y++;if(r+y>=A||a+y>=T)return!1;for(;r+y<A&&a+y<T&&!v.get(a+y,r+y)&&f[3]<l;)f[3]++,y++;if(r+y>=A||a+y>=T||f[3]>=l)return!1;for(;r+y<A&&a+y<T&&v.get(a+y,r+y)&&f[4]<l;)f[4]++,y++;if(f[4]>=l)return!1;const O=f[0]+f[1]+f[2]+f[3]+f[4];return Math.abs(O-d)<2*d&&Kt.foundPatternCross(f)}crossCheckVertical(r,a,l,d){const f=this.image,y=f.getHeight(),v=this.getCrossCheckStateCount();let A=r;for(;A>=0&&f.get(a,A);)v[2]++,A--;if(A<0)return NaN;for(;A>=0&&!f.get(a,A)&&v[1]<=l;)v[1]++,A--;if(A<0||v[1]>l)return NaN;for(;A>=0&&f.get(a,A)&&v[0]<=l;)v[0]++,A--;if(v[0]>l)return NaN;for(A=r+1;A<y&&f.get(a,A);)v[2]++,A++;if(A===y)return NaN;for(;A<y&&!f.get(a,A)&&v[3]<l;)v[3]++,A++;if(A===y||v[3]>=l)return NaN;for(;A<y&&f.get(a,A)&&v[4]<l;)v[4]++,A++;if(v[4]>=l)return NaN;const T=v[0]+v[1]+v[2]+v[3]+v[4];return 5*Math.abs(T-d)>=2*d?NaN:Kt.foundPatternCross(v)?Kt.centerFromEnd(v,A):NaN}crossCheckHorizontal(r,a,l,d){const f=this.image,y=f.getWidth(),v=this.getCrossCheckStateCount();let A=r;for(;A>=0&&f.get(A,a);)v[2]++,A--;if(A<0)return NaN;for(;A>=0&&!f.get(A,a)&&v[1]<=l;)v[1]++,A--;if(A<0||v[1]>l)return NaN;for(;A>=0&&f.get(A,a)&&v[0]<=l;)v[0]++,A--;if(v[0]>l)return NaN;for(A=r+1;A<y&&f.get(A,a);)v[2]++,A++;if(A===y)return NaN;for(;A<y&&!f.get(A,a)&&v[3]<l;)v[3]++,A++;if(A===y||v[3]>=l)return NaN;for(;A<y&&f.get(A,a)&&v[4]<l;)v[4]++,A++;if(v[4]>=l)return NaN;const T=v[0]+v[1]+v[2]+v[3]+v[4];return 5*Math.abs(T-d)>=d?NaN:Kt.foundPatternCross(v)?Kt.centerFromEnd(v,A):NaN}handlePossibleCenter(r,a,l,d){const f=r[0]+r[1]+r[2]+r[3]+r[4];let y=Kt.centerFromEnd(r,l),v=this.crossCheckVertical(a,Math.floor(y),r[2],f);if(!isNaN(v)&&(y=this.crossCheckHorizontal(Math.floor(y),Math.floor(v),r[2],f),!isNaN(y)&&(!d||this.crossCheckDiagonal(Math.floor(v),Math.floor(y),r[2],f)))){const A=f/7;let T=!1;const O=this.possibleCenters;for(let k=0,q=O.length;k<q;k++){const Z=O[k];if(Z.aboutEquals(A,v,y)){O[k]=Z.combineEstimate(v,y,A),T=!0;break}}if(!T){const k=new La(y,v,A);O.push(k),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(k)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let a=null;for(const l of this.possibleCenters)if(l.getCount()>=Kt.CENTER_QUORUM)if(a==null)a=l;else return this.hasSkipped=!0,Math.floor((Math.abs(a.getX()-l.getX())-Math.abs(a.getY()-l.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let r=0,a=0;const l=this.possibleCenters.length;for(const y of this.possibleCenters)y.getCount()>=Kt.CENTER_QUORUM&&(r++,a+=y.getEstimatedModuleSize());if(r<3)return!1;const d=a/l;let f=0;for(const y of this.possibleCenters)f+=Math.abs(y.getEstimatedModuleSize()-d);return f<=.05*a}selectBestPatterns(){const r=this.possibleCenters.length;if(r<3)throw new ne;const a=this.possibleCenters;let l;if(r>3){let d=0,f=0;for(const A of this.possibleCenters){const T=A.getEstimatedModuleSize();d+=T,f+=T*T}l=d/r;let y=Math.sqrt(f/r-l*l);a.sort((A,T)=>{const O=Math.abs(T.getEstimatedModuleSize()-l),k=Math.abs(A.getEstimatedModuleSize()-l);return O<k?-1:O>k?1:0});const v=Math.max(.2*l,y);for(let A=0;A<a.length&&a.length>3;A++){const T=a[A];Math.abs(T.getEstimatedModuleSize()-l)>v&&(a.splice(A,1),A--)}}if(a.length>3){let d=0;for(const f of a)d+=f.getEstimatedModuleSize();l=d/a.length,a.sort((f,y)=>{if(y.getCount()===f.getCount()){const v=Math.abs(y.getEstimatedModuleSize()-l),A=Math.abs(f.getEstimatedModuleSize()-l);return v<A?1:v>A?-1:0}else return y.getCount()-f.getCount()}),a.splice(3)}return[a[0],a[1],a[2]]}}Kt.CENTER_QUORUM=2,Kt.MIN_SKIP=3,Kt.MAX_MODULES=57;class ni{constructor(r){this.image=r}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(r){this.resultPointCallback=r==null?null:r.get(X.NEED_RESULT_POINT_CALLBACK);const l=new Kt(this.image,this.resultPointCallback).find(r);return this.processFinderPatternInfo(l)}processFinderPatternInfo(r){const a=r.getTopLeft(),l=r.getTopRight(),d=r.getBottomLeft(),f=this.calculateModuleSize(a,l,d);if(f<1)throw new ne("No pattern found in proccess finder.");const y=ni.computeDimension(a,l,d,f),v=He.getProvisionalVersionForDimension(y),A=v.getDimensionForVersion()-7;let T=null;if(v.getAlignmentPatternCenters().length>0){const Z=l.getX()-a.getX()+d.getX(),J=l.getY()-a.getY()+d.getY(),ee=1-3/A,se=Math.floor(a.getX()+ee*(Z-a.getX())),he=Math.floor(a.getY()+ee*(J-a.getY()));for(let Re=4;Re<=16;Re<<=1)try{T=this.findAlignmentInRegion(f,se,he,Re);break}catch(Te){if(!(Te instanceof ne))throw Te}}const O=ni.createTransform(a,l,d,T,y),k=ni.sampleGrid(this.image,O,y);let q;return T===null?q=[d,a,l]:q=[d,a,l,T],new vo(k,q)}static createTransform(r,a,l,d,f){const y=f-3.5;let v,A,T,O;return d!==null?(v=d.getX(),A=d.getY(),T=y-3,O=T):(v=a.getX()-r.getX()+l.getX(),A=a.getY()-r.getY()+l.getY(),T=y,O=y),Er.quadrilateralToQuadrilateral(3.5,3.5,y,3.5,T,O,3.5,y,r.getX(),r.getY(),a.getX(),a.getY(),v,A,l.getX(),l.getY())}static sampleGrid(r,a,l){return Lr.getInstance().sampleGridWithTransform(r,l,l,a)}static computeDimension(r,a,l,d){const f=ot.round(ze.distance(r,a)/d),y=ot.round(ze.distance(r,l)/d);let v=Math.floor((f+y)/2)+7;switch(v&3){case 0:v++;break;case 2:v--;break;case 3:throw new ne("Dimensions could be not found.")}return v}calculateModuleSize(r,a,l){return(this.calculateModuleSizeOneWay(r,a)+this.calculateModuleSizeOneWay(r,l))/2}calculateModuleSizeOneWay(r,a){const l=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(r.getX()),Math.floor(r.getY()),Math.floor(a.getX()),Math.floor(a.getY())),d=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(a.getX()),Math.floor(a.getY()),Math.floor(r.getX()),Math.floor(r.getY()));return isNaN(l)?d/7:isNaN(d)?l/7:(l+d)/14}sizeOfBlackWhiteBlackRunBothWays(r,a,l,d){let f=this.sizeOfBlackWhiteBlackRun(r,a,l,d),y=1,v=r-(l-r);v<0?(y=r/(r-v),v=0):v>=this.image.getWidth()&&(y=(this.image.getWidth()-1-r)/(v-r),v=this.image.getWidth()-1);let A=Math.floor(a-(d-a)*y);return y=1,A<0?(y=a/(a-A),A=0):A>=this.image.getHeight()&&(y=(this.image.getHeight()-1-a)/(A-a),A=this.image.getHeight()-1),v=Math.floor(r+(v-r)*y),f+=this.sizeOfBlackWhiteBlackRun(r,a,v,A),f-1}sizeOfBlackWhiteBlackRun(r,a,l,d){const f=Math.abs(d-a)>Math.abs(l-r);if(f){let Z=r;r=a,a=Z,Z=l,l=d,d=Z}const y=Math.abs(l-r),v=Math.abs(d-a);let A=-y/2;const T=r<l?1:-1,O=a<d?1:-1;let k=0;const q=l+T;for(let Z=r,J=a;Z!==q;Z+=T){const ee=f?J:Z,se=f?Z:J;if(k===1===this.image.get(ee,se)){if(k===2)return ot.distance(Z,J,r,a);k++}if(A+=v,A>0){if(J===d)break;J+=O,A-=y}}return k===2?ot.distance(l+T,d,r,a):NaN}findAlignmentInRegion(r,a,l,d){const f=Math.floor(d*r),y=Math.max(0,a-f),v=Math.min(this.image.getWidth()-1,a+f);if(v-y<r*3)throw new ne("Alignment top exceeds estimated module size.");const A=Math.max(0,l-f),T=Math.min(this.image.getHeight()-1,l+f);if(T-A<r*3)throw new ne("Alignment bottom exceeds estimated module size.");return new Sr(this.image,y,A,v-y,T-A,r,this.resultPointCallback).find()}}class Ci{constructor(){this.decoder=new Fh}getDecoder(){return this.decoder}decode(r,a){let l,d;if(a!=null&&a.get(X.PURE_BARCODE)!==void 0){const A=Ci.extractPureBits(r.getBlackMatrix());l=this.decoder.decodeBitMatrix(A,a),d=Ci.NO_POINTS}else{const A=new ni(r.getBlackMatrix()).detect(a);l=this.decoder.decodeBitMatrix(A.getBits(),a),d=A.getPoints()}l.getOther()instanceof hu&&l.getOther().applyMirroredCorrection(d);const f=new _e(l.getText(),l.getRawBytes(),void 0,d,Ie.QR_CODE,void 0),y=l.getByteSegments();y!==null&&f.putMetadata(bt.BYTE_SEGMENTS,y);const v=l.getECLevel();return v!==null&&f.putMetadata(bt.ERROR_CORRECTION_LEVEL,v),l.hasStructuredAppend()&&(f.putMetadata(bt.STRUCTURED_APPEND_SEQUENCE,l.getStructuredAppendSequenceNumber()),f.putMetadata(bt.STRUCTURED_APPEND_PARITY,l.getStructuredAppendParity())),f}reset(){}static extractPureBits(r){const a=r.getTopLeftOnBit(),l=r.getBottomRightOnBit();if(a===null||l===null)throw new ne;const d=this.moduleSize(a,r);let f=a[1],y=l[1],v=a[0],A=l[0];if(v>=A||f>=y)throw new ne;if(y-f!==A-v&&(A=v+(y-f),A>=r.getWidth()))throw new ne;const T=Math.round((A-v+1)/d),O=Math.round((y-f+1)/d);if(T<=0||O<=0)throw new ne;if(O!==T)throw new ne;const k=Math.floor(d/2);f+=k,v+=k;const q=v+Math.floor((T-1)*d)-A;if(q>0){if(q>k)throw new ne;v-=q}const Z=f+Math.floor((O-1)*d)-y;if(Z>0){if(Z>k)throw new ne;f-=Z}const J=new Le(T,O);for(let ee=0;ee<O;ee++){const se=f+Math.floor(ee*d);for(let he=0;he<T;he++)r.get(v+Math.floor(he*d),se)&&J.set(he,ee)}return J}static moduleSize(r,a){const l=a.getHeight(),d=a.getWidth();let f=r[0],y=r[1],v=!0,A=0;for(;f<d&&y<l;){if(v!==a.get(f,y)){if(++A===5)break;v=!v}f++,y++}if(f===d||y===l)throw new ne;return(f-r[0])/7}}Ci.NO_POINTS=new Array;class Xe{PDF417Common(){}static getBitCountSum(r){return ot.sum(r)}static toIntArray(r){if(r==null||!r.length)return Xe.EMPTY_INT_ARRAY;const a=new Int32Array(r.length);let l=0;for(const d of r)a[l++]=d;return a}static getCodeword(r){const a=j.binarySearch(Xe.SYMBOL_TABLE,r&262143);return a<0?-1:(Xe.CODEWORD_TABLE[a]-1)%Xe.NUMBER_OF_CODEWORDS}}Xe.NUMBER_OF_CODEWORDS=929,Xe.MAX_CODEWORDS_IN_BARCODE=Xe.NUMBER_OF_CODEWORDS-1,Xe.MIN_ROWS_IN_BARCODE=3,Xe.MAX_ROWS_IN_BARCODE=90,Xe.MODULES_IN_CODEWORD=17,Xe.MODULES_IN_STOP_PATTERN=18,Xe.BARS_IN_MODULE=8,Xe.EMPTY_INT_ARRAY=new Int32Array([]),Xe.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Xe.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class fu{constructor(r,a){this.bits=r,this.points=a}getBits(){return this.bits}getPoints(){return this.points}}class $e{static detectMultiple(r,a,l){let d=r.getBlackMatrix(),f=$e.detect(l,d);return f.length||(d=d.clone(),d.rotate180(),f=$e.detect(l,d)),new fu(d,f)}static detect(r,a){const l=new Array;let d=0,f=0,y=!1;for(;d<a.getHeight();){const v=$e.findVertices(a,d,f);if(v[0]==null&&v[3]==null){if(!y)break;y=!1,f=0;for(const A of l)A[1]!=null&&(d=Math.trunc(Math.max(d,A[1].getY()))),A[3]!=null&&(d=Math.max(d,Math.trunc(A[3].getY())));d+=$e.ROW_STEP;continue}if(y=!0,l.push(v),!r)break;v[2]!=null?(f=Math.trunc(v[2].getX()),d=Math.trunc(v[2].getY())):(f=Math.trunc(v[4].getX()),d=Math.trunc(v[4].getY()))}return l}static findVertices(r,a,l){const d=r.getHeight(),f=r.getWidth(),y=new Array(8);return $e.copyToResult(y,$e.findRowsWithPattern(r,d,f,a,l,$e.START_PATTERN),$e.INDEXES_START_PATTERN),y[4]!=null&&(l=Math.trunc(y[4].getX()),a=Math.trunc(y[4].getY())),$e.copyToResult(y,$e.findRowsWithPattern(r,d,f,a,l,$e.STOP_PATTERN),$e.INDEXES_STOP_PATTERN),y}static copyToResult(r,a,l){for(let d=0;d<l.length;d++)r[l[d]]=a[d]}static findRowsWithPattern(r,a,l,d,f,y){const v=new Array(4);let A=!1;const T=new Int32Array(y.length);for(;d<a;d+=$e.ROW_STEP){let k=$e.findGuardPattern(r,f,d,l,!1,y,T);if(k!=null){for(;d>0;){const q=$e.findGuardPattern(r,f,--d,l,!1,y,T);if(q!=null)k=q;else{d++;break}}v[0]=new ze(k[0],d),v[1]=new ze(k[1],d),A=!0;break}}let O=d+1;if(A){let k=0,q=Int32Array.from([Math.trunc(v[0].getX()),Math.trunc(v[1].getX())]);for(;O<a;O++){const Z=$e.findGuardPattern(r,q[0],O,l,!1,y,T);if(Z!=null&&Math.abs(q[0]-Z[0])<$e.MAX_PATTERN_DRIFT&&Math.abs(q[1]-Z[1])<$e.MAX_PATTERN_DRIFT)q=Z,k=0;else{if(k>$e.SKIPPED_ROW_COUNT_MAX)break;k++}}O-=k+1,v[2]=new ze(q[0],O),v[3]=new ze(q[1],O)}return O-d<$e.BARCODE_MIN_HEIGHT&&j.fill(v,null),v}static findGuardPattern(r,a,l,d,f,y,v){j.fillWithin(v,0,v.length,0);let A=a,T=0;for(;r.get(A,l)&&A>0&&T++<$e.MAX_PIXEL_DRIFT;)A--;let O=A,k=0,q=y.length;for(let Z=f;O<d;O++)if(r.get(O,l)!==Z)v[k]++;else{if(k===q-1){if($e.patternMatchVariance(v,y,$e.MAX_INDIVIDUAL_VARIANCE)<$e.MAX_AVG_VARIANCE)return new Int32Array([A,O]);A+=v[0]+v[1],L.arraycopy(v,2,v,0,k-1),v[k-1]=0,v[k]=0,k--}else k++;v[k]=1,Z=!Z}return k===q-1&&$e.patternMatchVariance(v,y,$e.MAX_INDIVIDUAL_VARIANCE)<$e.MAX_AVG_VARIANCE?new Int32Array([A,O-1]):null}static patternMatchVariance(r,a,l){let d=r.length,f=0,y=0;for(let T=0;T<d;T++)f+=r[T],y+=a[T];if(f<y)return 1/0;let v=f/y;l*=v;let A=0;for(let T=0;T<d;T++){let O=r[T],k=a[T]*v,q=O>k?O-k:k-O;if(q>l)return 1/0;A+=q}return A/f}}$e.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),$e.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),$e.MAX_AVG_VARIANCE=.42,$e.MAX_INDIVIDUAL_VARIANCE=.8,$e.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),$e.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),$e.MAX_PIXEL_DRIFT=3,$e.MAX_PATTERN_DRIFT=5,$e.SKIPPED_ROW_COUNT_MAX=25,$e.ROW_STEP=5,$e.BARCODE_MIN_HEIGHT=10;class Gt{constructor(r,a){if(a.length===0)throw new S;this.field=r;let l=a.length;if(l>1&&a[0]===0){let d=1;for(;d<l&&a[d]===0;)d++;d===l?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(l-d),L.arraycopy(a,d,this.coefficients,0,this.coefficients.length))}else this.coefficients=a}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(r){return this.coefficients[this.coefficients.length-1-r]}evaluateAt(r){if(r===0)return this.getCoefficient(0);if(r===1){let d=0;for(let f of this.coefficients)d=this.field.add(d,f);return d}let a=this.coefficients[0],l=this.coefficients.length;for(let d=1;d<l;d++)a=this.field.add(this.field.multiply(r,a),this.coefficients[d]);return a}add(r){if(!this.field.equals(r.field))throw new S("ModulusPolys do not have same ModulusGF field");if(this.isZero())return r;if(r.isZero())return this;let a=this.coefficients,l=r.coefficients;if(a.length>l.length){let y=a;a=l,l=y}let d=new Int32Array(l.length),f=l.length-a.length;L.arraycopy(l,0,d,0,f);for(let y=f;y<l.length;y++)d[y]=this.field.add(a[y-f],l[y]);return new Gt(this.field,d)}subtract(r){if(!this.field.equals(r.field))throw new S("ModulusPolys do not have same ModulusGF field");return r.isZero()?this:this.add(r.negative())}multiply(r){return r instanceof Gt?this.multiplyOther(r):this.multiplyScalar(r)}multiplyOther(r){if(!this.field.equals(r.field))throw new S("ModulusPolys do not have same ModulusGF field");if(this.isZero()||r.isZero())return new Gt(this.field,new Int32Array([0]));let a=this.coefficients,l=a.length,d=r.coefficients,f=d.length,y=new Int32Array(l+f-1);for(let v=0;v<l;v++){let A=a[v];for(let T=0;T<f;T++)y[v+T]=this.field.add(y[v+T],this.field.multiply(A,d[T]))}return new Gt(this.field,y)}negative(){let r=this.coefficients.length,a=new Int32Array(r);for(let l=0;l<r;l++)a[l]=this.field.subtract(0,this.coefficients[l]);return new Gt(this.field,a)}multiplyScalar(r){if(r===0)return new Gt(this.field,new Int32Array([0]));if(r===1)return this;let a=this.coefficients.length,l=new Int32Array(a);for(let d=0;d<a;d++)l[d]=this.field.multiply(this.coefficients[d],r);return new Gt(this.field,l)}multiplyByMonomial(r,a){if(r<0)throw new S;if(a===0)return new Gt(this.field,new Int32Array([0]));let l=this.coefficients.length,d=new Int32Array(l+r);for(let f=0;f<l;f++)d[f]=this.field.multiply(this.coefficients[f],a);return new Gt(this.field,d)}toString(){let r=new me;for(let a=this.getDegree();a>=0;a--){let l=this.getCoefficient(a);l!==0&&(l<0?(r.append(" - "),l=-l):r.length()>0&&r.append(" + "),(a===0||l!==1)&&r.append(l),a!==0&&(a===1?r.append("x"):(r.append("x^"),r.append(a))))}return r.toString()}}class Ll{add(r,a){return(r+a)%this.modulus}subtract(r,a){return(this.modulus+r-a)%this.modulus}exp(r){return this.expTable[r]}log(r){if(r===0)throw new S;return this.logTable[r]}inverse(r){if(r===0)throw new js;return this.expTable[this.modulus-this.logTable[r]-1]}multiply(r,a){return r===0||a===0?0:this.expTable[(this.logTable[r]+this.logTable[a])%(this.modulus-1)]}getSize(){return this.modulus}equals(r){return r===this}}class is extends Ll{constructor(r,a){super(),this.modulus=r,this.expTable=new Int32Array(r),this.logTable=new Int32Array(r);let l=1;for(let d=0;d<r;d++)this.expTable[d]=l,l=l*a%r;for(let d=0;d<r-1;d++)this.logTable[this.expTable[d]]=d;this.zero=new Gt(this,new Int32Array([0])),this.one=new Gt(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(r,a){if(r<0)throw new S;if(a===0)return this.zero;let l=new Int32Array(r+1);return l[0]=a,new Gt(this,l)}}is.PDF417_GF=new is(Xe.NUMBER_OF_CODEWORDS,3);class Si{constructor(){this.field=is.PDF417_GF}decode(r,a,l){let d=new Gt(this.field,r),f=new Int32Array(a),y=!1;for(let J=a;J>0;J--){let ee=d.evaluateAt(this.field.exp(J));f[a-J]=ee,ee!==0&&(y=!0)}if(!y)return 0;let v=this.field.getOne();if(l!=null)for(const J of l){let ee=this.field.exp(r.length-1-J),se=new Gt(this.field,new Int32Array([this.field.subtract(0,ee),1]));v=v.multiply(se)}let A=new Gt(this.field,f),T=this.runEuclideanAlgorithm(this.field.buildMonomial(a,1),A,a),O=T[0],k=T[1],q=this.findErrorLocations(O),Z=this.findErrorMagnitudes(k,O,q);for(let J=0;J<q.length;J++){let ee=r.length-1-this.field.log(q[J]);if(ee<0)throw _.getChecksumInstance();r[ee]=this.field.subtract(r[ee],Z[J])}return q.length}runEuclideanAlgorithm(r,a,l){if(r.getDegree()<a.getDegree()){let q=r;r=a,a=q}let d=r,f=a,y=this.field.getZero(),v=this.field.getOne();for(;f.getDegree()>=Math.round(l/2);){let q=d,Z=y;if(d=f,y=v,d.isZero())throw _.getChecksumInstance();f=q;let J=this.field.getZero(),ee=d.getCoefficient(d.getDegree()),se=this.field.inverse(ee);for(;f.getDegree()>=d.getDegree()&&!f.isZero();){let he=f.getDegree()-d.getDegree(),Re=this.field.multiply(f.getCoefficient(f.getDegree()),se);J=J.add(this.field.buildMonomial(he,Re)),f=f.subtract(d.multiplyByMonomial(he,Re))}v=J.multiply(y).subtract(Z).negative()}let A=v.getCoefficient(0);if(A===0)throw _.getChecksumInstance();let T=this.field.inverse(A),O=v.multiply(T),k=f.multiply(T);return[O,k]}findErrorLocations(r){let a=r.getDegree(),l=new Int32Array(a),d=0;for(let f=1;f<this.field.getSize()&&d<a;f++)r.evaluateAt(f)===0&&(l[d]=this.field.inverse(f),d++);if(d!==a)throw _.getChecksumInstance();return l}findErrorMagnitudes(r,a,l){let d=a.getDegree(),f=new Int32Array(d);for(let T=1;T<=d;T++)f[d-T]=this.field.multiply(T,a.getCoefficient(T));let y=new Gt(this.field,f),v=l.length,A=new Int32Array(v);for(let T=0;T<v;T++){let O=this.field.inverse(l[T]),k=this.field.subtract(0,r.evaluateAt(O)),q=this.field.inverse(y.evaluateAt(O));A[T]=this.field.multiply(k,q)}return A}}class Ai{constructor(r,a,l,d,f){r instanceof Ai?this.constructor_2(r):this.constructor_1(r,a,l,d,f)}constructor_1(r,a,l,d,f){const y=a==null||l==null,v=d==null||f==null;if(y&&v)throw new ne;y?(a=new ze(0,d.getY()),l=new ze(0,f.getY())):v&&(d=new ze(r.getWidth()-1,a.getY()),f=new ze(r.getWidth()-1,l.getY())),this.image=r,this.topLeft=a,this.bottomLeft=l,this.topRight=d,this.bottomRight=f,this.minX=Math.trunc(Math.min(a.getX(),l.getX())),this.maxX=Math.trunc(Math.max(d.getX(),f.getX())),this.minY=Math.trunc(Math.min(a.getY(),d.getY())),this.maxY=Math.trunc(Math.max(l.getY(),f.getY()))}constructor_2(r){this.image=r.image,this.topLeft=r.getTopLeft(),this.bottomLeft=r.getBottomLeft(),this.topRight=r.getTopRight(),this.bottomRight=r.getBottomRight(),this.minX=r.getMinX(),this.maxX=r.getMaxX(),this.minY=r.getMinY(),this.maxY=r.getMaxY()}static merge(r,a){return r==null?a:a==null?r:new Ai(r.image,r.topLeft,r.bottomLeft,a.topRight,a.bottomRight)}addMissingRows(r,a,l){let d=this.topLeft,f=this.bottomLeft,y=this.topRight,v=this.bottomRight;if(r>0){let A=l?this.topLeft:this.topRight,T=Math.trunc(A.getY()-r);T<0&&(T=0);let O=new ze(A.getX(),T);l?d=O:y=O}if(a>0){let A=l?this.bottomLeft:this.bottomRight,T=Math.trunc(A.getY()+a);T>=this.image.getHeight()&&(T=this.image.getHeight()-1);let O=new ze(A.getX(),T);l?f=O:v=O}return new Ai(this.image,d,f,y,v)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class So{constructor(r,a,l,d){this.columnCount=r,this.errorCorrectionLevel=d,this.rowCountUpperPart=a,this.rowCountLowerPart=l,this.rowCount=a+l}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Hs{constructor(){this.buffer=""}static form(r,a){let l=-1;function d(y,v,A,T,O,k){if(y==="%%")return"%";if(a[++l]===void 0)return;y=T?parseInt(T.substr(1)):void 0;let q=O?parseInt(O.substr(1)):void 0,Z;switch(k){case"s":Z=a[l];break;case"c":Z=a[l][0];break;case"f":Z=parseFloat(a[l]).toFixed(y);break;case"p":Z=parseFloat(a[l]).toPrecision(y);break;case"e":Z=parseFloat(a[l]).toExponential(y);break;case"x":Z=parseInt(a[l]).toString(q||16);break;case"d":Z=parseFloat(parseInt(a[l],q||10).toPrecision(y)).toFixed(0);break}Z=typeof Z=="object"?JSON.stringify(Z):(+Z).toString(q);let J=parseInt(A),ee=A&&A[0]+""=="0"?"0":" ";for(;Z.length<J;)Z=v!==void 0?Z+ee:ee+Z;return Z}let f=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return r.replace(f,d)}format(r,...a){this.buffer+=Hs.form(r,a)}toString(){return this.buffer}}class Fi{constructor(r){this.boundingBox=new Ai(r),this.codewords=new Array(r.getMaxY()-r.getMinY()+1)}getCodewordNearby(r){let a=this.getCodeword(r);if(a!=null)return a;for(let l=1;l<Fi.MAX_NEARBY_DISTANCE;l++){let d=this.imageRowToCodewordIndex(r)-l;if(d>=0&&(a=this.codewords[d],a!=null)||(d=this.imageRowToCodewordIndex(r)+l,d<this.codewords.length&&(a=this.codewords[d],a!=null)))return a}return null}imageRowToCodewordIndex(r){return r-this.boundingBox.getMinY()}setCodeword(r,a){this.codewords[this.imageRowToCodewordIndex(r)]=a}getCodeword(r){return this.codewords[this.imageRowToCodewordIndex(r)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const r=new Hs;let a=0;for(const l of this.codewords){if(l==null){r.format("%3d:    |   %n",a++);continue}r.format("%3d: %3d|%3d%n",a++,l.getRowNumber(),l.getValue())}return r.toString()}}Fi.MAX_NEARBY_DISTANCE=5;class Vi{constructor(){this.values=new Map}setValue(r){r=Math.trunc(r);let a=this.values.get(r);a==null&&(a=0),a++,this.values.set(r,a)}getValue(){let r=-1,a=new Array;for(const[l,d]of this.values.entries()){const f={getKey:()=>l,getValue:()=>d};f.getValue()>r?(r=f.getValue(),a=[],a.push(f.getKey())):f.getValue()===r&&a.push(f.getKey())}return Xe.toIntArray(a)}getConfidence(r){return this.values.get(r)}}class Bl extends Fi{constructor(r,a){super(r),this._isLeft=a}setRowNumbers(){for(let r of this.getCodewords())r?.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(r){let a=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(a,r);let l=this.getBoundingBox(),d=this._isLeft?l.getTopLeft():l.getTopRight(),f=this._isLeft?l.getBottomLeft():l.getBottomRight(),y=this.imageRowToCodewordIndex(Math.trunc(d.getY())),v=this.imageRowToCodewordIndex(Math.trunc(f.getY())),A=-1,T=1,O=0;for(let k=y;k<v;k++){if(a[k]==null)continue;let q=a[k],Z=q.getRowNumber()-A;if(Z===0)O++;else if(Z===1)T=Math.max(T,O),O=1,A=q.getRowNumber();else if(Z<0||q.getRowNumber()>=r.getRowCount()||Z>k)a[k]=null;else{let J;T>2?J=(T-2)*Z:J=Z;let ee=J>=k;for(let se=1;se<=J&&!ee;se++)ee=a[k-se]!=null;ee?a[k]=null:(A=q.getRowNumber(),O=1)}}}getRowHeights(){let r=this.getBarcodeMetadata();if(r==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(r);let a=new Int32Array(r.getRowCount());for(let l of this.getCodewords())if(l!=null){let d=l.getRowNumber();if(d>=a.length)continue;a[d]++}return a}adjustIncompleteIndicatorColumnRowNumbers(r){let a=this.getBoundingBox(),l=this._isLeft?a.getTopLeft():a.getTopRight(),d=this._isLeft?a.getBottomLeft():a.getBottomRight(),f=this.imageRowToCodewordIndex(Math.trunc(l.getY())),y=this.imageRowToCodewordIndex(Math.trunc(d.getY())),v=this.getCodewords(),A=-1;for(let T=f;T<y;T++){if(v[T]==null)continue;let O=v[T];O.setRowNumberAsRowIndicatorColumn();let k=O.getRowNumber()-A;k===0||(k===1?A=O.getRowNumber():O.getRowNumber()>=r.getRowCount()?v[T]=null:A=O.getRowNumber())}}getBarcodeMetadata(){let r=this.getCodewords(),a=new Vi,l=new Vi,d=new Vi,f=new Vi;for(let v of r){if(v==null)continue;v.setRowNumberAsRowIndicatorColumn();let A=v.getValue()%30,T=v.getRowNumber();switch(this._isLeft||(T+=2),T%3){case 0:l.setValue(A*3+1);break;case 1:f.setValue(A/3),d.setValue(A%3);break;case 2:a.setValue(A+1);break}}if(a.getValue().length===0||l.getValue().length===0||d.getValue().length===0||f.getValue().length===0||a.getValue()[0]<1||l.getValue()[0]+d.getValue()[0]<Xe.MIN_ROWS_IN_BARCODE||l.getValue()[0]+d.getValue()[0]>Xe.MAX_ROWS_IN_BARCODE)return null;let y=new So(a.getValue()[0],l.getValue()[0],d.getValue()[0],f.getValue()[0]);return this.removeIncorrectCodewords(r,y),y}removeIncorrectCodewords(r,a){for(let l=0;l<r.length;l++){let d=r[l];if(r[l]==null)continue;let f=d.getValue()%30,y=d.getRowNumber();if(y>a.getRowCount()){r[l]=null;continue}switch(this._isLeft||(y+=2),y%3){case 0:f*3+1!==a.getRowCountUpperPart()&&(r[l]=null);break;case 1:(Math.trunc(f/3)!==a.getErrorCorrectionLevel()||f%3!==a.getRowCountLowerPart())&&(r[l]=null);break;case 2:f+1!==a.getColumnCount()&&(r[l]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Rn{constructor(r,a){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=r,this.barcodeColumnCount=r.getColumnCount(),this.boundingBox=a,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let r=Xe.MAX_CODEWORDS_IN_BARCODE,a;do a=r,r=this.adjustRowNumbersAndGetCount();while(r>0&&r<a);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(r){r?.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let r=this.adjustRowNumbersByRow();if(r===0)return 0;for(let a=1;a<this.barcodeColumnCount+1;a++){let l=this.detectionResultColumns[a].getCodewords();for(let d=0;d<l.length;d++)l[d]!=null&&(l[d].hasValidRowNumber()||this.adjustRowNumbers(a,d,l))}return r}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let r=this.detectionResultColumns[0].getCodewords(),a=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let l=0;l<r.length;l++)if(r[l]!=null&&a[l]!=null&&r[l].getRowNumber()===a[l].getRowNumber())for(let d=1;d<=this.barcodeColumnCount;d++){let f=this.detectionResultColumns[d].getCodewords()[l];f!=null&&(f.setRowNumber(r[l].getRowNumber()),f.hasValidRowNumber()||(this.detectionResultColumns[d].getCodewords()[l]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let r=0,a=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let l=0;l<a.length;l++){if(a[l]==null)continue;let d=a[l].getRowNumber(),f=0;for(let y=this.barcodeColumnCount+1;y>0&&f<this.ADJUST_ROW_NUMBER_SKIP;y--){let v=this.detectionResultColumns[y].getCodewords()[l];v!=null&&(f=Rn.adjustRowNumberIfValid(d,f,v),v.hasValidRowNumber()||r++)}}return r}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let r=0,a=this.detectionResultColumns[0].getCodewords();for(let l=0;l<a.length;l++){if(a[l]==null)continue;let d=a[l].getRowNumber(),f=0;for(let y=1;y<this.barcodeColumnCount+1&&f<this.ADJUST_ROW_NUMBER_SKIP;y++){let v=this.detectionResultColumns[y].getCodewords()[l];v!=null&&(f=Rn.adjustRowNumberIfValid(d,f,v),v.hasValidRowNumber()||r++)}}return r}static adjustRowNumberIfValid(r,a,l){return l==null||l.hasValidRowNumber()||(l.isValidRowNumber(r)?(l.setRowNumber(r),a=0):++a),a}adjustRowNumbers(r,a,l){if(!this.detectionResultColumns[r-1])return;let d=l[a],f=this.detectionResultColumns[r-1].getCodewords(),y=f;this.detectionResultColumns[r+1]!=null&&(y=this.detectionResultColumns[r+1].getCodewords());let v=new Array(14);v[2]=f[a],v[3]=y[a],a>0&&(v[0]=l[a-1],v[4]=f[a-1],v[5]=y[a-1]),a>1&&(v[8]=l[a-2],v[10]=f[a-2],v[11]=y[a-2]),a<l.length-1&&(v[1]=l[a+1],v[6]=f[a+1],v[7]=y[a+1]),a<l.length-2&&(v[9]=l[a+2],v[12]=f[a+2],v[13]=y[a+2]);for(let A of v)if(Rn.adjustRowNumber(d,A))return}static adjustRowNumber(r,a){return a==null?!1:a.hasValidRowNumber()&&a.getBucket()===r.getBucket()?(r.setRowNumber(a.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(r){this.boundingBox=r}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(r,a){this.detectionResultColumns[r]=a}getDetectionResultColumn(r){return this.detectionResultColumns[r]}toString(){let r=this.detectionResultColumns[0];r==null&&(r=this.detectionResultColumns[this.barcodeColumnCount+1]);let a=new Hs;for(let l=0;l<r.getCodewords().length;l++){a.format("CW %3d:",l);for(let d=0;d<this.barcodeColumnCount+2;d++){if(this.detectionResultColumns[d]==null){a.format("    |   ");continue}let f=this.detectionResultColumns[d].getCodewords()[l];if(f==null){a.format("    |   ");continue}a.format(" %3d|%3d",f.getRowNumber(),f.getValue())}a.format("%n")}return a.toString()}}class Ur{constructor(r,a,l,d){this.rowNumber=Ur.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(r),this.endX=Math.trunc(a),this.bucket=Math.trunc(l),this.value=Math.trunc(d)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(r){return r!==Ur.BARCODE_ROW_UNKNOWN&&this.bucket===r%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(r){this.rowNumber=r}toString(){return this.rowNumber+"|"+this.value}}Ur.BARCODE_ROW_UNKNOWN=-1;class Pn{static initialize(){for(let r=0;r<Xe.SYMBOL_TABLE.length;r++){let a=Xe.SYMBOL_TABLE[r],l=a&1;for(let d=0;d<Xe.BARS_IN_MODULE;d++){let f=0;for(;(a&1)===l;)f+=1,a>>=1;l=a&1,Pn.RATIOS_TABLE[r]||(Pn.RATIOS_TABLE[r]=new Array(Xe.BARS_IN_MODULE)),Pn.RATIOS_TABLE[r][Xe.BARS_IN_MODULE-d-1]=Math.fround(f/Xe.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(r){let a=Pn.getDecodedCodewordValue(Pn.sampleBitCounts(r));return a!==-1?a:Pn.getClosestDecodedValue(r)}static sampleBitCounts(r){let a=ot.sum(r),l=new Int32Array(Xe.BARS_IN_MODULE),d=0,f=0;for(let y=0;y<Xe.MODULES_IN_CODEWORD;y++){let v=a/(2*Xe.MODULES_IN_CODEWORD)+y*a/Xe.MODULES_IN_CODEWORD;f+r[d]<=v&&(f+=r[d],d++),l[d]++}return l}static getDecodedCodewordValue(r){let a=Pn.getBitValue(r);return Xe.getCodeword(a)===-1?-1:a}static getBitValue(r){let a=0;for(let l=0;l<r.length;l++)for(let d=0;d<r[l];d++)a=a<<1|(l%2===0?1:0);return Math.trunc(a)}static getClosestDecodedValue(r){let a=ot.sum(r),l=new Array(Xe.BARS_IN_MODULE);if(a>1)for(let y=0;y<l.length;y++)l[y]=Math.fround(r[y]/a);let d=Ls.MAX_VALUE,f=-1;this.bSymbolTableReady||Pn.initialize();for(let y=0;y<Pn.RATIOS_TABLE.length;y++){let v=0,A=Pn.RATIOS_TABLE[y];for(let T=0;T<Xe.BARS_IN_MODULE;T++){let O=Math.fround(A[T]-l[T]);if(v+=Math.fround(O*O),v>=d)break}v<d&&(d=v,f=Xe.SYMBOL_TABLE[y])}return f}}Pn.bSymbolTableReady=!1,Pn.RATIOS_TABLE=new Array(Xe.SYMBOL_TABLE.length).map(B=>new Array(Xe.BARS_IN_MODULE));class qs{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(r){this.segmentIndex=r}getFileId(){return this.fileId}setFileId(r){this.fileId=r}getOptionalData(){return this.optionalData}setOptionalData(r){this.optionalData=r}isLastSegment(){return this.lastSegment}setLastSegment(r){this.lastSegment=r}getSegmentCount(){return this.segmentCount}setSegmentCount(r){this.segmentCount=r}getSender(){return this.sender||null}setSender(r){this.sender=r}getAddressee(){return this.addressee||null}setAddressee(r){this.addressee=r}getFileName(){return this.fileName}setFileName(r){this.fileName=r}getFileSize(){return this.fileSize}setFileSize(r){this.fileSize=r}getChecksum(){return this.checksum}setChecksum(r){this.checksum=r}getTimestamp(){return this.timestamp}setTimestamp(r){this.timestamp=r}}class mu{static parseLong(r,a=void 0){return parseInt(r,a)}}class Ao extends b{}Ao.kind="NullPointerException";class kl{writeBytes(r){this.writeBytesOffset(r,0,r.length)}writeBytesOffset(r,a,l){if(r==null)throw new Ao;if(a<0||a>r.length||l<0||a+l>r.length||a+l<0)throw new P;if(l===0)return;for(let d=0;d<l;d++)this.write(r[a+d])}flush(){}close(){}}class Ba extends b{}class No extends kl{constructor(r=32){if(super(),this.count=0,r<0)throw new S("Negative initial size: "+r);this.buf=new Uint8Array(r)}ensureCapacity(r){r-this.buf.length>0&&this.grow(r)}grow(r){let l=this.buf.length<<1;if(l-r<0&&(l=r),l<0){if(r<0)throw new Ba;l=U.MAX_VALUE}this.buf=j.copyOfUint8Array(this.buf,l)}write(r){this.ensureCapacity(this.count+1),this.buf[this.count]=r,this.count+=1}writeBytesOffset(r,a,l){if(a<0||a>r.length||l<0||a+l-r.length>0)throw new P;this.ensureCapacity(this.count+l),L.arraycopy(r,a,this.buf,this.count,l),this.count+=l}writeTo(r){r.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return j.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(r){return r?typeof r=="string"?this.toString_string(r):this.toString_number(r):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(r){return new String(this.buf).toString()}toString_number(r){return new String(this.buf).toString()}close(){}}var Tt;(function(B){B[B.ALPHA=0]="ALPHA",B[B.LOWER=1]="LOWER",B[B.MIXED=2]="MIXED",B[B.PUNCT=3]="PUNCT",B[B.ALPHA_SHIFT=4]="ALPHA_SHIFT",B[B.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Tt||(Tt={}));function gu(){if(typeof window<"u")return window.BigInt||null;if(typeof globalThis<"u")return globalThis.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let To;function Hi(B){if(typeof To>"u"&&(To=gu()),To===null)throw new Error("BigInt is not supported!");return To(B)}function Pl(){let B=[];B[0]=Hi(1);let r=Hi(900);B[1]=r;for(let a=2;a<16;a++)B[a]=B[a-1]*r;return B}class fe{static decode(r,a){let l=new me(""),d=Q.ISO8859_1;l.enableDecoding(d);let f=1,y=r[f++],v=new qs;for(;f<r[0];){switch(y){case fe.TEXT_COMPACTION_MODE_LATCH:f=fe.textCompaction(r,f,l);break;case fe.BYTE_COMPACTION_MODE_LATCH:case fe.BYTE_COMPACTION_MODE_LATCH_6:f=fe.byteCompaction(y,r,d,f,l);break;case fe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(r[f++]);break;case fe.NUMERIC_COMPACTION_MODE_LATCH:f=fe.numericCompaction(r,f,l);break;case fe.ECI_CHARSET:Q.getCharacterSetECIByValue(r[f++]);break;case fe.ECI_GENERAL_PURPOSE:f+=2;break;case fe.ECI_USER_DEFINED:f++;break;case fe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:f=fe.decodeMacroBlock(r,f,v);break;case fe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case fe.MACRO_PDF417_TERMINATOR:throw new z;default:f--,f=fe.textCompaction(r,f,l);break}if(f<r.length)y=r[f++];else throw z.getFormatInstance()}if(l.length()===0)throw z.getFormatInstance();let A=new Ht(null,l.toString(),null,a);return A.setOther(v),A}static decodeMacroBlock(r,a,l){if(a+fe.NUMBER_OF_SEQUENCE_CODEWORDS>r[0])throw z.getFormatInstance();let d=new Int32Array(fe.NUMBER_OF_SEQUENCE_CODEWORDS);for(let v=0;v<fe.NUMBER_OF_SEQUENCE_CODEWORDS;v++,a++)d[v]=r[a];l.setSegmentIndex(U.parseInt(fe.decodeBase900toBase10(d,fe.NUMBER_OF_SEQUENCE_CODEWORDS)));let f=new me;a=fe.textCompaction(r,a,f),l.setFileId(f.toString());let y=-1;for(r[a]===fe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(y=a+1);a<r[0];)switch(r[a]){case fe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(a++,r[a]){case fe.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let v=new me;a=fe.textCompaction(r,a+1,v),l.setFileName(v.toString());break;case fe.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let A=new me;a=fe.textCompaction(r,a+1,A),l.setSender(A.toString());break;case fe.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let T=new me;a=fe.textCompaction(r,a+1,T),l.setAddressee(T.toString());break;case fe.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let O=new me;a=fe.numericCompaction(r,a+1,O),l.setSegmentCount(U.parseInt(O.toString()));break;case fe.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let k=new me;a=fe.numericCompaction(r,a+1,k),l.setTimestamp(mu.parseLong(k.toString()));break;case fe.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let q=new me;a=fe.numericCompaction(r,a+1,q),l.setChecksum(U.parseInt(q.toString()));break;case fe.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let Z=new me;a=fe.numericCompaction(r,a+1,Z),l.setFileSize(mu.parseLong(Z.toString()));break;default:throw z.getFormatInstance()}break;case fe.MACRO_PDF417_TERMINATOR:a++,l.setLastSegment(!0);break;default:throw z.getFormatInstance()}if(y!==-1){let v=a-y;l.isLastSegment()&&v--,l.setOptionalData(j.copyOfRange(r,y,y+v))}return a}static textCompaction(r,a,l){let d=new Int32Array((r[0]-a)*2),f=new Int32Array((r[0]-a)*2),y=0,v=!1;for(;a<r[0]&&!v;){let A=r[a++];if(A<fe.TEXT_COMPACTION_MODE_LATCH)d[y]=A/30,d[y+1]=A%30,y+=2;else switch(A){case fe.TEXT_COMPACTION_MODE_LATCH:d[y++]=fe.TEXT_COMPACTION_MODE_LATCH;break;case fe.BYTE_COMPACTION_MODE_LATCH:case fe.BYTE_COMPACTION_MODE_LATCH_6:case fe.NUMERIC_COMPACTION_MODE_LATCH:case fe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case fe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case fe.MACRO_PDF417_TERMINATOR:a--,v=!0;break;case fe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:d[y]=fe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,A=r[a++],f[y]=A,y++;break}}return fe.decodeTextCompaction(d,f,y,l),a}static decodeTextCompaction(r,a,l,d){let f=Tt.ALPHA,y=Tt.ALPHA,v=0;for(;v<l;){let A=r[v],T="";switch(f){case Tt.ALPHA:if(A<26)T=String.fromCharCode(65+A);else switch(A){case 26:T=" ";break;case fe.LL:f=Tt.LOWER;break;case fe.ML:f=Tt.MIXED;break;case fe.PS:y=f,f=Tt.PUNCT_SHIFT;break;case fe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:d.append(a[v]);break;case fe.TEXT_COMPACTION_MODE_LATCH:f=Tt.ALPHA;break}break;case Tt.LOWER:if(A<26)T=String.fromCharCode(97+A);else switch(A){case 26:T=" ";break;case fe.AS:y=f,f=Tt.ALPHA_SHIFT;break;case fe.ML:f=Tt.MIXED;break;case fe.PS:y=f,f=Tt.PUNCT_SHIFT;break;case fe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:d.append(a[v]);break;case fe.TEXT_COMPACTION_MODE_LATCH:f=Tt.ALPHA;break}break;case Tt.MIXED:if(A<fe.PL)T=fe.MIXED_CHARS[A];else switch(A){case fe.PL:f=Tt.PUNCT;break;case 26:T=" ";break;case fe.LL:f=Tt.LOWER;break;case fe.AL:f=Tt.ALPHA;break;case fe.PS:y=f,f=Tt.PUNCT_SHIFT;break;case fe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:d.append(a[v]);break;case fe.TEXT_COMPACTION_MODE_LATCH:f=Tt.ALPHA;break}break;case Tt.PUNCT:if(A<fe.PAL)T=fe.PUNCT_CHARS[A];else switch(A){case fe.PAL:f=Tt.ALPHA;break;case fe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:d.append(a[v]);break;case fe.TEXT_COMPACTION_MODE_LATCH:f=Tt.ALPHA;break}break;case Tt.ALPHA_SHIFT:if(f=y,A<26)T=String.fromCharCode(65+A);else switch(A){case 26:T=" ";break;case fe.TEXT_COMPACTION_MODE_LATCH:f=Tt.ALPHA;break}break;case Tt.PUNCT_SHIFT:if(f=y,A<fe.PAL)T=fe.PUNCT_CHARS[A];else switch(A){case fe.PAL:f=Tt.ALPHA;break;case fe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:d.append(a[v]);break;case fe.TEXT_COMPACTION_MODE_LATCH:f=Tt.ALPHA;break}break}T!==""&&d.append(T),v++}}static byteCompaction(r,a,l,d,f){let y=new No,v=0,A=0,T=!1;switch(r){case fe.BYTE_COMPACTION_MODE_LATCH:let O=new Int32Array(6),k=a[d++];for(;d<a[0]&&!T;)switch(O[v++]=k,A=900*A+k,k=a[d++],k){case fe.TEXT_COMPACTION_MODE_LATCH:case fe.BYTE_COMPACTION_MODE_LATCH:case fe.NUMERIC_COMPACTION_MODE_LATCH:case fe.BYTE_COMPACTION_MODE_LATCH_6:case fe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case fe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case fe.MACRO_PDF417_TERMINATOR:d--,T=!0;break;default:if(v%5===0&&v>0){for(let q=0;q<6;++q)y.write(Number(Hi(A)>>Hi(8*(5-q))));A=0,v=0}break}d===a[0]&&k<fe.TEXT_COMPACTION_MODE_LATCH&&(O[v++]=k);for(let q=0;q<v;q++)y.write(O[q]);break;case fe.BYTE_COMPACTION_MODE_LATCH_6:for(;d<a[0]&&!T;){let q=a[d++];if(q<fe.TEXT_COMPACTION_MODE_LATCH)v++,A=900*A+q;else switch(q){case fe.TEXT_COMPACTION_MODE_LATCH:case fe.BYTE_COMPACTION_MODE_LATCH:case fe.NUMERIC_COMPACTION_MODE_LATCH:case fe.BYTE_COMPACTION_MODE_LATCH_6:case fe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case fe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case fe.MACRO_PDF417_TERMINATOR:d--,T=!0;break}if(v%5===0&&v>0){for(let Z=0;Z<6;++Z)y.write(Number(Hi(A)>>Hi(8*(5-Z))));A=0,v=0}}break}return f.append(ae.decode(y.toByteArray(),l)),d}static numericCompaction(r,a,l){let d=0,f=!1,y=new Int32Array(fe.MAX_NUMERIC_CODEWORDS);for(;a<r[0]&&!f;){let v=r[a++];if(a===r[0]&&(f=!0),v<fe.TEXT_COMPACTION_MODE_LATCH)y[d]=v,d++;else switch(v){case fe.TEXT_COMPACTION_MODE_LATCH:case fe.BYTE_COMPACTION_MODE_LATCH:case fe.BYTE_COMPACTION_MODE_LATCH_6:case fe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case fe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case fe.MACRO_PDF417_TERMINATOR:a--,f=!0;break}(d%fe.MAX_NUMERIC_CODEWORDS===0||v===fe.NUMERIC_COMPACTION_MODE_LATCH||f)&&d>0&&(l.append(fe.decodeBase900toBase10(y,d)),d=0)}return a}static decodeBase900toBase10(r,a){let l=Hi(0);for(let f=0;f<a;f++)l+=fe.EXP900[a-f-1]*Hi(r[f]);let d=l.toString();if(d.charAt(0)!=="1")throw new z;return d.substring(1)}}fe.TEXT_COMPACTION_MODE_LATCH=900,fe.BYTE_COMPACTION_MODE_LATCH=901,fe.NUMERIC_COMPACTION_MODE_LATCH=902,fe.BYTE_COMPACTION_MODE_LATCH_6=924,fe.ECI_USER_DEFINED=925,fe.ECI_GENERAL_PURPOSE=926,fe.ECI_CHARSET=927,fe.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,fe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,fe.MACRO_PDF417_TERMINATOR=922,fe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,fe.MAX_NUMERIC_CODEWORDS=15,fe.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,fe.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,fe.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,fe.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,fe.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,fe.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,fe.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,fe.PL=25,fe.LL=27,fe.AS=27,fe.ML=28,fe.AL=28,fe.PS=29,fe.PAL=29,fe.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,fe.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",fe.EXP900=gu()?Pl():[],fe.NUMBER_OF_SEQUENCE_CODEWORDS=2;class rt{constructor(){}static decode(r,a,l,d,f,y,v){let A=new Ai(r,a,l,d,f),T=null,O=null,k;for(let J=!0;;J=!1){if(a!=null&&(T=rt.getRowIndicatorColumn(r,A,a,!0,y,v)),d!=null&&(O=rt.getRowIndicatorColumn(r,A,d,!1,y,v)),k=rt.merge(T,O),k==null)throw ne.getNotFoundInstance();let ee=k.getBoundingBox();if(J&&ee!=null&&(ee.getMinY()<A.getMinY()||ee.getMaxY()>A.getMaxY()))A=ee;else break}k.setBoundingBox(A);let q=k.getBarcodeColumnCount()+1;k.setDetectionResultColumn(0,T),k.setDetectionResultColumn(q,O);let Z=T!=null;for(let J=1;J<=q;J++){let ee=Z?J:q-J;if(k.getDetectionResultColumn(ee)!==void 0)continue;let se;ee===0||ee===q?se=new Bl(A,ee===0):se=new Fi(A),k.setDetectionResultColumn(ee,se);let he=-1,Re=he;for(let Te=A.getMinY();Te<=A.getMaxY();Te++){if(he=rt.getStartColumn(k,ee,Te,Z),he<0||he>A.getMaxX()){if(Re===-1)continue;he=Re}let Ne=rt.detectCodeword(r,A.getMinX(),A.getMaxX(),Z,he,Te,y,v);Ne!=null&&(se.setCodeword(Te,Ne),Re=he,y=Math.min(y,Ne.getWidth()),v=Math.max(v,Ne.getWidth()))}}return rt.createDecoderResult(k)}static merge(r,a){if(r==null&&a==null)return null;let l=rt.getBarcodeMetadata(r,a);if(l==null)return null;let d=Ai.merge(rt.adjustBoundingBox(r),rt.adjustBoundingBox(a));return new Rn(l,d)}static adjustBoundingBox(r){if(r==null)return null;let a=r.getRowHeights();if(a==null)return null;let l=rt.getMax(a),d=0;for(let v of a)if(d+=l-v,v>0)break;let f=r.getCodewords();for(let v=0;d>0&&f[v]==null;v++)d--;let y=0;for(let v=a.length-1;v>=0&&(y+=l-a[v],!(a[v]>0));v--);for(let v=f.length-1;y>0&&f[v]==null;v--)y--;return r.getBoundingBox().addMissingRows(d,y,r.isLeft())}static getMax(r){let a=-1;for(let l of r)a=Math.max(a,l);return a}static getBarcodeMetadata(r,a){let l;if(r==null||(l=r.getBarcodeMetadata())==null)return a==null?null:a.getBarcodeMetadata();let d;return a==null||(d=a.getBarcodeMetadata())==null?l:l.getColumnCount()!==d.getColumnCount()&&l.getErrorCorrectionLevel()!==d.getErrorCorrectionLevel()&&l.getRowCount()!==d.getRowCount()?null:l}static getRowIndicatorColumn(r,a,l,d,f,y){let v=new Bl(a,d);for(let A=0;A<2;A++){let T=A===0?1:-1,O=Math.trunc(Math.trunc(l.getX()));for(let k=Math.trunc(Math.trunc(l.getY()));k<=a.getMaxY()&&k>=a.getMinY();k+=T){let q=rt.detectCodeword(r,0,r.getWidth(),d,O,k,f,y);q!=null&&(v.setCodeword(k,q),d?O=q.getStartX():O=q.getEndX())}}return v}static adjustCodewordCount(r,a){let l=a[0][1],d=l.getValue(),f=r.getBarcodeColumnCount()*r.getBarcodeRowCount()-rt.getNumberOfECCodeWords(r.getBarcodeECLevel());if(d.length===0){if(f<1||f>Xe.MAX_CODEWORDS_IN_BARCODE)throw ne.getNotFoundInstance();l.setValue(f)}else d[0]!==f&&l.setValue(f)}static createDecoderResult(r){let a=rt.createBarcodeMatrix(r);rt.adjustCodewordCount(r,a);let l=new Array,d=new Int32Array(r.getBarcodeRowCount()*r.getBarcodeColumnCount()),f=[],y=new Array;for(let A=0;A<r.getBarcodeRowCount();A++)for(let T=0;T<r.getBarcodeColumnCount();T++){let O=a[A][T+1].getValue(),k=A*r.getBarcodeColumnCount()+T;O.length===0?l.push(k):O.length===1?d[k]=O[0]:(y.push(k),f.push(O))}let v=new Array(f.length);for(let A=0;A<v.length;A++)v[A]=f[A];return rt.createDecoderResultFromAmbiguousValues(r.getBarcodeECLevel(),d,Xe.toIntArray(l),Xe.toIntArray(y),v)}static createDecoderResultFromAmbiguousValues(r,a,l,d,f){let y=new Int32Array(d.length),v=100;for(;v-- >0;){for(let A=0;A<y.length;A++)a[d[A]]=f[A][y[A]];try{return rt.decodeCodewords(a,r,l)}catch(A){if(!(A instanceof _))throw A}if(y.length===0)throw _.getChecksumInstance();for(let A=0;A<y.length;A++)if(y[A]<f[A].length-1){y[A]++;break}else if(y[A]=0,A===y.length-1)throw _.getChecksumInstance()}throw _.getChecksumInstance()}static createBarcodeMatrix(r){let a=Array.from({length:r.getBarcodeRowCount()},()=>new Array(r.getBarcodeColumnCount()+2));for(let d=0;d<a.length;d++)for(let f=0;f<a[d].length;f++)a[d][f]=new Vi;let l=0;for(let d of r.getDetectionResultColumns()){if(d!=null){for(let f of d.getCodewords())if(f!=null){let y=f.getRowNumber();if(y>=0){if(y>=a.length)continue;a[y][l].setValue(f.getValue())}}}l++}return a}static isValidBarcodeColumn(r,a){return a>=0&&a<=r.getBarcodeColumnCount()+1}static getStartColumn(r,a,l,d){let f=d?1:-1,y=null;if(rt.isValidBarcodeColumn(r,a-f)&&(y=r.getDetectionResultColumn(a-f).getCodeword(l)),y!=null)return d?y.getEndX():y.getStartX();if(y=r.getDetectionResultColumn(a).getCodewordNearby(l),y!=null)return d?y.getStartX():y.getEndX();if(rt.isValidBarcodeColumn(r,a-f)&&(y=r.getDetectionResultColumn(a-f).getCodewordNearby(l)),y!=null)return d?y.getEndX():y.getStartX();let v=0;for(;rt.isValidBarcodeColumn(r,a-f);){a-=f;for(let A of r.getDetectionResultColumn(a).getCodewords())if(A!=null)return(d?A.getEndX():A.getStartX())+f*v*(A.getEndX()-A.getStartX());v++}return d?r.getBoundingBox().getMinX():r.getBoundingBox().getMaxX()}static detectCodeword(r,a,l,d,f,y,v,A){f=rt.adjustCodewordStartColumn(r,a,l,d,f,y);let T=rt.getModuleBitCount(r,a,l,d,f,y);if(T==null)return null;let O,k=ot.sum(T);if(d)O=f+k;else{for(let J=0;J<T.length/2;J++){let ee=T[J];T[J]=T[T.length-1-J],T[T.length-1-J]=ee}O=f,f=O-k}if(!rt.checkCodewordSkew(k,v,A))return null;let q=Pn.getDecodedValue(T),Z=Xe.getCodeword(q);return Z===-1?null:new Ur(f,O,rt.getCodewordBucketNumber(q),Z)}static getModuleBitCount(r,a,l,d,f,y){let v=f,A=new Int32Array(8),T=0,O=d?1:-1,k=d;for(;(d?v<l:v>=a)&&T<A.length;)r.get(v,y)===k?(A[T]++,v+=O):(T++,k=!k);return T===A.length||v===(d?l:a)&&T===A.length-1?A:null}static getNumberOfECCodeWords(r){return 2<<r}static adjustCodewordStartColumn(r,a,l,d,f,y){let v=f,A=d?-1:1;for(let T=0;T<2;T++){for(;(d?v>=a:v<l)&&d===r.get(v,y);){if(Math.abs(f-v)>rt.CODEWORD_SKEW_SIZE)return f;v+=A}A=-A,d=!d}return v}static checkCodewordSkew(r,a,l){return a-rt.CODEWORD_SKEW_SIZE<=r&&r<=l+rt.CODEWORD_SKEW_SIZE}static decodeCodewords(r,a,l){if(r.length===0)throw z.getFormatInstance();let d=1<<a+1,f=rt.correctErrors(r,l,d);rt.verifyCodewordCount(r,d);let y=fe.decode(r,""+a);return y.setErrorsCorrected(f),y.setErasures(l.length),y}static correctErrors(r,a,l){if(a!=null&&a.length>l/2+rt.MAX_ERRORS||l<0||l>rt.MAX_EC_CODEWORDS)throw _.getChecksumInstance();return rt.errorCorrection.decode(r,l,a)}static verifyCodewordCount(r,a){if(r.length<4)throw z.getFormatInstance();let l=r[0];if(l>r.length)throw z.getFormatInstance();if(l===0)if(a<r.length)r[0]=r.length-a;else throw z.getFormatInstance()}static getBitCountForCodeword(r){let a=new Int32Array(8),l=0,d=a.length-1;for(;!((r&1)!==l&&(l=r&1,d--,d<0));)a[d]++,r>>=1;return a}static getCodewordBucketNumber(r){return r instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(r):this.getCodewordBucketNumber_number(r)}static getCodewordBucketNumber_number(r){return rt.getCodewordBucketNumber(rt.getBitCountForCodeword(r))}static getCodewordBucketNumber_Int32Array(r){return(r[0]-r[2]+r[4]-r[6]+9)%9}static toString(r){let a=new Hs;for(let l=0;l<r.length;l++){a.format("Row %2d: ",l);for(let d=0;d<r[l].length;d++){let f=r[l][d];f.getValue().length===0?a.format("        ",null):a.format("%4d(%2d)",f.getValue()[0],f.getConfidence(f.getValue()[0]))}a.format("%n")}return a.toString()}}rt.CODEWORD_SKEW_SIZE=2,rt.MAX_ERRORS=3,rt.MAX_EC_CODEWORDS=512,rt.errorCorrection=new Si;class Un{decode(r,a=null){let l=Un.decode(r,a,!1);if(l==null||l.length===0||l[0]==null)throw ne.getNotFoundInstance();return l[0]}decodeMultiple(r,a=null){try{return Un.decode(r,a,!0)}catch(l){throw l instanceof z||l instanceof _?ne.getNotFoundInstance():l}}static decode(r,a,l){const d=new Array,f=$e.detectMultiple(r,a,l);for(const y of f.getPoints()){const v=rt.decode(f.getBits(),y[4],y[5],y[6],y[7],Un.getMinCodewordWidth(y),Un.getMaxCodewordWidth(y)),A=new _e(v.getText(),v.getRawBytes(),void 0,y,Ie.PDF_417);A.putMetadata(bt.ERROR_CORRECTION_LEVEL,v.getECLevel());const T=v.getOther();T!=null&&A.putMetadata(bt.PDF417_EXTRA_METADATA,T),d.push(A)}return d.map(y=>y)}static getMaxWidth(r,a){return r==null||a==null?0:Math.trunc(Math.abs(r.getX()-a.getX()))}static getMinWidth(r,a){return r==null||a==null?U.MAX_VALUE:Math.trunc(Math.abs(r.getX()-a.getX()))}static getMaxCodewordWidth(r){return Math.floor(Math.max(Math.max(Un.getMaxWidth(r[0],r[4]),Un.getMaxWidth(r[6],r[2])*Xe.MODULES_IN_CODEWORD/Xe.MODULES_IN_STOP_PATTERN),Math.max(Un.getMaxWidth(r[1],r[5]),Un.getMaxWidth(r[7],r[3])*Xe.MODULES_IN_CODEWORD/Xe.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(r){return Math.floor(Math.min(Math.min(Un.getMinWidth(r[0],r[4]),Un.getMinWidth(r[6],r[2])*Xe.MODULES_IN_CODEWORD/Xe.MODULES_IN_STOP_PATTERN),Math.min(Un.getMinWidth(r[1],r[5]),Un.getMinWidth(r[7],r[3])*Xe.MODULES_IN_CODEWORD/Xe.MODULES_IN_STOP_PATTERN)))}reset(){}}class Ro extends b{}Ro.kind="ReaderException";class pu{constructor(r,a){this.verbose=r===!0,a&&this.setHints(a)}decode(r,a){return a&&this.setHints(a),this.decodeInternal(r)}decodeWithState(r){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(r)}setHints(r){this.hints=r;const a=!o(r)&&r.get(X.TRY_HARDER)===!0,l=o(r)?null:r.get(X.POSSIBLE_FORMATS),d=new Array;if(!o(l)){const f=l.some(y=>y===Ie.UPC_A||y===Ie.UPC_E||y===Ie.EAN_13||y===Ie.EAN_8||y===Ie.CODABAR||y===Ie.CODE_39||y===Ie.CODE_93||y===Ie.CODE_128||y===Ie.ITF||y===Ie.RSS_14||y===Ie.RSS_EXPANDED);f&&!a&&d.push(new kr(r,this.verbose)),l.includes(Ie.QR_CODE)&&d.push(new Ci),l.includes(Ie.DATA_MATRIX)&&d.push(new Ei),l.includes(Ie.AZTEC)&&d.push(new xo),l.includes(Ie.PDF_417)&&d.push(new Un),f&&a&&d.push(new kr(r,this.verbose))}d.length===0&&(a||d.push(new kr(r,this.verbose)),d.push(new Ci),d.push(new Ei),d.push(new xo),d.push(new Un),a&&d.push(new kr(r,this.verbose))),this.readers=d}reset(){if(this.readers!==null)for(const r of this.readers)r.reset()}decodeInternal(r){if(this.readers===null)throw new Ro("No readers where selected, nothing can be read.");for(const a of this.readers)try{return a.decode(r,this.hints)}catch(l){if(l instanceof Ro)continue}throw new ne("No MultiFormat Readers were able to detect the code.")}}class yu extends Me{constructor(r=null,a=500){const l=new pu;l.setHints(r),super(l,a)}decodeBitmap(r){return this.reader.decodeWithState(r)}}class Vh extends Me{constructor(r=500){super(new Un,r)}}class Hh extends Me{constructor(r=500){super(new Ci,r)}}var Ul;(function(B){B[B.ERROR_CORRECTION=0]="ERROR_CORRECTION",B[B.CHARACTER_SET=1]="CHARACTER_SET",B[B.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",B[B.MIN_SIZE=3]="MIN_SIZE",B[B.MAX_SIZE=4]="MAX_SIZE",B[B.MARGIN=5]="MARGIN",B[B.PDF417_COMPACT=6]="PDF417_COMPACT",B[B.PDF417_COMPACTION=7]="PDF417_COMPACTION",B[B.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",B[B.AZTEC_LAYERS=9]="AZTEC_LAYERS",B[B.QR_VERSION=10]="QR_VERSION"})(Ul||(Ul={}));var En=Ul;class ka{constructor(r){this.field=r,this.cachedGenerators=[],this.cachedGenerators.push(new Ln(r,Int32Array.from([1])))}buildGenerator(r){const a=this.cachedGenerators;if(r>=a.length){let l=a[a.length-1];const d=this.field;for(let f=a.length;f<=r;f++){const y=l.multiply(new Ln(d,Int32Array.from([1,d.exp(f-1+d.getGeneratorBase())])));a.push(y),l=y}}return a[r]}encode(r,a){if(a===0)throw new S("No error correction bytes");const l=r.length-a;if(l<=0)throw new S("No data bytes provided");const d=this.buildGenerator(a),f=new Int32Array(l);L.arraycopy(r,0,f,0,l);let y=new Ln(this.field,f);y=y.multiplyByMonomial(a,1);const A=y.divide(d)[1].getCoefficients(),T=a-A.length;for(let O=0;O<T;O++)r[l+O]=0;L.arraycopy(A,0,r,l+T,A.length)}}class rn{constructor(){}static applyMaskPenaltyRule1(r){return rn.applyMaskPenaltyRule1Internal(r,!0)+rn.applyMaskPenaltyRule1Internal(r,!1)}static applyMaskPenaltyRule2(r){let a=0;const l=r.getArray(),d=r.getWidth(),f=r.getHeight();for(let y=0;y<f-1;y++){const v=l[y];for(let A=0;A<d-1;A++){const T=v[A];T===v[A+1]&&T===l[y+1][A]&&T===l[y+1][A+1]&&a++}}return rn.N2*a}static applyMaskPenaltyRule3(r){let a=0;const l=r.getArray(),d=r.getWidth(),f=r.getHeight();for(let y=0;y<f;y++)for(let v=0;v<d;v++){const A=l[y];v+6<d&&A[v]===1&&A[v+1]===0&&A[v+2]===1&&A[v+3]===1&&A[v+4]===1&&A[v+5]===0&&A[v+6]===1&&(rn.isWhiteHorizontal(A,v-4,v)||rn.isWhiteHorizontal(A,v+7,v+11))&&a++,y+6<f&&l[y][v]===1&&l[y+1][v]===0&&l[y+2][v]===1&&l[y+3][v]===1&&l[y+4][v]===1&&l[y+5][v]===0&&l[y+6][v]===1&&(rn.isWhiteVertical(l,v,y-4,y)||rn.isWhiteVertical(l,v,y+7,y+11))&&a++}return a*rn.N3}static isWhiteHorizontal(r,a,l){a=Math.max(a,0),l=Math.min(l,r.length);for(let d=a;d<l;d++)if(r[d]===1)return!1;return!0}static isWhiteVertical(r,a,l,d){l=Math.max(l,0),d=Math.min(d,r.length);for(let f=l;f<d;f++)if(r[f][a]===1)return!1;return!0}static applyMaskPenaltyRule4(r){let a=0;const l=r.getArray(),d=r.getWidth(),f=r.getHeight();for(let A=0;A<f;A++){const T=l[A];for(let O=0;O<d;O++)T[O]===1&&a++}const y=r.getHeight()*r.getWidth();return Math.floor(Math.abs(a*2-y)*10/y)*rn.N4}static getDataMaskBit(r,a,l){let d,f;switch(r){case 0:d=l+a&1;break;case 1:d=l&1;break;case 2:d=a%3;break;case 3:d=(l+a)%3;break;case 4:d=Math.floor(l/2)+Math.floor(a/3)&1;break;case 5:f=l*a,d=(f&1)+f%3;break;case 6:f=l*a,d=(f&1)+f%3&1;break;case 7:f=l*a,d=f%3+(l+a&1)&1;break;default:throw new S("Invalid mask pattern: "+r)}return d===0}static applyMaskPenaltyRule1Internal(r,a){let l=0;const d=a?r.getHeight():r.getWidth(),f=a?r.getWidth():r.getHeight(),y=r.getArray();for(let v=0;v<d;v++){let A=0,T=-1;for(let O=0;O<f;O++){const k=a?y[v][O]:y[O][v];k===T?A++:(A>=5&&(l+=rn.N1+(A-5)),A=1,T=k)}A>=5&&(l+=rn.N1+(A-5))}return l}}rn.N1=3,rn.N2=3,rn.N3=40,rn.N4=10;class Oo{constructor(r,a){this.width=r,this.height=a;const l=new Array(a);for(let d=0;d!==a;d++)l[d]=new Uint8Array(r);this.bytes=l}getHeight(){return this.height}getWidth(){return this.width}get(r,a){return this.bytes[a][r]}getArray(){return this.bytes}setNumber(r,a,l){this.bytes[a][r]=l}setBoolean(r,a,l){this.bytes[a][r]=l?1:0}clear(r){for(const a of this.bytes)j.fill(a,r)}equals(r){if(!(r instanceof Oo))return!1;const a=r;if(this.width!==a.width||this.height!==a.height)return!1;for(let l=0,d=this.height;l<d;++l){const f=this.bytes[l],y=a.bytes[l];for(let v=0,A=this.width;v<A;++v)if(f[v]!==y[v])return!1}return!0}toString(){const r=new me;for(let a=0,l=this.height;a<l;++a){const d=this.bytes[a];for(let f=0,y=this.width;f<y;++f)switch(d[f]){case 0:r.append(" 0");break;case 1:r.append(" 1");break;default:r.append("  ");break}r.append(`
`)}return r.toString()}}class ss{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const r=new me;return r.append(`<<
`),r.append(" mode: "),r.append(this.mode?this.mode.toString():"null"),r.append(`
 ecLevel: `),r.append(this.ecLevel?this.ecLevel.toString():"null"),r.append(`
 version: `),r.append(this.version?this.version.toString():"null"),r.append(`
 maskPattern: `),r.append(this.maskPattern.toString()),this.matrix?(r.append(`
 matrix:
`),r.append(this.matrix.toString())):r.append(`
 matrix: null
`),r.append(`>>
`),r.toString()}setMode(r){this.mode=r}setECLevel(r){this.ecLevel=r}setVersion(r){this.version=r}setMaskPattern(r){this.maskPattern=r}setMatrix(r){this.matrix=r}static isValidMaskPattern(r){return r>=0&&r<ss.NUM_MASK_PATTERNS}}ss.NUM_MASK_PATTERNS=8;class _t extends b{}_t.kind="WriterException";class We{constructor(){}static clearMatrix(r){r.clear(255)}static buildMatrix(r,a,l,d,f){We.clearMatrix(f),We.embedBasicPatterns(l,f),We.embedTypeInfo(a,d,f),We.maybeEmbedVersionInfo(l,f),We.embedDataBits(r,d,f)}static embedBasicPatterns(r,a){We.embedPositionDetectionPatternsAndSeparators(a),We.embedDarkDotAtLeftBottomCorner(a),We.maybeEmbedPositionAdjustmentPatterns(r,a),We.embedTimingPatterns(a)}static embedTypeInfo(r,a,l){const d=new V;We.makeTypeInfoBits(r,a,d);for(let f=0,y=d.getSize();f<y;++f){const v=d.get(d.getSize()-1-f),A=We.TYPE_INFO_COORDINATES[f],T=A[0],O=A[1];if(l.setBoolean(T,O,v),f<8){const k=l.getWidth()-f-1;l.setBoolean(k,8,v)}else{const q=l.getHeight()-7+(f-8);l.setBoolean(8,q,v)}}}static maybeEmbedVersionInfo(r,a){if(r.getVersionNumber()<7)return;const l=new V;We.makeVersionInfoBits(r,l);let d=17;for(let f=0;f<6;++f)for(let y=0;y<3;++y){const v=l.get(d);d--,a.setBoolean(f,a.getHeight()-11+y,v),a.setBoolean(a.getHeight()-11+y,f,v)}}static embedDataBits(r,a,l){let d=0,f=-1,y=l.getWidth()-1,v=l.getHeight()-1;for(;y>0;){for(y===6&&(y-=1);v>=0&&v<l.getHeight();){for(let A=0;A<2;++A){const T=y-A;if(!We.isEmpty(l.get(T,v)))continue;let O;d<r.getSize()?(O=r.get(d),++d):O=!1,a!==255&&rn.getDataMaskBit(a,T,v)&&(O=!O),l.setBoolean(T,v,O)}v+=f}f=-f,v+=f,y-=2}if(d!==r.getSize())throw new _t("Not all bits consumed: "+d+"/"+r.getSize())}static findMSBSet(r){return 32-U.numberOfLeadingZeros(r)}static calculateBCHCode(r,a){if(a===0)throw new S("0 polynomial");const l=We.findMSBSet(a);for(r<<=l-1;We.findMSBSet(r)>=l;)r^=a<<We.findMSBSet(r)-l;return r}static makeTypeInfoBits(r,a,l){if(!ss.isValidMaskPattern(a))throw new _t("Invalid mask pattern");const d=r.getBits()<<3|a;l.appendBits(d,5);const f=We.calculateBCHCode(d,We.TYPE_INFO_POLY);l.appendBits(f,10);const y=new V;if(y.appendBits(We.TYPE_INFO_MASK_PATTERN,15),l.xor(y),l.getSize()!==15)throw new _t("should not happen but we got: "+l.getSize())}static makeVersionInfoBits(r,a){a.appendBits(r.getVersionNumber(),6);const l=We.calculateBCHCode(r.getVersionNumber(),We.VERSION_INFO_POLY);if(a.appendBits(l,12),a.getSize()!==18)throw new _t("should not happen but we got: "+a.getSize())}static isEmpty(r){return r===255}static embedTimingPatterns(r){for(let a=8;a<r.getWidth()-8;++a){const l=(a+1)%2;We.isEmpty(r.get(a,6))&&r.setNumber(a,6,l),We.isEmpty(r.get(6,a))&&r.setNumber(6,a,l)}}static embedDarkDotAtLeftBottomCorner(r){if(r.get(8,r.getHeight()-8)===0)throw new _t;r.setNumber(8,r.getHeight()-8,1)}static embedHorizontalSeparationPattern(r,a,l){for(let d=0;d<8;++d){if(!We.isEmpty(l.get(r+d,a)))throw new _t;l.setNumber(r+d,a,0)}}static embedVerticalSeparationPattern(r,a,l){for(let d=0;d<7;++d){if(!We.isEmpty(l.get(r,a+d)))throw new _t;l.setNumber(r,a+d,0)}}static embedPositionAdjustmentPattern(r,a,l){for(let d=0;d<5;++d){const f=We.POSITION_ADJUSTMENT_PATTERN[d];for(let y=0;y<5;++y)l.setNumber(r+y,a+d,f[y])}}static embedPositionDetectionPattern(r,a,l){for(let d=0;d<7;++d){const f=We.POSITION_DETECTION_PATTERN[d];for(let y=0;y<7;++y)l.setNumber(r+y,a+d,f[y])}}static embedPositionDetectionPatternsAndSeparators(r){const a=We.POSITION_DETECTION_PATTERN[0].length;We.embedPositionDetectionPattern(0,0,r),We.embedPositionDetectionPattern(r.getWidth()-a,0,r),We.embedPositionDetectionPattern(0,r.getWidth()-a,r);const l=8;We.embedHorizontalSeparationPattern(0,l-1,r),We.embedHorizontalSeparationPattern(r.getWidth()-l,l-1,r),We.embedHorizontalSeparationPattern(0,r.getWidth()-l,r);const d=7;We.embedVerticalSeparationPattern(d,0,r),We.embedVerticalSeparationPattern(r.getHeight()-d-1,0,r),We.embedVerticalSeparationPattern(d,r.getHeight()-d,r)}static maybeEmbedPositionAdjustmentPatterns(r,a){if(r.getVersionNumber()<2)return;const l=r.getVersionNumber()-1,d=We.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[l];for(let f=0,y=d.length;f!==y;f++){const v=d[f];if(v>=0)for(let A=0;A!==y;A++){const T=d[A];T>=0&&We.isEmpty(a.get(T,v))&&We.embedPositionAdjustmentPattern(T-2,v-2,a)}}}}We.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),We.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),We.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),We.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),We.VERSION_INFO_POLY=7973,We.TYPE_INFO_POLY=1335,We.TYPE_INFO_MASK_PATTERN=21522;class qh{constructor(r,a){this.dataBytes=r,this.errorCorrectionBytes=a}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Yt{constructor(){}static calculateMaskPenalty(r){return rn.applyMaskPenaltyRule1(r)+rn.applyMaskPenaltyRule2(r)+rn.applyMaskPenaltyRule3(r)+rn.applyMaskPenaltyRule4(r)}static encode(r,a,l=null){let d=Yt.DEFAULT_BYTE_MODE_ENCODING;const f=l!==null&&l.get(En.CHARACTER_SET)!==void 0;f&&(d=l.get(En.CHARACTER_SET).toString());const y=this.chooseMode(r,d),v=new V;if(y===Ge.BYTE&&(f||Yt.DEFAULT_BYTE_MODE_ENCODING!==d)){const Te=Q.getCharacterSetECIByName(d);Te!==void 0&&this.appendECI(Te,v)}this.appendModeInfo(y,v);const A=new V;this.appendBytes(r,y,A,d);let T;if(l!==null&&l.get(En.QR_VERSION)!==void 0){const Te=Number.parseInt(l.get(En.QR_VERSION).toString(),10);T=He.getVersionForNumber(Te);const Ne=this.calculateBitsNeeded(y,v,A,T);if(!this.willFit(Ne,T,a))throw new _t("Data too big for requested version")}else T=this.recommendVersion(a,y,v,A);const O=new V;O.appendBitArray(v);const k=y===Ge.BYTE?A.getSizeInBytes():r.length;this.appendLengthInfo(k,T,y,O),O.appendBitArray(A);const q=T.getECBlocksForLevel(a),Z=T.getTotalCodewords()-q.getTotalECCodewords();this.terminateBits(Z,O);const J=this.interleaveWithECBytes(O,T.getTotalCodewords(),Z,q.getNumBlocks()),ee=new ss;ee.setECLevel(a),ee.setMode(y),ee.setVersion(T);const se=T.getDimensionForVersion(),he=new Oo(se,se),Re=this.chooseMaskPattern(J,a,T,he);return ee.setMaskPattern(Re),We.buildMatrix(J,a,T,Re,he),ee.setMatrix(he),ee}static recommendVersion(r,a,l,d){const f=this.calculateBitsNeeded(a,l,d,He.getVersionForNumber(1)),y=this.chooseVersion(f,r),v=this.calculateBitsNeeded(a,l,d,y);return this.chooseVersion(v,r)}static calculateBitsNeeded(r,a,l,d){return a.getSize()+r.getCharacterCountBits(d)+l.getSize()}static getAlphanumericCode(r){return r<Yt.ALPHANUMERIC_TABLE.length?Yt.ALPHANUMERIC_TABLE[r]:-1}static chooseMode(r,a=null){if(Q.SJIS.getName()===a&&this.isOnlyDoubleByteKanji(r))return Ge.KANJI;let l=!1,d=!1;for(let f=0,y=r.length;f<y;++f){const v=r.charAt(f);if(Yt.isDigit(v))l=!0;else if(this.getAlphanumericCode(v.charCodeAt(0))!==-1)d=!0;else return Ge.BYTE}return d?Ge.ALPHANUMERIC:l?Ge.NUMERIC:Ge.BYTE}static isOnlyDoubleByteKanji(r){let a;try{a=ae.encode(r,Q.SJIS)}catch{return!1}const l=a.length;if(l%2!==0)return!1;for(let d=0;d<l;d+=2){const f=a[d]&255;if((f<129||f>159)&&(f<224||f>235))return!1}return!0}static chooseMaskPattern(r,a,l,d){let f=Number.MAX_SAFE_INTEGER,y=-1;for(let v=0;v<ss.NUM_MASK_PATTERNS;v++){We.buildMatrix(r,a,l,v,d);let A=this.calculateMaskPenalty(d);A<f&&(f=A,y=v)}return y}static chooseVersion(r,a){for(let l=1;l<=40;l++){const d=He.getVersionForNumber(l);if(Yt.willFit(r,d,a))return d}throw new _t("Data too big")}static willFit(r,a,l){const d=a.getTotalCodewords(),y=a.getECBlocksForLevel(l).getTotalECCodewords(),v=d-y,A=(r+7)/8;return v>=A}static terminateBits(r,a){const l=r*8;if(a.getSize()>l)throw new _t("data bits cannot fit in the QR Code"+a.getSize()+" > "+l);for(let y=0;y<4&&a.getSize()<l;++y)a.appendBit(!1);const d=a.getSize()&7;if(d>0)for(let y=d;y<8;y++)a.appendBit(!1);const f=r-a.getSizeInBytes();for(let y=0;y<f;++y)a.appendBits((y&1)===0?236:17,8);if(a.getSize()!==l)throw new _t("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(r,a,l,d,f,y){if(d>=l)throw new _t("Block ID too large");const v=r%l,A=l-v,T=Math.floor(r/l),O=T+1,k=Math.floor(a/l),q=k+1,Z=T-k,J=O-q;if(Z!==J)throw new _t("EC bytes mismatch");if(l!==A+v)throw new _t("RS blocks mismatch");if(r!==(k+Z)*A+(q+J)*v)throw new _t("Total bytes mismatch");d<A?(f[0]=k,y[0]=Z):(f[0]=q,y[0]=J)}static interleaveWithECBytes(r,a,l,d){if(r.getSizeInBytes()!==l)throw new _t("Number of bits and data bytes does not match");let f=0,y=0,v=0;const A=new Array;for(let O=0;O<d;++O){const k=new Int32Array(1),q=new Int32Array(1);Yt.getNumDataBytesAndNumECBytesForBlockID(a,l,d,O,k,q);const Z=k[0],J=new Uint8Array(Z);r.toBytes(8*f,J,0,Z);const ee=Yt.generateECBytes(J,q[0]);A.push(new qh(J,ee)),y=Math.max(y,Z),v=Math.max(v,ee.length),f+=k[0]}if(l!==f)throw new _t("Data bytes does not match offset");const T=new V;for(let O=0;O<y;++O)for(const k of A){const q=k.getDataBytes();O<q.length&&T.appendBits(q[O],8)}for(let O=0;O<v;++O)for(const k of A){const q=k.getErrorCorrectionBytes();O<q.length&&T.appendBits(q[O],8)}if(a!==T.getSizeInBytes())throw new _t("Interleaving error: "+a+" and "+T.getSizeInBytes()+" differ.");return T}static generateECBytes(r,a){const l=r.length,d=new Int32Array(l+a);for(let y=0;y<l;y++)d[y]=r[y]&255;new ka(vt.QR_CODE_FIELD_256).encode(d,a);const f=new Uint8Array(a);for(let y=0;y<a;y++)f[y]=d[l+y];return f}static appendModeInfo(r,a){a.appendBits(r.getBits(),4)}static appendLengthInfo(r,a,l,d){const f=l.getCharacterCountBits(a);if(r>=1<<f)throw new _t(r+" is bigger than "+((1<<f)-1));d.appendBits(r,f)}static appendBytes(r,a,l,d){switch(a){case Ge.NUMERIC:Yt.appendNumericBytes(r,l);break;case Ge.ALPHANUMERIC:Yt.appendAlphanumericBytes(r,l);break;case Ge.BYTE:Yt.append8BitBytes(r,l,d);break;case Ge.KANJI:Yt.appendKanjiBytes(r,l);break;default:throw new _t("Invalid mode: "+a)}}static getDigit(r){return r.charCodeAt(0)-48}static isDigit(r){const a=Yt.getDigit(r);return a>=0&&a<=9}static appendNumericBytes(r,a){const l=r.length;let d=0;for(;d<l;){const f=Yt.getDigit(r.charAt(d));if(d+2<l){const y=Yt.getDigit(r.charAt(d+1)),v=Yt.getDigit(r.charAt(d+2));a.appendBits(f*100+y*10+v,10),d+=3}else if(d+1<l){const y=Yt.getDigit(r.charAt(d+1));a.appendBits(f*10+y,7),d+=2}else a.appendBits(f,4),d++}}static appendAlphanumericBytes(r,a){const l=r.length;let d=0;for(;d<l;){const f=Yt.getAlphanumericCode(r.charCodeAt(d));if(f===-1)throw new _t;if(d+1<l){const y=Yt.getAlphanumericCode(r.charCodeAt(d+1));if(y===-1)throw new _t;a.appendBits(f*45+y,11),d+=2}else a.appendBits(f,6),d++}}static append8BitBytes(r,a,l){let d;try{d=ae.encode(r,l)}catch(f){throw new _t(f)}for(let f=0,y=d.length;f!==y;f++){const v=d[f];a.appendBits(v,8)}}static appendKanjiBytes(r,a){let l;try{l=ae.encode(r,Q.SJIS)}catch(f){throw new _t(f)}const d=l.length;for(let f=0;f<d;f+=2){const y=l[f]&255,v=l[f+1]&255,A=y<<8&4294967295|v;let T=-1;if(A>=33088&&A<=40956?T=A-33088:A>=57408&&A<=60351&&(T=A-49472),T===-1)throw new _t("Invalid byte sequence");const O=(T>>8)*192+(T&255);a.appendBits(O,13)}}static appendECI(r,a){a.appendBits(Ge.ECI.getBits(),4),a.appendBits(r.getValue(),8)}}Yt.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Yt.DEFAULT_BYTE_MODE_ENCODING=Q.UTF8.getName();class as{write(r,a,l,d=null){if(r.length===0)throw new S("Found empty contents");if(a<0||l<0)throw new S("Requested dimensions are too small: "+a+"x"+l);let f=at.L,y=as.QUIET_ZONE_SIZE;d!==null&&(d.get(En.ERROR_CORRECTION)!==void 0&&(f=at.fromString(d.get(En.ERROR_CORRECTION).toString())),d.get(En.MARGIN)!==void 0&&(y=Number.parseInt(d.get(En.MARGIN).toString(),10)));const v=Yt.encode(r,f,d);return this.renderResult(v,a,l,y)}writeToDom(r,a,l,d,f=null){typeof r=="string"&&(r=document.querySelector(r));const y=this.write(a,l,d,f);r&&r.appendChild(y)}renderResult(r,a,l,d){const f=r.getMatrix();if(f===null)throw new wr;const y=f.getWidth(),v=f.getHeight(),A=y+d*2,T=v+d*2,O=Math.max(a,A),k=Math.max(l,T),q=Math.min(Math.floor(O/A),Math.floor(k/T)),Z=Math.floor((O-y*q)/2),J=Math.floor((k-v*q)/2),ee=this.createSVGElement(O,k);for(let se=0,he=J;se<v;se++,he+=q)for(let Re=0,Te=Z;Re<y;Re++,Te+=q)if(f.get(Re,se)===1){const Ne=this.createSvgRectElement(Te,he,q,q);ee.appendChild(Ne)}return ee}createSVGElement(r,a){const l=document.createElementNS(as.SVG_NS,"svg");return l.setAttributeNS(null,"height",r.toString()),l.setAttributeNS(null,"width",a.toString()),l}createSvgRectElement(r,a,l,d){const f=document.createElementNS(as.SVG_NS,"rect");return f.setAttributeNS(null,"x",r.toString()),f.setAttributeNS(null,"y",a.toString()),f.setAttributeNS(null,"height",l.toString()),f.setAttributeNS(null,"width",d.toString()),f.setAttributeNS(null,"fill","#000000"),f}}as.QUIET_ZONE_SIZE=4,as.SVG_NS="http://www.w3.org/2000/svg";class Gs{encode(r,a,l,d,f){if(r.length===0)throw new S("Found empty contents");if(a!==Ie.QR_CODE)throw new S("Can only encode QR_CODE, but got "+a);if(l<0||d<0)throw new S(`Requested dimensions are too small: ${l}x${d}`);let y=at.L,v=Gs.QUIET_ZONE_SIZE;f!==null&&(f.get(En.ERROR_CORRECTION)!==void 0&&(y=at.fromString(f.get(En.ERROR_CORRECTION).toString())),f.get(En.MARGIN)!==void 0&&(v=Number.parseInt(f.get(En.MARGIN).toString(),10)));const A=Yt.encode(r,y,f);return Gs.renderResult(A,l,d,v)}static renderResult(r,a,l,d){const f=r.getMatrix();if(f===null)throw new wr;const y=f.getWidth(),v=f.getHeight(),A=y+d*2,T=v+d*2,O=Math.max(a,A),k=Math.max(l,T),q=Math.min(Math.floor(O/A),Math.floor(k/T)),Z=Math.floor((O-y*q)/2),J=Math.floor((k-v*q)/2),ee=new Le(O,k);for(let se=0,he=J;se<v;se++,he+=q)for(let Re=0,Te=Z;Re<y;Re++,Te+=q)f.get(Re,se)===1&&ee.setRegion(Te,he,q,q);return ee}}Gs.QUIET_ZONE_SIZE=4;class Gh{encode(r,a,l,d,f){let y;if(a===Ie.QR_CODE)y=new Gs;else throw new S("No encoder available for format "+a);return y.encode(r,a,l,d,f)}}class ri extends xe{constructor(r,a,l,d,f,y,v,A){if(super(y,v),this.yuvData=r,this.dataWidth=a,this.dataHeight=l,this.left=d,this.top=f,d+y>a||f+v>l)throw new S("Crop rectangle does not fit within image data.");A&&this.reverseHorizontal(y,v)}getRow(r,a){if(r<0||r>=this.getHeight())throw new S("Requested row is outside the image: "+r);const l=this.getWidth();(a==null||a.length<l)&&(a=new Uint8ClampedArray(l));const d=(r+this.top)*this.dataWidth+this.left;return L.arraycopy(this.yuvData,d,a,0,l),a}getMatrix(){const r=this.getWidth(),a=this.getHeight();if(r===this.dataWidth&&a===this.dataHeight)return this.yuvData;const l=r*a,d=new Uint8ClampedArray(l);let f=this.top*this.dataWidth+this.left;if(r===this.dataWidth)return L.arraycopy(this.yuvData,f,d,0,l),d;for(let y=0;y<a;y++){const v=y*r;L.arraycopy(this.yuvData,f,d,v,r),f+=this.dataWidth}return d}isCropSupported(){return!0}crop(r,a,l,d){return new ri(this.yuvData,this.dataWidth,this.dataHeight,this.left+r,this.top+a,l,d,!1)}renderThumbnail(){const r=this.getWidth()/ri.THUMBNAIL_SCALE_FACTOR,a=this.getHeight()/ri.THUMBNAIL_SCALE_FACTOR,l=new Int32Array(r*a),d=this.yuvData;let f=this.top*this.dataWidth+this.left;for(let y=0;y<a;y++){const v=y*r;for(let A=0;A<r;A++){const T=d[f+A*ri.THUMBNAIL_SCALE_FACTOR]&255;l[v+A]=4278190080|T*65793}f+=this.dataWidth*ri.THUMBNAIL_SCALE_FACTOR}return l}getThumbnailWidth(){return this.getWidth()/ri.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/ri.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(r,a){const l=this.yuvData;for(let d=0,f=this.top*this.dataWidth+this.left;d<a;d++,f+=this.dataWidth){const y=f+r/2;for(let v=f,A=f+r-1;v<y;v++,A--){const T=l[v];l[v]=l[A],l[A]=T}}}invert(){return new ke(this)}}ri.THUMBNAIL_SCALE_FACTOR=2;class zl extends xe{constructor(r,a,l,d,f,y,v){if(super(a,l),this.dataWidth=d,this.dataHeight=f,this.left=y,this.top=v,r.BYTES_PER_ELEMENT===4){const A=a*l,T=new Uint8ClampedArray(A);for(let O=0;O<A;O++){const k=r[O],q=k>>16&255,Z=k>>7&510,J=k&255;T[O]=(q+Z+J)/4&255}this.luminances=T}else this.luminances=r;if(d===void 0&&(this.dataWidth=a),f===void 0&&(this.dataHeight=l),y===void 0&&(this.left=0),v===void 0&&(this.top=0),this.left+a>this.dataWidth||this.top+l>this.dataHeight)throw new S("Crop rectangle does not fit within image data.")}getRow(r,a){if(r<0||r>=this.getHeight())throw new S("Requested row is outside the image: "+r);const l=this.getWidth();(a==null||a.length<l)&&(a=new Uint8ClampedArray(l));const d=(r+this.top)*this.dataWidth+this.left;return L.arraycopy(this.luminances,d,a,0,l),a}getMatrix(){const r=this.getWidth(),a=this.getHeight();if(r===this.dataWidth&&a===this.dataHeight)return this.luminances;const l=r*a,d=new Uint8ClampedArray(l);let f=this.top*this.dataWidth+this.left;if(r===this.dataWidth)return L.arraycopy(this.luminances,f,d,0,l),d;for(let y=0;y<a;y++){const v=y*r;L.arraycopy(this.luminances,f,d,v,r),f+=this.dataWidth}return d}isCropSupported(){return!0}crop(r,a,l,d){return new zl(this.luminances,l,d,this.dataWidth,this.dataHeight,this.left+r,this.top+a)}invert(){return new ke(this)}}class bu extends Q{static forName(r){return this.getCharacterSetECIByName(r)}}class Pa{}Pa.ISO_8859_1=Q.ISO8859_1;class Ys{isCompact(){return this.compact}setCompact(r){this.compact=r}getSize(){return this.size}setSize(r){this.size=r}getLayers(){return this.layers}setLayers(r){this.layers=r}getCodeWords(){return this.codeWords}setCodeWords(r){this.codeWords=r}getMatrix(){return this.matrix}setMatrix(r){this.matrix=r}}class vu{static singletonList(r){return[r]}static min(r,a){return r.sort(a)[0]}}class xu{constructor(r){this.previous=r}getPrevious(){return this.previous}}class os extends xu{constructor(r,a,l){super(r),this.value=a,this.bitCount=l}appendTo(r,a){r.appendBits(this.value,this.bitCount)}add(r,a){return new os(this,r,a)}addBinaryShift(r,a){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new os(this,r,a)}toString(){let r=this.value&(1<<this.bitCount)-1;return r|=1<<this.bitCount,"<"+U.toBinaryString(r|1<<this.bitCount).substring(1)+">"}}class Mo extends os{constructor(r,a,l){super(r,0,0),this.binaryShiftStart=a,this.binaryShiftByteCount=l}appendTo(r,a){for(let l=0;l<this.binaryShiftByteCount;l++)(l===0||l===31&&this.binaryShiftByteCount<=62)&&(r.appendBits(31,5),this.binaryShiftByteCount>62?r.appendBits(this.binaryShiftByteCount-31,16):l===0?r.appendBits(Math.min(this.binaryShiftByteCount,31),5):r.appendBits(this.binaryShiftByteCount-31,5)),r.appendBits(a[this.binaryShiftStart+l],8)}addBinaryShift(r,a){return new Mo(this,r,a)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function wu(B,r,a){return new Mo(B,r,a)}function Xs(B,r,a){return new os(B,r,a)}const Ws=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],qi=0,Io=1,Ar=2,Fl=3,zr=4,Ua=new os(null,0,0),ls=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function Yh(B){for(let r of B)j.fill(r,-1);return B[qi][zr]=0,B[Io][zr]=0,B[Io][qi]=28,B[Fl][zr]=0,B[Ar][zr]=0,B[Ar][qi]=15,B}const za=Yh(j.createInt32Array(6,6));class Fr{constructor(r,a,l,d){this.token=r,this.mode=a,this.binaryShiftByteCount=l,this.bitCount=d}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(r,a){let l=this.bitCount,d=this.token;if(r!==this.mode){let y=ls[this.mode][r];d=Xs(d,y&65535,y>>16),l+=y>>16}let f=r===Ar?4:5;return d=Xs(d,a,f),new Fr(d,r,0,l+f)}shiftAndAppend(r,a){let l=this.token,d=this.mode===Ar?4:5;return l=Xs(l,za[this.mode][r],d),l=Xs(l,a,5),new Fr(l,this.mode,0,this.bitCount+d+5)}addBinaryShiftChar(r){let a=this.token,l=this.mode,d=this.bitCount;if(this.mode===zr||this.mode===Ar){let v=ls[l][qi];a=Xs(a,v&65535,v>>16),d+=v>>16,l=qi}let f=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,y=new Fr(a,l,this.binaryShiftByteCount+1,d+f);return y.binaryShiftByteCount===2078&&(y=y.endBinaryShift(r+1)),y}endBinaryShift(r){if(this.binaryShiftByteCount===0)return this;let a=this.token;return a=wu(a,r-this.binaryShiftByteCount,this.binaryShiftByteCount),new Fr(a,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(r){let a=this.bitCount+(ls[this.mode][r.mode]>>16);return this.binaryShiftByteCount<r.binaryShiftByteCount?a+=Fr.calculateBinaryShiftCost(r)-Fr.calculateBinaryShiftCost(this):this.binaryShiftByteCount>r.binaryShiftByteCount&&r.binaryShiftByteCount>0&&(a+=10),a<=r.bitCount}toBitArray(r){let a=[];for(let d=this.endBinaryShift(r.length).token;d!==null;d=d.getPrevious())a.unshift(d);let l=new V;for(const d of a)d.appendTo(l,r);return l}toString(){return ve.format("%s bits=%d bytes=%d",Ws[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(r){return r.binaryShiftByteCount>62?21:r.binaryShiftByteCount>31?20:r.binaryShiftByteCount>0?10:0}}Fr.INITIAL_STATE=new Fr(Ua,qi,0,0);function Eu(B){const r=ve.getCharCode(" "),a=ve.getCharCode("."),l=ve.getCharCode(",");B[qi][r]=1;const d=ve.getCharCode("Z"),f=ve.getCharCode("A");for(let q=f;q<=d;q++)B[qi][q]=q-f+2;B[Io][r]=1;const y=ve.getCharCode("z"),v=ve.getCharCode("a");for(let q=v;q<=y;q++)B[Io][q]=q-v+2;B[Ar][r]=1;const A=ve.getCharCode("9"),T=ve.getCharCode("0");for(let q=T;q<=A;q++)B[Ar][q]=q-T+2;B[Ar][l]=12,B[Ar][a]=13;const O=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let q=0;q<O.length;q++)B[Fl][ve.getCharCode(O[q])]=q;const k=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let q=0;q<k.length;q++)ve.getCharCode(k[q])>0&&(B[zr][ve.getCharCode(k[q])]=q);return B}const Fa=Eu(j.createInt32Array(5,256));class cs{constructor(r){this.text=r}encode(){const r=ve.getCharCode(" "),a=ve.getCharCode(`
`);let l=vu.singletonList(Fr.INITIAL_STATE);for(let f=0;f<this.text.length;f++){let y,v=f+1<this.text.length?this.text[f+1]:0;switch(this.text[f]){case ve.getCharCode("\r"):y=v===a?2:0;break;case ve.getCharCode("."):y=v===r?3:0;break;case ve.getCharCode(","):y=v===r?4:0;break;case ve.getCharCode(":"):y=v===r?5:0;break;default:y=0}y>0?(l=cs.updateStateListForPair(l,f,y),f++):l=this.updateStateListForChar(l,f)}return vu.min(l,(f,y)=>f.getBitCount()-y.getBitCount()).toBitArray(this.text)}updateStateListForChar(r,a){const l=[];for(let d of r)this.updateStateForChar(d,a,l);return cs.simplifyStates(l)}updateStateForChar(r,a,l){let d=this.text[a]&255,f=Fa[r.getMode()][d]>0,y=null;for(let v=0;v<=zr;v++){let A=Fa[v][d];if(A>0){if(y==null&&(y=r.endBinaryShift(a)),!f||v===r.getMode()||v===Ar){const T=y.latchAndAppend(v,A);l.push(T)}if(!f&&za[r.getMode()][v]>=0){const T=y.shiftAndAppend(v,A);l.push(T)}}}if(r.getBinaryShiftByteCount()>0||Fa[r.getMode()][d]===0){let v=r.addBinaryShiftChar(a);l.push(v)}}static updateStateListForPair(r,a,l){const d=[];for(let f of r)this.updateStateForPair(f,a,l,d);return this.simplifyStates(d)}static updateStateForPair(r,a,l,d){let f=r.endBinaryShift(a);if(d.push(f.latchAndAppend(zr,l)),r.getMode()!==zr&&d.push(f.shiftAndAppend(zr,l)),l===3||l===4){let y=f.latchAndAppend(Ar,16-l).latchAndAppend(Ar,1);d.push(y)}if(r.getBinaryShiftByteCount()>0){let y=r.addBinaryShiftChar(a).addBinaryShiftChar(a+1);d.push(y)}}static simplifyStates(r){let a=[];for(const l of r){let d=!0;for(const f of a){if(f.isBetterThanOrEqualTo(l)){d=!1;break}l.isBetterThanOrEqualTo(f)&&(a=a.filter(y=>y!==f))}d&&a.push(l)}return a}}class ft{constructor(){}static encodeBytes(r){return ft.encode(r,ft.DEFAULT_EC_PERCENT,ft.DEFAULT_AZTEC_LAYERS)}static encode(r,a,l){let d=new cs(r).encode(),f=U.truncDivision(d.getSize()*a,100)+11,y=d.getSize()+f,v,A,T,O,k;if(l!==ft.DEFAULT_AZTEC_LAYERS){if(v=l<0,A=Math.abs(l),A>(v?ft.MAX_NB_BITS_COMPACT:ft.MAX_NB_BITS))throw new S(ve.format("Illegal value %s for layers",l));T=ft.totalBitsInLayer(A,v),O=ft.WORD_SIZE[A];let Ne=T-T%O;if(k=ft.stuffBits(d,O),k.getSize()+f>Ne)throw new S("Data to large for user specified layer");if(v&&k.getSize()>O*64)throw new S("Data to large for user specified layer")}else{O=0,k=null;for(let Ne=0;;Ne++){if(Ne>ft.MAX_NB_BITS)throw new S("Data too large for an Aztec code");if(v=Ne<=3,A=v?Ne+1:Ne,T=ft.totalBitsInLayer(A,v),y>T)continue;(k==null||O!==ft.WORD_SIZE[A])&&(O=ft.WORD_SIZE[A],k=ft.stuffBits(d,O));let st=T-T%O;if(!(v&&k.getSize()>O*64)&&k.getSize()+f<=st)break}}let q=ft.generateCheckWords(k,T,O),Z=k.getSize()/O,J=ft.generateModeMessage(v,A,Z),ee=(v?11:14)+A*4,se=new Int32Array(ee),he;if(v){he=ee;for(let Ne=0;Ne<se.length;Ne++)se[Ne]=Ne}else{he=ee+1+2*U.truncDivision(U.truncDivision(ee,2)-1,15);let Ne=U.truncDivision(ee,2),st=U.truncDivision(he,2);for(let Je=0;Je<Ne;Je++){let mn=Je+U.truncDivision(Je,15);se[Ne-Je-1]=st-mn-1,se[Ne+Je]=st+mn+1}}let Re=new Le(he);for(let Ne=0,st=0;Ne<A;Ne++){let Je=(A-Ne)*4+(v?9:12);for(let mn=0;mn<Je;mn++){let Nr=mn*2;for(let Zn=0;Zn<2;Zn++)q.get(st+Nr+Zn)&&Re.set(se[Ne*2+Zn],se[Ne*2+mn]),q.get(st+Je*2+Nr+Zn)&&Re.set(se[Ne*2+mn],se[ee-1-Ne*2-Zn]),q.get(st+Je*4+Nr+Zn)&&Re.set(se[ee-1-Ne*2-Zn],se[ee-1-Ne*2-mn]),q.get(st+Je*6+Nr+Zn)&&Re.set(se[ee-1-Ne*2-mn],se[Ne*2+Zn])}st+=Je*8}if(ft.drawModeMessage(Re,v,he,J),v)ft.drawBullsEye(Re,U.truncDivision(he,2),5);else{ft.drawBullsEye(Re,U.truncDivision(he,2),7);for(let Ne=0,st=0;Ne<U.truncDivision(ee,2)-1;Ne+=15,st+=16)for(let Je=U.truncDivision(he,2)&1;Je<he;Je+=2)Re.set(U.truncDivision(he,2)-st,Je),Re.set(U.truncDivision(he,2)+st,Je),Re.set(Je,U.truncDivision(he,2)-st),Re.set(Je,U.truncDivision(he,2)+st)}let Te=new Ys;return Te.setCompact(v),Te.setSize(he),Te.setLayers(A),Te.setCodeWords(Z),Te.setMatrix(Re),Te}static drawBullsEye(r,a,l){for(let d=0;d<l;d+=2)for(let f=a-d;f<=a+d;f++)r.set(f,a-d),r.set(f,a+d),r.set(a-d,f),r.set(a+d,f);r.set(a-l,a-l),r.set(a-l+1,a-l),r.set(a-l,a-l+1),r.set(a+l,a-l),r.set(a+l,a-l+1),r.set(a+l,a+l-1)}static generateModeMessage(r,a,l){let d=new V;return r?(d.appendBits(a-1,2),d.appendBits(l-1,6),d=ft.generateCheckWords(d,28,4)):(d.appendBits(a-1,5),d.appendBits(l-1,11),d=ft.generateCheckWords(d,40,4)),d}static drawModeMessage(r,a,l,d){let f=U.truncDivision(l,2);if(a)for(let y=0;y<7;y++){let v=f-3+y;d.get(y)&&r.set(v,f-5),d.get(y+7)&&r.set(f+5,v),d.get(20-y)&&r.set(v,f+5),d.get(27-y)&&r.set(f-5,v)}else for(let y=0;y<10;y++){let v=f-5+y+U.truncDivision(y,5);d.get(y)&&r.set(v,f-7),d.get(y+10)&&r.set(f+7,v),d.get(29-y)&&r.set(v,f+7),d.get(39-y)&&r.set(f-7,v)}}static generateCheckWords(r,a,l){let d=r.getSize()/l,f=new ka(ft.getGF(l)),y=U.truncDivision(a,l),v=ft.bitsToWords(r,l,y);f.encode(v,y-d);let A=a%l,T=new V;T.appendBits(0,A);for(const O of Array.from(v))T.appendBits(O,l);return T}static bitsToWords(r,a,l){let d=new Int32Array(l),f,y;for(f=0,y=r.getSize()/a;f<y;f++){let v=0;for(let A=0;A<a;A++)v|=r.get(f*a+A)?1<<a-A-1:0;d[f]=v}return d}static getGF(r){switch(r){case 4:return vt.AZTEC_PARAM;case 6:return vt.AZTEC_DATA_6;case 8:return vt.AZTEC_DATA_8;case 10:return vt.AZTEC_DATA_10;case 12:return vt.AZTEC_DATA_12;default:throw new S("Unsupported word size "+r)}}static stuffBits(r,a){let l=new V,d=r.getSize(),f=(1<<a)-2;for(let y=0;y<d;y+=a){let v=0;for(let A=0;A<a;A++)(y+A>=d||r.get(y+A))&&(v|=1<<a-1-A);(v&f)===f?(l.appendBits(v&f,a),y--):(v&f)===0?(l.appendBits(v|1,a),y--):l.appendBits(v,a)}return l}static totalBitsInLayer(r,a){return((a?88:112)+16*r)*r}}ft.DEFAULT_EC_PERCENT=33,ft.DEFAULT_AZTEC_LAYERS=0,ft.MAX_NB_BITS=32,ft.MAX_NB_BITS_COMPACT=4,ft.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Va{encode(r,a,l,d){return this.encodeWithHints(r,a,l,d,null)}encodeWithHints(r,a,l,d,f){let y=Pa.ISO_8859_1,v=ft.DEFAULT_EC_PERCENT,A=ft.DEFAULT_AZTEC_LAYERS;return f!=null&&(f.has(En.CHARACTER_SET)&&(y=bu.forName(f.get(En.CHARACTER_SET).toString())),f.has(En.ERROR_CORRECTION)&&(v=U.parseInt(f.get(En.ERROR_CORRECTION).toString())),f.has(En.AZTEC_LAYERS)&&(A=U.parseInt(f.get(En.AZTEC_LAYERS).toString()))),Va.encodeLayers(r,a,l,d,y,v,A)}static encodeLayers(r,a,l,d,f,y,v){if(a!==Ie.AZTEC)throw new S("Can only encode AZTEC, but got "+a);let A=ft.encode(ve.getBytes(r,f),y,v);return Va.renderResult(A,l,d)}static renderResult(r,a,l){let d=r.getMatrix();if(d==null)throw new wr;let f=d.getWidth(),y=d.getHeight(),v=Math.max(a,f),A=Math.max(l,y),T=Math.min(v/f,A/y),O=(v-f*T)/2,k=(A-y*T)/2,q=new Le(v,A);for(let Z=0,J=k;Z<y;Z++,J+=T)for(let ee=0,se=O;ee<f;ee++,se+=T)d.get(ee,Z)&&q.setRegion(se,J,T,T);return q}}i.AbstractExpandedDecoder=xn,i.ArgumentException=E,i.ArithmeticException=js,i.AztecCode=Ys,i.AztecCodeReader=xo,i.AztecCodeWriter=Va,i.AztecDecoder=jt,i.AztecDetector=Ml,i.AztecDetectorResult=lu,i.AztecEncoder=ft,i.AztecHighLevelEncoder=cs,i.AztecPoint=Wn,i.BarcodeFormat=Ie,i.Binarizer=D,i.BinaryBitmap=R,i.BitArray=V,i.BitMatrix=Le,i.BitSource=Pr,i.BrowserAztecCodeReader=Ph,i.BrowserBarcodeReader=Uh,i.BrowserCodeReader=Me,i.BrowserDatamatrixCodeReader=Co,i.BrowserMultiFormatReader=yu,i.BrowserPDF417Reader=Vh,i.BrowserQRCodeReader=Hh,i.BrowserQRCodeSvgWriter=as,i.CharacterSetECI=Q,i.ChecksumException=_,i.Code128Reader=Oe,i.Code39Reader=Ut,i.DataMatrixDecodedBitStreamParser=wi,i.DataMatrixReader=Ei,i.DecodeHintType=X,i.DecoderResult=Ht,i.DefaultGridSampler=Ol,i.DetectorResult=vo,i.EAN13Reader=Jr,i.EncodeHintType=En,i.Exception=b,i.FormatException=z,i.GenericGF=vt,i.GenericGFPoly=Ln,i.GlobalHistogramBinarizer=ie,i.GridSampler=Rl,i.GridSamplerInstance=Lr,i.HTMLCanvasElementLuminanceSource=ye,i.HybridBinarizer=ue,i.ITFReader=nt,i.IllegalArgumentException=S,i.IllegalStateException=wr,i.InvertedLuminanceSource=ke,i.LuminanceSource=xe,i.MathUtils=ot,i.MultiFormatOneDReader=kr,i.MultiFormatReader=pu,i.MultiFormatWriter=Gh,i.NotFoundException=ne,i.OneDReader=Wt,i.PDF417DecodedBitStreamParser=fe,i.PDF417DecoderErrorCorrection=Si,i.PDF417Reader=Un,i.PDF417ResultMetadata=qs,i.PerspectiveTransform=Er,i.PlanarYUVLuminanceSource=ri,i.QRCodeByteMatrix=Oo,i.QRCodeDataMask=dr,i.QRCodeDecodedBitStreamParser=qt,i.QRCodeDecoderErrorCorrectionLevel=at,i.QRCodeDecoderFormatInformation=Tn,i.QRCodeEncoder=Yt,i.QRCodeEncoderQRCode=ss,i.QRCodeMaskUtil=rn,i.QRCodeMatrixUtil=We,i.QRCodeMode=Ge,i.QRCodeReader=Ci,i.QRCodeVersion=He,i.QRCodeWriter=Gs,i.RGBLuminanceSource=zl,i.RSS14Reader=It,i.RSSExpandedReader=Ae,i.ReaderException=Ro,i.ReedSolomonDecoder=rs,i.ReedSolomonEncoder=ka,i.ReedSolomonException=xr,i.Result=_e,i.ResultMetadataType=bt,i.ResultPoint=ze,i.StringUtils=ve,i.UnsupportedOperationException=Ee,i.VideoInputDevice=$,i.WhiteRectangleDetector=on,i.WriterException=_t,i.ZXingArrays=j,i.ZXingCharset=bu,i.ZXingInteger=U,i.ZXingStandardCharsets=Pa,i.ZXingStringBuilder=me,i.ZXingStringEncoding=ae,i.ZXingSystem=L,i.createAbstractExpandedDecoder=ks,Object.defineProperty(i,"__esModule",{value:!0})}))})(Rc,Rc.exports)),Rc.exports}var ln=z_();const F_=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));var Vw=(function(){function e(t,i,o){if(this.formatMap=new Map([[Pe.QR_CODE,ln.BarcodeFormat.QR_CODE],[Pe.AZTEC,ln.BarcodeFormat.AZTEC],[Pe.CODABAR,ln.BarcodeFormat.CODABAR],[Pe.CODE_39,ln.BarcodeFormat.CODE_39],[Pe.CODE_93,ln.BarcodeFormat.CODE_93],[Pe.CODE_128,ln.BarcodeFormat.CODE_128],[Pe.DATA_MATRIX,ln.BarcodeFormat.DATA_MATRIX],[Pe.MAXICODE,ln.BarcodeFormat.MAXICODE],[Pe.ITF,ln.BarcodeFormat.ITF],[Pe.EAN_13,ln.BarcodeFormat.EAN_13],[Pe.EAN_8,ln.BarcodeFormat.EAN_8],[Pe.PDF_417,ln.BarcodeFormat.PDF_417],[Pe.RSS_14,ln.BarcodeFormat.RSS_14],[Pe.RSS_EXPANDED,ln.BarcodeFormat.RSS_EXPANDED],[Pe.UPC_A,ln.BarcodeFormat.UPC_A],[Pe.UPC_E,ln.BarcodeFormat.UPC_E],[Pe.UPC_EAN_EXTENSION,ln.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!F_)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=i,this.logger=o;var u=this.createZXingFormats(t),h=new Map;h.set(ln.DecodeHintType.POSSIBLE_FORMATS,u),h.set(ln.DecodeHintType.TRY_HARDER,!1),this.hints=h}return e.prototype.decodeAsync=function(t){var i=this;return new Promise(function(o,u){try{o(i.decode(t))}catch(h){u(h)}})},e.prototype.decode=function(t){var i=new ln.MultiFormatReader(this.verbose,this.hints),o=new ln.HTMLCanvasElementLuminanceSource(t),u=new ln.BinaryBitmap(new ln.HybridBinarizer(o)),h=i.decode(u);return{text:h.text,format:OC.create(this.toHtml5QrcodeSupportedFormats(h.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(i,o,u){t.set(i,o)}),t},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createZXingFormats=function(t){for(var i=[],o=0,u=t;o<u.length;o++){var h=u[o];this.formatMap.has(h)?i.push(this.formatMap.get(h)):this.logger.logError("".concat(h," is not supported by")+"ZXingHtml5QrcodeShim")}return i},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e})(),V_=function(e,t,i,o){function u(h){return h instanceof i?h:new i(function(p){p(h)})}return new(i||(i=Promise))(function(h,p){function x(E){try{b(o.next(E))}catch(S){p(S)}}function w(E){try{b(o.throw(E))}catch(S){p(S)}}function b(E){E.done?h(E.value):u(E.value).then(x,w)}b((o=o.apply(e,t||[])).next())})},H_=function(e,t){var i={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},o,u,h,p;return p={next:x(0),throw:x(1),return:x(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function x(b){return function(E){return w([b,E])}}function w(b){if(o)throw new TypeError("Generator is already executing.");for(;p&&(p=0,b[0]&&(i=0)),i;)try{if(o=1,u&&(h=b[0]&2?u.return:b[0]?u.throw||((h=u.return)&&h.call(u),0):u.next)&&!(h=h.call(u,b[1])).done)return h;switch(u=0,h&&(b=[b[0]&2,h.value]),b[0]){case 0:case 1:h=b;break;case 4:return i.label++,{value:b[1],done:!1};case 5:i.label++,u=b[1],b=[0];continue;case 7:b=i.ops.pop(),i.trys.pop();continue;default:if(h=i.trys,!(h=h.length>0&&h[h.length-1])&&(b[0]===6||b[0]===2)){i=0;continue}if(b[0]===3&&(!h||b[1]>h[0]&&b[1]<h[3])){i.label=b[1];break}if(b[0]===6&&i.label<h[1]){i.label=h[1],h=b;break}if(h&&i.label<h[2]){i.label=h[2],i.ops.push(b);break}h[2]&&i.ops.pop(),i.trys.pop();continue}b=t.call(e,i)}catch(E){b=[6,E],u=0}finally{o=h=0}if(b[0]&5)throw b[1];return{value:b[0]?b[1]:void 0,done:!0}}},Hw=(function(){function e(t,i,o){if(this.formatMap=new Map([[Pe.QR_CODE,"qr_code"],[Pe.AZTEC,"aztec"],[Pe.CODABAR,"codabar"],[Pe.CODE_39,"code_39"],[Pe.CODE_93,"code_93"],[Pe.CODE_128,"code_128"],[Pe.DATA_MATRIX,"data_matrix"],[Pe.ITF,"itf"],[Pe.EAN_13,"ean_13"],[Pe.EAN_8,"ean_8"],[Pe.PDF_417,"pdf417"],[Pe.UPC_A,"upc_a"],[Pe.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=i,this.logger=o;var u=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(u),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var t=new BarcodeDetector({formats:["qr_code"]});return typeof t<"u"},e.prototype.decodeAsync=function(t){return V_(this,void 0,void 0,function(){var i,o;return H_(this,function(u){switch(u.label){case 0:return[4,this.detector.detect(t)];case 1:if(i=u.sent(),!i||i.length===0)throw"No barcode or QR code detected.";return o=this.selectLargestBarcode(i),[2,{text:o.rawValue,format:OC.create(this.toHtml5QrcodeSupportedFormats(o.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(t){for(var i=null,o=0,u=0,h=t;u<h.length;u++){var p=h[u],x=p.boundingBox.width*p.boundingBox.height;x>o&&(o=x,i=p)}if(!i)throw"No largest barcode found";return i},e.prototype.createBarcodeDetectorFormats=function(t){for(var i=[],o=0,u=t;o<u.length;o++){var h=u[o];this.formatMap.has(h)?i.push(this.formatMap.get(h)):this.logger.warn("".concat(h," is not supported by")+"BarcodeDetectorDelegate")}return{formats:i}},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(i,o,u){t.set(i,o)}),t},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e})(),qw=function(e,t,i,o){function u(h){return h instanceof i?h:new i(function(p){p(h)})}return new(i||(i=Promise))(function(h,p){function x(E){try{b(o.next(E))}catch(S){p(S)}}function w(E){try{b(o.throw(E))}catch(S){p(S)}}function b(E){E.done?h(E.value):u(E.value).then(x,w)}b((o=o.apply(e,t||[])).next())})},Gw=function(e,t){var i={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},o,u,h,p;return p={next:x(0),throw:x(1),return:x(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function x(b){return function(E){return w([b,E])}}function w(b){if(o)throw new TypeError("Generator is already executing.");for(;p&&(p=0,b[0]&&(i=0)),i;)try{if(o=1,u&&(h=b[0]&2?u.return:b[0]?u.throw||((h=u.return)&&h.call(u),0):u.next)&&!(h=h.call(u,b[1])).done)return h;switch(u=0,h&&(b=[b[0]&2,h.value]),b[0]){case 0:case 1:h=b;break;case 4:return i.label++,{value:b[1],done:!1};case 5:i.label++,u=b[1],b=[0];continue;case 7:b=i.ops.pop(),i.trys.pop();continue;default:if(h=i.trys,!(h=h.length>0&&h[h.length-1])&&(b[0]===6||b[0]===2)){i=0;continue}if(b[0]===3&&(!h||b[1]>h[0]&&b[1]<h[3])){i.label=b[1];break}if(b[0]===6&&i.label<h[1]){i.label=h[1],h=b;break}if(h&&i.label<h[2]){i.label=h[2],i.ops.push(b);break}h[2]&&i.ops.pop(),i.trys.pop();continue}b=t.call(e,i)}catch(E){b=[6,E],u=0}finally{o=h=0}if(b[0]&5)throw b[1];return{value:b[0]?b[1]:void 0,done:!0}}},q_=(function(){function e(t,i,o,u){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=o,i&&Hw.isSupported()?(this.primaryDecoder=new Hw(t,o,u),this.secondaryDecoder=new Vw(t,o,u)):this.primaryDecoder=new Vw(t,o,u)}return e.prototype.decodeAsync=function(t){return qw(this,void 0,void 0,function(){var i;return Gw(this,function(o){switch(o.label){case 0:i=performance.now(),o.label=1;case 1:return o.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(t)];case 2:return[2,o.sent()];case 3:return this.possiblyLogPerformance(i),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(t){return qw(this,void 0,void 0,function(){var i,o;return Gw(this,function(u){switch(u.label){case 0:i=performance.now(),u.label=1;case 1:return u.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(t)];case 2:return[2,u.sent()];case 3:if(o=u.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(t)];throw o;case 4:return this.possiblyLogPerformance(i),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(t){if(this.verbose){var i=performance.now()-t;this.executionResults.push(i),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var t=0,i=0,o=this.executionResults;i<o.length;i++){var u=o[i];t+=u}var h=t/this.executionResults.length;console.log("".concat(h," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e})(),lp=(function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var h in u)Object.prototype.hasOwnProperty.call(u,h)&&(o[h]=u[h])},e(t,i)};return function(t,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");e(t,i);function o(){this.constructor=t}t.prototype=i===null?Object.create(i):(o.prototype=i.prototype,new o)}})(),vh=function(e,t,i,o){function u(h){return h instanceof i?h:new i(function(p){p(h)})}return new(i||(i=Promise))(function(h,p){function x(E){try{b(o.next(E))}catch(S){p(S)}}function w(E){try{b(o.throw(E))}catch(S){p(S)}}function b(E){E.done?h(E.value):u(E.value).then(x,w)}b((o=o.apply(e,t||[])).next())})},xh=function(e,t){var i={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},o,u,h,p;return p={next:x(0),throw:x(1),return:x(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function x(b){return function(E){return w([b,E])}}function w(b){if(o)throw new TypeError("Generator is already executing.");for(;p&&(p=0,b[0]&&(i=0)),i;)try{if(o=1,u&&(h=b[0]&2?u.return:b[0]?u.throw||((h=u.return)&&h.call(u),0):u.next)&&!(h=h.call(u,b[1])).done)return h;switch(u=0,h&&(b=[b[0]&2,h.value]),b[0]){case 0:case 1:h=b;break;case 4:return i.label++,{value:b[1],done:!1};case 5:i.label++,u=b[1],b=[0];continue;case 7:b=i.ops.pop(),i.trys.pop();continue;default:if(h=i.trys,!(h=h.length>0&&h[h.length-1])&&(b[0]===6||b[0]===2)){i=0;continue}if(b[0]===3&&(!h||b[1]>h[0]&&b[1]<h[3])){i.label=b[1];break}if(b[0]===6&&i.label<h[1]){i.label=h[1],h=b;break}if(h&&i.label<h[2]){i.label=h[2],i.ops.push(b);break}h[2]&&i.ops.pop(),i.trys.pop();continue}b=t.call(e,i)}catch(E){b=[6,E],u=0}finally{o=h=0}if(b[0]&5)throw b[1];return{value:b[0]?b[1]:void 0,done:!0}}},DC=(function(){function e(t,i){this.name=t,this.track=i}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(t){var i={};i[this.name]=t;var o={advanced:[i]};return this.track.applyConstraints(o)},e.prototype.value=function(){var t=this.track.getSettings();if(this.name in t){var i=t[this.name];return i}return null},e})(),G_=(function(e){lp(t,e);function t(i,o){return e.call(this,i,o)||this}return t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(i){var o={};o[this.name]=i;var u={advanced:[o]};return this.track.applyConstraints(u)},t.prototype.getCapabilities=function(){this.failIfNotSupported();var i=this.track.getCapabilities(),o=i[this.name];return{min:o.min,max:o.max,step:o.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t})(DC),Y_=(function(e){lp(t,e);function t(i){return e.call(this,"zoom",i)||this}return t})(G_),X_=(function(e){lp(t,e);function t(i){return e.call(this,"torch",i)||this}return t})(DC),W_=(function(){function e(t){this.track=t}return e.prototype.zoomFeature=function(){return new Y_(this.track)},e.prototype.torchFeature=function(){return new X_(this.track)},e})(),Q_=(function(){function e(t,i,o){this.isClosed=!1,this.parentElement=t,this.mediaStream=i,this.callbacks=o,this.surface=this.createVideoElement(this.parentElement.clientWidth),t.append(this.surface)}return e.prototype.createVideoElement=function(t){var i=document.createElement("video");return i.style.width="".concat(t,"px"),i.style.display="block",i.muted=!0,i.setAttribute("muted","true"),i.playsInline=!0,i},e.prototype.setupSurface=function(){var t=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var i=function(){var o=t.surface.clientWidth,u=t.surface.clientHeight;t.callbacks.onRenderSurfaceReady(o,u),t.surface.removeEventListener("playing",i)};this.surface.addEventListener("playing",i),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(t,i,o,u){return vh(this,void 0,void 0,function(){var h,p;return xh(this,function(x){switch(x.label){case 0:return h=new e(t,i,u),o.aspectRatio?(p={aspectRatio:o.aspectRatio},[4,h.getFirstTrackOrFail().applyConstraints(p)]):[3,2];case 1:x.sent(),x.label=2;case 2:return h.setupSurface(),[2,h]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(t){this.failIfClosed();var i=this,o=function(){setTimeout(t,200),i.surface.removeEventListener("playing",o)};this.surface.addEventListener("playing",o),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(t){return vh(this,void 0,void 0,function(){return xh(this,function(i){if("aspectRatio"in t)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(t)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var t=this;return new Promise(function(i,o){var u=t.mediaStream.getVideoTracks(),h=u.length,p=0;t.mediaStream.getVideoTracks().forEach(function(x){t.mediaStream.removeTrack(x),x.stop(),++p,p>=h&&(t.isClosed=!0,t.parentElement.removeChild(t.surface),i())})})},e.prototype.getCapabilities=function(){return new W_(this.getFirstTrackOrFail())},e})(),Z_=(function(){function e(t){this.mediaStream=t}return e.prototype.render=function(t,i,o){return vh(this,void 0,void 0,function(){return xh(this,function(u){return[2,Q_.create(t,this.mediaStream,i,o)]})})},e.create=function(t){return vh(this,void 0,void 0,function(){var i,o;return xh(this,function(u){switch(u.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return i={audio:!1,video:t},[4,navigator.mediaDevices.getUserMedia(i)];case 1:return o=u.sent(),[2,new e(o)]}})})},e})(),Yw=function(e,t,i,o){function u(h){return h instanceof i?h:new i(function(p){p(h)})}return new(i||(i=Promise))(function(h,p){function x(E){try{b(o.next(E))}catch(S){p(S)}}function w(E){try{b(o.throw(E))}catch(S){p(S)}}function b(E){E.done?h(E.value):u(E.value).then(x,w)}b((o=o.apply(e,t||[])).next())})},Xw=function(e,t){var i={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},o,u,h,p;return p={next:x(0),throw:x(1),return:x(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function x(b){return function(E){return w([b,E])}}function w(b){if(o)throw new TypeError("Generator is already executing.");for(;p&&(p=0,b[0]&&(i=0)),i;)try{if(o=1,u&&(h=b[0]&2?u.return:b[0]?u.throw||((h=u.return)&&h.call(u),0):u.next)&&!(h=h.call(u,b[1])).done)return h;switch(u=0,h&&(b=[b[0]&2,h.value]),b[0]){case 0:case 1:h=b;break;case 4:return i.label++,{value:b[1],done:!1};case 5:i.label++,u=b[1],b=[0];continue;case 7:b=i.ops.pop(),i.trys.pop();continue;default:if(h=i.trys,!(h=h.length>0&&h[h.length-1])&&(b[0]===6||b[0]===2)){i=0;continue}if(b[0]===3&&(!h||b[1]>h[0]&&b[1]<h[3])){i.label=b[1];break}if(b[0]===6&&i.label<h[1]){i.label=h[1],h=b;break}if(h&&i.label<h[2]){i.label=h[2],i.ops.push(b);break}h[2]&&i.ops.pop(),i.trys.pop();continue}b=t.call(e,i)}catch(E){b=[6,E],u=0}finally{o=h=0}if(b[0]&5)throw b[1];return{value:b[0]?b[1]:void 0,done:!0}}},K_=(function(){function e(){}return e.failIfNotSupported=function(){return Yw(this,void 0,void 0,function(){return Xw(this,function(t){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(t){return Yw(this,void 0,void 0,function(){return Xw(this,function(i){return[2,Z_.create(t)]})})},e})(),$_=function(e,t,i,o){function u(h){return h instanceof i?h:new i(function(p){p(h)})}return new(i||(i=Promise))(function(h,p){function x(E){try{b(o.next(E))}catch(S){p(S)}}function w(E){try{b(o.throw(E))}catch(S){p(S)}}function b(E){E.done?h(E.value):u(E.value).then(x,w)}b((o=o.apply(e,t||[])).next())})},J_=function(e,t){var i={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},o,u,h,p;return p={next:x(0),throw:x(1),return:x(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function x(b){return function(E){return w([b,E])}}function w(b){if(o)throw new TypeError("Generator is already executing.");for(;p&&(p=0,b[0]&&(i=0)),i;)try{if(o=1,u&&(h=b[0]&2?u.return:b[0]?u.throw||((h=u.return)&&h.call(u),0):u.next)&&!(h=h.call(u,b[1])).done)return h;switch(u=0,h&&(b=[b[0]&2,h.value]),b[0]){case 0:case 1:h=b;break;case 4:return i.label++,{value:b[1],done:!1};case 5:i.label++,u=b[1],b=[0];continue;case 7:b=i.ops.pop(),i.trys.pop();continue;default:if(h=i.trys,!(h=h.length>0&&h[h.length-1])&&(b[0]===6||b[0]===2)){i=0;continue}if(b[0]===3&&(!h||b[1]>h[0]&&b[1]<h[3])){i.label=b[1];break}if(b[0]===6&&i.label<h[1]){i.label=h[1],h=b;break}if(h&&i.label<h[2]){i.label=h[2],i.ops.push(b);break}h[2]&&i.ops.pop(),i.trys.pop();continue}b=t.call(e,i)}catch(E){b=[6,E],u=0}finally{o=h=0}if(b[0]&5)throw b[1];return{value:b[0]?b[1]:void 0,done:!0}}},eD=(function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var t=MediaStreamTrack;return MediaStreamTrack&&t.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var t=dl.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(t=dl.insecureContextCameraQueryError()),Promise.reject(t)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var t=location.host.split(":")[0];return t==="127.0.0.1"||t==="localhost"},e.getCamerasFromMediaDevices=function(){return $_(this,void 0,void 0,function(){var t,i,o,u,h,p,x;return J_(this,function(w){switch(w.label){case 0:return t=function(b){for(var E=b.getVideoTracks(),S=0,R=E;S<R.length;S++){var _=R[S];_.enabled=!1,_.stop(),b.removeTrack(_)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return i=w.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(o=w.sent(),u=[],h=0,p=o;h<p.length;h++)x=p[h],x.kind==="videoinput"&&u.push({id:x.deviceId,label:x.label});return t(i),[2,u]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(t,i){var o=function(h){for(var p=[],x=0,w=h;x<w.length;x++){var b=w[x];b.kind==="video"&&p.push({id:b.id,label:b.label})}t(p)},u=MediaStreamTrack;u.getSources(o)})},e})(),bn;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})(bn||(bn={}));var tD=(function(){function e(){this.state=bn.NOT_STARTED,this.onGoingTransactionNewState=bn.UNKNOWN}return e.prototype.directTransition=function(t){this.failIfTransitionOngoing(),this.validateTransition(t),this.state=t},e.prototype.startTransition=function(t){return this.failIfTransitionOngoing(),this.validateTransition(t),this.onGoingTransactionNewState=t,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===bn.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var t=this.onGoingTransactionNewState;this.onGoingTransactionNewState=bn.UNKNOWN,this.directTransition(t)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===bn.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=bn.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==bn.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(t){switch(this.state){case bn.UNKNOWN:throw"Transition from unknown is not allowed";case bn.NOT_STARTED:this.failIfNewStateIs(t,[bn.PAUSED]);break;case bn.SCANNING:break;case bn.PAUSED:break}},e.prototype.failIfNewStateIs=function(t,i){for(var o=0,u=i;o<u.length;o++){var h=u[o];if(t===h)throw"Cannot transition from ".concat(this.state," to ").concat(t)}},e})(),nD=(function(){function e(t){this.stateManager=t}return e.prototype.startTransition=function(t){return this.stateManager.startTransition(t)},e.prototype.directTransition=function(t){this.stateManager.directTransition(t)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===bn.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==bn.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===bn.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===bn.PAUSED},e})(),rD=(function(){function e(){}return e.create=function(){return new nD(new tD)},e})(),iD=(function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var h in u)Object.prototype.hasOwnProperty.call(u,h)&&(o[h]=u[h])},e(t,i)};return function(t,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");e(t,i);function o(){this.constructor=t}t.prototype=i===null?Object.create(i):(o.prototype=i.prototype,new o)}})(),Wr=(function(e){iD(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t})(Ii),sD=(function(){function e(t,i){this.logger=i,this.fps=Wr.SCAN_DEFAULT_FPS,t?(t.fps&&(this.fps=t.fps),this.disableFlip=t.disableFlip===!0,this.qrbox=t.qrbox,this.aspectRatio=t.aspectRatio,this.videoConstraints=t.videoConstraints):this.disableFlip=Wr.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?_C.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!$i(this.qrbox)},e.create=function(t,i){return new e(t,i)},e})(),Ww=(function(){function e(t,i){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.elementId=t,this.verbose=!1;var o;typeof i=="boolean"?this.verbose=i===!0:i&&(o=i,this.verbose=o.verbose===!0,o.experimentalFeatures),this.logger=new IC(this.verbose),this.qrcode=new q_(this.getSupportedFormats(i),this.getUseBarCodeDetectorIfSupported(o),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=rD.create()}return e.prototype.start=function(t,i,o,u){var h=this;if(!t)throw"cameraIdOrConfig is required";if(!o||typeof o!="function")throw"qrCodeSuccessCallback is required and should be a function.";var p;u?p=u:p=this.verbose?this.logger.log:function(){};var x=sD.create(i,this.logger);this.clearElement();var w=!1;x.videoConstraints&&(x.isMediaStreamConstraintsValid()?w=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var b=w,E=document.getElementById(this.elementId);E.clientWidth?E.clientWidth:Wr.DEFAULT_WIDTH,E.style.position="relative",this.shouldScan=!0,this.element=E;var S=this,R=this.stateManagerProxy.startTransition(bn.SCANNING);return new Promise(function(_,D){var L=b?x.videoConstraints:S.createVideoConstraints(t);if(!L){R.cancel(),D("videoConstraints should be defined");return}var P={};(!b||x.aspectRatio)&&(P.aspectRatio=x.aspectRatio);var Y={onRenderSurfaceReady:function(j,U){S.setupUi(j,U,x),S.isScanning=!0,S.foreverScan(x,o,p)}};K_.failIfNotSupported().then(function(j){j.create(L).then(function(U){return U.render(h.element,P,Y).then(function(V){S.renderedCamera=V,R.execute(),_(null)}).catch(function(V){R.cancel(),D(V)})}).catch(function(U){R.cancel(),D(dl.errorGettingUserMedia(U))})}).catch(function(j){R.cancel(),D(dl.cameraStreamingNotSupported())})})},e.prototype.pause=function(t){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(bn.PAUSED),this.showPausedState(),($i(t)||t!==!0)&&(t=!1),t&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var t=this,i=function(){t.stateManagerProxy.directTransition(bn.SCANNING),t.hidePausedState()};if(!this.renderedCamera.isPaused()){i();return}this.renderedCamera.resume(function(){i()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var t=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var i=this.stateManagerProxy.startTransition(bn.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var o=function(){if(t.element){var h=document.getElementById(Wr.SHADED_REGION_ELEMENT_ID);h&&t.element.removeChild(h)}},u=this;return this.renderedCamera.close().then(function(){return u.renderedCamera=null,u.element&&(u.element.removeChild(u.canvasElement),u.canvasElement=null),o(),u.qrRegion&&(u.qrRegion=null),u.context&&(u.context=null),i.execute(),u.hidePausedState(),u.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(t,i){return this.scanFileV2(t,i).then(function(o){return o.decodedText})},e.prototype.scanFileV2=function(t,i){var o=this;if(!t||!(t instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if($i(i)&&(i=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(u,h){o.possiblyCloseLastScanImageFile(),o.clearElement(),o.lastScanImageFile=URL.createObjectURL(t);var p=new Image;p.onload=function(){var x=p.width,w=p.height,b=document.getElementById(o.elementId),E=b.clientWidth?b.clientWidth:Wr.DEFAULT_WIDTH,S=Math.max(b.clientHeight?b.clientHeight:w,Wr.FILE_SCAN_MIN_HEIGHT),R=o.computeCanvasDrawConfig(x,w,E,S);if(i){var _=o.createCanvasElement(E,S,"qr-canvas-visible");_.style.display="inline-block",b.appendChild(_);var D=_.getContext("2d");if(!D)throw"Unable to get 2d context from canvas";D.canvas.width=E,D.canvas.height=S,D.drawImage(p,0,0,x,w,R.x,R.y,R.width,R.height)}var L=Wr.FILE_SCAN_HIDDEN_CANVAS_PADDING,P=Math.max(p.width,R.width),Y=Math.max(p.height,R.height),j=P+2*L,U=Y+2*L,V=o.createCanvasElement(j,U);b.appendChild(V);var I=V.getContext("2d");if(!I)throw"Unable to get 2d context from canvas";I.canvas.width=j,I.canvas.height=U,I.drawImage(p,0,0,x,w,L,L,P,Y);try{o.qrcode.decodeRobustlyAsync(V).then(function(X){u(Uw.createFromQrcodeResult(X))}).catch(h)}catch(X){h("QR code parse error, error = ".concat(X))}},p.onerror=h,p.onabort=h,p.onstalled=h,p.onsuspend=h,p.src=URL.createObjectURL(t)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return eD.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(t){if(t){if(!_C.isMediaStreamConstraintsValid(t,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(t)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(t){var i=[Pe.QR_CODE,Pe.AZTEC,Pe.CODABAR,Pe.CODE_39,Pe.CODE_93,Pe.CODE_128,Pe.DATA_MATRIX,Pe.MAXICODE,Pe.ITF,Pe.EAN_13,Pe.EAN_8,Pe.PDF_417,Pe.RSS_14,Pe.RSS_EXPANDED,Pe.UPC_A,Pe.UPC_E,Pe.UPC_EAN_EXTENSION];if(!t||typeof t=="boolean"||!t.formatsToSupport)return i;if(!Array.isArray(t.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(t.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var o=[],u=0,h=t.formatsToSupport;u<h.length;u++){var p=h[u];k_(p)?o.push(p):this.logger.warn("Invalid format: ".concat(p," passed in config, ignoring."))}if(o.length===0)throw"None of formatsToSupport match supported values.";return o},e.prototype.getUseBarCodeDetectorIfSupported=function(t){if($i(t))return!0;if(!$i(t.useBarCodeDetectorIfSupported))return t.useBarCodeDetectorIfSupported!==!1;if($i(t.experimentalFeatures))return!0;var i=t.experimentalFeatures;return $i(i.useBarCodeDetectorIfSupported)?!0:i.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(t,i,o){var u=this,h=o.qrbox;this.validateQrboxConfig(h);var p=this.toQrdimensions(t,i,h),x=function(b){if(b<Wr.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(Wr.MIN_QR_BOX_SIZE,"px.")},w=function(b){return b>t&&(u.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),b=t),b};x(p.width),x(p.height),p.width=w(p.width)},e.prototype.validateQrboxConfig=function(t){if(typeof t!="number"&&typeof t!="function"&&(t.width===void 0||t.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(t,i,o){if(typeof o=="number")return{width:o,height:o};if(typeof o=="function")try{return o(t,i)}catch(u){throw new Error("qrbox config was passed as a function but it failed with unknown error"+u)}return o},e.prototype.setupUi=function(t,i,o){o.isShadedBoxEnabled()&&this.validateQrboxSize(t,i,o);var u=$i(o.qrbox)?{width:t,height:i}:o.qrbox;this.validateQrboxConfig(u);var h=this.toQrdimensions(t,i,u);h.height>i&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var p=o.isShadedBoxEnabled()&&h.height<=i,x={x:0,y:0,width:t,height:i},w=p?this.getShadedRegionBounds(t,i,h):x,b=this.createCanvasElement(w.width,w.height),E={willReadFrequently:!0},S=b.getContext("2d",E);S.canvas.width=w.width,S.canvas.height=w.height,this.element.append(b),p&&this.possiblyInsertShadingElement(this.element,t,i,h),this.createScannerPausedUiElement(this.element),this.qrRegion=w,this.context=S,this.canvasElement=b},e.prototype.createScannerPausedUiElement=function(t){var i=document.createElement("div");i.innerText=dl.scannerPaused(),i.style.display="none",i.style.position="absolute",i.style.top="0px",i.style.zIndex="1",i.style.background="rgba(9, 9, 9, 0.46)",i.style.color="#FFECEC",i.style.textAlign="center",i.style.width="100%",t.appendChild(i),this.scannerPausedUiElement=i},e.prototype.scanContext=function(t,i){var o=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(u){return t(u.text,Uw.createFromQrcodeResult(u)),o.possiblyUpdateShaders(!0),!0}).catch(function(u){o.possiblyUpdateShaders(!1);var h=dl.codeParseError(u);return i(h,MC.createFrom(h)),!1})},e.prototype.foreverScan=function(t,i,o){var u=this;if(this.shouldScan&&this.renderedCamera){var h=this.renderedCamera.getSurface(),p=h.videoWidth/h.clientWidth,x=h.videoHeight/h.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var w=this.qrRegion.width*p,b=this.qrRegion.height*x,E=this.qrRegion.x*p,S=this.qrRegion.y*x;this.context.drawImage(h,E,S,w,b,0,0,this.qrRegion.width,this.qrRegion.height);var R=function(){u.foreverScanTimeout=setTimeout(function(){u.foreverScan(t,i,o)},u.getTimeoutFps(t.fps))};this.scanContext(i,o).then(function(_){!_&&t.disableFlip!==!0?(u.context.translate(u.context.canvas.width,0),u.context.scale(-1,1),u.scanContext(i,o).finally(function(){R()})):R()}).catch(function(_){u.logger.logError("Error happend while scanning context",_),R()})}},e.prototype.createVideoConstraints=function(t){if(typeof t=="string")return{deviceId:{exact:t}};if(typeof t=="object"){var i="facingMode",o="deviceId",u={user:!0,environment:!0},h="exact",p=function(D){if(D in u)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(D,"'")},x=Object.keys(t);if(x.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(x.length," keys");var w=Object.keys(t)[0];if(w!==i&&w!==o)throw"Only '".concat(i,"' and '").concat(o,"' ")+" are supported for 'cameraIdOrConfig'";if(w===i){var b=t.facingMode;if(typeof b=="string"){if(p(b))return{facingMode:b}}else if(typeof b=="object")if(h in b){if(p(b["".concat(h)]))return{facingMode:{exact:b["".concat(h)]}}}else throw"'facingMode' should be string or object with"+" ".concat(h," as key.");else{var E=typeof b;throw"Invalid type of 'facingMode' = ".concat(E)}}else{var S=t.deviceId;if(typeof S=="string")return{deviceId:S};if(typeof S=="object"){if(h in S)return{deviceId:{exact:S["".concat(h)]}};throw"'deviceId' should be string or object with"+" ".concat(h," as key.")}else{var R=typeof S;throw"Invalid type of 'deviceId' = ".concat(R)}}}var _=typeof t;throw"Invalid type of 'cameraIdOrConfig' = ".concat(_)},e.prototype.computeCanvasDrawConfig=function(t,i,o,u){if(t<=o&&i<=u){var h=(o-t)/2,p=(u-i)/2;return{x:h,y:p,width:t,height:i}}else{var x=t,w=i;return t>o&&(i=o/t*i,t=o),i>u&&(t=u/i*t,i=u),this.logger.log("Image downsampled from "+"".concat(x,"X").concat(w)+" to ".concat(t,"X").concat(i,".")),this.computeCanvasDrawConfig(t,i,o,u)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var t=document.getElementById(this.elementId);t&&(t.innerHTML="")},e.prototype.possiblyUpdateShaders=function(t){this.qrMatch!==t&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(i){i.style.backgroundColor=t?Wr.BORDER_SHADER_MATCH_COLOR:Wr.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=t)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(t,i,o){var u=t,h=i,p=document.createElement("canvas");return p.style.width="".concat(u,"px"),p.style.height="".concat(h,"px"),p.style.display="none",p.id=$i(o)?"qr-canvas":o,p},e.prototype.getShadedRegionBounds=function(t,i,o){if(o.width>t||o.height>i)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(t-o.width)/2,y:(i-o.height)/2,width:o.width,height:o.height}},e.prototype.possiblyInsertShadingElement=function(t,i,o,u){if(!(i-u.width<1||o-u.height<1)){var h=document.createElement("div");h.style.position="absolute";var p=(i-u.width)/2,x=(o-u.height)/2;if(h.style.borderLeft="".concat(p,"px solid rgba(0, 0, 0, 0.48)"),h.style.borderRight="".concat(p,"px solid rgba(0, 0, 0, 0.48)"),h.style.borderTop="".concat(x,"px solid rgba(0, 0, 0, 0.48)"),h.style.borderBottom="".concat(x,"px solid rgba(0, 0, 0, 0.48)"),h.style.boxSizing="border-box",h.style.top="0px",h.style.bottom="0px",h.style.left="0px",h.style.right="0px",h.id="".concat(Wr.SHADED_REGION_ELEMENT_ID),i-u.width<11||o-u.height<11)this.hasBorderShaders=!1;else{var w=5,b=40;this.insertShaderBorders(h,b,w,-w,null,0,!0),this.insertShaderBorders(h,b,w,-w,null,0,!1),this.insertShaderBorders(h,b,w,null,-w,0,!0),this.insertShaderBorders(h,b,w,null,-w,0,!1),this.insertShaderBorders(h,w,b+w,-w,null,-w,!0),this.insertShaderBorders(h,w,b+w,null,-w,-w,!0),this.insertShaderBorders(h,w,b+w,-w,null,-w,!1),this.insertShaderBorders(h,w,b+w,null,-w,-w,!1),this.hasBorderShaders=!0}t.append(h)}},e.prototype.insertShaderBorders=function(t,i,o,u,h,p,x){var w=document.createElement("div");w.style.position="absolute",w.style.backgroundColor=Wr.BORDER_SHADER_DEFAULT_COLOR,w.style.width="".concat(i,"px"),w.style.height="".concat(o,"px"),u!==null&&(w.style.top="".concat(u,"px")),h!==null&&(w.style.bottom="".concat(h,"px")),x?w.style.left="".concat(p,"px"):w.style.right="".concat(p,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(w),t.appendChild(w)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(t){return 1e3/t},e})(),cp="data:image/svg+xml;base64,",aD=cp+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",oD=cp+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",Qw=cp+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",lD="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",Zw=(function(){function e(){}return e.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},e})(),cD=(function(){function e(){this.data=Zw.createDefault();var t=localStorage.getItem(e.LOCAL_STORAGE_KEY);t?this.data=JSON.parse(t):this.reset()}return e.prototype.hasCameraPermissions=function(){return this.data.hasPermission},e.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},e.prototype.setHasPermission=function(t){this.data.hasPermission=t,this.flush()},e.prototype.setLastUsedCameraId=function(t){this.data.lastUsedCameraId=t,this.flush()},e.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},e.prototype.reset=function(){this.data=Zw.createDefault(),this.flush()},e.prototype.flush=function(){localStorage.setItem(e.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},e.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",e})(),uD=(function(){function e(){this.infoDiv=document.createElement("div")}return e.prototype.renderInto=function(t){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=zw.poweredBy();var i=document.createElement("a");i.innerText="ScanApp",i.href="https://scanapp.org",i.target="new",i.style.color="white",this.infoDiv.appendChild(i);var o=document.createElement("br"),u=document.createElement("br");this.infoDiv.appendChild(o),this.infoDiv.appendChild(u);var h=document.createElement("a");h.innerText=zw.reportIssues(),h.href="https://github.com/mebjas/html5-qrcode/issues",h.target="new",h.style.color="white",this.infoDiv.appendChild(h),t.appendChild(this.infoDiv)},e.prototype.show=function(){this.infoDiv.style.display="block"},e.prototype.hide=function(){this.infoDiv.style.display="none"},e})(),dD=(function(){function e(t,i){this.isShowingInfoIcon=!0,this.onTapIn=t,this.onTapOut=i,this.infoIcon=document.createElement("img")}return e.prototype.renderInto=function(t){var i=this;this.infoIcon.alt="Info icon",this.infoIcon.src=Qw,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(o){return i.onHoverIn()},this.infoIcon.onmouseout=function(o){return i.onHoverOut()},this.infoIcon.onclick=function(o){return i.onClick()},t.appendChild(this.infoIcon)},e.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},e.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},e.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src=lD,this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=Qw,this.infoIcon.style.opacity="0.6")},e})(),hD=(function(){function e(){var t=this;this.infoDiv=new uD,this.infoIcon=new dD(function(){t.infoDiv.show()},function(){t.infoDiv.hide()})}return e.prototype.renderInto=function(t){this.infoDiv.renderInto(t),this.infoIcon.renderInto(t)},e})(),fD=function(e,t,i,o){function u(h){return h instanceof i?h:new i(function(p){p(h)})}return new(i||(i=Promise))(function(h,p){function x(E){try{b(o.next(E))}catch(S){p(S)}}function w(E){try{b(o.throw(E))}catch(S){p(S)}}function b(E){E.done?h(E.value):u(E.value).then(x,w)}b((o=o.apply(e,t||[])).next())})},mD=function(e,t){var i={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},o,u,h,p;return p={next:x(0),throw:x(1),return:x(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function x(b){return function(E){return w([b,E])}}function w(b){if(o)throw new TypeError("Generator is already executing.");for(;p&&(p=0,b[0]&&(i=0)),i;)try{if(o=1,u&&(h=b[0]&2?u.return:b[0]?u.throw||((h=u.return)&&h.call(u),0):u.next)&&!(h=h.call(u,b[1])).done)return h;switch(u=0,h&&(b=[b[0]&2,h.value]),b[0]){case 0:case 1:h=b;break;case 4:return i.label++,{value:b[1],done:!1};case 5:i.label++,u=b[1],b=[0];continue;case 7:b=i.ops.pop(),i.trys.pop();continue;default:if(h=i.trys,!(h=h.length>0&&h[h.length-1])&&(b[0]===6||b[0]===2)){i=0;continue}if(b[0]===3&&(!h||b[1]>h[0]&&b[1]<h[3])){i.label=b[1];break}if(b[0]===6&&i.label<h[1]){i.label=h[1],h=b;break}if(h&&i.label<h[2]){i.label=h[2],i.ops.push(b);break}h[2]&&i.ops.pop(),i.trys.pop();continue}b=t.call(e,i)}catch(E){b=[6,E],u=0}finally{o=h=0}if(b[0]&5)throw b[1];return{value:b[0]?b[1]:void 0,done:!0}}},Kw=(function(){function e(){}return e.hasPermissions=function(){return fD(this,void 0,void 0,function(){var t,i,o,u;return mD(this,function(h){switch(h.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(t=h.sent(),i=0,o=t;i<o.length;i++)if(u=o[i],u.kind==="videoinput"&&u.label)return[2,!0];return[2,!1]}})})},e})(),ba=(function(){function e(t){this.supportedScanTypes=this.validateAndReturnScanTypes(t)}return e.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},e.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},e.prototype.isCameraScanRequired=function(){for(var t=0,i=this.supportedScanTypes;t<i.length;t++){var o=i[t];if(e.isCameraScanType(o))return!0}return!1},e.isCameraScanType=function(t){return t===Ta.SCAN_TYPE_CAMERA},e.isFileScanType=function(t){return t===Ta.SCAN_TYPE_FILE},e.prototype.validateAndReturnScanTypes=function(t){if(!t||t.length===0)return Ii.DEFAULT_SUPPORTED_SCAN_TYPE;var i=Ii.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(t.length>i)throw"Max ".concat(i," values expected for ")+"supportedScanTypes";for(var o=0,u=t;o<u.length;o++){var h=u[o];if(!Ii.DEFAULT_SUPPORTED_SCAN_TYPE.includes(h))throw"Unsupported scan type ".concat(h)}return t},e})(),Kr=(function(){function e(){}return e.ALL_ELEMENT_CLASS="html5-qrcode-element",e.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",e.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",e.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",e.TORCH_BUTTON_ID="html5-qrcode-button-torch",e.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",e.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",e.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",e.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",e.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",e.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",e})(),Ts=(function(){function e(){}return e.createElement=function(t,i){var o=document.createElement(t);return o.id=i,o.classList.add(Kr.ALL_ELEMENT_CLASS),t==="button"&&o.setAttribute("type","button"),o},e})(),jC=function(e,t,i,o){function u(h){return h instanceof i?h:new i(function(p){p(h)})}return new(i||(i=Promise))(function(h,p){function x(E){try{b(o.next(E))}catch(S){p(S)}}function w(E){try{b(o.throw(E))}catch(S){p(S)}}function b(E){E.done?h(E.value):u(E.value).then(x,w)}b((o=o.apply(e,t||[])).next())})},LC=function(e,t){var i={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},o,u,h,p;return p={next:x(0),throw:x(1),return:x(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function x(b){return function(E){return w([b,E])}}function w(b){if(o)throw new TypeError("Generator is already executing.");for(;p&&(p=0,b[0]&&(i=0)),i;)try{if(o=1,u&&(h=b[0]&2?u.return:b[0]?u.throw||((h=u.return)&&h.call(u),0):u.next)&&!(h=h.call(u,b[1])).done)return h;switch(u=0,h&&(b=[b[0]&2,h.value]),b[0]){case 0:case 1:h=b;break;case 4:return i.label++,{value:b[1],done:!1};case 5:i.label++,u=b[1],b=[0];continue;case 7:b=i.ops.pop(),i.trys.pop();continue;default:if(h=i.trys,!(h=h.length>0&&h[h.length-1])&&(b[0]===6||b[0]===2)){i=0;continue}if(b[0]===3&&(!h||b[1]>h[0]&&b[1]<h[3])){i.label=b[1];break}if(b[0]===6&&i.label<h[1]){i.label=h[1],h=b;break}if(h&&i.label<h[2]){i.label=h[2],i.ops.push(b);break}h[2]&&i.ops.pop(),i.trys.pop();continue}b=t.call(e,i)}catch(E){b=[6,E],u=0}finally{o=h=0}if(b[0]&5)throw b[1];return{value:b[0]?b[1]:void 0,done:!0}}},$w=(function(){function e(t,i,o){this.isTorchOn=!1,this.torchCapability=t,this.buttonController=i,this.onTorchActionFailureCallback=o}return e.prototype.isTorchEnabled=function(){return this.isTorchOn},e.prototype.flipState=function(){return jC(this,void 0,void 0,function(){var t,i;return LC(this,function(o){switch(o.label){case 0:this.buttonController.disable(),t=!this.isTorchOn,o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.torchCapability.apply(t)];case 2:return o.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),t),[3,4];case 3:return i=o.sent(),this.propagateFailure(t,i),this.buttonController.enable(),[3,4];case 4:return[2]}})})},e.prototype.updateUiBasedOnLatestSettings=function(t,i){t===i?(this.buttonController.setText(i?Pt.torchOffButton():Pt.torchOnButton()),this.isTorchOn=i):this.propagateFailure(i),this.buttonController.enable()},e.prototype.propagateFailure=function(t,i){var o=t?Pt.torchOnFailedMessage():Pt.torchOffFailedMessage();i&&(o+="; Error = "+i),this.onTorchActionFailureCallback(o)},e.prototype.reset=function(){this.isTorchOn=!1},e})(),gD=(function(){function e(t,i){this.onTorchActionFailureCallback=i,this.torchButton=Ts.createElement("button",Kr.TORCH_BUTTON_ID),this.torchController=new $w(t,this,i)}return e.prototype.render=function(t,i){var o=this;this.torchButton.innerText=Pt.torchOnButton(),this.torchButton.style.display=i.display,this.torchButton.style.marginLeft=i.marginLeft;var u=this;this.torchButton.addEventListener("click",function(h){return jC(o,void 0,void 0,function(){return LC(this,function(p){switch(p.label){case 0:return[4,u.torchController.flipState()];case 1:return p.sent(),u.torchController.isTorchEnabled()?(u.torchButton.classList.remove(Kr.TORCH_BUTTON_CLASS_TORCH_OFF),u.torchButton.classList.add(Kr.TORCH_BUTTON_CLASS_TORCH_ON)):(u.torchButton.classList.remove(Kr.TORCH_BUTTON_CLASS_TORCH_ON),u.torchButton.classList.add(Kr.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),t.appendChild(this.torchButton)},e.prototype.updateTorchCapability=function(t){this.torchController=new $w(t,this,this.onTorchActionFailureCallback)},e.prototype.getTorchButton=function(){return this.torchButton},e.prototype.hide=function(){this.torchButton.style.display="none"},e.prototype.show=function(){this.torchButton.style.display="inline-block"},e.prototype.disable=function(){this.torchButton.disabled=!0},e.prototype.enable=function(){this.torchButton.disabled=!1},e.prototype.setText=function(t){this.torchButton.innerText=t},e.prototype.reset=function(){this.torchButton.innerText=Pt.torchOnButton(),this.torchController.reset()},e.create=function(t,i,o,u){var h=new e(i,u);return h.render(t,o),h},e})(),pD=(function(){function e(t,i,o){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=i?"block":"none",t.appendChild(this.fileBasedScanRegion);var u=document.createElement("label");u.setAttribute("for",this.getFileScanInputId()),u.style.display="inline-block",this.fileBasedScanRegion.appendChild(u),this.fileSelectionButton=Ts.createElement("button",Kr.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(x){u.click()}),u.append(this.fileSelectionButton),this.fileScanInput=Ts.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",u.appendChild(this.fileScanInput);var h=this;this.fileScanInput.addEventListener("change",function(x){if(!(x==null||x.target==null)){var w=x.target;if(!(w.files&&w.files.length===0)){var b=w.files,E=b[0],S=E.name;h.setImageNameToButton(S),o(E)}}});var p=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(p),this.fileBasedScanRegion.addEventListener("dragenter",function(x){h.fileBasedScanRegion.style.border=h.fileBasedScanRegionActiveBorder(),x.stopPropagation(),x.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(x){h.fileBasedScanRegion.style.border=h.fileBasedScanRegionDefaultBorder(),x.stopPropagation(),x.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(x){h.fileBasedScanRegion.style.border=h.fileBasedScanRegionActiveBorder(),x.stopPropagation(),x.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(x){x.stopPropagation(),x.preventDefault(),h.fileBasedScanRegion.style.border=h.fileBasedScanRegionDefaultBorder();var w=x.dataTransfer;if(w){var b=w.files;if(!b||b.length===0)return;for(var E=!1,S=0;S<b.length;++S){var R=b.item(S);if(R){var _=/image.*/;if(R.type.match(_)){E=!0;var D=R.name;h.setImageNameToButton(D),o(R),p.innerText=Pt.dragAndDropMessage();break}}}E||(p.innerText=Pt.dragAndDropMessageOnlyImages())}})}return e.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},e.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},e.prototype.isShowing=function(){return this.fileBasedScanRegion.style.display==="block"},e.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},e.prototype.createFileBasedScanRegion=function(){var t=document.createElement("div");return t.style.textAlign="center",t.style.margin="auto",t.style.width="80%",t.style.maxWidth="600px",t.style.border=this.fileBasedScanRegionDefaultBorder(),t.style.padding="10px",t.style.marginBottom="10px",t},e.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},e.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},e.prototype.createDragAndDropMessage=function(){var t=document.createElement("div");return t.innerText=Pt.dragAndDropMessage(),t.style.fontWeight="400",t},e.prototype.setImageNameToButton=function(t){var i=20;if(t.length>i){var o=t.substring(0,8),u=t.length,h=t.substring(u-8,u);t="".concat(o,"....").concat(h)}var p=Pt.fileSelectionChooseAnother()+" - "+t;this.fileSelectionButton.innerText=p},e.prototype.setInitialValueToButton=function(){var t=Pt.fileSelectionChooseImage()+" - "+Pt.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=t},e.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},e.create=function(t,i,o){var u=new e(t,i,o);return u},e})(),yD=(function(){function e(t){this.selectElement=Ts.createElement("select",Kr.CAMERA_SELECTION_SELECT_ID),this.cameras=t,this.options=[]}return e.prototype.render=function(t){var i=document.createElement("span");i.style.marginRight="10px";var o=this.cameras.length;if(o===0)throw new Error("No cameras found");if(o===1)i.style.display="none";else{var u=Pt.selectCamera();i.innerText="".concat(u," (").concat(this.cameras.length,")  ")}for(var h=1,p=0,x=this.cameras;p<x.length;p++){var w=x[p],b=w.id,E=w.label==null?b:w.label;(!E||E==="")&&(E=[Pt.anonymousCameraPrefix(),h++].join(" "));var S=document.createElement("option");S.value=b,S.innerText=E,this.options.push(S),this.selectElement.appendChild(S)}i.appendChild(this.selectElement),t.appendChild(i)},e.prototype.disable=function(){this.selectElement.disabled=!0},e.prototype.isDisabled=function(){return this.selectElement.disabled===!0},e.prototype.enable=function(){this.selectElement.disabled=!1},e.prototype.getValue=function(){return this.selectElement.value},e.prototype.hasValue=function(t){for(var i=0,o=this.options;i<o.length;i++){var u=o[i];if(u.value===t)return!0}return!1},e.prototype.setValue=function(t){if(!this.hasValue(t))throw new Error("".concat(t," is not present in the camera list."));this.selectElement.value=t},e.prototype.hasSingleItem=function(){return this.cameras.length===1},e.prototype.numCameras=function(){return this.cameras.length},e.create=function(t,i){var o=new e(i);return o.render(t),o},e})(),bD=(function(){function e(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=Ts.createElement("input",Kr.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return e.prototype.render=function(t,i){this.zoomElementContainer.style.display=i?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",t.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var o=Pt.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(o),this.rangeText.style.marginRight="10px";var u=this;this.rangeInput.addEventListener("input",function(){return u.onValueChange()}),this.rangeInput.addEventListener("change",function(){return u.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},e.prototype.onValueChange=function(){var t=Pt.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(t),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},e.prototype.setValues=function(t,i,o,u){this.rangeInput.min=t.toString(),this.rangeInput.max=i.toString(),this.rangeInput.step=u.toString(),this.rangeInput.value=o.toString(),this.onValueChange()},e.prototype.show=function(){this.zoomElementContainer.style.display="block"},e.prototype.hide=function(){this.zoomElementContainer.style.display="none"},e.prototype.setOnCameraZoomValueChangeCallback=function(t){this.onChangeCallback=t},e.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},e.create=function(t,i){var o=new e;return o.render(t,i),o},e})(),Qr;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(Qr||(Qr={}));function vD(e){return{fps:e.fps,qrbox:e.qrbox,aspectRatio:e.aspectRatio,disableFlip:e.disableFlip,videoConstraints:e.videoConstraints}}function xD(e,t){return{formatsToSupport:e.formatsToSupport,useBarCodeDetectorIfSupported:e.useBarCodeDetectorIfSupported,experimentalFeatures:e.experimentalFeatures,verbose:t}}var wD=(function(){function e(t,i,o){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=t,this.config=this.createConfig(i),this.verbose=o===!0,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.scanTypeSelector=new ba(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new IC(this.verbose),this.persistedDataManager=new cD,i.rememberLastUsedCamera!==!0&&this.persistedDataManager.reset()}return e.prototype.render=function(t,i){var o=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(h,p){if(t)t(h,p);else{if(o.lastMatchFound===h)return;o.lastMatchFound=h,o.setHeaderMessage(Pt.lastMatch(h),Qr.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(h,p){i&&i(h,p)};var u=document.getElementById(this.elementId);if(!u)throw"HTML Element with id=".concat(this.elementId," not found");u.innerHTML="",this.createBasicLayout(u),this.html5Qrcode=new Ww(this.getScanRegionId(),xD(this.config,this.verbose))},e.prototype.pause=function(t){($i(t)||t!==!0)&&(t=!1),this.getHtml5QrcodeOrFail().pause(t)},e.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},e.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},e.prototype.clear=function(){var t=this,i=function(){var o=document.getElementById(t.elementId);o&&(o.innerHTML="",t.resetBasicLayout(o))};return this.html5Qrcode?new Promise(function(o,u){if(!t.html5Qrcode){o();return}t.html5Qrcode.isScanning?t.html5Qrcode.stop().then(function(h){if(!t.html5Qrcode){o();return}t.html5Qrcode.clear(),i(),o()}).catch(function(h){t.verbose&&t.logger.logError("Unable to stop qrcode scanner",h),u(h)}):(t.html5Qrcode.clear(),i(),o())}):Promise.resolve()},e.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},e.prototype.applyVideoConstraints=function(t){return this.getHtml5QrcodeOrFail().applyVideoConstraints(t)},e.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},e.prototype.createConfig=function(t){return t?(t.fps||(t.fps=Ii.SCAN_DEFAULT_FPS),t.rememberLastUsedCamera!==!Ii.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(t.rememberLastUsedCamera=Ii.DEFAULT_REMEMBER_LAST_CAMERA_USED),t.supportedScanTypes||(t.supportedScanTypes=Ii.DEFAULT_SUPPORTED_SCAN_TYPE),t):{fps:Ii.SCAN_DEFAULT_FPS,rememberLastUsedCamera:Ii.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:Ii.DEFAULT_SUPPORTED_SCAN_TYPE}},e.prototype.createBasicLayout=function(t){t.style.position="relative",t.style.padding="0px",t.style.border="1px solid silver",this.createHeader(t);var i=document.createElement("div"),o=this.getScanRegionId();i.id=o,i.style.width="100%",i.style.minHeight="100px",i.style.textAlign="center",t.appendChild(i),ba.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var u=document.createElement("div"),h=this.getDashboardId();u.id=h,u.style.width="100%",t.appendChild(u),this.setupInitialDashboard(u)},e.prototype.resetBasicLayout=function(t){t.style.border="none"},e.prototype.setupInitialDashboard=function(t){this.createSection(t),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},e.prototype.createHeader=function(t){var i=document.createElement("div");i.style.textAlign="left",i.style.margin="0px",t.appendChild(i);var o=new hD;o.renderInto(i);var u=document.createElement("div");u.id=this.getHeaderMessageContainerId(),u.style.display="none",u.style.textAlign="center",u.style.fontSize="14px",u.style.padding="2px 10px",u.style.margin="4px",u.style.borderTop="1px solid #f6f6f6",i.appendChild(u)},e.prototype.createSection=function(t){var i=document.createElement("div");i.id=this.getDashboardSectionId(),i.style.width="100%",i.style.padding="10px 0px 10px 0px",i.style.textAlign="left",t.appendChild(i)},e.prototype.createCameraListUi=function(t,i,o){var u=this;u.showHideScanTypeSwapLink(!1),u.setHeaderMessage(Pt.cameraPermissionRequesting());var h=function(){o||u.createPermissionButton(t,i)};Ww.getCameras().then(function(p){u.persistedDataManager.setHasPermission(!0),u.showHideScanTypeSwapLink(!0),u.resetHeaderMessage(),p&&p.length>0?(t.removeChild(i),u.renderCameraSelection(p)):(u.setHeaderMessage(Pt.noCameraFound(),Qr.STATUS_WARNING),h())}).catch(function(p){u.persistedDataManager.setHasPermission(!1),o?o.disabled=!1:h(),u.setHeaderMessage(p,Qr.STATUS_WARNING),u.showHideScanTypeSwapLink(!0)})},e.prototype.createPermissionButton=function(t,i){var o=this,u=Ts.createElement("button",this.getCameraPermissionButtonId());u.innerText=Pt.cameraPermissionTitle(),u.addEventListener("click",function(){u.disabled=!0,o.createCameraListUi(t,i,u)}),i.appendChild(u)},e.prototype.createPermissionsUi=function(t,i){var o=this;if(ba.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()){Kw.hasPermissions().then(function(u){u?o.createCameraListUi(t,i):(o.persistedDataManager.setHasPermission(!1),o.createPermissionButton(t,i))}).catch(function(u){o.persistedDataManager.setHasPermission(!1),o.createPermissionButton(t,i)});return}this.createPermissionButton(t,i)},e.prototype.createSectionControlPanel=function(){var t=document.getElementById(this.getDashboardSectionId()),i=document.createElement("div");t.appendChild(i);var o=document.createElement("div");o.id=this.getDashboardSectionCameraScanRegionId(),o.style.display=ba.isCameraScanType(this.currentScanType)?"block":"none",i.appendChild(o);var u=document.createElement("div");u.style.textAlign="center",o.appendChild(u),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(o,u),this.renderFileScanUi(i)},e.prototype.renderFileScanUi=function(t){var i=ba.isFileScanType(this.currentScanType),o=this,u=function(h){if(!o.html5Qrcode)throw"html5Qrcode not defined";ba.isFileScanType(o.currentScanType)&&(o.setHeaderMessage(Pt.loadingImage()),o.html5Qrcode.scanFileV2(h,!0).then(function(p){o.resetHeaderMessage(),o.qrCodeSuccessCallback(p.decodedText,p)}).catch(function(p){o.setHeaderMessage(p,Qr.STATUS_WARNING),o.qrCodeErrorCallback(p,MC.createFrom(p))}))};this.fileSelectionUi=pD.create(t,i,u)},e.prototype.renderCameraSelection=function(t){var i=this,o=this,u=document.getElementById(this.getDashboardSectionCameraScanRegionId());u.style.textAlign="center";var h=bD.create(u,!1),p=function(L){var P=L.zoomFeature();if(P.isSupported()){h.setOnCameraZoomValueChangeCallback(function(j){P.apply(j)});var Y=1;i.config.defaultZoomValueIfSupported&&(Y=i.config.defaultZoomValueIfSupported),Y=P_(Y,P.min(),P.max()),h.setValues(P.min(),P.max(),Y,P.step()),h.show()}},x=yD.create(u,t),w=document.createElement("span"),b=Ts.createElement("button",Kr.CAMERA_START_BUTTON_ID);b.innerText=Pt.scanButtonStartScanningText(),w.appendChild(b);var E=Ts.createElement("button",Kr.CAMERA_STOP_BUTTON_ID);E.innerText=Pt.scanButtonStopScanningText(),E.style.display="none",E.disabled=!0,w.appendChild(E);var S,R=function(L){if(!L.torchFeature().isSupported()){S&&S.hide();return}S?S.updateTorchCapability(L.torchFeature()):S=gD.create(w,L.torchFeature(),{display:"none",marginLeft:"5px"},function(P){o.setHeaderMessage(P,Qr.STATUS_WARNING)}),S.show()};u.appendChild(w);var _=function(L){L||(b.style.display="none"),b.innerText=Pt.scanButtonStartScanningText(),b.style.opacity="1",b.disabled=!1,L&&(b.style.display="inline-block")};if(b.addEventListener("click",function(L){b.innerText=Pt.scanButtonScanningStarting(),x.disable(),b.disabled=!0,b.style.opacity="0.5",i.scanTypeSelector.hasMoreThanOneScanType()&&o.showHideScanTypeSwapLink(!1),o.resetHeaderMessage();var P=x.getValue();o.persistedDataManager.setLastUsedCameraId(P),o.html5Qrcode.start(P,vD(o.config),o.qrCodeSuccessCallback,o.qrCodeErrorCallback).then(function(Y){E.disabled=!1,E.style.display="inline-block",_(!1);var j=o.html5Qrcode.getRunningTrackCameraCapabilities();i.config.showTorchButtonIfSupported===!0&&R(j),i.config.showZoomSliderIfSupported===!0&&p(j)}).catch(function(Y){o.showHideScanTypeSwapLink(!0),x.enable(),_(!0),o.setHeaderMessage(Y,Qr.STATUS_WARNING)})}),x.hasSingleItem()&&b.click(),E.addEventListener("click",function(L){if(!o.html5Qrcode)throw"html5Qrcode not defined";E.disabled=!0,o.html5Qrcode.stop().then(function(P){i.scanTypeSelector.hasMoreThanOneScanType()&&o.showHideScanTypeSwapLink(!0),x.enable(),b.disabled=!1,E.style.display="none",b.style.display="inline-block",S&&(S.reset(),S.hide()),h.removeOnCameraZoomValueChangeCallback(),h.hide(),o.insertCameraScanImageToScanRegion()}).catch(function(P){E.disabled=!1,o.setHeaderMessage(P,Qr.STATUS_WARNING)})}),o.persistedDataManager.getLastUsedCameraId()){var D=o.persistedDataManager.getLastUsedCameraId();x.hasValue(D)?(x.setValue(D),b.click()):o.persistedDataManager.resetLastUsedCameraId()}},e.prototype.createSectionSwap=function(){var t=this,i=Pt.textIfCameraScanSelected(),o=Pt.textIfFileScanSelected(),u=document.getElementById(this.getDashboardSectionId()),h=document.createElement("div");h.style.textAlign="center";var p=Ts.createElement("span",this.getDashboardSectionSwapLinkId());p.style.textDecoration="underline",p.style.cursor="pointer",p.innerText=ba.isCameraScanType(this.currentScanType)?i:o,p.addEventListener("click",function(){if(!t.sectionSwapAllowed){t.verbose&&t.logger.logError("Section swap called when not allowed");return}t.resetHeaderMessage(),t.fileSelectionUi.resetValue(),t.sectionSwapAllowed=!1,ba.isCameraScanType(t.currentScanType)?(t.clearScanRegion(),t.getCameraScanRegion().style.display="none",t.fileSelectionUi.show(),p.innerText=o,t.currentScanType=Ta.SCAN_TYPE_FILE,t.insertFileScanImageToScanRegion()):(t.clearScanRegion(),t.getCameraScanRegion().style.display="block",t.fileSelectionUi.hide(),p.innerText=i,t.currentScanType=Ta.SCAN_TYPE_CAMERA,t.insertCameraScanImageToScanRegion(),t.startCameraScanIfPermissionExistsOnSwap()),t.sectionSwapAllowed=!0}),h.appendChild(p),u.appendChild(h)},e.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var t=this,i=this;if(this.persistedDataManager.hasCameraPermissions()){Kw.hasPermissions().then(function(o){if(o){var u=document.getElementById(i.getCameraPermissionButtonId());if(!u)throw t.logger.logError("Permission button not found, fail;"),"Permission button not found";u.click()}else i.persistedDataManager.setHasPermission(!1)}).catch(function(o){i.persistedDataManager.setHasPermission(!1)});return}},e.prototype.resetHeaderMessage=function(){var t=document.getElementById(this.getHeaderMessageContainerId());t.style.display="none"},e.prototype.setHeaderMessage=function(t,i){i||(i=Qr.STATUS_DEFAULT);var o=this.getHeaderMessageDiv();switch(o.innerText=t,o.style.display="block",i){case Qr.STATUS_SUCCESS:o.style.background="rgba(106, 175, 80, 0.26)",o.style.color="#477735";break;case Qr.STATUS_WARNING:o.style.background="rgba(203, 36, 49, 0.14)",o.style.color="#cb2431";break;case Qr.STATUS_DEFAULT:default:o.style.background="rgba(0, 0, 0, 0)",o.style.color="rgb(17, 17, 17)";break}},e.prototype.showHideScanTypeSwapLink=function(t){this.scanTypeSelector.hasMoreThanOneScanType()&&(t!==!0&&(t=!1),this.sectionSwapAllowed=t,this.getDashboardSectionSwapLink().style.display=t?"inline-block":"none")},e.prototype.insertCameraScanImageToScanRegion=function(){var t=this,i=document.getElementById(this.getScanRegionId());if(this.cameraScanImage){i.innerHTML="<br>",i.appendChild(this.cameraScanImage);return}this.cameraScanImage=new Image,this.cameraScanImage.onload=function(o){i.innerHTML="<br>",i.appendChild(t.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=aD,this.cameraScanImage.alt=Pt.cameraScanAltText()},e.prototype.insertFileScanImageToScanRegion=function(){var t=this,i=document.getElementById(this.getScanRegionId());if(this.fileScanImage){i.innerHTML="<br>",i.appendChild(this.fileScanImage);return}this.fileScanImage=new Image,this.fileScanImage.onload=function(o){i.innerHTML="<br>",i.appendChild(t.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=oD,this.fileScanImage.alt=Pt.fileScanAltText()},e.prototype.clearScanRegion=function(){var t=document.getElementById(this.getScanRegionId());t.innerHTML=""},e.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},e.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},e.prototype.getDashboardSectionSwapLinkId=function(){return Kr.SCAN_TYPE_CHANGE_ANCHOR_ID},e.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},e.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},e.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},e.prototype.getCameraPermissionButtonId=function(){return Kr.CAMERA_PERMISSION_BUTTON_ID},e.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},e.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},e.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},e})();function ED({onScan:e,onError:t}){const i=F.useRef(null),[o,u]=F.useState(!1),[h,p]=F.useState(null),[x,w]=F.useState(null);F.useEffect(()=>{if(o&&i.current){const S=new wD("qr-reader",{fps:10,qrbox:{width:250,height:250},aspectRatio:1},!1);return S.render(R=>{p(R),u(!1),je.success("QR Code scanned successfully!"),e&&e(R),S.clear()},R=>{console.log("QR Scan error:",R)}),()=>{S.clear().catch(R=>console.log("Scanner cleanup error:",R))}}},[o,e]);const b=()=>{u(!0),p(null),w(null)},E=()=>{u(!1)};return m.jsxs("div",{className:"flex flex-col items-center gap-4 p-6 bg-white border border-gray-200 rounded-2xl shadow-sm",children:[m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"flex items-center justify-center w-16 h-16 bg-orange-50 rounded-2xl mb-3 mx-auto",children:m.jsx(sv,{className:"text-brand-primary",size:32})}),m.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Scan Order QR Code"}),m.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Position the QR code within the frame to scan"})]}),!o&&!h&&m.jsx("button",{onClick:b,className:"w-full px-6 py-4 bg-brand-primary hover:bg-brand-secondary text-white font-bold rounded-2xl transition-all shadow-lg shadow-orange-100 active:scale-95",children:m.jsxs("div",{className:"flex items-center justify-center gap-2",children:[m.jsx(sv,{size:20}),"Start Scanning"]})}),o&&m.jsxs("div",{className:"w-full",children:[m.jsx("div",{id:"qr-reader",className:"w-full rounded-xl overflow-hidden"}),m.jsx("button",{onClick:E,className:"w-full mt-4 px-6 py-3 bg-red-50 text-red-600 hover:bg-red-100 font-medium rounded-xl transition-colors",children:"Stop Scanning"})]}),h&&m.jsxs("div",{className:"w-full p-4 bg-green-50 border border-green-200 rounded-xl",children:[m.jsxs("div",{className:"flex items-start gap-3",children:[m.jsx(Jc,{className:"text-green-600 flex-shrink-0 mt-0.5",size:20}),m.jsxs("div",{className:"flex-1",children:[m.jsx("p",{className:"font-medium text-green-900",children:"QR Code Scanned"}),m.jsxs("p",{className:"text-sm text-green-700 mt-1 break-all",children:[h.substring(0,50),"..."]})]})]}),m.jsx("button",{onClick:b,className:"w-full mt-3 px-4 py-2 bg-green-600 hover:bg-green-700 text-white font-medium rounded-lg transition-colors",children:"Scan Another"})]}),x&&m.jsx("div",{className:"w-full p-4 bg-red-50 border border-red-200 rounded-xl",children:m.jsxs("div",{className:"flex items-start gap-3",children:[m.jsx(h3,{className:"text-red-600 flex-shrink-0 mt-0.5",size:20}),m.jsxs("div",{className:"flex-1",children:[m.jsx("p",{className:"font-medium text-red-900",children:"Scan Failed"}),m.jsx("p",{className:"text-sm text-red-700 mt-1",children:x})]})]})}),m.jsxs("div",{className:"w-full p-4 bg-gray-50 rounded-xl",children:[m.jsx("p",{className:"text-xs text-gray-600 font-medium mb-2",children:"How to scan:"}),m.jsxs("ul",{className:"text-xs text-gray-600 space-y-1 list-disc list-inside",children:[m.jsx("li",{children:"Allow camera access when prompted"}),m.jsx("li",{children:"Hold the QR code steady within the frame"}),m.jsx("li",{children:"Ensure good lighting for best results"}),m.jsx("li",{children:"The order details will appear automatically"})]})]})]})}function CD(){const[e,t]=F.useState(null),[i,o]=F.useState(!1),u=async x=>{o(!0);try{const w=await dn.get(`/api/orders/qr/${x}`);w.data.success?(t(w.data.data),je.success("Order details loaded successfully!")):(je.error(w.data.message||"Failed to fetch order"),t(null))}catch(w){console.error("QR scan error:",w),je.error(w.response?.data?.message||"Invalid QR code"),t(null)}finally{o(!1)}},h=async x=>{if(e)try{const w=await dn.put(`/api/orders/${e.id}/status?status=${x}`);w.data.success&&(t(w.data.data),je.success(`Order status updated to ${x}`))}catch{je.error("Failed to update order status")}},p=()=>{t(null)};return m.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:m.jsxs("div",{className:"max-w-2xl mx-auto",children:[m.jsxs("div",{className:"text-center mb-8",children:[m.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Order QR Scanner"}),m.jsx("p",{className:"text-gray-600",children:"Scan customer QR codes to verify and process orders"})]}),m.jsxs("div",{className:"grid gap-6",children:[!e&&m.jsx(tn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:m.jsx(ED,{onScan:u})}),i&&m.jsx("div",{className:"flex items-center justify-center p-12",children:m.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-brand-primary border-t-transparent"})}),e&&!i&&m.jsxs(tn.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white border border-gray-200 rounded-2xl shadow-sm overflow-hidden",children:[m.jsx("div",{className:"p-6 bg-green-50 border-b border-green-100",children:m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx(Jc,{className:"text-green-600",size:24}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-lg font-bold text-green-900",children:"Order Verified"}),m.jsxs("p",{className:"text-sm text-green-700",children:["Order #",e.orderNumber]})]})]})}),m.jsxs("div",{className:"p-6 space-y-6",children:[m.jsxs("div",{children:[m.jsxs("h4",{className:"text-sm font-semibold text-gray-700 mb-3 flex items-center gap-2",children:[m.jsx(Mh,{size:18}),"Customer Information"]}),m.jsxs("div",{className:"p-4 bg-gray-50 rounded-xl space-y-2",children:[m.jsxs("div",{className:"flex justify-between text-sm",children:[m.jsx("span",{className:"text-gray-600",children:"Order Type:"}),m.jsx("span",{className:"font-medium text-gray-800",children:e.orderType||"DINE_IN"})]}),e.scheduledTime&&m.jsxs("div",{className:"flex justify-between text-sm",children:[m.jsx("span",{className:"text-gray-600",children:"Scheduled Time:"}),m.jsx("span",{className:"font-medium text-gray-800",children:new Date(e.scheduledTime).toLocaleString()})]})]})]}),e.specialInstructions&&m.jsxs("div",{children:[m.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Special Instructions"}),m.jsx("div",{className:"p-4 bg-blue-50 border border-blue-100 rounded-xl",children:m.jsx("p",{className:"text-sm text-blue-800",children:e.specialInstructions})})]}),m.jsxs("div",{children:[m.jsxs("h4",{className:"text-sm font-semibold text-gray-700 mb-3 flex items-center gap-2",children:[m.jsx(Sa,{size:18}),"Order Items"]}),m.jsx("div",{className:"space-y-2",children:e.orderItems?.map((x,w)=>m.jsxs("div",{className:"flex justify-between p-3 bg-gray-50 rounded-xl",children:[m.jsxs("div",{children:[m.jsxs("p",{className:"font-medium text-gray-800",children:[x.quantity,"x ",x.menuItemName]}),x.notes&&m.jsx("p",{className:"text-xs text-gray-500 mt-1",children:x.notes})]}),m.jsxs("span",{className:"font-semibold text-gray-900",children:["",(x.unitPrice*x.quantity).toFixed(2)]})]},w))}),m.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200 flex justify-between items-center",children:[m.jsx("span",{className:"font-semibold text-gray-800",children:"Total Amount"}),m.jsxs("span",{className:"text-2xl font-bold text-brand-primary",children:["",e.totalAmount]})]})]}),m.jsxs("div",{children:[m.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Update Order Status"}),m.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.status==="PENDING"&&m.jsxs(m.Fragment,{children:[m.jsx(At,{onClick:()=>h("CONFIRMED"),variant:"primary",children:"Confirm Order"}),m.jsx(At,{onClick:()=>h("CANCELLED"),variant:"danger",children:"Cancel"})]}),e.status==="CONFIRMED"&&m.jsx(At,{onClick:()=>h("PREPARING"),variant:"primary",className:"col-span-2",children:"Start Preparing"}),e.status==="PREPARING"&&m.jsx(At,{onClick:()=>h("READY"),variant:"primary",className:"col-span-2",children:"Mark as Ready"}),e.status==="READY"&&m.jsx(At,{onClick:()=>h("COMPLETED"),variant:"primary",className:"col-span-2",children:"Complete Order"})]})]}),m.jsx(At,{onClick:p,variant:"outline",className:"w-full",children:"Scan Another Order"})]})]})]})]})})}const BC=F.createContext(null),mm="bitedash_location_prefs",SD=({children:e})=>{const[t,i]=F.useState({organizationId:null,organizationName:null,officeId:null,officeName:null,cafeteriaId:null,cafeteriaName:null,isConfigured:!1});F.useEffect(()=>{try{const x=localStorage.getItem(mm);if(x){const w=JSON.parse(x);i(w)}}catch(x){console.error("Failed to load location preferences:",x)}},[]),F.useEffect(()=>{if(t.isConfigured)try{localStorage.setItem(mm,JSON.stringify(t))}catch(x){console.error("Failed to save location preferences:",x)}},[t]);const o=x=>{i({...x,isConfigured:!0})},u=()=>{localStorage.removeItem(mm),i({organizationId:null,organizationName:null,officeId:null,officeName:null,cafeteriaId:null,cafeteriaName:null,isConfigured:!1})},h=(x,w)=>{i(b=>({...b,cafeteriaId:x,cafeteriaName:w}))},p=F.useMemo(()=>({preferences:t,setLocation:o,clearLocation:u,updateCafeteria:h,isConfigured:t.isConfigured,cafeteriaId:t.cafeteriaId,cafeteriaName:t.cafeteriaName,officeId:t.officeId,officeName:t.officeName,organizationId:t.organizationId,organizationName:t.organizationName}),[t]);return m.jsx(BC.Provider,{value:p,children:e})},kC=()=>{const e=F.useContext(BC);if(!e)throw new Error("useLocation must be used within LocationProvider");return e},ng={getPromotedItems:async()=>await De.get("/menu/promoted"),getPopularItems:async()=>await De.get("/menu/popular"),searchMenuItems:async e=>await De.get(`/menu/search?keyword=${encodeURIComponent(e)}`),getMenuItemById:async e=>await De.get(`/menu/items/${e}`),getVendorMenuItems:async e=>await De.get(`/menu/vendor/${e}`),getVendorCategories:async(e,t=!0)=>await De.get(`/menu/categories/vendor/${e}?includeItems=${t}`),getCategoryById:async(e,t=!0)=>await De.get(`/menu/categories/${e}?includeItems=${t}`),getVendorRating:async e=>await De.get(`/orders/vendor/${e}/rating`)},AD=()=>{const e=nr(),[t,i]=F.useState(""),u=(()=>{try{const S=localStorage.getItem("bitedash_location_prefs");if(S)return JSON.parse(S).cafeteriaId||null}catch(S){console.error("Failed to load location:",S)}return null})(),{data:h,isLoading:p,error:x}=un({queryKey:["vendors",u],queryFn:async()=>{if(!u)return[];try{const R=await(await fetch(`http://localhost:8089/organisation/vendors/stalls/cafeteria/${u}`,{headers:{Authorization:`Bearer ${localStorage.getItem("hb_token")}`}})).json();return R.success?R.data:[]}catch{return je.error("Failed to fetch vendors"),[]}},enabled:!!u,retry:1,refetchOnWindowFocus:!1}),{data:w}=un({queryKey:["vendor-ratings",h],queryFn:async()=>{if(!h||h.length===0)return{};const S=h.map(async _=>{try{const D=await ng.getVendorRating(_.ownerUserId);return{vendorId:_.id,rating:D}}catch{return{vendorId:_.id,rating:null}}});return(await Promise.all(S)).reduce((_,{vendorId:D,rating:L})=>(_[D]=L,_),{})},enabled:!!h&&h.length>0,retry:1}),b=h?.filter(S=>S.name.toLowerCase().includes(t.toLowerCase())||S.stallNumber?.toLowerCase().includes(t.toLowerCase()))||[],E=S=>{e(`/employee/vendor/${S.ownerUserId}`)};return p?m.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:m.jsxs("div",{className:"text-center",children:[m.jsx(Nn,{className:"animate-spin text-brand-primary mx-auto mb-4",size:40}),m.jsx("p",{className:"text-gray-600",children:"Loading vendors..."})]})}):x?m.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:m.jsxs("div",{className:"text-center max-w-md",children:[m.jsx($c,{className:"text-red-500 mx-auto mb-4",size:48}),m.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Failed to Load Vendors"}),m.jsx("p",{className:"text-gray-600 mb-4",children:x}),m.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-brand-primary text-white rounded-lg hover:bg-brand-secondary transition-colors",children:"Try Again"})]})}):m.jsxs("div",{className:"space-y-6",children:[m.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-4",children:m.jsxs("div",{className:"relative",children:[m.jsx(Sg,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:20}),m.jsx("input",{type:"text",placeholder:"Search vendors by name or stall number...",value:t,onChange:S=>i(S.target.value),className:"w-full pl-12 pr-4 py-3 rounded-xl border border-gray-300 focus:border-brand-primary focus:ring-2 focus:ring-orange-200 outline-none transition-all"})]})}),m.jsx("div",{className:"flex items-center justify-between",children:m.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:["Available Vendors (",b.length,")"]})}),b.length===0?m.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-12 text-center",children:[m.jsx(po,{className:"text-gray-400 mx-auto mb-4",size:48}),m.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No Vendors Found"}),m.jsx("p",{className:"text-gray-600",children:t?"Try adjusting your search terms":"No vendors available in your cafeteria at the moment"})]}):m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:b.map(S=>{const R=w?.[S.id];return m.jsxs("div",{onClick:()=>E(S),className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6 hover:shadow-lg hover:border-brand-primary transition-all cursor-pointer group",children:[m.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-brand-primary to-brand-secondary rounded-2xl flex items-center justify-center mb-4 group-hover:scale-110 transition-transform",children:m.jsx(po,{className:"text-white",size:32})}),m.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2 group-hover:text-brand-primary transition-colors",children:S.name}),m.jsxs("div",{className:"space-y-2 mb-4",children:[S.stallNumber&&m.jsxs("div",{className:"flex items-center text-gray-600 text-sm",children:[m.jsx(br,{size:16,className:"mr-2 text-gray-400"}),m.jsxs("span",{children:["Stall #",S.stallNumber]})]}),S.contactPerson&&m.jsxs("div",{className:"flex items-center text-gray-600 text-sm",children:[m.jsx(Mh,{size:16,className:"mr-2 text-gray-400"}),m.jsx("span",{children:S.contactPerson})]}),m.jsx("div",{className:"flex items-center",children:R?m.jsxs(m.Fragment,{children:[m.jsx(Pc,{className:"text-yellow-400 fill-yellow-400 mr-1",size:16}),m.jsx("span",{className:"text-gray-900 font-semibold",children:R.averageRating?.toFixed(1)||"N/A"}),m.jsxs("span",{className:"text-gray-500 text-sm ml-2",children:["(",R.totalOrders||0," orders)"]})]}):m.jsx("span",{className:"text-gray-500 text-sm",children:"No ratings yet"})})]}),m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold ${S.isActive?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600"}`,children:S.isActive?"Open":"Closed"}),m.jsx("button",{className:"text-brand-primary font-semibold text-sm group-hover:underline",children:"View Menu "})]})]},S.id)})})]})},ND=(e,t={})=>{const{threshold:i=80,resistance:o=2.5,enabled:u=!0}=t,[h,p]=F.useState(!1),[x,w]=F.useState(0),b=F.useRef(null),E=F.useRef(0),S=F.useRef(0),R=F.useRef(!1);return F.useEffect(()=>{if(!u)return;const _=b.current;if(!_||!("ontouchstart"in window))return;const D=Y=>{_.scrollTop===0&&(E.current=Y.touches[0].clientY,R.current=!0)},L=Y=>{if(!R.current||h)return;S.current=Y.touches[0].clientY;const j=S.current-E.current;if(j>0){Y.preventDefault();const U=j/o;w(U)}},P=async()=>{if(R.current)if(R.current=!1,x>=i){p(!0),w(i);try{await e()}finally{p(!1),w(0)}}else w(0)};return _.addEventListener("touchstart",D,{passive:!0}),_.addEventListener("touchmove",L,{passive:!1}),_.addEventListener("touchend",P),()=>{_.removeEventListener("touchstart",D),_.removeEventListener("touchmove",L),_.removeEventListener("touchend",P)}},[u,h,x,i,o,e]),{containerRef:b,isRefreshing:h,pullDistance:x,threshold:i}},TD=({isRefreshing:e,pullDistance:t,threshold:i})=>{const o=t/i*360;return m.jsxs("div",{className:"fixed top-0 left-1/2 -translate-x-1/2 z-50 transition-opacity duration-200",style:{opacity:t>0?1:0,transform:`translate(-50%, ${Math.min(t,i)}px)`},children:[m.jsx("div",{className:"bg-white rounded-full shadow-lg p-3 border border-gray-200",children:m.jsx(Cg,{size:24,className:`text-brand-primary ${e?"animate-spin":""}`,style:{transform:e?void 0:`rotate(${o}deg)`}})}),t>=i&&!e&&m.jsx("div",{className:"absolute -bottom-8 left-1/2 -translate-x-1/2 whitespace-nowrap",children:m.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Release to refresh"})})]})},RD=()=>{const{user:e}=Ds(),{cafeteriaName:t,officeName:i,isConfigured:o}=kC(),u=nr(),h=_s(),p=async()=>{try{await h.invalidateQueries(["vendors"]),await h.invalidateQueries(["vendor-ratings"]),je.success("Refreshed!")}catch{je.error("Failed to refresh")}},{containerRef:x,isRefreshing:w,pullDistance:b,threshold:E}=ND(p,{enabled:!0});return en.useEffect(()=>{o||u("/employee/welcome",{replace:!0})},[o,u]),m.jsxs("div",{ref:x,className:"min-h-screen bg-gray-50 overflow-auto",children:[m.jsx(TD,{isRefreshing:w,pullDistance:b,threshold:E}),m.jsx("div",{className:"bg-gradient-to-r from-brand-primary to-brand-secondary text-white py-8 md:py-12 px-4 md:px-6",children:m.jsxs("div",{className:"max-w-7xl mx-auto",children:[m.jsxs("h1",{className:"text-2xl md:text-4xl font-bold mb-2",children:["Welcome, ",e?.username||"Employee","!"]}),m.jsx("p",{className:"text-base md:text-xl opacity-90 mb-4",children:"Order delicious food from your workplace cafeteria"}),t&&m.jsxs("div",{className:"flex items-center justify-between bg-white/10 backdrop-blur-sm rounded-2xl p-4 mt-4",children:[m.jsxs("div",{className:"flex items-center space-x-3",children:[m.jsx(br,{size:20,className:"flex-shrink-0"}),m.jsxs("div",{children:[m.jsx("p",{className:"text-sm opacity-75",children:"Current Location"}),m.jsx("p",{className:"font-semibold",children:t}),i&&m.jsx("p",{className:"text-xs opacity-75",children:i})]})]}),m.jsx("button",{onClick:()=>u("/employee/welcome"),className:"p-2 hover:bg-white/10 rounded-lg transition-colors",title:"Change location",children:m.jsx(oh,{size:18})})]})]})}),m.jsx("div",{className:"max-w-7xl mx-auto px-4 md:px-6 py-6 md:py-12 pb-24 md:pb-12",children:m.jsx(AD,{})})]})},OD=({onComplete:e})=>{const[t,i]=F.useState(1),[o,u]=F.useState(null),[h,p]=F.useState(null),[x,w]=F.useState(null),{data:b,isLoading:E}=un({queryKey:["organizations"],queryFn:async()=>(await De.get("/organization/public")).data.data||[],retry:1}),{data:S,isLoading:R}=un({queryKey:["offices",o?.id],queryFn:async()=>(await De.get(`/organisation/offices/organization/${o.id}`)).data.data||[],enabled:!!o&&t===2,retry:1}),{data:_,isLoading:D}=un({queryKey:["cafeterias",h?.id],queryFn:async()=>(await De.get(`/organisation/cafeterias/office/${h.id}`)).data.data||[],enabled:!!h&&t===3,retry:1}),L=H=>{u(H),i(2)},P=H=>{p(H),i(3)},Y=H=>{w(H),e({organizationId:o.id,organizationName:o.name,officeId:h.id,officeName:h.name,cafeteriaId:H.id,cafeteriaName:H.name})},j=()=>{t===2?(u(null),i(1)):t===3&&(p(null),i(2))},U=H=>m.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[m.jsx(Nn,{className:"animate-spin text-brand-primary mb-4",size:40}),m.jsx("p",{className:"text-gray-600",children:H})]}),V=H=>m.jsxs("div",{className:"text-center py-12",children:[m.jsx(br,{className:"text-gray-400 mx-auto mb-4",size:48}),m.jsx("p",{className:"text-gray-600",children:H})]}),I=()=>E?U("Loading organizations..."):!b||b.length===0?V("No organizations available"):m.jsx("div",{className:"space-y-3",children:b.map(H=>m.jsx("button",{onClick:()=>L(H),className:"w-full bg-white border border-gray-200 rounded-2xl p-4 hover:border-brand-primary hover:shadow-md transition-all text-left group",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center space-x-4",children:[m.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl flex items-center justify-center",children:m.jsx(ji,{className:"text-white",size:24})}),m.jsxs("div",{children:[m.jsx("h3",{className:"font-semibold text-gray-900 group-hover:text-brand-primary transition-colors",children:H.name}),H.address&&m.jsx("p",{className:"text-sm text-gray-600",children:H.address})]})]}),m.jsx(Xd,{className:"text-gray-400 group-hover:text-brand-primary transition-colors",size:20})]})},H.id))}),X=()=>R?U("Loading offices..."):!S||S.length===0?V("No offices available for this organization"):m.jsx("div",{className:"space-y-3",children:S.map(H=>m.jsx("button",{onClick:()=>P(H),className:"w-full bg-white border border-gray-200 rounded-2xl p-4 hover:border-brand-primary hover:shadow-md transition-all text-left group",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center space-x-4",children:[m.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-green-500 to-green-600 rounded-xl flex items-center justify-center",children:m.jsx(E5,{className:"text-white",size:24})}),m.jsxs("div",{children:[m.jsx("h3",{className:"font-semibold text-gray-900 group-hover:text-brand-primary transition-colors",children:H.name}),H.address&&m.jsx("p",{className:"text-sm text-gray-600",children:H.address})]})]}),m.jsx(Xd,{className:"text-gray-400 group-hover:text-brand-primary transition-colors",size:20})]})},H.id))}),z=()=>D?U("Loading cafeterias..."):!_||_.length===0?V("No cafeterias available at this office"):m.jsx("div",{className:"space-y-3",children:_.map(H=>m.jsx("button",{onClick:()=>Y(H),className:"w-full bg-white border border-gray-200 rounded-2xl p-4 hover:border-brand-primary hover:shadow-md transition-all text-left group",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center space-x-4",children:[m.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-orange-500 to-orange-600 rounded-xl flex items-center justify-center",children:m.jsx(br,{className:"text-white",size:24})}),m.jsxs("div",{children:[m.jsx("h3",{className:"font-semibold text-gray-900 group-hover:text-brand-primary transition-colors",children:H.name}),H.openingTime&&H.closingTime&&m.jsxs("p",{className:"text-sm text-gray-600",children:[H.openingTime," - ",H.closingTime]})]})]}),m.jsx(Xd,{className:"text-gray-400 group-hover:text-brand-primary transition-colors",size:20})]})},H.id))});return m.jsxs("div",{className:"max-w-2xl mx-auto",children:[m.jsx("div",{className:"flex items-center justify-center mb-8",children:[1,2,3].map(H=>m.jsxs(en.Fragment,{children:[m.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-semibold transition-colors ${t>=H?"bg-brand-primary text-white":"bg-gray-200 text-gray-500"}`,children:H}),H<3&&m.jsx("div",{className:`w-12 h-1 mx-2 transition-colors ${t>H?"bg-brand-primary":"bg-gray-200"}`})]},H))}),m.jsxs("div",{className:"text-center mb-8",children:[m.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:[t===1&&"Select Your Organization",t===2&&"Select Your Office",t===3&&"Select Your Cafeteria"]}),m.jsxs("p",{className:"text-gray-600",children:[t===1&&"Choose your company to get started",t===2&&"Where do you work?",t===3&&"Where would you like to order from?"]})]}),t>1&&m.jsx("button",{onClick:j,className:"mb-4 text-gray-600 hover:text-gray-900 font-medium flex items-center",children:" Back"}),m.jsxs("div",{children:[t===1&&I(),t===2&&X(),t===3&&z()]})]})},MD=()=>{const e=nr(),{setLocation:t,isConfigured:i}=kC(),[o,u]=F.useState(!0),[h,p]=F.useState(!1);F.useEffect(()=>{i&&e("/employee/home",{replace:!0})},[i,e]),F.useEffect(()=>{const w=setTimeout(()=>{u(!1),p(!0)},2500);return()=>clearTimeout(w)},[]);const x=w=>{t(w),je.success(`Welcome to ${w.cafeteriaName}!`,{icon:"",duration:3e3}),setTimeout(()=>{e("/employee/home",{replace:!0})},500)};return m.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 via-amber-50 to-yellow-50",children:m.jsxs(au,{mode:"wait",children:[o&&m.jsx(tn.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 flex items-center justify-center bg-gradient-to-br from-brand-primary to-brand-secondary",children:m.jsxs("div",{className:"text-center",children:[m.jsx(tn.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",stiffness:260,damping:20,delay:.2},className:"mb-6",children:m.jsx("div",{className:"w-24 h-24 bg-white rounded-3xl shadow-2xl flex items-center justify-center mx-auto",children:m.jsx(rR,{size:48,className:"text-brand-primary"})})}),m.jsx(tn.h1,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.5},className:"text-5xl font-bold text-white mb-2",children:"BiteDash"}),m.jsx(tn.p,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.7},className:"text-xl text-white/90",children:"Your Workplace Dining Experience"}),m.jsx(tn.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1.2},className:"mt-12",children:m.jsx("div",{className:"flex space-x-2 justify-center",children:[0,1,2].map(w=>m.jsx(tn.div,{animate:{y:[0,-10,0]},transition:{duration:.6,repeat:1/0,delay:w*.1},className:"w-3 h-3 bg-white rounded-full"},w))})})]})},"intro"),h&&m.jsxs(tn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"min-h-screen py-8 px-4",children:[m.jsxs("div",{className:"text-center mb-8",children:[m.jsx(tn.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:200},className:"w-20 h-20 bg-gradient-to-br from-brand-primary to-brand-secondary rounded-3xl shadow-lg flex items-center justify-center mx-auto mb-4",children:m.jsx(br,{size:36,className:"text-white"})}),m.jsx(tn.h2,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},className:"text-3xl font-bold text-gray-900 mb-2",children:"Welcome to BiteDash!"}),m.jsx(tn.p,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3},className:"text-gray-600 text-lg",children:"Let's set up your location to start ordering"})]}),m.jsx(tn.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.4},children:m.jsx(OD,{onComplete:x})})]},"selector")]})})},up={createOrder:async e=>await De.post("/orders",e),getMyOrders:async()=>await De.get("/orders/my-orders"),getOrderById:async e=>await De.get(`/orders/${e}`),getOrderHistory:async e=>await De.get(`/orders/${e}/history`),rateOrder:async(e,t)=>await De.post(`/orders/${e}/rate`,t),getOrderByQRCode:async e=>await De.get(`/orders/qr/${e}`)},ID={getMyWallet:async()=>await De.get("/wallet/my-wallet"),getWalletByUserId:async e=>await De.get(`/wallet/user/${e}`),getBalance:async()=>await De.get("/wallet/balance"),topup:async(e,t,i="Wallet Top-up",o=null,u="TOPUP")=>{const h=new URLSearchParams({userId:e.toString(),amount:t.toString(),description:i});return o&&h.append("referenceId",o.toString()),u&&h.append("referenceType",u),await De.post(`/wallet/credit?${h}`)},debit:async(e,t,i,o=null,u="ORDER")=>{const h=new URLSearchParams({userId:e.toString(),amount:t.toString(),description:i});return o&&h.append("referenceId",o.toString()),u&&h.append("referenceType",u),await De.post(`/wallet/debit?${h}`)},getTransactions:async()=>await De.get("/wallet/transactions"),getBalanceHistory:async(e=null,t=null)=>{let i="/wallet/balance-history";const o=new URLSearchParams;return e&&o.append("startDate",e),t&&o.append("endDate",t),o.toString()&&(i+=`?${o}`),await De.get(i)},getTotalCredits:async()=>await De.get("/wallet/total-credits"),getTotalDebits:async()=>await De.get("/wallet/total-debits"),initWallet:async e=>await De.post(`/wallet/init/${e}`)},_D=()=>{const e=nr(),t=_s(),[i,o]=F.useState(null),[u,h]=F.useState({});F.useEffect(()=>{const j=localStorage.getItem("current_cart");if(j){const U=JSON.parse(j);o(U),h(U.items||{})}},[]),F.useEffect(()=>{if(i&&Object.keys(u).length>0){const j={...i,items:u};localStorage.setItem("current_cart",JSON.stringify(j))}},[u,i]);const{data:p,isLoading:x}=un({queryKey:["wallet-balance"],queryFn:async()=>await ID.getBalance(),retry:1}),w=sr({mutationFn:async j=>await up.createOrder(j),onSuccess:j=>{je.success("Order placed successfully!"),localStorage.removeItem("current_cart"),i?.vendorId&&localStorage.removeItem(`cart_${i.vendorId}`),t.invalidateQueries(["wallet-balance"]),t.invalidateQueries(["my-orders"]),e("/employee/tracking")},onError:j=>{je.error(j||"Failed to place order")}}),b=(j,U)=>{h(V=>{const X=(V[j]?.quantity||0)+U;if(X<=0){const{[j]:z,...H}=V;return H}return{...V,[j]:{...V[j],quantity:X}}})},E=j=>{h(U=>{const{[j]:V,...I}=U;return I}),je.success("Item removed from cart")},S=()=>Object.values(u).reduce((j,U)=>j+U.price*U.quantity,0),R=()=>Object.values(u).reduce((j,U)=>j+U.quantity,0),_=()=>{const j=S();if(p<j){je.error("Insufficient wallet balance. Please top up your wallet.");return}if(!i?.vendorId){je.error("Vendor information missing");return}const U=Object.values(u).map(I=>({menuItemId:I.id,quantity:I.quantity,price:I.price})),V={vendorId:parseInt(i.vendorId),orderItems:U};w.mutate(V)},D=Object.values(u),L=S(),P=R(),Y=p>=L;return D.length===0?m.jsx("div",{className:"min-h-screen bg-surface-bg p-6",children:m.jsxs("div",{className:"max-w-4xl mx-auto",children:[m.jsxs("div",{className:"mb-8",children:[m.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Your Cart"}),m.jsx("p",{className:"text-gray-600 mt-2",children:"Review and checkout your items"})]}),m.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-12 text-center",children:m.jsxs("div",{className:"max-w-md mx-auto",children:[m.jsx("div",{className:"w-20 h-20 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:m.jsx(kc,{className:"text-gray-400",size:40})}),m.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Your Cart is Empty"}),m.jsx("p",{className:"text-gray-600 mb-6",children:"Add items from vendors to get started with your order."}),m.jsx("button",{onClick:()=>e("/employee/home"),className:"px-6 py-3 bg-brand-primary text-white font-semibold rounded-xl hover:bg-brand-secondary transition-colors",children:"Browse Vendors"})]})})]})}):m.jsxs("div",{className:"min-h-screen bg-surface-bg pb-6",children:[m.jsx("div",{className:"bg-white border-b border-gray-200 sticky top-0 z-10",children:m.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-4",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("button",{onClick:()=>e(-1),className:"flex items-center text-gray-600 hover:text-brand-primary transition-colors",children:[m.jsx(El,{className:"mr-2",size:20}),"Back"]}),m.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Your Cart"}),m.jsx("div",{className:"w-20"})]})})}),m.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-6",children:m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[m.jsx("div",{className:"lg:col-span-2 space-y-4",children:m.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6",children:[m.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:["Items (",P,")"]}),m.jsx("div",{className:"space-y-4",children:D.map(j=>m.jsxs("div",{className:"flex items-center gap-4 p-4 bg-gray-50 rounded-xl hover:bg-gray-100 transition-colors",children:[m.jsxs("div",{className:"flex-1",children:[m.jsx("h3",{className:"font-bold text-gray-900 mb-1",children:j.name}),j.description&&m.jsx("p",{className:"text-sm text-gray-600 line-clamp-1",children:j.description}),m.jsxs("div",{className:"flex items-center text-brand-primary font-bold mt-2",children:[m.jsx(Zr,{size:16}),j.price.toFixed(2)]})]}),m.jsxs("div",{className:"flex items-center gap-2 bg-white border border-gray-200 rounded-xl",children:[m.jsx("button",{onClick:()=>b(j.id,-1),className:"p-2 hover:bg-gray-100 rounded-l-xl transition-colors",children:m.jsx(g3,{size:16,className:"text-gray-600"})}),m.jsx("span",{className:"font-bold text-gray-900 min-w-[2rem] text-center",children:j.quantity}),m.jsx("button",{onClick:()=>b(j.id,1),className:"p-2 hover:bg-gray-100 rounded-r-xl transition-colors",children:m.jsx(pi,{size:16,className:"text-gray-600"})})]}),m.jsxs("div",{className:"flex items-center text-lg font-bold text-gray-900 min-w-[100px]",children:[m.jsx(Zr,{size:18}),(j.price*j.quantity).toFixed(2)]}),m.jsx("button",{onClick:()=>E(j.id),className:"p-2 text-red-500 hover:bg-red-50 rounded-xl transition-colors",title:"Remove item",children:m.jsx(ml,{size:20})})]},j.id))})]})}),m.jsx("div",{className:"lg:col-span-1",children:m.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6 sticky top-24",children:[m.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Order Summary"}),m.jsx("div",{className:"mb-6 p-4 bg-gradient-to-br from-brand-primary to-brand-secondary rounded-xl text-white",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center",children:[m.jsx(lh,{size:20,className:"mr-2"}),m.jsx("span",{className:"font-semibold",children:"Wallet Balance"})]}),x?m.jsx(Nn,{className:"animate-spin",size:20}):m.jsxs("div",{className:"flex items-center font-bold text-lg",children:[m.jsx(Zr,{size:18}),p?.toFixed(2)||"0.00"]})]})}),m.jsxs("div",{className:"space-y-3 mb-6 pb-6 border-b border-gray-200",children:[m.jsxs("div",{className:"flex justify-between text-gray-600",children:[m.jsx("span",{children:"Subtotal"}),m.jsxs("div",{className:"flex items-center font-semibold",children:[m.jsx(Zr,{size:16}),L.toFixed(2)]})]}),m.jsxs("div",{className:"flex justify-between text-gray-600",children:[m.jsx("span",{children:"Tax & Fees"}),m.jsx("span",{className:"font-semibold",children:"0.00"})]})]}),m.jsxs("div",{className:"flex justify-between items-center mb-6 text-xl font-bold",children:[m.jsx("span",{children:"Total"}),m.jsxs("div",{className:"flex items-center text-brand-primary",children:[m.jsx(Zr,{size:22}),L.toFixed(2)]})]}),!Y&&m.jsxs("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-xl flex items-start",children:[m.jsx(gR,{className:"text-red-500 mr-3 flex-shrink-0 mt-0.5",size:20}),m.jsxs("div",{children:[m.jsx("p",{className:"text-sm font-semibold text-red-700 mb-1",children:"Insufficient Balance"}),m.jsx("p",{className:"text-xs text-red-600",children:"Please top up your wallet to complete this order."})]})]}),Y&&m.jsxs("div",{className:"mb-4 p-4 bg-green-50 border border-green-200 rounded-xl flex items-start",children:[m.jsx(Jc,{className:"text-green-500 mr-3 flex-shrink-0 mt-0.5",size:20}),m.jsx("div",{children:m.jsx("p",{className:"text-sm font-semibold text-green-700",children:"Ready to checkout!"})})]}),m.jsx("button",{onClick:_,disabled:!Y||w.isPending||x,className:"w-full py-3 bg-brand-primary text-white font-bold rounded-xl hover:bg-brand-secondary transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:w.isPending?m.jsxs(m.Fragment,{children:[m.jsx(Nn,{className:"animate-spin mr-2",size:20}),"Processing..."]}):"Proceed to Checkout"}),!Y&&m.jsx("button",{onClick:()=>e("/employee/wallet"),className:"w-full mt-3 py-3 bg-white border-2 border-brand-primary text-brand-primary font-bold rounded-xl hover:bg-orange-50 transition-colors",children:"Top Up Wallet"})]})})]})})]})},DD=({currentStatus:e})=>{const t=[{status:"PENDING",label:"Order Placed",icon:Bc,description:"Your order has been placed"},{status:"PREPARING",label:"Preparing",icon:c3,description:"Vendor is preparing your order"},{status:"READY",label:"Ready",icon:Sa,description:"Order is ready for pickup"},{status:"DELIVERED",label:"Delivered",icon:Eg,description:"Order has been delivered"}],o=(p=>t.findIndex(x=>x.status===p))(e),u=p=>p<=o,h=p=>p===o;return m.jsx("div",{className:"w-full py-6",children:m.jsxs("div",{className:"flex items-center justify-between relative",children:[m.jsx("div",{className:"absolute top-6 left-0 right-0 h-1 bg-gray-200 -z-10",children:m.jsx("div",{className:"h-full bg-brand-primary transition-all duration-500",style:{width:`${o/(t.length-1)*100}%`}})}),t.map((p,x)=>{const w=p.icon,b=u(x),E=h(x);return m.jsxs("div",{className:"flex flex-col items-center flex-1",children:[m.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center mb-3 transition-all duration-300 ${b?"bg-brand-primary text-white shadow-lg":"bg-gray-200 text-gray-400"} ${E?"ring-4 ring-orange-200 scale-110":""}`,children:b&&!E?m.jsx(l3,{size:24,strokeWidth:3}):m.jsx(w,{size:24})}),m.jsxs("div",{className:"text-center",children:[m.jsx("p",{className:`font-semibold text-sm mb-1 transition-colors ${b?"text-brand-primary":"text-gray-500"}`,children:p.label}),m.jsx("p",{className:"text-xs text-gray-500 hidden sm:block max-w-[100px]",children:p.description})]})]},p.status)})]})})},jD=({isOpen:e,onClose:t,order:i})=>{const[o,u]=F.useState(0),[h,p]=F.useState(0),[x,w]=F.useState(""),b=_s(),E=sr({mutationFn:async({orderId:L,ratingData:P})=>await up.rateOrder(L,P),onSuccess:()=>{je.success("Thank you for your feedback!"),b.invalidateQueries(["my-orders"]),b.invalidateQueries(["order",i?.id]),S()},onError:L=>{je.error(L||"Failed to submit rating")}}),S=()=>{u(0),p(0),w(""),t()},R=L=>{if(L.preventDefault(),o===0){je.error("Please select a rating");return}if(!i?.id){je.error("Order information missing");return}E.mutate({orderId:i.id,ratingData:{rating:o,feedback:x.trim()||null}})},_=()=>m.jsx("div",{className:"flex gap-2 justify-center mb-6",children:[1,2,3,4,5].map(L=>m.jsx("button",{type:"button",onClick:()=>u(L),onMouseEnter:()=>p(L),onMouseLeave:()=>p(0),className:"focus:outline-none transition-transform hover:scale-110",children:m.jsx(Pc,{size:40,className:`transition-colors ${L<=(h||o)?"text-yellow-400 fill-yellow-400":"text-gray-300"}`})},L))}),D=L=>({1:"Poor",2:"Fair",3:"Good",4:"Very Good",5:"Excellent"})[L]||"Select a rating";return m.jsx(yo,{isOpen:e,onClose:S,title:"Rate Your Order",children:m.jsxs("form",{onSubmit:R,className:"space-y-6",children:[i&&m.jsxs("div",{className:"bg-gray-50 rounded-xl p-4",children:[m.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Order Number"}),m.jsx("p",{className:"font-semibold text-gray-900",children:i.orderNumber}),i.vendorName&&m.jsxs(m.Fragment,{children:[m.jsx("p",{className:"text-sm text-gray-600 mt-2 mb-1",children:"Vendor"}),m.jsx("p",{className:"font-semibold text-gray-900",children:i.vendorName})]})]}),m.jsxs("div",{className:"text-center",children:[m.jsx("p",{className:"text-gray-700 font-semibold mb-4",children:"How was your experience?"}),_(),m.jsx("p",{className:`text-lg font-semibold transition-colors ${o>0?"text-brand-primary":"text-gray-400"}`,children:D(h||o)})]}),m.jsxs("div",{children:[m.jsxs("label",{className:"flex items-center text-sm font-semibold text-gray-700 mb-2",children:[m.jsx(P5,{size:16,className:"mr-2"}),"Additional Feedback (Optional)"]}),m.jsx("textarea",{value:x,onChange:L=>w(L.target.value),placeholder:"Tell us more about your experience...",rows:4,maxLength:500,className:"w-full px-4 py-3 rounded-xl border border-gray-300 focus:border-brand-primary focus:ring-2 focus:ring-orange-200 outline-none transition-all resize-none"}),m.jsxs("p",{className:"text-xs text-gray-500 mt-1 text-right",children:[x.length,"/500 characters"]})]}),m.jsx("button",{type:"submit",disabled:o===0||E.isPending,className:"w-full py-3 bg-brand-primary text-white font-semibold rounded-xl hover:bg-brand-secondary transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:E.isPending?m.jsxs(m.Fragment,{children:[m.jsx(Nn,{className:"animate-spin mr-2",size:20}),"Submitting..."]}):"Submit Rating"})]})})},LD=()=>{const e=nr(),{isConnected:t}=Og(),[i,o]=F.useState({}),[u,h]=F.useState(!1),[p,x]=F.useState(null),[w,b]=F.useState(!0),{data:E,isLoading:S,error:R,refetch:_}=un({queryKey:["my-orders"],queryFn:async()=>await up.getMyOrders(),refetchInterval:w?1e4:!1,retry:1}),D=j=>{o(U=>({...U,[j]:!U[j]}))},L=j=>{x(j),h(!0)},P=j=>new Date(j).toLocaleString("en-IN",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),Y=j=>({PENDING:"bg-yellow-100 text-yellow-700 border-yellow-200",PREPARING:"bg-blue-100 text-blue-700 border-blue-200",READY:"bg-green-100 text-green-700 border-green-200",DELIVERED:"bg-gray-100 text-gray-700 border-gray-200",CANCELLED:"bg-red-100 text-red-700 border-red-200"})[j]||"bg-gray-100 text-gray-700";return F.useEffect(()=>{t&&console.log("[OrderTracking] WebSocket connected - real-time updates enabled")},[t]),F.useEffect(()=>{const j=()=>{!document.hidden&&t&&_()};return document.addEventListener("visibilitychange",j),()=>document.removeEventListener("visibilitychange",j)},[t,_]),S?m.jsx("div",{className:"flex items-center justify-center min-h-screen",children:m.jsxs("div",{className:"text-center",children:[m.jsx(Nn,{className:"animate-spin text-brand-primary mx-auto mb-4",size:48}),m.jsx("p",{className:"text-gray-600",children:"Loading orders..."})]})}):R?m.jsx("div",{className:"min-h-screen bg-surface-bg p-6",children:m.jsx("div",{className:"max-w-4xl mx-auto",children:m.jsxs("div",{className:"text-center py-12",children:[m.jsx($c,{className:"text-red-500 mx-auto mb-4",size:48}),m.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Failed to Load Orders"}),m.jsx("p",{className:"text-gray-600 mb-4",children:R}),m.jsx("button",{onClick:()=>_(),className:"px-6 py-2 bg-brand-primary text-white rounded-xl hover:bg-brand-secondary transition-colors",children:"Try Again"})]})})}):!E||E.length===0?m.jsx("div",{className:"min-h-screen bg-surface-bg p-6",children:m.jsxs("div",{className:"max-w-4xl mx-auto",children:[m.jsxs("div",{className:"mb-8",children:[m.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Order Tracking"}),m.jsx("p",{className:"text-gray-600 mt-2",children:"Track your active orders in real-time"})]}),m.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-12 text-center",children:m.jsxs("div",{className:"max-w-md mx-auto",children:[m.jsx("div",{className:"w-20 h-20 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:m.jsx(Sa,{className:"text-gray-400",size:40})}),m.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"No Orders Yet"}),m.jsx("p",{className:"text-gray-600 mb-6",children:"When you place an order, you can track it here in real-time."}),m.jsx("button",{onClick:()=>e("/employee/home"),className:"px-6 py-3 bg-brand-primary text-white font-semibold rounded-xl hover:bg-brand-secondary transition-colors",children:"Browse Vendors"})]})})]})}):m.jsxs("div",{className:"min-h-screen bg-surface-bg pb-6",children:[m.jsx("div",{className:"bg-white border-b border-gray-200 sticky top-0 z-10",children:m.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-4",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Order Tracking"}),m.jsxs("p",{className:"text-gray-600 text-sm mt-1",children:[E.length," ",E.length===1?"order":"orders"]})]}),m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("div",{className:"flex items-center gap-2 text-sm",children:t?m.jsxs(m.Fragment,{children:[m.jsx(v3,{className:"text-green-500",size:16}),m.jsx("span",{className:"text-green-600 font-medium",children:"Live"})]}):m.jsxs(m.Fragment,{children:[m.jsx(Ag,{className:"text-gray-400",size:16}),m.jsx("span",{className:"text-gray-500 font-medium",children:"Offline"})]})}),m.jsxs("label",{className:"flex items-center cursor-pointer",children:[m.jsx("input",{type:"checkbox",checked:w,onChange:j=>b(j.target.checked),className:"sr-only peer"}),m.jsx("div",{className:"relative w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-orange-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-brand-primary"}),m.jsx("span",{className:"ml-3 text-sm font-medium text-gray-700",children:"Auto-refresh"})]}),m.jsx("button",{onClick:()=>_(),className:"p-2 hover:bg-gray-100 rounded-xl transition-colors",title:"Refresh orders",children:m.jsx(Cg,{className:"text-gray-600",size:20})})]})]})})}),m.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-6",children:m.jsx("div",{className:"space-y-4",children:E.sort((j,U)=>new Date(U.createdAt)-new Date(j.createdAt)).map(j=>{const U=i[j.id],V=j.status==="DELIVERED"&&!j.rating;return m.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden hover:shadow-md transition-shadow",children:[m.jsxs("div",{className:"p-6",children:[m.jsxs("div",{className:"flex items-start justify-between mb-4",children:[m.jsxs("div",{className:"flex items-start",children:[m.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-brand-primary to-brand-secondary rounded-xl flex items-center justify-center mr-4",children:m.jsx(po,{className:"text-white",size:24})}),m.jsxs("div",{children:[m.jsxs("h3",{className:"font-bold text-gray-900 text-lg mb-1",children:["Order #",j.orderNumber]}),m.jsxs("div",{className:"flex items-center text-sm text-gray-500 gap-2",children:[m.jsx(Bc,{size:14}),P(j.createdAt)]})]})]}),m.jsxs("div",{className:"text-right",children:[m.jsxs("div",{className:"flex items-center text-xl font-bold text-gray-900 mb-2",children:[m.jsx(Zr,{size:20}),j.totalAmount?.toFixed(2)]}),m.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-xs font-semibold border ${Y(j.status)}`,children:j.status})]})]}),j.status!=="CANCELLED"&&m.jsx(DD,{currentStatus:j.status}),m.jsxs("div",{className:"flex gap-3 mt-4",children:[m.jsx("button",{onClick:()=>D(j.id),className:"flex-1 py-2 px-4 border-2 border-gray-200 text-gray-700 font-semibold rounded-xl hover:border-brand-primary hover:text-brand-primary transition-colors flex items-center justify-center",children:U?m.jsxs(m.Fragment,{children:["Hide Details ",m.jsx(d3,{className:"ml-2",size:16})]}):m.jsxs(m.Fragment,{children:["View Details ",m.jsx(u3,{className:"ml-2",size:16})]})}),V&&m.jsxs("button",{onClick:()=>L(j),className:"py-2 px-4 bg-brand-primary text-white font-semibold rounded-xl hover:bg-brand-secondary transition-colors flex items-center",children:[m.jsx(Pc,{className:"mr-2",size:16}),"Rate Order"]}),j.rating&&m.jsxs("div",{className:"flex items-center px-4 py-2 bg-yellow-50 rounded-xl border border-yellow-200",children:[m.jsx(Pc,{className:"text-yellow-400 fill-yellow-400 mr-1",size:16}),m.jsx("span",{className:"font-semibold text-yellow-700",children:j.rating})]})]})]}),U&&m.jsxs("div",{className:"border-t border-gray-200 bg-gray-50 p-6",children:[m.jsx("h4",{className:"font-bold text-gray-900 mb-4",children:"Order Items"}),m.jsx("div",{className:"space-y-3",children:j.orderItems?.map((I,X)=>m.jsxs("div",{className:"bg-white rounded-xl p-4 flex items-center justify-between",children:[m.jsxs("div",{className:"flex-1",children:[m.jsx("p",{className:"font-semibold text-gray-900",children:I.menuItemName||"Menu Item"}),m.jsxs("p",{className:"text-sm text-gray-500",children:["Quantity: ",I.quantity]})]}),m.jsxs("div",{className:"flex items-center text-lg font-bold text-gray-900",children:[m.jsx(Zr,{size:18}),(I.price*I.quantity).toFixed(2)]})]},X))}),j.feedback&&m.jsxs("div",{className:"mt-4 p-4 bg-blue-50 rounded-xl border border-blue-200",children:[m.jsx("p",{className:"text-sm font-semibold text-blue-700 mb-1",children:"Your Feedback"}),m.jsx("p",{className:"text-sm text-blue-600",children:j.feedback})]})]})]},j.id)})})}),m.jsx(jD,{isOpen:u,onClose:()=>{h(!1),x(null)},order:p})]})},BD=()=>{const{vendorId:e}=dE(),t=nr(),[i,o]=F.useState({}),[u,h]=F.useState(null);F.useEffect(()=>{const P=localStorage.getItem(`cart_${e}`);P&&o(JSON.parse(P))},[e]),F.useEffect(()=>{Object.keys(i).length>0?localStorage.setItem(`cart_${e}`,JSON.stringify(i)):localStorage.removeItem(`cart_${e}`)},[i,e]);const{data:p}=un({queryKey:["vendor-rating",e],queryFn:async()=>{try{return await ng.getVendorRating(e)}catch{return null}},retry:1}),{data:x,isLoading:w,error:b}=un({queryKey:["vendor-categories",e],queryFn:async()=>await ng.getVendorCategories(e,!0),retry:1}),E=P=>{o(Y=>({...Y,[P.id]:{...P,quantity:(Y[P.id]?.quantity||0)+1}})),je.success(`Added ${P.name} to cart`)},S=(P,Y)=>{o(j=>{const V=(j[P]?.quantity||0)+Y;if(V<=0){const{[P]:I,...X}=j;return X}return{...j,[P]:{...j[P],quantity:V}}})},R=()=>Object.values(i).reduce((P,Y)=>P+Y.price*Y.quantity,0),_=()=>Object.values(i).reduce((P,Y)=>P+Y.quantity,0),D=()=>{const P={vendorId:e,items:i,timestamp:new Date().toISOString()};localStorage.setItem("current_cart",JSON.stringify(P)),t("/employee/cart")};if(w)return m.jsx("div",{className:"flex items-center justify-center min-h-screen",children:m.jsxs("div",{className:"text-center",children:[m.jsx(Nn,{className:"animate-spin text-brand-primary mx-auto mb-4",size:48}),m.jsx("p",{className:"text-gray-600",children:"Loading menu..."})]})});if(b)return m.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:m.jsx("div",{className:"max-w-4xl mx-auto",children:m.jsxs("div",{className:"text-center py-12",children:[m.jsx($c,{className:"text-red-500 mx-auto mb-4",size:48}),m.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Failed to Load Menu"}),m.jsx("p",{className:"text-gray-600 mb-4",children:b}),m.jsx("button",{onClick:()=>t(-1),className:"px-6 py-2 bg-brand-primary text-white rounded-lg hover:bg-brand-secondary transition-colors",children:"Go Back"})]})})});const L=x?.reduce((P,Y)=>P+(Y.menuItems?.length||0),0)||0;return m.jsxs("div",{className:"min-h-screen bg-surface-bg pb-24",children:[m.jsx("div",{className:"bg-white border-b border-gray-200 sticky top-0 z-10",children:m.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-4",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("button",{onClick:()=>t(-1),className:"flex items-center text-gray-600 hover:text-brand-primary transition-colors",children:[m.jsx(El,{className:"mr-2",size:20}),"Back"]}),m.jsxs("div",{className:"flex items-center",children:[m.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-brand-primary to-brand-secondary rounded-xl flex items-center justify-center mr-3",children:m.jsx(po,{className:"text-white",size:24})}),m.jsxs("div",{children:[m.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Vendor Menu"}),p&&m.jsxs("div",{className:"flex items-center text-sm",children:[m.jsx(Pc,{className:"text-yellow-400 fill-yellow-400 mr-1",size:14}),m.jsx("span",{className:"font-semibold",children:p.averageRating?.toFixed(1)}),m.jsxs("span",{className:"text-gray-500 ml-1",children:["(",p.totalOrders," orders)"]})]})]})]})]})})}),m.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-6",children:[x&&x.length>0&&m.jsxs("div",{className:"mb-6 flex gap-2 overflow-x-auto pb-2",children:[m.jsxs("button",{onClick:()=>h(null),className:`px-4 py-2 rounded-xl font-semibold whitespace-nowrap transition-colors ${u===null?"bg-brand-primary text-white":"bg-white text-gray-700 border border-gray-200 hover:border-brand-primary"}`,children:["All (",L,")"]}),x.map(P=>m.jsxs("button",{onClick:()=>h(P.id),className:`px-4 py-2 rounded-xl font-semibold whitespace-nowrap transition-colors ${u===P.id?"bg-brand-primary text-white":"bg-white text-gray-700 border border-gray-200 hover:border-brand-primary"}`,children:[P.name," (",P.menuItems?.length||0,")"]},P.id))]}),!x||x.length===0?m.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-12 text-center",children:[m.jsx(Sa,{className:"text-gray-400 mx-auto mb-4",size:48}),m.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No Menu Items"}),m.jsx("p",{className:"text-gray-600",children:"This vendor hasn't added any items yet."})]}):m.jsx("div",{className:"space-y-8",children:x.filter(P=>u===null||P.id===u).map(P=>m.jsxs("div",{className:"space-y-4",children:[m.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:P.name}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:P.menuItems?.map(Y=>{const j=i[Y.id],U=!!j;return m.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-4 hover:shadow-md transition-all",children:[m.jsx("div",{className:"flex justify-between items-start mb-3",children:m.jsxs("div",{className:"flex-1",children:[m.jsx("h3",{className:"font-bold text-gray-900 mb-1",children:Y.name}),Y.description&&m.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:Y.description})]})}),m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center text-brand-primary font-bold text-lg",children:[m.jsx(Zr,{size:18}),Y.price.toFixed(2)]}),Y.available?U?m.jsxs("div",{className:"flex items-center gap-2 bg-brand-primary text-white rounded-xl",children:[m.jsx("button",{onClick:()=>S(Y.id,-1),className:"p-2 hover:bg-brand-secondary rounded-l-xl transition-colors",children:m.jsx(g3,{size:16})}),m.jsx("span",{className:"font-bold min-w-[2rem] text-center",children:j.quantity}),m.jsx("button",{onClick:()=>S(Y.id,1),className:"p-2 hover:bg-brand-secondary rounded-r-xl transition-colors",children:m.jsx(pi,{size:16})})]}):m.jsxs("button",{onClick:()=>E(Y),className:"px-4 py-2 bg-brand-primary text-white rounded-xl hover:bg-brand-secondary transition-colors flex items-center font-semibold",children:[m.jsx(pi,{size:16,className:"mr-1"}),"Add"]}):m.jsx("span",{className:"text-sm text-gray-500 font-semibold",children:"Unavailable"})]})]},Y.id)})})]},P.id))})]}),_()>0&&m.jsx("div",{className:"fixed bottom-6 left-0 right-0 px-4 sm:px-6 z-20",children:m.jsx("div",{className:"max-w-7xl mx-auto",children:m.jsxs("button",{onClick:D,className:"w-full bg-brand-primary hover:bg-brand-secondary text-white font-bold py-4 px-6 rounded-2xl shadow-2xl transition-all flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center",children:[m.jsx("div",{className:"bg-white/20 rounded-xl p-2 mr-3",children:m.jsx(kc,{size:24})}),m.jsxs("span",{className:"text-lg",children:["View Cart (",_()," items)"]})]}),m.jsxs("div",{className:"flex items-center text-lg",children:[m.jsx(Zr,{size:20}),R().toFixed(2)]})]})})})]})},kD=()=>{const{data:e,isLoading:t}=un({queryKey:["my-wallet"],queryFn:async()=>(await De.get("/wallet/my-wallet")).data,retry:1}),{data:i}=un({queryKey:["wallet-transactions"],queryFn:async()=>(await De.get("/wallet/transactions?limit=10")).data||[],retry:1});return t?m.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:m.jsxs("div",{className:"text-center",children:[m.jsx(Nn,{className:"animate-spin text-brand-primary mx-auto mb-4",size:40}),m.jsx("p",{className:"text-gray-600",children:"Loading wallet..."})]})}):m.jsxs("div",{className:"min-h-screen bg-gray-50 pb-24 md:pb-8",children:[m.jsx("div",{className:"bg-gradient-to-r from-brand-primary to-brand-secondary text-white py-8 px-4 md:px-6 mb-6",children:m.jsxs("div",{className:"max-w-4xl mx-auto",children:[m.jsx("h1",{className:"text-2xl md:text-4xl font-bold mb-2",children:"My Wallet"}),m.jsx("p",{className:"text-base md:text-lg opacity-90",children:"Manage your balance and transactions"})]})}),m.jsxs("div",{className:"max-w-4xl mx-auto px-4 md:px-6",children:[m.jsxs("div",{className:"bg-gradient-to-br from-orange-500 to-orange-600 rounded-3xl shadow-2xl p-8 mb-6 text-white",children:[m.jsx("div",{className:"flex items-center justify-between mb-8",children:m.jsxs("div",{className:"flex items-center space-x-3",children:[m.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-2xl flex items-center justify-center",children:m.jsx(lh,{size:24})}),m.jsxs("div",{children:[m.jsx("p",{className:"text-sm opacity-75",children:"Current Balance"}),m.jsxs("p",{className:"text-4xl font-bold",children:["",e?.balance?.toFixed(2)||"0.00"]})]})]})}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-2xl p-4",children:[m.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[m.jsx(gl,{size:18}),m.jsx("p",{className:"text-sm opacity-75",children:"Total Credits"})]}),m.jsxs("p",{className:"text-2xl font-bold",children:["",e?.totalCredits||"0"]})]}),m.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-2xl p-4",children:[m.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[m.jsx(uv,{size:18}),m.jsx("p",{className:"text-sm opacity-75",children:"Total Spent"})]}),m.jsxs("p",{className:"text-2xl font-bold",children:["",e?.totalDebits||"0"]})]})]})]}),m.jsxs("div",{className:"bg-white rounded-3xl shadow-sm border border-gray-200 p-6",children:[m.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[m.jsx(Bc,{size:20,className:"mr-2 text-gray-600"}),"Recent Transactions"]}),!i||i.length===0?m.jsxs("div",{className:"text-center py-12",children:[m.jsx(lh,{className:"text-gray-400 mx-auto mb-4",size:48}),m.jsx("p",{className:"text-gray-600",children:"No transactions yet"})]}):m.jsx("div",{className:"space-y-3",children:i.map((o,u)=>m.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-2xl hover:bg-gray-100 transition-colors",children:[m.jsxs("div",{className:"flex items-center space-x-4",children:[m.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center ${o.type==="CREDIT"?"bg-green-100 text-green-600":"bg-red-100 text-red-600"}`,children:o.type==="CREDIT"?m.jsx(gl,{size:20}):m.jsx(uv,{size:20})}),m.jsxs("div",{children:[m.jsx("p",{className:"font-semibold text-gray-900",children:o.description||o.type}),m.jsx("p",{className:"text-sm text-gray-600",children:new Date(o.timestamp).toLocaleString()})]})]}),m.jsxs("div",{className:"text-right",children:[m.jsxs("p",{className:`text-lg font-bold ${o.type==="CREDIT"?"text-green-600":"text-red-600"}`,children:[o.type==="CREDIT"?"+":"-","",o.amount?.toFixed(2)]}),m.jsxs("p",{className:"text-sm text-gray-600",children:["Balance: ",o.balanceAfter?.toFixed(2)]})]})]},u))})]}),m.jsx("div",{className:"mt-6",children:m.jsx("button",{onClick:()=>je("Add money feature coming soon!",{icon:""}),className:"w-full bg-gradient-to-r from-brand-primary to-brand-secondary text-white py-4 rounded-2xl font-semibold hover:shadow-lg transition-all",children:"Add Money to Wallet"})})]})]})},PD=()=>{const e=[{label:"Dashboard",path:"/admin/dashboard",icon:m.jsx(Y1,{size:20})},{label:"Organizations",path:"/admin/organizations",icon:m.jsx(ji,{size:20})}],t=[{label:"Dashboard",path:"/org-admin/dashboard",icon:m.jsx(Y1,{size:20})},{label:"Locations",path:"/org-admin/locations",icon:m.jsx(br,{size:20})},{label:"Pending Approvals",path:"/org-admin/approvals",icon:m.jsx(Jc,{size:20})}],i=[{label:"Dashboard",path:"/vendor/dashboard",icon:m.jsx(Y1,{size:20})},{label:"Live Orders",path:"/vendor/orders",icon:m.jsx(kc,{size:20})},{label:"Menu",path:"/vendor/menu",icon:m.jsx(Ca,{size:20})},{label:"QR Scanner",path:"/vendor/qr-scanner",icon:m.jsx(Sa,{size:20})}],o=[{label:"Home",path:"/employee/home",icon:m.jsx(po,{size:20})},{label:"Cart",path:"/employee/cart",icon:m.jsx(kc,{size:20})},{label:"Track Order",path:"/employee/tracking",icon:m.jsx(br,{size:20})}];return m.jsxs(cA,{children:[m.jsx(Ot,{path:"/",element:m.jsx(f_,{})}),m.jsx(Ot,{element:m.jsx(Id,{allowedRoles:[Xn.SUPER_ADMIN]}),children:m.jsxs(Ot,{element:m.jsx(Bd,{navigationLinks:e,brandName:"BiteDash Super"}),children:[m.jsx(Ot,{path:"admin/dashboard",element:m.jsx(g_,{})}),m.jsx(Ot,{path:"admin/organizations",element:m.jsx(p_,{})}),m.jsx(Ot,{path:"admin",element:m.jsx(io,{to:"/admin/dashboard",replace:!0})})]})}),m.jsx(Ot,{element:m.jsx(Id,{allowedRoles:[Xn.ORG_ADMIN]}),children:m.jsxs(Ot,{element:m.jsx(Bd,{navigationLinks:t,brandName:"BiteDash Org"}),children:[m.jsx(Ot,{path:"org-admin/dashboard",element:m.jsx(v_,{})}),m.jsx(Ot,{path:"org-admin/locations",element:m.jsx(x_,{})}),m.jsx(Ot,{path:"org-admin/locations/:locationId",element:m.jsx(E_,{})}),m.jsx(Ot,{path:"org-admin/approvals",element:m.jsx(b_,{})}),m.jsx(Ot,{path:"org-admin",element:m.jsx(io,{to:"/org-admin/dashboard",replace:!0})})]})}),m.jsx(Ot,{element:m.jsx(Id,{allowedRoles:[Xn.VENDOR]}),children:m.jsxs(Ot,{element:m.jsx(Bd,{navigationLinks:i,brandName:"BiteDash Vendor"}),children:[m.jsx(Ot,{path:"vendor/dashboard",element:m.jsx(S_,{})}),m.jsx(Ot,{path:"vendor/orders",element:m.jsx(L_,{})}),m.jsx(Ot,{path:"vendor/menu",element:m.jsx(B_,{})}),m.jsx(Ot,{path:"vendor/qr-scanner",element:m.jsx(CD,{})}),m.jsx(Ot,{path:"vendor",element:m.jsx(io,{to:"/vendor/dashboard",replace:!0})})]})}),m.jsxs(Ot,{element:m.jsx(Id,{allowedRoles:[Xn.EMPLOYEE]}),children:[m.jsx(Ot,{path:"employee/welcome",element:m.jsx(MD,{})}),m.jsxs(Ot,{element:m.jsx(Bd,{navigationLinks:o,brandName:"BiteDash"}),children:[m.jsx(Ot,{path:"employee/home",element:m.jsx(RD,{})}),m.jsx(Ot,{path:"employee/cart",element:m.jsx(_D,{})}),m.jsx(Ot,{path:"employee/tracking",element:m.jsx(LD,{})}),m.jsx(Ot,{path:"employee/wallet",element:m.jsx(kD,{})}),m.jsx(Ot,{path:"employee/vendor/:vendorId",element:m.jsx(BD,{})}),m.jsx(Ot,{path:"employee",element:m.jsx(io,{to:"/employee/home",replace:!0})})]})]}),m.jsx(Ot,{path:"*",element:m.jsx(io,{to:"/",replace:!0})})]})},UD="modulepreload",zD=function(e){return"/"+e},Jw={},FD=function(t,i,o){let u=Promise.resolve();if(i&&i.length>0){let b=function(E){return Promise.all(E.map(S=>Promise.resolve(S).then(R=>({status:"fulfilled",value:R}),R=>({status:"rejected",reason:R}))))};var p=b;document.getElementsByTagName("link");const x=document.querySelector("meta[property=csp-nonce]"),w=x?.nonce||x?.getAttribute("nonce");u=b(i.map(E=>{if(E=zD(E),E in Jw)return;Jw[E]=!0;const S=E.endsWith(".css"),R=S?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${E}"]${R}`))return;const _=document.createElement("link");if(_.rel=S?"stylesheet":UD,S||(_.as="script"),_.crossOrigin="",_.href=E,w&&_.setAttribute("nonce",w),document.head.appendChild(_),S)return new Promise((D,L)=>{_.addEventListener("load",D),_.addEventListener("error",()=>L(new Error(`Unable to preload CSS for ${E}`)))})}))}function h(x){const w=new Event("vite:preloadError",{cancelable:!0});if(w.payload=x,window.dispatchEvent(w),!w.defaultPrevented)throw x}return u.then(x=>{for(const w of x||[])w.status==="rejected"&&h(w.reason);return t().catch(h)})};function VD(e={}){const{immediate:t=!1,onNeedRefresh:i,onOfflineReady:o,onRegistered:u,onRegisteredSW:h,onRegisterError:p}=e;let x,w;const b=async(S=!0)=>{await w};async function E(){if("serviceWorker"in navigator){if(x=await FD(async()=>{const{Workbox:S}=await import("./workbox-window.prod.es5-BIl4cyR9.js");return{Workbox:S}},[]).then(({Workbox:S})=>new S("/sw.js",{scope:"/",type:"classic"})).catch(S=>{p?.(S)}),!x)return;x.addEventListener("activated",S=>{(S.isUpdate||S.isExternal)&&window.location.reload()}),x.addEventListener("installed",S=>{S.isUpdate||o?.()}),x.register({immediate:t}).then(S=>{h?h("/sw.js",S):u?.(S)}).catch(S=>{p?.(S)})}}return w=E(),b}function HD(e={}){const{immediate:t=!0,onNeedRefresh:i,onOfflineReady:o,onRegistered:u,onRegisteredSW:h,onRegisterError:p}=e,[x,w]=F.useState(!1),[b,E]=F.useState(!1),[S]=F.useState(()=>VD({immediate:t,onOfflineReady(){E(!0),o?.()},onNeedRefresh(){w(!0),i?.()},onRegistered:u,onRegisteredSW:h,onRegisterError:p}));return{needRefresh:[x,w],offlineReady:[b,E],updateServiceWorker:S}}function qD(){const{offlineReady:[e,t],needRefresh:[i,o],updateServiceWorker:u}=HD(),h=()=>{t(!1),o(!1)};return m.jsx("div",{className:"fixed bottom-0 right-0 m-6 z-[100]",children:(e||i)&&m.jsxs("div",{className:"bg-white border border-brand-primary p-4 rounded-hb shadow-2xl flex flex-col gap-2",children:[m.jsx("p",{className:"font-bold text-gray-800",children:e?"App ready to work offline":"New version available!"}),m.jsxs("div",{className:"flex gap-2",children:[i&&m.jsx("button",{className:"bg-brand-primary text-white px-4 py-2 rounded-full text-sm",onClick:()=>u(!0),children:"Update Now"}),m.jsx("button",{className:"border border-gray-200 px-4 py-2 rounded-full text-sm",onClick:h,children:"Close"})]})]})})}const GD=()=>{const[e,t]=F.useState(null),[i,o]=F.useState(!1),[u,h]=F.useState(!1),[p,x]=F.useState(!1);F.useEffect(()=>{if(window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone===!0){x(!0);return}const E=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream;if(h(E),localStorage.getItem("bitedash_install_dismissed"))return;const R=_=>{_.preventDefault(),t(_),setTimeout(()=>{o(!0)},12e4)};return window.addEventListener("beforeinstallprompt",R),E&&setTimeout(()=>{o(!0)},12e4),()=>{window.removeEventListener("beforeinstallprompt",R)}},[]);const w=async()=>{if(!e)return;e.prompt();const{outcome:E}=await e.userChoice;E==="accepted"?(je.success("App installed successfully!"),o(!1),t(null)):je.error("Installation cancelled")},b=()=>{o(!1),localStorage.setItem("bitedash_install_dismissed","true")};return p||!i?null:m.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-end sm:items-center justify-center p-4 animate-in fade-in duration-200",children:m.jsxs("div",{className:"bg-white rounded-t-3xl sm:rounded-3xl max-w-md w-full p-6 shadow-2xl animate-in slide-in-from-bottom duration-300",children:[m.jsx("button",{onClick:b,className:"absolute top-4 right-4 p-2 rounded-full hover:bg-gray-100 transition-colors",children:m.jsx(Ih,{size:20,className:"text-gray-600"})}),m.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-brand-primary to-brand-secondary rounded-3xl flex items-center justify-center mx-auto mb-4",children:m.jsx(m3,{size:36,className:"text-white"})}),m.jsx("h3",{className:"text-2xl font-bold text-gray-900 text-center mb-2",children:"Install BiteDash"}),m.jsx("p",{className:"text-gray-600 text-center mb-6",children:"Get the full app experience with offline access, faster loading, and easy access from your home screen."}),m.jsxs("div",{className:"space-y-3 mb-6",children:[m.jsxs("div",{className:"flex items-start",children:[m.jsx("div",{className:"w-6 h-6 bg-green-100 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:m.jsx("span",{className:"text-green-600 text-sm",children:""})}),m.jsx("span",{className:"text-gray-700 text-sm ml-3",children:"Works offline"})]}),m.jsxs("div",{className:"flex items-start",children:[m.jsx("div",{className:"w-6 h-6 bg-green-100 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:m.jsx("span",{className:"text-green-600 text-sm",children:""})}),m.jsx("span",{className:"text-gray-700 text-sm ml-3",children:"Faster loading"})]}),m.jsxs("div",{className:"flex items-start",children:[m.jsx("div",{className:"w-6 h-6 bg-green-100 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:m.jsx("span",{className:"text-green-600 text-sm",children:""})}),m.jsx("span",{className:"text-gray-700 text-sm ml-3",children:"Push notifications"})]})]}),u?m.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-2xl p-4 mb-4",children:[m.jsxs("p",{className:"text-blue-900 text-sm font-semibold mb-2 flex items-center",children:[m.jsx(K5,{size:16,className:"mr-2"}),"To install on iOS:"]}),m.jsxs("ol",{className:"text-blue-800 text-sm space-y-1 ml-6 list-decimal",children:[m.jsx("li",{children:"Tap the Share button"}),m.jsx("li",{children:'Scroll and tap "Add to Home Screen"'}),m.jsx("li",{children:'Tap "Add" to confirm'})]})]}):m.jsx("button",{onClick:w,className:"w-full bg-gradient-to-r from-brand-primary to-brand-secondary text-white py-4 rounded-2xl font-semibold hover:shadow-lg transition-all mb-3",children:"Install App"}),m.jsx("button",{onClick:()=>o(!1),className:"w-full text-gray-600 py-3 rounded-2xl font-medium hover:bg-gray-50 transition-colors",children:"Maybe Later"})]})})},YD=()=>{const[e,t]=F.useState(navigator.onLine),[i,o]=F.useState(!1);F.useEffect(()=>{const h=()=>{t(!0),o(!1),je.success("Back online!",{icon:"",duration:3e3})},p=()=>{t(!1),o(!0),je.error("You are offline",{icon:"",duration:5e3})};return window.addEventListener("online",h),window.addEventListener("offline",p),navigator.onLine||o(!0),()=>{window.removeEventListener("online",h),window.removeEventListener("offline",p)}},[]);const u=()=>{navigator.onLine?window.location.reload():je.error("Still offline. Please check your connection.")};return i?m.jsx("div",{className:"fixed top-0 left-0 right-0 z-50 animate-in slide-in-from-top duration-300",children:m.jsx("div",{className:"bg-red-500 text-white px-4 py-3 shadow-lg",children:m.jsxs("div",{className:"flex items-center justify-between max-w-7xl mx-auto",children:[m.jsxs("div",{className:"flex items-center space-x-3",children:[m.jsx(Ag,{size:20,className:"flex-shrink-0"}),m.jsxs("div",{children:[m.jsx("p",{className:"font-semibold text-sm",children:"You're offline"}),m.jsx("p",{className:"text-xs opacity-90",children:"Some features may not be available"})]})]}),m.jsx("button",{onClick:u,className:"bg-white/20 hover:bg-white/30 px-4 py-2 rounded-lg text-sm font-medium transition-colors",children:"Retry"})]})})}):null},_r={isSupported:()=>"Notification"in window&&"serviceWorker"in navigator,getPermission:()=>_r.isSupported()?Notification.permission:"unsupported",requestPermission:async()=>{if(!_r.isSupported())return console.warn("Notifications not supported in this browser"),"unsupported";try{const e=await Notification.requestPermission();return console.log("Notification permission:",e),e}catch(e){return console.error("Error requesting notification permission:",e),"denied"}},showNotification:(e,t={})=>{if(!_r.isSupported())return console.warn("Notifications not supported"),null;if(Notification.permission!=="granted")return console.warn("Notification permission not granted"),null;const i={icon:"/logo.svg",badge:"/favicon.svg",vibrate:[200,100,200],requireInteraction:!1,...t};try{return new Notification(e,i)}catch(o){return console.error("Error showing notification:",o),null}},showServiceWorkerNotification:async(e,t={})=>{if(_r.isSupported())try{const i=await navigator.serviceWorker.ready,o={body:"You have a new notification",icon:"/logo.svg",badge:"/favicon.svg",vibrate:[200,100,200],data:{},actions:[{action:"view",title:"View"},{action:"close",title:"Close"}],...t};await i.showNotification(e,o)}catch(i){console.error("Error showing service worker notification:",i)}},isDocumentVisible:()=>document.visibilityState==="visible",smartNotify:(e,t={},i=null)=>{_r.isDocumentVisible()?i&&typeof i=="function"&&i(t.body||e):_r.showNotification(e,t)},notifyOrderUpdate:e=>{const{orderNumber:t,status:i,message:o}=e;_r.showNotification("Order Update",{body:o||`Order ${t} is now ${i}`,tag:`order-${t}`,data:{orderNumber:t,status:i,url:"/orders"},requireInteraction:i==="READY"})},test:async()=>{if(console.log("Testing notification service..."),console.log("Supported:",_r.isSupported()),console.log("Permission:",_r.getPermission()),Notification.permission!=="granted"){const e=await _r.requestPermission();console.log("Permission after request:",e)}Notification.permission==="granted"&&_r.showNotification("Test Notification",{body:"This is a test notification from BiteDash!",requireInteraction:!1})}};function XD(){return F.useEffect(()=>{(async()=>_r.isSupported()&&_r.getPermission()==="default"&&setTimeout(async()=>{const t=await _r.requestPermission();console.log("Notification permission:",t)},2e3))()},[]),m.jsx(VT,{children:m.jsx(SD,{children:m.jsxs(oO,{children:[m.jsx(YD,{}),m.jsx(PD,{}),m.jsx(FT,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#333",color:"#fff",borderRadius:"1rem",padding:"16px"},success:{iconTheme:{primary:"#ff5200",secondary:"#fff"}}}}),m.jsx(qD,{}),m.jsx(GD,{})]})})})}const WD=new hN;u6.createRoot(document.getElementById("root")).render(m.jsx(F.StrictMode,{children:m.jsx(fN,{client:WD,children:m.jsx(DA,{children:m.jsx(XD,{})})})}));
