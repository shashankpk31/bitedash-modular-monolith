(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))o(u);new MutationObserver(u=>{for(const h of u)if(h.type==="childList")for(const p of h.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&o(p)}).observe(document,{childList:!0,subtree:!0});function r(u){const h={};return u.integrity&&(h.integrity=u.integrity),u.referrerPolicy&&(h.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?h.credentials="include":u.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function o(u){if(u.ep)return;u.ep=!0;const h=r(u);fetch(u.href,h)}})();function Xx(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var O1={exports:{}},wc={};var ab;function QS(){if(ab)return wc;ab=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(o,u,h){var p=null;if(h!==void 0&&(p=""+h),u.key!==void 0&&(p=""+u.key),"key"in u){h={};for(var w in u)w!=="key"&&(h[w]=u[w])}else h=u;return u=h.ref,{$$typeof:e,type:o,key:p,ref:u!==void 0?u:null,props:h}}return wc.Fragment=t,wc.jsx=r,wc.jsxs=r,wc}var ob;function ZS(){return ob||(ob=1,O1.exports=QS()),O1.exports}var y=ZS(),M1={exports:{}},et={};var lb;function KS(){if(lb)return et;lb=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),p=Symbol.for("react.context"),w=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),b=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),R=Symbol.iterator;function D($){return $===null||typeof $!="object"?null:($=R&&$[R]||$["@@iterator"],typeof $=="function"?$:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,P={};function Y($,ge,Me){this.props=$,this.context=ge,this.refs=P,this.updater=Me||_}Y.prototype.isReactComponent={},Y.prototype.setState=function($,ge){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,ge,"setState")},Y.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function j(){}j.prototype=Y.prototype;function U($,ge,Me){this.props=$,this.context=ge,this.refs=P,this.updater=Me||_}var F=U.prototype=new j;F.constructor=U,k(F,Y.prototype),F.isPureReactComponent=!0;var I=Array.isArray;function X(){}var z={H:null,A:null,T:null,S:null},G=Object.prototype.hasOwnProperty;function Q($,ge,Me){var _e=Me.ref;return{$$typeof:e,type:$,key:ge,ref:_e!==void 0?_e:null,props:Me}}function Ee($,ge){return Q($.type,ge,$.props)}function ae($){return typeof $=="object"&&$!==null&&$.$$typeof===e}function ve($){var ge={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(Me){return ge[Me]})}var me=/\/+/g;function je($,ge){return typeof $=="object"&&$!==null&&$.key!=null?ve(""+$.key):ge.toString(36)}function ne($){switch($.status){case"fulfilled":return $.value;case"rejected":throw $.reason;default:switch(typeof $.status=="string"?$.then(X,X):($.status="pending",$.then(function(ge){$.status==="pending"&&($.status="fulfilled",$.value=ge)},function(ge){$.status==="pending"&&($.status="rejected",$.reason=ge)})),$.status){case"fulfilled":return $.value;case"rejected":throw $.reason}}throw $}function re($,ge,Me,_e,Ze){var Ie=typeof $;(Ie==="undefined"||Ie==="boolean")&&($=null);var yt=!1;if($===null)yt=!0;else switch(Ie){case"bigint":case"string":case"number":yt=!0;break;case"object":switch($.$$typeof){case e:case t:yt=!0;break;case E:return yt=$._init,re(yt($._payload),ge,Me,_e,Ze)}}if(yt)return Ze=Ze($),yt=_e===""?"."+je($,0):_e,I(Ze)?(Me="",yt!=null&&(Me=yt.replace(me,"$&/")+"/"),re(Ze,ge,Me,"",function(br){return br})):Ze!=null&&(ae(Ze)&&(Ze=Ee(Ze,Me+(Ze.key==null||$&&$.key===Ze.key?"":(""+Ze.key).replace(me,"$&/")+"/")+yt)),ge.push(Ze)),1;yt=0;var bt=_e===""?".":_e+":";if(I($))for(var Ht=0;Ht<$.length;Ht++)_e=$[Ht],Ie=bt+je(_e,Ht),yt+=re(_e,ge,Me,Ie,Ze);else if(Ht=D($),typeof Ht=="function")for($=Ht.call($),Ht=0;!(_e=$.next()).done;)_e=_e.value,Ie=bt+je(_e,Ht++),yt+=re(_e,ge,Me,Ie,Ze);else if(Ie==="object"){if(typeof $.then=="function")return re(ne($),ge,Me,_e,Ze);throw ge=String($),Error("Objects are not valid as a React child (found: "+(ge==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":ge)+"). If you meant to render a collection of children, use an array instead.")}return yt}function ue($,ge,Me){if($==null)return $;var _e=[],Ze=0;return re($,_e,"","",function(Ie){return ge.call(Me,Ie,Ze++)}),_e}function we($){if($._status===-1){var ge=$._result;ge=ge(),ge.then(function(Me){($._status===0||$._status===-1)&&($._status=1,$._result=Me)},function(Me){($._status===0||$._status===-1)&&($._status=2,$._result=Me)}),$._status===-1&&($._status=0,$._result=ge)}if($._status===1)return $._result.default;throw $._result}var Be=typeof reportError=="function"?reportError:function($){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ge=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof $=="object"&&$!==null&&typeof $.message=="string"?String($.message):String($),error:$});if(!window.dispatchEvent(ge))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",$);return}console.error($)},ye={map:ue,forEach:function($,ge,Me){ue($,function(){ge.apply(this,arguments)},Me)},count:function($){var ge=0;return ue($,function(){ge++}),ge},toArray:function($){return ue($,function(ge){return ge})||[]},only:function($){if(!ae($))throw Error("React.Children.only expected to receive a single React element child.");return $}};return et.Activity=A,et.Children=ye,et.Component=Y,et.Fragment=r,et.Profiler=u,et.PureComponent=U,et.StrictMode=o,et.Suspense=x,et.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=z,et.__COMPILER_RUNTIME={__proto__:null,c:function($){return z.H.useMemoCache($)}},et.cache=function($){return function(){return $.apply(null,arguments)}},et.cacheSignal=function(){return null},et.cloneElement=function($,ge,Me){if($==null)throw Error("The argument must be a React element, but you passed "+$+".");var _e=k({},$.props),Ze=$.key;if(ge!=null)for(Ie in ge.key!==void 0&&(Ze=""+ge.key),ge)!G.call(ge,Ie)||Ie==="key"||Ie==="__self"||Ie==="__source"||Ie==="ref"&&ge.ref===void 0||(_e[Ie]=ge[Ie]);var Ie=arguments.length-2;if(Ie===1)_e.children=Me;else if(1<Ie){for(var yt=Array(Ie),bt=0;bt<Ie;bt++)yt[bt]=arguments[bt+2];_e.children=yt}return Q($.type,Ze,_e)},et.createContext=function($){return $={$$typeof:p,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null},$.Provider=$,$.Consumer={$$typeof:h,_context:$},$},et.createElement=function($,ge,Me){var _e,Ze={},Ie=null;if(ge!=null)for(_e in ge.key!==void 0&&(Ie=""+ge.key),ge)G.call(ge,_e)&&_e!=="key"&&_e!=="__self"&&_e!=="__source"&&(Ze[_e]=ge[_e]);var yt=arguments.length-2;if(yt===1)Ze.children=Me;else if(1<yt){for(var bt=Array(yt),Ht=0;Ht<yt;Ht++)bt[Ht]=arguments[Ht+2];Ze.children=bt}if($&&$.defaultProps)for(_e in yt=$.defaultProps,yt)Ze[_e]===void 0&&(Ze[_e]=yt[_e]);return Q($,Ie,Ze)},et.createRef=function(){return{current:null}},et.forwardRef=function($){return{$$typeof:w,render:$}},et.isValidElement=ae,et.lazy=function($){return{$$typeof:E,_payload:{_status:-1,_result:$},_init:we}},et.memo=function($,ge){return{$$typeof:b,type:$,compare:ge===void 0?null:ge}},et.startTransition=function($){var ge=z.T,Me={};z.T=Me;try{var _e=$(),Ze=z.S;Ze!==null&&Ze(Me,_e),typeof _e=="object"&&_e!==null&&typeof _e.then=="function"&&_e.then(X,Be)}catch(Ie){Be(Ie)}finally{ge!==null&&Me.types!==null&&(ge.types=Me.types),z.T=ge}},et.unstable_useCacheRefresh=function(){return z.H.useCacheRefresh()},et.use=function($){return z.H.use($)},et.useActionState=function($,ge,Me){return z.H.useActionState($,ge,Me)},et.useCallback=function($,ge){return z.H.useCallback($,ge)},et.useContext=function($){return z.H.useContext($)},et.useDebugValue=function(){},et.useDeferredValue=function($,ge){return z.H.useDeferredValue($,ge)},et.useEffect=function($,ge){return z.H.useEffect($,ge)},et.useEffectEvent=function($){return z.H.useEffectEvent($)},et.useId=function(){return z.H.useId()},et.useImperativeHandle=function($,ge,Me){return z.H.useImperativeHandle($,ge,Me)},et.useInsertionEffect=function($,ge){return z.H.useInsertionEffect($,ge)},et.useLayoutEffect=function($,ge){return z.H.useLayoutEffect($,ge)},et.useMemo=function($,ge){return z.H.useMemo($,ge)},et.useOptimistic=function($,ge){return z.H.useOptimistic($,ge)},et.useReducer=function($,ge,Me){return z.H.useReducer($,ge,Me)},et.useRef=function($){return z.H.useRef($)},et.useState=function($){return z.H.useState($)},et.useSyncExternalStore=function($,ge,Me){return z.H.useSyncExternalStore($,ge,Me)},et.useTransition=function(){return z.H.useTransition()},et.version="19.2.4",et}var cb;function Km(){return cb||(cb=1,M1.exports=KS()),M1.exports}var H=Km();const on=Xx(H);var I1={exports:{}},xc={},_1={exports:{}},D1={};var ub;function $S(){return ub||(ub=1,(function(e){function t(re,ue){var we=re.length;re.push(ue);e:for(;0<we;){var Be=we-1>>>1,ye=re[Be];if(0<u(ye,ue))re[Be]=ue,re[we]=ye,we=Be;else break e}}function r(re){return re.length===0?null:re[0]}function o(re){if(re.length===0)return null;var ue=re[0],we=re.pop();if(we!==ue){re[0]=we;e:for(var Be=0,ye=re.length,$=ye>>>1;Be<$;){var ge=2*(Be+1)-1,Me=re[ge],_e=ge+1,Ze=re[_e];if(0>u(Me,we))_e<ye&&0>u(Ze,Me)?(re[Be]=Ze,re[_e]=we,Be=_e):(re[Be]=Me,re[ge]=we,Be=ge);else if(_e<ye&&0>u(Ze,we))re[Be]=Ze,re[_e]=we,Be=_e;else break e}}return ue}function u(re,ue){var we=re.sortIndex-ue.sortIndex;return we!==0?we:re.id-ue.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;e.unstable_now=function(){return h.now()}}else{var p=Date,w=p.now();e.unstable_now=function(){return p.now()-w}}var x=[],b=[],E=1,A=null,R=3,D=!1,_=!1,k=!1,P=!1,Y=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;function F(re){for(var ue=r(b);ue!==null;){if(ue.callback===null)o(b);else if(ue.startTime<=re)o(b),ue.sortIndex=ue.expirationTime,t(x,ue);else break;ue=r(b)}}function I(re){if(k=!1,F(re),!_)if(r(x)!==null)_=!0,X||(X=!0,ve());else{var ue=r(b);ue!==null&&ne(I,ue.startTime-re)}}var X=!1,z=-1,G=5,Q=-1;function Ee(){return P?!0:!(e.unstable_now()-Q<G)}function ae(){if(P=!1,X){var re=e.unstable_now();Q=re;var ue=!0;try{e:{_=!1,k&&(k=!1,j(z),z=-1),D=!0;var we=R;try{t:{for(F(re),A=r(x);A!==null&&!(A.expirationTime>re&&Ee());){var Be=A.callback;if(typeof Be=="function"){A.callback=null,R=A.priorityLevel;var ye=Be(A.expirationTime<=re);if(re=e.unstable_now(),typeof ye=="function"){A.callback=ye,F(re),ue=!0;break t}A===r(x)&&o(x),F(re)}else o(x);A=r(x)}if(A!==null)ue=!0;else{var $=r(b);$!==null&&ne(I,$.startTime-re),ue=!1}}break e}finally{A=null,R=we,D=!1}ue=void 0}}finally{ue?ve():X=!1}}}var ve;if(typeof U=="function")ve=function(){U(ae)};else if(typeof MessageChannel<"u"){var me=new MessageChannel,je=me.port2;me.port1.onmessage=ae,ve=function(){je.postMessage(null)}}else ve=function(){Y(ae,0)};function ne(re,ue){z=Y(function(){re(e.unstable_now())},ue)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(re){re.callback=null},e.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<re?Math.floor(1e3/re):5},e.unstable_getCurrentPriorityLevel=function(){return R},e.unstable_next=function(re){switch(R){case 1:case 2:case 3:var ue=3;break;default:ue=R}var we=R;R=ue;try{return re()}finally{R=we}},e.unstable_requestPaint=function(){P=!0},e.unstable_runWithPriority=function(re,ue){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var we=R;R=re;try{return ue()}finally{R=we}},e.unstable_scheduleCallback=function(re,ue,we){var Be=e.unstable_now();switch(typeof we=="object"&&we!==null?(we=we.delay,we=typeof we=="number"&&0<we?Be+we:Be):we=Be,re){case 1:var ye=-1;break;case 2:ye=250;break;case 5:ye=1073741823;break;case 4:ye=1e4;break;default:ye=5e3}return ye=we+ye,re={id:E++,callback:ue,priorityLevel:re,startTime:we,expirationTime:ye,sortIndex:-1},we>Be?(re.sortIndex=we,t(b,re),r(x)===null&&re===r(b)&&(k?(j(z),z=-1):k=!0,ne(I,we-Be))):(re.sortIndex=ye,t(x,re),_||D||(_=!0,X||(X=!0,ve()))),re},e.unstable_shouldYield=Ee,e.unstable_wrapCallback=function(re){var ue=R;return function(){var we=R;R=ue;try{return re.apply(this,arguments)}finally{R=we}}}})(D1)),D1}var db;function JS(){return db||(db=1,_1.exports=$S()),_1.exports}var j1={exports:{}},ei={};var hb;function e6(){if(hb)return ei;hb=1;var e=Km();function t(x){var b="https://react.dev/errors/"+x;if(1<arguments.length){b+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)b+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+x+"; visit "+b+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var o={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},u=Symbol.for("react.portal");function h(x,b,E){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:A==null?null:""+A,children:x,containerInfo:b,implementation:E}}var p=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function w(x,b){if(x==="font")return"";if(typeof b=="string")return b==="use-credentials"?b:""}return ei.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,ei.createPortal=function(x,b){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!b||b.nodeType!==1&&b.nodeType!==9&&b.nodeType!==11)throw Error(t(299));return h(x,b,null,E)},ei.flushSync=function(x){var b=p.T,E=o.p;try{if(p.T=null,o.p=2,x)return x()}finally{p.T=b,o.p=E,o.d.f()}},ei.preconnect=function(x,b){typeof x=="string"&&(b?(b=b.crossOrigin,b=typeof b=="string"?b==="use-credentials"?b:"":void 0):b=null,o.d.C(x,b))},ei.prefetchDNS=function(x){typeof x=="string"&&o.d.D(x)},ei.preinit=function(x,b){if(typeof x=="string"&&b&&typeof b.as=="string"){var E=b.as,A=w(E,b.crossOrigin),R=typeof b.integrity=="string"?b.integrity:void 0,D=typeof b.fetchPriority=="string"?b.fetchPriority:void 0;E==="style"?o.d.S(x,typeof b.precedence=="string"?b.precedence:void 0,{crossOrigin:A,integrity:R,fetchPriority:D}):E==="script"&&o.d.X(x,{crossOrigin:A,integrity:R,fetchPriority:D,nonce:typeof b.nonce=="string"?b.nonce:void 0})}},ei.preinitModule=function(x,b){if(typeof x=="string")if(typeof b=="object"&&b!==null){if(b.as==null||b.as==="script"){var E=w(b.as,b.crossOrigin);o.d.M(x,{crossOrigin:E,integrity:typeof b.integrity=="string"?b.integrity:void 0,nonce:typeof b.nonce=="string"?b.nonce:void 0})}}else b==null&&o.d.M(x)},ei.preload=function(x,b){if(typeof x=="string"&&typeof b=="object"&&b!==null&&typeof b.as=="string"){var E=b.as,A=w(E,b.crossOrigin);o.d.L(x,E,{crossOrigin:A,integrity:typeof b.integrity=="string"?b.integrity:void 0,nonce:typeof b.nonce=="string"?b.nonce:void 0,type:typeof b.type=="string"?b.type:void 0,fetchPriority:typeof b.fetchPriority=="string"?b.fetchPriority:void 0,referrerPolicy:typeof b.referrerPolicy=="string"?b.referrerPolicy:void 0,imageSrcSet:typeof b.imageSrcSet=="string"?b.imageSrcSet:void 0,imageSizes:typeof b.imageSizes=="string"?b.imageSizes:void 0,media:typeof b.media=="string"?b.media:void 0})}},ei.preloadModule=function(x,b){if(typeof x=="string")if(b){var E=w(b.as,b.crossOrigin);o.d.m(x,{as:typeof b.as=="string"&&b.as!=="script"?b.as:void 0,crossOrigin:E,integrity:typeof b.integrity=="string"?b.integrity:void 0})}else o.d.m(x)},ei.requestFormReset=function(x){o.d.r(x)},ei.unstable_batchedUpdates=function(x,b){return x(b)},ei.useFormState=function(x,b,E){return p.H.useFormState(x,b,E)},ei.useFormStatus=function(){return p.H.useHostTransitionStatus()},ei.version="19.2.4",ei}var fb;function t6(){if(fb)return j1.exports;fb=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),j1.exports=e6(),j1.exports}var mb;function n6(){if(mb)return xc;mb=1;var e=JS(),t=Km(),r=t6();function o(n){var s="https://react.dev/errors/"+n;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)s+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function h(n){var s=n,c=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(c=s.return),n=s.return;while(n)}return s.tag===3?c:null}function p(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function w(n){if(n.tag===31){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function x(n){if(h(n)!==n)throw Error(o(188))}function b(n){var s=n.alternate;if(!s){if(s=h(n),s===null)throw Error(o(188));return s!==n?null:n}for(var c=n,m=s;;){var C=c.return;if(C===null)break;var N=C.alternate;if(N===null){if(m=C.return,m!==null){c=m;continue}break}if(C.child===N.child){for(N=C.child;N;){if(N===c)return x(C),n;if(N===m)return x(C),s;N=N.sibling}throw Error(o(188))}if(c.return!==m.return)c=C,m=N;else{for(var M=!1,q=C.child;q;){if(q===c){M=!0,c=C,m=N;break}if(q===m){M=!0,m=C,c=N;break}q=q.sibling}if(!M){for(q=N.child;q;){if(q===c){M=!0,c=N,m=C;break}if(q===m){M=!0,m=N,c=C;break}q=q.sibling}if(!M)throw Error(o(189))}}if(c.alternate!==m)throw Error(o(190))}if(c.tag!==3)throw Error(o(188));return c.stateNode.current===c?n:s}function E(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n;for(n=n.child;n!==null;){if(s=E(n),s!==null)return s;n=n.sibling}return null}var A=Object.assign,R=Symbol.for("react.element"),D=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),Y=Symbol.for("react.profiler"),j=Symbol.for("react.consumer"),U=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),X=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),G=Symbol.for("react.lazy"),Q=Symbol.for("react.activity"),Ee=Symbol.for("react.memo_cache_sentinel"),ae=Symbol.iterator;function ve(n){return n===null||typeof n!="object"?null:(n=ae&&n[ae]||n["@@iterator"],typeof n=="function"?n:null)}var me=Symbol.for("react.client.reference");function je(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===me?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case k:return"Fragment";case Y:return"Profiler";case P:return"StrictMode";case I:return"Suspense";case X:return"SuspenseList";case Q:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case _:return"Portal";case U:return n.displayName||"Context";case j:return(n._context.displayName||"Context")+".Consumer";case F:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case z:return s=n.displayName||null,s!==null?s:je(n.type)||"Memo";case G:s=n._payload,n=n._init;try{return je(n(s))}catch{}}return null}var ne=Array.isArray,re=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,we={pending:!1,data:null,method:null,action:null},Be=[],ye=-1;function $(n){return{current:n}}function ge(n){0>ye||(n.current=Be[ye],Be[ye]=null,ye--)}function Me(n,s){ye++,Be[ye]=n.current,n.current=s}var _e=$(null),Ze=$(null),Ie=$(null),yt=$(null);function bt(n,s){switch(Me(Ie,s),Me(Ze,n),Me(_e,null),s.nodeType){case 9:case 11:n=(n=s.documentElement)&&(n=n.namespaceURI)?O2(n):0;break;default:if(n=s.tagName,s=s.namespaceURI)s=O2(s),n=M2(s,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}ge(_e),Me(_e,n)}function Ht(){ge(_e),ge(Ze),ge(Ie)}function br(n){n.memoizedState!==null&&Me(yt,n);var s=_e.current,c=M2(s,n.type);s!==c&&(Me(Ze,n),Me(_e,c))}function _n(n){Ze.current===n&&(ge(_e),ge(Ze)),yt.current===n&&(ge(yt),pc._currentValue=we)}var Ds,vt;function yi(n){if(Ds===void 0)try{throw Error()}catch(c){var s=c.stack.trim().match(/\n( *(at )?)/);Ds=s&&s[1]||"",vt=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ds+n+vt}var bi=!1;function ns(n,s){if(!n||bi)return"";bi=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(s){var Se=function(){throw Error()};if(Object.defineProperty(Se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Se,[])}catch(be){var de=be}Reflect.construct(n,[],Se)}else{try{Se.call()}catch(be){de=be}n.call(Se.prototype)}}else{try{throw Error()}catch(be){de=be}(Se=n())&&typeof Se.catch=="function"&&Se.catch(function(){})}}catch(be){if(be&&de&&typeof be.stack=="string")return[be.stack,de.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var C=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");C&&C.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var N=m.DetermineComponentFrameRoot(),M=N[0],q=N[1];if(M&&q){var K=M.split(`
`),ce=q.split(`
`);for(C=m=0;m<K.length&&!K[m].includes("DetermineComponentFrameRoot");)m++;for(;C<ce.length&&!ce[C].includes("DetermineComponentFrameRoot");)C++;if(m===K.length||C===ce.length)for(m=K.length-1,C=ce.length-1;1<=m&&0<=C&&K[m]!==ce[C];)C--;for(;1<=m&&0<=C;m--,C--)if(K[m]!==ce[C]){if(m!==1||C!==1)do if(m--,C--,0>C||K[m]!==ce[C]){var xe=`
`+K[m].replace(" at new "," at ");return n.displayName&&xe.includes("<anonymous>")&&(xe=xe.replace("<anonymous>",n.displayName)),xe}while(1<=m&&0<=C);break}}}finally{bi=!1,Error.prepareStackTrace=c}return(c=n?n.displayName||n.name:"")?yi(c):""}function Dn(n,s){switch(n.tag){case 26:case 27:case 5:return yi(n.type);case 16:return yi("Lazy");case 13:return n.child!==s&&s!==null?yi("Suspense Fallback"):yi("Suspense");case 19:return yi("SuspenseList");case 0:case 15:return ns(n.type,!1);case 11:return ns(n.type.render,!1);case 1:return ns(n.type,!0);case 31:return yi("Activity");default:return""}}function Dt(n){try{var s="",c=null;do s+=Dn(n,c),c=n,n=n.return;while(n);return s}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}var ot=Object.prototype.hasOwnProperty,js=e.unstable_scheduleCallback,Pe=e.unstable_cancelCallback,bo=e.unstable_shouldYield,ru=e.unstable_requestPaint,sn=e.unstable_now,Tl=e.unstable_getCurrentPriorityLevel,vi=e.unstable_ImmediatePriority,Rl=e.unstable_UserBlockingPriority,Di=e.unstable_NormalPriority,Yn=e.unstable_LowPriority,Ol=e.unstable_IdlePriority,vo=e.log,Dh=e.unstable_setDisableYieldValue,Wt=null,Oe=null;function Ut(n){if(typeof vo=="function"&&Dh(n),Oe&&typeof Oe.setStrictMode=="function")try{Oe.setStrictMode(Wt,n)}catch{}}var nt=Math.clz32?Math.clz32:Ml,en=Math.log,Ia=Math.LN2;function Ml(n){return n>>>=0,n===0?32:31-(en(n)/Ia|0)|0}var _a=256,ht=262144,$i=4194304;function jr(n){var s=n&42;if(s!==0)return s;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Da(n,s,c){var m=n.pendingLanes;if(m===0)return 0;var C=0,N=n.suspendedLanes,M=n.pingedLanes;n=n.warmLanes;var q=m&134217727;return q!==0?(m=q&~N,m!==0?C=jr(m):(M&=q,M!==0?C=jr(M):c||(c=q&~n,c!==0&&(C=jr(c))))):(q=m&~N,q!==0?C=jr(q):M!==0?C=jr(M):c||(c=m&~n,c!==0&&(C=jr(c)))),C===0?0:s!==0&&s!==C&&(s&N)===0&&(N=C&-C,c=s&-s,N>=c||N===32&&(c&4194048)!==0)?s:C}function Xn(n,s){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&s)===0}function Il(n,s){switch(n){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function jn(){var n=$i;return $i<<=1,($i&62914560)===0&&($i=4194304),n}function Lr(n){for(var s=[],c=0;31>c;c++)s.push(n);return s}function Br(n,s){n.pendingLanes|=s,s!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Ji(n,s,c,m,C,N){var M=n.pendingLanes;n.pendingLanes=c,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=c,n.entangledLanes&=c,n.errorRecoveryDisabledLanes&=c,n.shellSuspendCounter=0;var q=n.entanglements,K=n.expirationTimes,ce=n.hiddenUpdates;for(c=M&~c;0<c;){var xe=31-nt(c),Se=1<<xe;q[xe]=0,K[xe]=-1;var de=ce[xe];if(de!==null)for(ce[xe]=null,xe=0;xe<de.length;xe++){var be=de[xe];be!==null&&(be.lane&=-536870913)}c&=~Se}m!==0&&su(n,m,0),N!==0&&C===0&&n.tag!==0&&(n.suspendedLanes|=N&~(M&~s))}function su(n,s,c){n.pendingLanes|=s,n.suspendedLanes&=~s;var m=31-nt(s);n.entangledLanes|=s,n.entanglements[m]=n.entanglements[m]|1073741824|c&261930}function kr(n,s){var c=n.entangledLanes|=s;for(n=n.entanglements;c;){var m=31-nt(c),C=1<<m;C&s|n[m]&s&&(n[m]|=s),c&=~C}}function wo(n,s){var c=s&-s;return c=(c&42)!==0?1:Vn(c),(c&(n.suspendedLanes|s))!==0?0:c}function Vn(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function vr(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function ai(){var n=ue.p;return n!==0?n:(n=window.event,n===void 0?32:J2(n.type))}function Le(n,s){var c=ue.p;try{return ue.p=n,s()}finally{ue.p=c}}var oi=Math.random().toString(36).slice(2),bn="__reactFiber$"+oi,jt="__reactProps$"+oi,ji="__reactContainer$"+oi,Ls="__reactEvents$"+oi,xo="__reactListeners$"+oi,er="__reactHandles$"+oi,au="__reactResources$"+oi,ja="__reactMarker$"+oi;function wi(n){delete n[bn],delete n[jt],delete n[Ls],delete n[xo],delete n[er]}function un(n){var s=n[bn];if(s)return s;for(var c=n.parentNode;c;){if(s=c[ji]||c[bn]){if(c=s.alternate,s.child!==null||c!==null&&c.child!==null)for(n=k2(n);n!==null;){if(c=n[bn])return c;n=k2(n)}return s}n=c,c=n.parentNode}return null}function Nt(n){if(n=n[bn]||n[ji]){var s=n.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return n}return null}function Bs(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n.stateNode;throw Error(o(33))}function li(n){var s=n[au];return s||(s=n[au]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function dn(n){n[ja]=!0}var Ae=new Set,ou={};function Mt(n,s){Li(n,s),Li(n+"Capture",s)}function Li(n,s){for(ou[n]=s,n=0;n<s.length;n++)Ae.add(s[n])}var jh=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),xt={},wt={};function lt(n){return ot.call(wt,n)?!0:ot.call(xt,n)?!1:jh.test(n)?wt[n]=!0:(xt[n]=!0,!1)}function ks(n,s,c){if(lt(s))if(c===null)n.removeAttribute(s);else{switch(typeof c){case"undefined":case"function":case"symbol":n.removeAttribute(s);return;case"boolean":var m=s.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){n.removeAttribute(s);return}}n.setAttribute(s,""+c)}}function Ps(n,s,c){if(c===null)n.removeAttribute(s);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttribute(s,""+c)}}function Bi(n,s,c,m){if(m===null)n.removeAttribute(c);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(c);return}n.setAttributeNS(s,c,""+m)}}function Et(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function wr(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Lh(n,s,c){var m=Object.getOwnPropertyDescriptor(n.constructor.prototype,s);if(!n.hasOwnProperty(s)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var C=m.get,N=m.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return C.call(this)},set:function(M){c=""+M,N.call(this,M)}}),Object.defineProperty(n,s,{enumerable:m.enumerable}),{getValue:function(){return c},setValue:function(M){c=""+M},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function Zt(n){if(!n._valueTracker){var s=wr(n)?"checked":"value";n._valueTracker=Lh(n,s,""+n[s])}}function xr(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var c=s.getValue(),m="";return n&&(m=wr(n)?n.checked?"true":"false":n.value),n=m,n!==c?(s.setValue(n),!0):!1}function Eo(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Us=/[\n"\\]/g;function at(n){return n.replace(Us,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Sn(n,s,c,m,C,N,M,q){n.name="",M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?n.type=M:n.removeAttribute("type"),s!=null?M==="number"?(s===0&&n.value===""||n.value!=s)&&(n.value=""+Et(s)):n.value!==""+Et(s)&&(n.value=""+Et(s)):M!=="submit"&&M!=="reset"||n.removeAttribute("value"),s!=null?W(n,M,Et(s)):c!=null?W(n,M,Et(c)):m!=null&&n.removeAttribute("value"),C==null&&N!=null&&(n.defaultChecked=!!N),C!=null&&(n.checked=C&&typeof C!="function"&&typeof C!="symbol"),q!=null&&typeof q!="function"&&typeof q!="symbol"&&typeof q!="boolean"?n.name=""+Et(q):n.removeAttribute("name")}function oe(n,s,c,m,C,N,M,q){if(N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(n.type=N),s!=null||c!=null){if(!(N!=="submit"&&N!=="reset"||s!=null)){Zt(n);return}c=c!=null?""+Et(c):"",s=s!=null?""+Et(s):c,q||s===n.value||(n.value=s),n.defaultValue=s}m=m??C,m=typeof m!="function"&&typeof m!="symbol"&&!!m,n.checked=q?n.checked:!!m,n.defaultChecked=!!m,M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"&&(n.name=M),Zt(n)}function W(n,s,c){s==="number"&&Eo(n.ownerDocument)===n||n.defaultValue===""+c||(n.defaultValue=""+c)}function Ve(n,s,c,m){if(n=n.options,s){s={};for(var C=0;C<c.length;C++)s["$"+c[C]]=!0;for(c=0;c<n.length;c++)C=s.hasOwnProperty("$"+n[c].value),n[c].selected!==C&&(n[c].selected=C),C&&m&&(n[c].defaultSelected=!0)}else{for(c=""+Et(c),s=null,C=0;C<n.length;C++){if(n[C].value===c){n[C].selected=!0,m&&(n[C].defaultSelected=!0);return}s!==null||n[C].disabled||(s=n[C])}s!==null&&(s.selected=!0)}}function vn(n,s,c){if(s!=null&&(s=""+Et(s),s!==n.value&&(n.value=s),c==null)){n.defaultValue!==s&&(n.defaultValue=s);return}n.defaultValue=c!=null?""+Et(c):""}function ci(n,s,c,m){if(s==null){if(m!=null){if(c!=null)throw Error(o(92));if(ne(m)){if(1<m.length)throw Error(o(93));m=m[0]}c=m}c==null&&(c=""),s=c}c=Et(s),n.defaultValue=c,m=n.textContent,m===c&&m!==""&&m!==null&&(n.value=m),Zt(n)}function zs(n,s){if(s){var c=n.firstChild;if(c&&c===n.lastChild&&c.nodeType===3){c.nodeValue=s;return}}n.textContent=s}var _l=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ui(n,s,c){var m=s.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?m?n.setProperty(s,""):s==="float"?n.cssFloat="":n[s]="":m?n.setProperty(s,c):typeof c!="number"||c===0||_l.has(s)?s==="float"?n.cssFloat=c:n[s]=(""+c).trim():n[s]=c+"px"}function Ge(n,s,c){if(s!=null&&typeof s!="object")throw Error(o(62));if(n=n.style,c!=null){for(var m in c)!c.hasOwnProperty(m)||s!=null&&s.hasOwnProperty(m)||(m.indexOf("--")===0?n.setProperty(m,""):m==="float"?n.cssFloat="":n[m]="");for(var C in s)m=s[C],s.hasOwnProperty(C)&&c[C]!==m&&ui(n,C,m)}else for(var N in s)s.hasOwnProperty(N)&&ui(n,N,s[N])}function qt(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Bh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Fs(n){return Bh.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function xi(){}var La=null;function Dl(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Kt=null,tr=null;function Er(n){var s=Nt(n);if(s&&(n=s.stateNode)){var c=n[jt]||null;e:switch(n=s.stateNode,s.type){case"input":if(Sn(n,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),s=c.name,c.type==="radio"&&s!=null){for(c=n;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+at(""+s)+'"][type="radio"]'),s=0;s<c.length;s++){var m=c[s];if(m!==n&&m.form===n.form){var C=m[jt]||null;if(!C)throw Error(o(90));Sn(m,C.value,C.defaultValue,C.defaultValue,C.checked,C.defaultChecked,C.type,C.name)}}for(s=0;s<c.length;s++)m=c[s],m.form===n.form&&xr(m)}break e;case"textarea":vn(n,c.value,c.defaultValue);break e;case"select":s=c.value,s!=null&&Ve(n,!!c.multiple,s,!1)}}}var Xe=!1;function cu(n,s,c){if(Xe)return n(s,c);Xe=!0;try{var m=n(s);return m}finally{if(Xe=!1,(Kt!==null||tr!==null)&&(ed(),Kt&&(s=Kt,n=tr,tr=Kt=null,Er(s),n)))for(s=0;s<n.length;s++)Er(n[s])}}function $e(n,s){var c=n.stateNode;if(c===null)return null;var m=c[jt]||null;if(m===null)return null;c=m[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(n=n.type,m=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!m;break e;default:n=!1}if(n)return null;if(c&&typeof c!="function")throw Error(o(231,s,typeof c));return c}var Gt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),jl=!1;if(Gt)try{var is={};Object.defineProperty(is,"passive",{get:function(){jl=!0}}),window.addEventListener("test",is,is),window.removeEventListener("test",is,is)}catch{jl=!1}var Cr=null,Sr=null,Co=null;function Vs(){if(Co)return Co;var n,s=Sr,c=s.length,m,C="value"in Cr?Cr.value:Cr.textContent,N=C.length;for(n=0;n<c&&s[n]===C[n];n++);var M=c-n;for(m=1;m<=M&&s[c-m]===C[N-m];m++);return Co=C.slice(n,1<m?1-m:void 0)}function Pr(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function Ur(){return!0}function Ll(){return!1}function An(n){function s(c,m,C,N,M){this._reactName=c,this._targetInst=C,this.type=m,this.nativeEvent=N,this.target=M,this.currentTarget=null;for(var q in n)n.hasOwnProperty(q)&&(c=n[q],this[q]=c?c(N):N[q]);return this.isDefaultPrevented=(N.defaultPrevented!=null?N.defaultPrevented:N.returnValue===!1)?Ur:Ll,this.isPropagationStopped=Ll,this}return A(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Ur)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Ur)},persist:function(){},isPersistent:Ur}),s}var ki={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ln=An(ki),Hs=A({},ki,{view:0,detail:0}),uu=An(Hs),So,Bl,Ba,Ao=A({},Hs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ka,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Ba&&(Ba&&n.type==="mousemove"?(So=n.screenX-Ba.screenX,Bl=n.screenY-Ba.screenY):Bl=So=0,Ba=n),So)},movementY:function(n){return"movementY"in n?n.movementY:Bl}}),Tt=An(Ao),du=A({},Ao,{dataTransfer:0}),No=An(du),zr=A({},Hs,{relatedTarget:0}),kl=An(zr),fe=A({},ki,{animationName:0,elapsedTime:0,pseudoElement:0}),it=An(fe),Bn=A({},ki,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),To=An(Bn),hu=A({},ki,{data:0}),fu=An(hu),kh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ph={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Pl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wn(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=Pl[n])?!!s[n]:!1}function ka(){return wn}var tn=A({},Hs,{key:function(n){if(n.key){var s=kh[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=Pr(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Ph[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ka,charCode:function(n){return n.type==="keypress"?Pr(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Pr(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Ro=An(tn),rs=A({},Ao,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),It=An(rs),We=A({},Hs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ka}),Uh=An(We),Yt=A({},ki,{propertyName:0,elapsedTime:0,pseudoElement:0}),ss=An(Yt),qs=A({},Ao,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),zh=An(qs),nr=A({},ki,{newState:0,oldState:0}),Ul=An(nr),mu=[9,13,27,32],Pa=Gt&&"CompositionEvent"in window,Gs=null;Gt&&"documentMode"in document&&(Gs=document.documentMode);var gu=Gt&&"TextEvent"in window&&!Gs,pu=Gt&&(!Pa||Gs&&8<Gs&&11>=Gs),as=" ",Oo=!1;function yu(n,s){switch(n){case"keyup":return mu.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ys(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Xs=!1;function Fr(n,s){switch(n){case"compositionend":return Ys(s);case"keypress":return s.which!==32?null:(Oo=!0,as);case"textInput":return n=s.data,n===as&&Oo?null:n;default:return null}}function Mo(n,s){if(Xs)return n==="compositionend"||!Pa&&yu(n,s)?(n=Vs(),Co=Sr=Cr=null,Xs=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return pu&&s.locale!=="ko"?null:s.data;default:return null}}var Ei={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zl(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!Ei[n.type]:s==="textarea"}function Pi(n,s,c,m){Kt?tr?tr.push(m):tr=[m]:Kt=m,s=od(s,"onChange"),0<s.length&&(c=new Ln("onChange","change",null,c,m),n.push({event:c,listeners:s}))}var Ua=null,os=null;function Fh(n){C2(n,0)}function za(n){var s=Bs(n);if(xr(s))return n}function Ui(n,s){if(n==="change")return s}var bu=!1;if(Gt){var Fa;if(Gt){var ls="oninput"in document;if(!ls){var ft=document.createElement("div");ft.setAttribute("oninput","return;"),ls=typeof ft.oninput=="function"}Fa=ls}else Fa=!1;bu=Fa&&(!document.documentMode||9<document.documentMode)}function Va(){Ua&&(Ua.detachEvent("onpropertychange",L),os=Ua=null)}function L(n){if(n.propertyName==="value"&&za(os)){var s=[];Pi(s,os,n,Dl(n)),cu(Fh,s)}}function i(n,s,c){n==="focusin"?(Va(),Ua=s,os=c,Ua.attachEvent("onpropertychange",L)):n==="focusout"&&Va()}function a(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return za(os)}function l(n,s){if(n==="click")return za(s)}function d(n,s){if(n==="input"||n==="change")return za(s)}function f(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var g=typeof Object.is=="function"?Object.is:f;function v(n,s){if(g(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var c=Object.keys(n),m=Object.keys(s);if(c.length!==m.length)return!1;for(m=0;m<c.length;m++){var C=c[m];if(!ot.call(s,C)||!g(n[C],s[C]))return!1}return!0}function S(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function T(n,s){var c=S(n);n=0;for(var m;c;){if(c.nodeType===3){if(m=n+c.textContent.length,n<=s&&m>=s)return{node:c,offset:s-n};n=m}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=S(c)}}function O(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?O(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function B(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var s=Eo(n.document);s instanceof n.HTMLIFrameElement;){try{var c=typeof s.contentWindow.location.href=="string"}catch{c=!1}if(c)n=s.contentWindow;else break;s=Eo(n.document)}return s}function V(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}var Z=Gt&&"documentMode"in document&&11>=document.documentMode,J=null,ee=null,se=null,he=!1;function Re(n,s,c){var m=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;he||J==null||J!==Eo(m)||(m=J,"selectionStart"in m&&V(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),se&&v(se,m)||(se=m,m=od(ee,"onSelect"),0<m.length&&(s=new Ln("onSelect","select",null,s,c),n.push({event:s,listeners:m}),s.target=J)))}function Te(n,s){var c={};return c[n.toLowerCase()]=s.toLowerCase(),c["Webkit"+n]="webkit"+s,c["Moz"+n]="moz"+s,c}var Ne={animationend:Te("Animation","AnimationEnd"),animationiteration:Te("Animation","AnimationIteration"),animationstart:Te("Animation","AnimationStart"),transitionrun:Te("Transition","TransitionRun"),transitionstart:Te("Transition","TransitionStart"),transitioncancel:Te("Transition","TransitionCancel"),transitionend:Te("Transition","TransitionEnd")},st={},Je={};Gt&&(Je=document.createElement("div").style,"AnimationEvent"in window||(delete Ne.animationend.animation,delete Ne.animationiteration.animation,delete Ne.animationstart.animation),"TransitionEvent"in window||delete Ne.transitionend.transition);function hn(n){if(st[n])return st[n];if(!Ne[n])return n;var s=Ne[n],c;for(c in s)if(s.hasOwnProperty(c)&&c in Je)return st[n]=s[c];return n}var Ci=hn("animationend"),Wn=hn("animationiteration"),_t=hn("animationstart"),kn=hn("transitionrun"),di=hn("transitionstart"),Ws=hn("transitioncancel"),cs=hn("transitionend"),vu=new Map,Fl="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Fl.push("scrollEnd");function Ar(n,s){vu.set(n,s),Mt(s,[n])}var wu=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},ir=[],Io=0,Vh=0;function xu(){for(var n=Io,s=Vh=Io=0;s<n;){var c=ir[s];ir[s++]=null;var m=ir[s];ir[s++]=null;var C=ir[s];ir[s++]=null;var N=ir[s];if(ir[s++]=null,m!==null&&C!==null){var M=m.pending;M===null?C.next=C:(C.next=M.next,M.next=C),m.pending=C}N!==0&&rp(c,C,N)}}function Eu(n,s,c,m){ir[Io++]=n,ir[Io++]=s,ir[Io++]=c,ir[Io++]=m,Vh|=m,n.lanes|=m,n=n.alternate,n!==null&&(n.lanes|=m)}function Hh(n,s,c,m){return Eu(n,s,c,m),Cu(n)}function Ha(n,s){return Eu(n,null,null,s),Cu(n)}function rp(n,s,c){n.lanes|=c;var m=n.alternate;m!==null&&(m.lanes|=c);for(var C=!1,N=n.return;N!==null;)N.childLanes|=c,m=N.alternate,m!==null&&(m.childLanes|=c),N.tag===22&&(n=N.stateNode,n===null||n._visibility&1||(C=!0)),n=N,N=N.return;return n.tag===3?(N=n.stateNode,C&&s!==null&&(C=31-nt(c),n=N.hiddenUpdates,m=n[C],m===null?n[C]=[s]:m.push(s),s.lane=c|536870912),N):null}function Cu(n){if(50<cc)throw cc=0,Jf=null,Error(o(185));for(var s=n.return;s!==null;)n=s,s=n.return;return n.tag===3?n.stateNode:null}var _o={};function _C(n,s,c,m){this.tag=n,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zi(n,s,c,m){return new _C(n,s,c,m)}function qh(n){return n=n.prototype,!(!n||!n.isReactComponent)}function us(n,s){var c=n.alternate;return c===null?(c=zi(n.tag,s,n.key,n.mode),c.elementType=n.elementType,c.type=n.type,c.stateNode=n.stateNode,c.alternate=n,n.alternate=c):(c.pendingProps=s,c.type=n.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=n.flags&65011712,c.childLanes=n.childLanes,c.lanes=n.lanes,c.child=n.child,c.memoizedProps=n.memoizedProps,c.memoizedState=n.memoizedState,c.updateQueue=n.updateQueue,s=n.dependencies,c.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},c.sibling=n.sibling,c.index=n.index,c.ref=n.ref,c.refCleanup=n.refCleanup,c}function sp(n,s){n.flags&=65011714;var c=n.alternate;return c===null?(n.childLanes=0,n.lanes=s,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=c.childLanes,n.lanes=c.lanes,n.child=c.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=c.memoizedProps,n.memoizedState=c.memoizedState,n.updateQueue=c.updateQueue,n.type=c.type,s=c.dependencies,n.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),n}function Su(n,s,c,m,C,N){var M=0;if(m=n,typeof n=="function")qh(n)&&(M=1);else if(typeof n=="string")M=kS(n,c,_e.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case Q:return n=zi(31,c,s,C),n.elementType=Q,n.lanes=N,n;case k:return qa(c.children,C,N,s);case P:M=8,C|=24;break;case Y:return n=zi(12,c,s,C|2),n.elementType=Y,n.lanes=N,n;case I:return n=zi(13,c,s,C),n.elementType=I,n.lanes=N,n;case X:return n=zi(19,c,s,C),n.elementType=X,n.lanes=N,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case U:M=10;break e;case j:M=9;break e;case F:M=11;break e;case z:M=14;break e;case G:M=16,m=null;break e}M=29,c=Error(o(130,n===null?"null":typeof n,"")),m=null}return s=zi(M,c,s,C),s.elementType=n,s.type=m,s.lanes=N,s}function qa(n,s,c,m){return n=zi(7,n,m,s),n.lanes=c,n}function Gh(n,s,c){return n=zi(6,n,null,s),n.lanes=c,n}function ap(n){var s=zi(18,null,null,0);return s.stateNode=n,s}function Yh(n,s,c){return s=zi(4,n.children!==null?n.children:[],n.key,s),s.lanes=c,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}var op=new WeakMap;function rr(n,s){if(typeof n=="object"&&n!==null){var c=op.get(n);return c!==void 0?c:(s={value:n,source:s,stack:Dt(s)},op.set(n,s),s)}return{value:n,source:s,stack:Dt(s)}}var Do=[],jo=0,Au=null,Vl=0,sr=[],ar=0,Qs=null,Vr=1,Hr="";function ds(n,s){Do[jo++]=Vl,Do[jo++]=Au,Au=n,Vl=s}function lp(n,s,c){sr[ar++]=Vr,sr[ar++]=Hr,sr[ar++]=Qs,Qs=n;var m=Vr;n=Hr;var C=32-nt(m)-1;m&=~(1<<C),c+=1;var N=32-nt(s)+C;if(30<N){var M=C-C%5;N=(m&(1<<M)-1).toString(32),m>>=M,C-=M,Vr=1<<32-nt(s)+C|c<<C|m,Hr=N+n}else Vr=1<<N|c<<C|m,Hr=n}function Xh(n){n.return!==null&&(ds(n,1),lp(n,1,0))}function Wh(n){for(;n===Au;)Au=Do[--jo],Do[jo]=null,Vl=Do[--jo],Do[jo]=null;for(;n===Qs;)Qs=sr[--ar],sr[ar]=null,Hr=sr[--ar],sr[ar]=null,Vr=sr[--ar],sr[ar]=null}function cp(n,s){sr[ar++]=Vr,sr[ar++]=Hr,sr[ar++]=Qs,Vr=s.id,Hr=s.overflow,Qs=n}var Qn=null,$t=null,pt=!1,Zs=null,or=!1,Qh=Error(o(519));function Ks(n){var s=Error(o(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Hl(rr(s,n)),Qh}function up(n){var s=n.stateNode,c=n.type,m=n.memoizedProps;switch(s[bn]=n,s[jt]=m,c){case"dialog":ut("cancel",s),ut("close",s);break;case"iframe":case"object":case"embed":ut("load",s);break;case"video":case"audio":for(c=0;c<dc.length;c++)ut(dc[c],s);break;case"source":ut("error",s);break;case"img":case"image":case"link":ut("error",s),ut("load",s);break;case"details":ut("toggle",s);break;case"input":ut("invalid",s),oe(s,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0);break;case"select":ut("invalid",s);break;case"textarea":ut("invalid",s),ci(s,m.value,m.defaultValue,m.children)}c=m.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||s.textContent===""+c||m.suppressHydrationWarning===!0||T2(s.textContent,c)?(m.popover!=null&&(ut("beforetoggle",s),ut("toggle",s)),m.onScroll!=null&&ut("scroll",s),m.onScrollEnd!=null&&ut("scrollend",s),m.onClick!=null&&(s.onclick=xi),s=!0):s=!1,s||Ks(n,!0)}function dp(n){for(Qn=n.return;Qn;)switch(Qn.tag){case 5:case 31:case 13:or=!1;return;case 27:case 3:or=!0;return;default:Qn=Qn.return}}function Lo(n){if(n!==Qn)return!1;if(!pt)return dp(n),pt=!0,!1;var s=n.tag,c;if((c=s!==3&&s!==27)&&((c=s===5)&&(c=n.type,c=!(c!=="form"&&c!=="button")||m1(n.type,n.memoizedProps)),c=!c),c&&$t&&Ks(n),dp(n),s===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(o(317));$t=B2(n)}else if(s===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(o(317));$t=B2(n)}else s===27?(s=$t,da(n.type)?(n=v1,v1=null,$t=n):$t=s):$t=Qn?cr(n.stateNode.nextSibling):null;return!0}function Ga(){$t=Qn=null,pt=!1}function Zh(){var n=Zs;return n!==null&&(Ti===null?Ti=n:Ti.push.apply(Ti,n),Zs=null),n}function Hl(n){Zs===null?Zs=[n]:Zs.push(n)}var Kh=$(null),Ya=null,hs=null;function $s(n,s,c){Me(Kh,s._currentValue),s._currentValue=c}function fs(n){n._currentValue=Kh.current,ge(Kh)}function $h(n,s,c){for(;n!==null;){var m=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,m!==null&&(m.childLanes|=s)):m!==null&&(m.childLanes&s)!==s&&(m.childLanes|=s),n===c)break;n=n.return}}function Jh(n,s,c,m){var C=n.child;for(C!==null&&(C.return=n);C!==null;){var N=C.dependencies;if(N!==null){var M=C.child;N=N.firstContext;e:for(;N!==null;){var q=N;N=C;for(var K=0;K<s.length;K++)if(q.context===s[K]){N.lanes|=c,q=N.alternate,q!==null&&(q.lanes|=c),$h(N.return,c,n),m||(M=null);break e}N=q.next}}else if(C.tag===18){if(M=C.return,M===null)throw Error(o(341));M.lanes|=c,N=M.alternate,N!==null&&(N.lanes|=c),$h(M,c,n),M=null}else M=C.child;if(M!==null)M.return=C;else for(M=C;M!==null;){if(M===n){M=null;break}if(C=M.sibling,C!==null){C.return=M.return,M=C;break}M=M.return}C=M}}function Bo(n,s,c,m){n=null;for(var C=s,N=!1;C!==null;){if(!N){if((C.flags&524288)!==0)N=!0;else if((C.flags&262144)!==0)break}if(C.tag===10){var M=C.alternate;if(M===null)throw Error(o(387));if(M=M.memoizedProps,M!==null){var q=C.type;g(C.pendingProps.value,M.value)||(n!==null?n.push(q):n=[q])}}else if(C===yt.current){if(M=C.alternate,M===null)throw Error(o(387));M.memoizedState.memoizedState!==C.memoizedState.memoizedState&&(n!==null?n.push(pc):n=[pc])}C=C.return}n!==null&&Jh(s,n,c,m),s.flags|=262144}function Nu(n){for(n=n.firstContext;n!==null;){if(!g(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Xa(n){Ya=n,hs=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Zn(n){return hp(Ya,n)}function Tu(n,s){return Ya===null&&Xa(n),hp(n,s)}function hp(n,s){var c=s._currentValue;if(s={context:s,memoizedValue:c,next:null},hs===null){if(n===null)throw Error(o(308));hs=s,n.dependencies={lanes:0,firstContext:s},n.flags|=524288}else hs=hs.next=s;return c}var DC=typeof AbortController<"u"?AbortController:function(){var n=[],s=this.signal={aborted:!1,addEventListener:function(c,m){n.push(m)}};this.abort=function(){s.aborted=!0,n.forEach(function(c){return c()})}},jC=e.unstable_scheduleCallback,LC=e.unstable_NormalPriority,Nn={$$typeof:U,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ef(){return{controller:new DC,data:new Map,refCount:0}}function ql(n){n.refCount--,n.refCount===0&&jC(LC,function(){n.controller.abort()})}var Gl=null,tf=0,ko=0,Po=null;function BC(n,s){if(Gl===null){var c=Gl=[];tf=0,ko=s1(),Po={status:"pending",value:void 0,then:function(m){c.push(m)}}}return tf++,s.then(fp,fp),s}function fp(){if(--tf===0&&Gl!==null){Po!==null&&(Po.status="fulfilled");var n=Gl;Gl=null,ko=0,Po=null;for(var s=0;s<n.length;s++)(0,n[s])()}}function kC(n,s){var c=[],m={status:"pending",value:null,reason:null,then:function(C){c.push(C)}};return n.then(function(){m.status="fulfilled",m.value=s;for(var C=0;C<c.length;C++)(0,c[C])(s)},function(C){for(m.status="rejected",m.reason=C,C=0;C<c.length;C++)(0,c[C])(void 0)}),m}var mp=re.S;re.S=function(n,s){Ky=sn(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&BC(n,s),mp!==null&&mp(n,s)};var Wa=$(null);function nf(){var n=Wa.current;return n!==null?n:Xt.pooledCache}function Ru(n,s){s===null?Me(Wa,Wa.current):Me(Wa,s.pool)}function gp(){var n=nf();return n===null?null:{parent:Nn._currentValue,pool:n}}var Uo=Error(o(460)),rf=Error(o(474)),Ou=Error(o(542)),Mu={then:function(){}};function pp(n){return n=n.status,n==="fulfilled"||n==="rejected"}function yp(n,s,c){switch(c=n[c],c===void 0?n.push(s):c!==s&&(s.then(xi,xi),s=c),s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,vp(n),n;default:if(typeof s.status=="string")s.then(xi,xi);else{if(n=Xt,n!==null&&100<n.shellSuspendCounter)throw Error(o(482));n=s,n.status="pending",n.then(function(m){if(s.status==="pending"){var C=s;C.status="fulfilled",C.value=m}},function(m){if(s.status==="pending"){var C=s;C.status="rejected",C.reason=m}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,vp(n),n}throw Za=s,Uo}}function Qa(n){try{var s=n._init;return s(n._payload)}catch(c){throw c!==null&&typeof c=="object"&&typeof c.then=="function"?(Za=c,Uo):c}}var Za=null;function bp(){if(Za===null)throw Error(o(459));var n=Za;return Za=null,n}function vp(n){if(n===Uo||n===Ou)throw Error(o(483))}var zo=null,Yl=0;function Iu(n){var s=Yl;return Yl+=1,zo===null&&(zo=[]),yp(zo,n,s)}function Xl(n,s){s=s.props.ref,n.ref=s!==void 0?s:null}function _u(n,s){throw s.$$typeof===R?Error(o(525)):(n=Object.prototype.toString.call(s),Error(o(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n)))}function wp(n){function s(ie,te){if(n){var le=ie.deletions;le===null?(ie.deletions=[te],ie.flags|=16):le.push(te)}}function c(ie,te){if(!n)return null;for(;te!==null;)s(ie,te),te=te.sibling;return null}function m(ie){for(var te=new Map;ie!==null;)ie.key!==null?te.set(ie.key,ie):te.set(ie.index,ie),ie=ie.sibling;return te}function C(ie,te){return ie=us(ie,te),ie.index=0,ie.sibling=null,ie}function N(ie,te,le){return ie.index=le,n?(le=ie.alternate,le!==null?(le=le.index,le<te?(ie.flags|=67108866,te):le):(ie.flags|=67108866,te)):(ie.flags|=1048576,te)}function M(ie){return n&&ie.alternate===null&&(ie.flags|=67108866),ie}function q(ie,te,le,Ce){return te===null||te.tag!==6?(te=Gh(le,ie.mode,Ce),te.return=ie,te):(te=C(te,le),te.return=ie,te)}function K(ie,te,le,Ce){var Ye=le.type;return Ye===k?xe(ie,te,le.props.children,Ce,le.key):te!==null&&(te.elementType===Ye||typeof Ye=="object"&&Ye!==null&&Ye.$$typeof===G&&Qa(Ye)===te.type)?(te=C(te,le.props),Xl(te,le),te.return=ie,te):(te=Su(le.type,le.key,le.props,null,ie.mode,Ce),Xl(te,le),te.return=ie,te)}function ce(ie,te,le,Ce){return te===null||te.tag!==4||te.stateNode.containerInfo!==le.containerInfo||te.stateNode.implementation!==le.implementation?(te=Yh(le,ie.mode,Ce),te.return=ie,te):(te=C(te,le.children||[]),te.return=ie,te)}function xe(ie,te,le,Ce,Ye){return te===null||te.tag!==7?(te=qa(le,ie.mode,Ce,Ye),te.return=ie,te):(te=C(te,le),te.return=ie,te)}function Se(ie,te,le){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return te=Gh(""+te,ie.mode,le),te.return=ie,te;if(typeof te=="object"&&te!==null){switch(te.$$typeof){case D:return le=Su(te.type,te.key,te.props,null,ie.mode,le),Xl(le,te),le.return=ie,le;case _:return te=Yh(te,ie.mode,le),te.return=ie,te;case G:return te=Qa(te),Se(ie,te,le)}if(ne(te)||ve(te))return te=qa(te,ie.mode,le,null),te.return=ie,te;if(typeof te.then=="function")return Se(ie,Iu(te),le);if(te.$$typeof===U)return Se(ie,Tu(ie,te),le);_u(ie,te)}return null}function de(ie,te,le,Ce){var Ye=te!==null?te.key:null;if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return Ye!==null?null:q(ie,te,""+le,Ce);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case D:return le.key===Ye?K(ie,te,le,Ce):null;case _:return le.key===Ye?ce(ie,te,le,Ce):null;case G:return le=Qa(le),de(ie,te,le,Ce)}if(ne(le)||ve(le))return Ye!==null?null:xe(ie,te,le,Ce,null);if(typeof le.then=="function")return de(ie,te,Iu(le),Ce);if(le.$$typeof===U)return de(ie,te,Tu(ie,le),Ce);_u(ie,le)}return null}function be(ie,te,le,Ce,Ye){if(typeof Ce=="string"&&Ce!==""||typeof Ce=="number"||typeof Ce=="bigint")return ie=ie.get(le)||null,q(te,ie,""+Ce,Ye);if(typeof Ce=="object"&&Ce!==null){switch(Ce.$$typeof){case D:return ie=ie.get(Ce.key===null?le:Ce.key)||null,K(te,ie,Ce,Ye);case _:return ie=ie.get(Ce.key===null?le:Ce.key)||null,ce(te,ie,Ce,Ye);case G:return Ce=Qa(Ce),be(ie,te,le,Ce,Ye)}if(ne(Ce)||ve(Ce))return ie=ie.get(le)||null,xe(te,ie,Ce,Ye,null);if(typeof Ce.then=="function")return be(ie,te,le,Iu(Ce),Ye);if(Ce.$$typeof===U)return be(ie,te,le,Tu(te,Ce),Ye);_u(te,Ce)}return null}function Ue(ie,te,le,Ce){for(var Ye=null,Ct=null,qe=te,rt=te=0,gt=null;qe!==null&&rt<le.length;rt++){qe.index>rt?(gt=qe,qe=null):gt=qe.sibling;var St=de(ie,qe,le[rt],Ce);if(St===null){qe===null&&(qe=gt);break}n&&qe&&St.alternate===null&&s(ie,qe),te=N(St,te,rt),Ct===null?Ye=St:Ct.sibling=St,Ct=St,qe=gt}if(rt===le.length)return c(ie,qe),pt&&ds(ie,rt),Ye;if(qe===null){for(;rt<le.length;rt++)qe=Se(ie,le[rt],Ce),qe!==null&&(te=N(qe,te,rt),Ct===null?Ye=qe:Ct.sibling=qe,Ct=qe);return pt&&ds(ie,rt),Ye}for(qe=m(qe);rt<le.length;rt++)gt=be(qe,ie,rt,le[rt],Ce),gt!==null&&(n&&gt.alternate!==null&&qe.delete(gt.key===null?rt:gt.key),te=N(gt,te,rt),Ct===null?Ye=gt:Ct.sibling=gt,Ct=gt);return n&&qe.forEach(function(pa){return s(ie,pa)}),pt&&ds(ie,rt),Ye}function Qe(ie,te,le,Ce){if(le==null)throw Error(o(151));for(var Ye=null,Ct=null,qe=te,rt=te=0,gt=null,St=le.next();qe!==null&&!St.done;rt++,St=le.next()){qe.index>rt?(gt=qe,qe=null):gt=qe.sibling;var pa=de(ie,qe,St.value,Ce);if(pa===null){qe===null&&(qe=gt);break}n&&qe&&pa.alternate===null&&s(ie,qe),te=N(pa,te,rt),Ct===null?Ye=pa:Ct.sibling=pa,Ct=pa,qe=gt}if(St.done)return c(ie,qe),pt&&ds(ie,rt),Ye;if(qe===null){for(;!St.done;rt++,St=le.next())St=Se(ie,St.value,Ce),St!==null&&(te=N(St,te,rt),Ct===null?Ye=St:Ct.sibling=St,Ct=St);return pt&&ds(ie,rt),Ye}for(qe=m(qe);!St.done;rt++,St=le.next())St=be(qe,ie,rt,St.value,Ce),St!==null&&(n&&St.alternate!==null&&qe.delete(St.key===null?rt:St.key),te=N(St,te,rt),Ct===null?Ye=St:Ct.sibling=St,Ct=St);return n&&qe.forEach(function(WS){return s(ie,WS)}),pt&&ds(ie,rt),Ye}function Vt(ie,te,le,Ce){if(typeof le=="object"&&le!==null&&le.type===k&&le.key===null&&(le=le.props.children),typeof le=="object"&&le!==null){switch(le.$$typeof){case D:e:{for(var Ye=le.key;te!==null;){if(te.key===Ye){if(Ye=le.type,Ye===k){if(te.tag===7){c(ie,te.sibling),Ce=C(te,le.props.children),Ce.return=ie,ie=Ce;break e}}else if(te.elementType===Ye||typeof Ye=="object"&&Ye!==null&&Ye.$$typeof===G&&Qa(Ye)===te.type){c(ie,te.sibling),Ce=C(te,le.props),Xl(Ce,le),Ce.return=ie,ie=Ce;break e}c(ie,te);break}else s(ie,te);te=te.sibling}le.type===k?(Ce=qa(le.props.children,ie.mode,Ce,le.key),Ce.return=ie,ie=Ce):(Ce=Su(le.type,le.key,le.props,null,ie.mode,Ce),Xl(Ce,le),Ce.return=ie,ie=Ce)}return M(ie);case _:e:{for(Ye=le.key;te!==null;){if(te.key===Ye)if(te.tag===4&&te.stateNode.containerInfo===le.containerInfo&&te.stateNode.implementation===le.implementation){c(ie,te.sibling),Ce=C(te,le.children||[]),Ce.return=ie,ie=Ce;break e}else{c(ie,te);break}else s(ie,te);te=te.sibling}Ce=Yh(le,ie.mode,Ce),Ce.return=ie,ie=Ce}return M(ie);case G:return le=Qa(le),Vt(ie,te,le,Ce)}if(ne(le))return Ue(ie,te,le,Ce);if(ve(le)){if(Ye=ve(le),typeof Ye!="function")throw Error(o(150));return le=Ye.call(le),Qe(ie,te,le,Ce)}if(typeof le.then=="function")return Vt(ie,te,Iu(le),Ce);if(le.$$typeof===U)return Vt(ie,te,Tu(ie,le),Ce);_u(ie,le)}return typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint"?(le=""+le,te!==null&&te.tag===6?(c(ie,te.sibling),Ce=C(te,le),Ce.return=ie,ie=Ce):(c(ie,te),Ce=Gh(le,ie.mode,Ce),Ce.return=ie,ie=Ce),M(ie)):c(ie,te)}return function(ie,te,le,Ce){try{Yl=0;var Ye=Vt(ie,te,le,Ce);return zo=null,Ye}catch(qe){if(qe===Uo||qe===Ou)throw qe;var Ct=zi(29,qe,null,ie.mode);return Ct.lanes=Ce,Ct.return=ie,Ct}}}var Ka=wp(!0),xp=wp(!1),Js=!1;function sf(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function af(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function ea(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function ta(n,s,c){var m=n.updateQueue;if(m===null)return null;if(m=m.shared,(Rt&2)!==0){var C=m.pending;return C===null?s.next=s:(s.next=C.next,C.next=s),m.pending=s,s=Cu(n),rp(n,null,c),s}return Eu(n,m,s,c),Cu(n)}function Wl(n,s,c){if(s=s.updateQueue,s!==null&&(s=s.shared,(c&4194048)!==0)){var m=s.lanes;m&=n.pendingLanes,c|=m,s.lanes=c,kr(n,c)}}function of(n,s){var c=n.updateQueue,m=n.alternate;if(m!==null&&(m=m.updateQueue,c===m)){var C=null,N=null;if(c=c.firstBaseUpdate,c!==null){do{var M={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};N===null?C=N=M:N=N.next=M,c=c.next}while(c!==null);N===null?C=N=s:N=N.next=s}else C=N=s;c={baseState:m.baseState,firstBaseUpdate:C,lastBaseUpdate:N,shared:m.shared,callbacks:m.callbacks},n.updateQueue=c;return}n=c.lastBaseUpdate,n===null?c.firstBaseUpdate=s:n.next=s,c.lastBaseUpdate=s}var lf=!1;function Ql(){if(lf){var n=Po;if(n!==null)throw n}}function Zl(n,s,c,m){lf=!1;var C=n.updateQueue;Js=!1;var N=C.firstBaseUpdate,M=C.lastBaseUpdate,q=C.shared.pending;if(q!==null){C.shared.pending=null;var K=q,ce=K.next;K.next=null,M===null?N=ce:M.next=ce,M=K;var xe=n.alternate;xe!==null&&(xe=xe.updateQueue,q=xe.lastBaseUpdate,q!==M&&(q===null?xe.firstBaseUpdate=ce:q.next=ce,xe.lastBaseUpdate=K))}if(N!==null){var Se=C.baseState;M=0,xe=ce=K=null,q=N;do{var de=q.lane&-536870913,be=de!==q.lane;if(be?(mt&de)===de:(m&de)===de){de!==0&&de===ko&&(lf=!0),xe!==null&&(xe=xe.next={lane:0,tag:q.tag,payload:q.payload,callback:null,next:null});e:{var Ue=n,Qe=q;de=s;var Vt=c;switch(Qe.tag){case 1:if(Ue=Qe.payload,typeof Ue=="function"){Se=Ue.call(Vt,Se,de);break e}Se=Ue;break e;case 3:Ue.flags=Ue.flags&-65537|128;case 0:if(Ue=Qe.payload,de=typeof Ue=="function"?Ue.call(Vt,Se,de):Ue,de==null)break e;Se=A({},Se,de);break e;case 2:Js=!0}}de=q.callback,de!==null&&(n.flags|=64,be&&(n.flags|=8192),be=C.callbacks,be===null?C.callbacks=[de]:be.push(de))}else be={lane:de,tag:q.tag,payload:q.payload,callback:q.callback,next:null},xe===null?(ce=xe=be,K=Se):xe=xe.next=be,M|=de;if(q=q.next,q===null){if(q=C.shared.pending,q===null)break;be=q,q=be.next,be.next=null,C.lastBaseUpdate=be,C.shared.pending=null}}while(!0);xe===null&&(K=Se),C.baseState=K,C.firstBaseUpdate=ce,C.lastBaseUpdate=xe,N===null&&(C.shared.lanes=0),aa|=M,n.lanes=M,n.memoizedState=Se}}function Ep(n,s){if(typeof n!="function")throw Error(o(191,n));n.call(s)}function Cp(n,s){var c=n.callbacks;if(c!==null)for(n.callbacks=null,n=0;n<c.length;n++)Ep(c[n],s)}var Fo=$(null),Du=$(0);function Sp(n,s){n=Es,Me(Du,n),Me(Fo,s),Es=n|s.baseLanes}function cf(){Me(Du,Es),Me(Fo,Fo.current)}function uf(){Es=Du.current,ge(Fo),ge(Du)}var Fi=$(null),lr=null;function na(n){var s=n.alternate;Me(xn,xn.current&1),Me(Fi,n),lr===null&&(s===null||Fo.current!==null||s.memoizedState!==null)&&(lr=n)}function df(n){Me(xn,xn.current),Me(Fi,n),lr===null&&(lr=n)}function Ap(n){n.tag===22?(Me(xn,xn.current),Me(Fi,n),lr===null&&(lr=n)):ia()}function ia(){Me(xn,xn.current),Me(Fi,Fi.current)}function Vi(n){ge(Fi),lr===n&&(lr=null),ge(xn)}var xn=$(0);function ju(n){for(var s=n;s!==null;){if(s.tag===13){var c=s.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||y1(c)||b1(c)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var ms=0,tt=null,zt=null,Tn=null,Lu=!1,Vo=!1,$a=!1,Bu=0,Kl=0,Ho=null,PC=0;function fn(){throw Error(o(321))}function hf(n,s){if(s===null)return!1;for(var c=0;c<s.length&&c<n.length;c++)if(!g(n[c],s[c]))return!1;return!0}function ff(n,s,c,m,C,N){return ms=N,tt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,re.H=n===null||n.memoizedState===null?ly:Rf,$a=!1,N=c(m,C),$a=!1,Vo&&(N=Tp(s,c,m,C)),Np(n),N}function Np(n){re.H=ec;var s=zt!==null&&zt.next!==null;if(ms=0,Tn=zt=tt=null,Lu=!1,Kl=0,Ho=null,s)throw Error(o(300));n===null||Rn||(n=n.dependencies,n!==null&&Nu(n)&&(Rn=!0))}function Tp(n,s,c,m){tt=n;var C=0;do{if(Vo&&(Ho=null),Kl=0,Vo=!1,25<=C)throw Error(o(301));if(C+=1,Tn=zt=null,n.updateQueue!=null){var N=n.updateQueue;N.lastEffect=null,N.events=null,N.stores=null,N.memoCache!=null&&(N.memoCache.index=0)}re.H=cy,N=s(c,m)}while(Vo);return N}function UC(){var n=re.H,s=n.useState()[0];return s=typeof s.then=="function"?$l(s):s,n=n.useState()[0],(zt!==null?zt.memoizedState:null)!==n&&(tt.flags|=1024),s}function mf(){var n=Bu!==0;return Bu=0,n}function gf(n,s,c){s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~c}function pf(n){if(Lu){for(n=n.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Lu=!1}ms=0,Tn=zt=tt=null,Vo=!1,Kl=Bu=0,Ho=null}function hi(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tn===null?tt.memoizedState=Tn=n:Tn=Tn.next=n,Tn}function En(){if(zt===null){var n=tt.alternate;n=n!==null?n.memoizedState:null}else n=zt.next;var s=Tn===null?tt.memoizedState:Tn.next;if(s!==null)Tn=s,zt=n;else{if(n===null)throw tt.alternate===null?Error(o(467)):Error(o(310));zt=n,n={memoizedState:zt.memoizedState,baseState:zt.baseState,baseQueue:zt.baseQueue,queue:zt.queue,next:null},Tn===null?tt.memoizedState=Tn=n:Tn=Tn.next=n}return Tn}function ku(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function $l(n){var s=Kl;return Kl+=1,Ho===null&&(Ho=[]),n=yp(Ho,n,s),s=tt,(Tn===null?s.memoizedState:Tn.next)===null&&(s=s.alternate,re.H=s===null||s.memoizedState===null?ly:Rf),n}function Pu(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return $l(n);if(n.$$typeof===U)return Zn(n)}throw Error(o(438,String(n)))}function yf(n){var s=null,c=tt.updateQueue;if(c!==null&&(s=c.memoCache),s==null){var m=tt.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(s={data:m.data.map(function(C){return C.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),c===null&&(c=ku(),tt.updateQueue=c),c.memoCache=s,c=s.data[s.index],c===void 0)for(c=s.data[s.index]=Array(n),m=0;m<n;m++)c[m]=Ee;return s.index++,c}function gs(n,s){return typeof s=="function"?s(n):s}function Uu(n){var s=En();return bf(s,zt,n)}function bf(n,s,c){var m=n.queue;if(m===null)throw Error(o(311));m.lastRenderedReducer=c;var C=n.baseQueue,N=m.pending;if(N!==null){if(C!==null){var M=C.next;C.next=N.next,N.next=M}s.baseQueue=C=N,m.pending=null}if(N=n.baseState,C===null)n.memoizedState=N;else{s=C.next;var q=M=null,K=null,ce=s,xe=!1;do{var Se=ce.lane&-536870913;if(Se!==ce.lane?(mt&Se)===Se:(ms&Se)===Se){var de=ce.revertLane;if(de===0)K!==null&&(K=K.next={lane:0,revertLane:0,gesture:null,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null}),Se===ko&&(xe=!0);else if((ms&de)===de){ce=ce.next,de===ko&&(xe=!0);continue}else Se={lane:0,revertLane:ce.revertLane,gesture:null,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null},K===null?(q=K=Se,M=N):K=K.next=Se,tt.lanes|=de,aa|=de;Se=ce.action,$a&&c(N,Se),N=ce.hasEagerState?ce.eagerState:c(N,Se)}else de={lane:Se,revertLane:ce.revertLane,gesture:ce.gesture,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null},K===null?(q=K=de,M=N):K=K.next=de,tt.lanes|=Se,aa|=Se;ce=ce.next}while(ce!==null&&ce!==s);if(K===null?M=N:K.next=q,!g(N,n.memoizedState)&&(Rn=!0,xe&&(c=Po,c!==null)))throw c;n.memoizedState=N,n.baseState=M,n.baseQueue=K,m.lastRenderedState=N}return C===null&&(m.lanes=0),[n.memoizedState,m.dispatch]}function vf(n){var s=En(),c=s.queue;if(c===null)throw Error(o(311));c.lastRenderedReducer=n;var m=c.dispatch,C=c.pending,N=s.memoizedState;if(C!==null){c.pending=null;var M=C=C.next;do N=n(N,M.action),M=M.next;while(M!==C);g(N,s.memoizedState)||(Rn=!0),s.memoizedState=N,s.baseQueue===null&&(s.baseState=N),c.lastRenderedState=N}return[N,m]}function Rp(n,s,c){var m=tt,C=En(),N=pt;if(N){if(c===void 0)throw Error(o(407));c=c()}else c=s();var M=!g((zt||C).memoizedState,c);if(M&&(C.memoizedState=c,Rn=!0),C=C.queue,Ef(Ip.bind(null,m,C,n),[n]),C.getSnapshot!==s||M||Tn!==null&&Tn.memoizedState.tag&1){if(m.flags|=2048,qo(9,{destroy:void 0},Mp.bind(null,m,C,c,s),null),Xt===null)throw Error(o(349));N||(ms&127)!==0||Op(m,s,c)}return c}function Op(n,s,c){n.flags|=16384,n={getSnapshot:s,value:c},s=tt.updateQueue,s===null?(s=ku(),tt.updateQueue=s,s.stores=[n]):(c=s.stores,c===null?s.stores=[n]:c.push(n))}function Mp(n,s,c,m){s.value=c,s.getSnapshot=m,_p(s)&&Dp(n)}function Ip(n,s,c){return c(function(){_p(s)&&Dp(n)})}function _p(n){var s=n.getSnapshot;n=n.value;try{var c=s();return!g(n,c)}catch{return!0}}function Dp(n){var s=Ha(n,2);s!==null&&Ri(s,n,2)}function wf(n){var s=hi();if(typeof n=="function"){var c=n;if(n=c(),$a){Ut(!0);try{c()}finally{Ut(!1)}}}return s.memoizedState=s.baseState=n,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gs,lastRenderedState:n},s}function jp(n,s,c,m){return n.baseState=c,bf(n,zt,typeof m=="function"?m:gs)}function zC(n,s,c,m,C){if(Vu(n))throw Error(o(485));if(n=s.action,n!==null){var N={payload:C,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(M){N.listeners.push(M)}};re.T!==null?c(!0):N.isTransition=!1,m(N),c=s.pending,c===null?(N.next=s.pending=N,Lp(s,N)):(N.next=c.next,s.pending=c.next=N)}}function Lp(n,s){var c=s.action,m=s.payload,C=n.state;if(s.isTransition){var N=re.T,M={};re.T=M;try{var q=c(C,m),K=re.S;K!==null&&K(M,q),Bp(n,s,q)}catch(ce){xf(n,s,ce)}finally{N!==null&&M.types!==null&&(N.types=M.types),re.T=N}}else try{N=c(C,m),Bp(n,s,N)}catch(ce){xf(n,s,ce)}}function Bp(n,s,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(m){kp(n,s,m)},function(m){return xf(n,s,m)}):kp(n,s,c)}function kp(n,s,c){s.status="fulfilled",s.value=c,Pp(s),n.state=c,s=n.pending,s!==null&&(c=s.next,c===s?n.pending=null:(c=c.next,s.next=c,Lp(n,c)))}function xf(n,s,c){var m=n.pending;if(n.pending=null,m!==null){m=m.next;do s.status="rejected",s.reason=c,Pp(s),s=s.next;while(s!==m)}n.action=null}function Pp(n){n=n.listeners;for(var s=0;s<n.length;s++)(0,n[s])()}function Up(n,s){return s}function zp(n,s){if(pt){var c=Xt.formState;if(c!==null){e:{var m=tt;if(pt){if($t){t:{for(var C=$t,N=or;C.nodeType!==8;){if(!N){C=null;break t}if(C=cr(C.nextSibling),C===null){C=null;break t}}N=C.data,C=N==="F!"||N==="F"?C:null}if(C){$t=cr(C.nextSibling),m=C.data==="F!";break e}}Ks(m)}m=!1}m&&(s=c[0])}}return c=hi(),c.memoizedState=c.baseState=s,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Up,lastRenderedState:s},c.queue=m,c=sy.bind(null,tt,m),m.dispatch=c,m=wf(!1),N=Tf.bind(null,tt,!1,m.queue),m=hi(),C={state:s,dispatch:null,action:n,pending:null},m.queue=C,c=zC.bind(null,tt,C,N,c),C.dispatch=c,m.memoizedState=n,[s,c,!1]}function Fp(n){var s=En();return Vp(s,zt,n)}function Vp(n,s,c){if(s=bf(n,s,Up)[0],n=Uu(gs)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var m=$l(s)}catch(M){throw M===Uo?Ou:M}else m=s;s=En();var C=s.queue,N=C.dispatch;return c!==s.memoizedState&&(tt.flags|=2048,qo(9,{destroy:void 0},FC.bind(null,C,c),null)),[m,N,n]}function FC(n,s){n.action=s}function Hp(n){var s=En(),c=zt;if(c!==null)return Vp(s,c,n);En(),s=s.memoizedState,c=En();var m=c.queue.dispatch;return c.memoizedState=n,[s,m,!1]}function qo(n,s,c,m){return n={tag:n,create:c,deps:m,inst:s,next:null},s=tt.updateQueue,s===null&&(s=ku(),tt.updateQueue=s),c=s.lastEffect,c===null?s.lastEffect=n.next=n:(m=c.next,c.next=n,n.next=m,s.lastEffect=n),n}function qp(){return En().memoizedState}function zu(n,s,c,m){var C=hi();tt.flags|=n,C.memoizedState=qo(1|s,{destroy:void 0},c,m===void 0?null:m)}function Fu(n,s,c,m){var C=En();m=m===void 0?null:m;var N=C.memoizedState.inst;zt!==null&&m!==null&&hf(m,zt.memoizedState.deps)?C.memoizedState=qo(s,N,c,m):(tt.flags|=n,C.memoizedState=qo(1|s,N,c,m))}function Gp(n,s){zu(8390656,8,n,s)}function Ef(n,s){Fu(2048,8,n,s)}function VC(n){tt.flags|=4;var s=tt.updateQueue;if(s===null)s=ku(),tt.updateQueue=s,s.events=[n];else{var c=s.events;c===null?s.events=[n]:c.push(n)}}function Yp(n){var s=En().memoizedState;return VC({ref:s,nextImpl:n}),function(){if((Rt&2)!==0)throw Error(o(440));return s.impl.apply(void 0,arguments)}}function Xp(n,s){return Fu(4,2,n,s)}function Wp(n,s){return Fu(4,4,n,s)}function Qp(n,s){if(typeof s=="function"){n=n();var c=s(n);return function(){typeof c=="function"?c():s(null)}}if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function Zp(n,s,c){c=c!=null?c.concat([n]):null,Fu(4,4,Qp.bind(null,s,n),c)}function Cf(){}function Kp(n,s){var c=En();s=s===void 0?null:s;var m=c.memoizedState;return s!==null&&hf(s,m[1])?m[0]:(c.memoizedState=[n,s],n)}function $p(n,s){var c=En();s=s===void 0?null:s;var m=c.memoizedState;if(s!==null&&hf(s,m[1]))return m[0];if(m=n(),$a){Ut(!0);try{n()}finally{Ut(!1)}}return c.memoizedState=[m,s],m}function Sf(n,s,c){return c===void 0||(ms&1073741824)!==0&&(mt&261930)===0?n.memoizedState=s:(n.memoizedState=c,n=Jy(),tt.lanes|=n,aa|=n,c)}function Jp(n,s,c,m){return g(c,s)?c:Fo.current!==null?(n=Sf(n,c,m),g(n,s)||(Rn=!0),n):(ms&42)===0||(ms&1073741824)!==0&&(mt&261930)===0?(Rn=!0,n.memoizedState=c):(n=Jy(),tt.lanes|=n,aa|=n,s)}function ey(n,s,c,m,C){var N=ue.p;ue.p=N!==0&&8>N?N:8;var M=re.T,q={};re.T=q,Tf(n,!1,s,c);try{var K=C(),ce=re.S;if(ce!==null&&ce(q,K),K!==null&&typeof K=="object"&&typeof K.then=="function"){var xe=kC(K,m);Jl(n,s,xe,Gi(n))}else Jl(n,s,m,Gi(n))}catch(Se){Jl(n,s,{then:function(){},status:"rejected",reason:Se},Gi())}finally{ue.p=N,M!==null&&q.types!==null&&(M.types=q.types),re.T=M}}function HC(){}function Af(n,s,c,m){if(n.tag!==5)throw Error(o(476));var C=ty(n).queue;ey(n,C,s,we,c===null?HC:function(){return ny(n),c(m)})}function ty(n){var s=n.memoizedState;if(s!==null)return s;s={memoizedState:we,baseState:we,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gs,lastRenderedState:we},next:null};var c={};return s.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gs,lastRenderedState:c},next:null},n.memoizedState=s,n=n.alternate,n!==null&&(n.memoizedState=s),s}function ny(n){var s=ty(n);s.next===null&&(s=n.alternate.memoizedState),Jl(n,s.next.queue,{},Gi())}function Nf(){return Zn(pc)}function iy(){return En().memoizedState}function ry(){return En().memoizedState}function qC(n){for(var s=n.return;s!==null;){switch(s.tag){case 24:case 3:var c=Gi();n=ea(c);var m=ta(s,n,c);m!==null&&(Ri(m,s,c),Wl(m,s,c)),s={cache:ef()},n.payload=s;return}s=s.return}}function GC(n,s,c){var m=Gi();c={lane:m,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Vu(n)?ay(s,c):(c=Hh(n,s,c,m),c!==null&&(Ri(c,n,m),oy(c,s,m)))}function sy(n,s,c){var m=Gi();Jl(n,s,c,m)}function Jl(n,s,c,m){var C={lane:m,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null};if(Vu(n))ay(s,C);else{var N=n.alternate;if(n.lanes===0&&(N===null||N.lanes===0)&&(N=s.lastRenderedReducer,N!==null))try{var M=s.lastRenderedState,q=N(M,c);if(C.hasEagerState=!0,C.eagerState=q,g(q,M))return Eu(n,s,C,0),Xt===null&&xu(),!1}catch{}if(c=Hh(n,s,C,m),c!==null)return Ri(c,n,m),oy(c,s,m),!0}return!1}function Tf(n,s,c,m){if(m={lane:2,revertLane:s1(),gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},Vu(n)){if(s)throw Error(o(479))}else s=Hh(n,c,m,2),s!==null&&Ri(s,n,2)}function Vu(n){var s=n.alternate;return n===tt||s!==null&&s===tt}function ay(n,s){Vo=Lu=!0;var c=n.pending;c===null?s.next=s:(s.next=c.next,c.next=s),n.pending=s}function oy(n,s,c){if((c&4194048)!==0){var m=s.lanes;m&=n.pendingLanes,c|=m,s.lanes=c,kr(n,c)}}var ec={readContext:Zn,use:Pu,useCallback:fn,useContext:fn,useEffect:fn,useImperativeHandle:fn,useLayoutEffect:fn,useInsertionEffect:fn,useMemo:fn,useReducer:fn,useRef:fn,useState:fn,useDebugValue:fn,useDeferredValue:fn,useTransition:fn,useSyncExternalStore:fn,useId:fn,useHostTransitionStatus:fn,useFormState:fn,useActionState:fn,useOptimistic:fn,useMemoCache:fn,useCacheRefresh:fn};ec.useEffectEvent=fn;var ly={readContext:Zn,use:Pu,useCallback:function(n,s){return hi().memoizedState=[n,s===void 0?null:s],n},useContext:Zn,useEffect:Gp,useImperativeHandle:function(n,s,c){c=c!=null?c.concat([n]):null,zu(4194308,4,Qp.bind(null,s,n),c)},useLayoutEffect:function(n,s){return zu(4194308,4,n,s)},useInsertionEffect:function(n,s){zu(4,2,n,s)},useMemo:function(n,s){var c=hi();s=s===void 0?null:s;var m=n();if($a){Ut(!0);try{n()}finally{Ut(!1)}}return c.memoizedState=[m,s],m},useReducer:function(n,s,c){var m=hi();if(c!==void 0){var C=c(s);if($a){Ut(!0);try{c(s)}finally{Ut(!1)}}}else C=s;return m.memoizedState=m.baseState=C,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:C},m.queue=n,n=n.dispatch=GC.bind(null,tt,n),[m.memoizedState,n]},useRef:function(n){var s=hi();return n={current:n},s.memoizedState=n},useState:function(n){n=wf(n);var s=n.queue,c=sy.bind(null,tt,s);return s.dispatch=c,[n.memoizedState,c]},useDebugValue:Cf,useDeferredValue:function(n,s){var c=hi();return Sf(c,n,s)},useTransition:function(){var n=wf(!1);return n=ey.bind(null,tt,n.queue,!0,!1),hi().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,s,c){var m=tt,C=hi();if(pt){if(c===void 0)throw Error(o(407));c=c()}else{if(c=s(),Xt===null)throw Error(o(349));(mt&127)!==0||Op(m,s,c)}C.memoizedState=c;var N={value:c,getSnapshot:s};return C.queue=N,Gp(Ip.bind(null,m,N,n),[n]),m.flags|=2048,qo(9,{destroy:void 0},Mp.bind(null,m,N,c,s),null),c},useId:function(){var n=hi(),s=Xt.identifierPrefix;if(pt){var c=Hr,m=Vr;c=(m&~(1<<32-nt(m)-1)).toString(32)+c,s="_"+s+"R_"+c,c=Bu++,0<c&&(s+="H"+c.toString(32)),s+="_"}else c=PC++,s="_"+s+"r_"+c.toString(32)+"_";return n.memoizedState=s},useHostTransitionStatus:Nf,useFormState:zp,useActionState:zp,useOptimistic:function(n){var s=hi();s.memoizedState=s.baseState=n;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=c,s=Tf.bind(null,tt,!0,c),c.dispatch=s,[n,s]},useMemoCache:yf,useCacheRefresh:function(){return hi().memoizedState=qC.bind(null,tt)},useEffectEvent:function(n){var s=hi(),c={impl:n};return s.memoizedState=c,function(){if((Rt&2)!==0)throw Error(o(440));return c.impl.apply(void 0,arguments)}}},Rf={readContext:Zn,use:Pu,useCallback:Kp,useContext:Zn,useEffect:Ef,useImperativeHandle:Zp,useInsertionEffect:Xp,useLayoutEffect:Wp,useMemo:$p,useReducer:Uu,useRef:qp,useState:function(){return Uu(gs)},useDebugValue:Cf,useDeferredValue:function(n,s){var c=En();return Jp(c,zt.memoizedState,n,s)},useTransition:function(){var n=Uu(gs)[0],s=En().memoizedState;return[typeof n=="boolean"?n:$l(n),s]},useSyncExternalStore:Rp,useId:iy,useHostTransitionStatus:Nf,useFormState:Fp,useActionState:Fp,useOptimistic:function(n,s){var c=En();return jp(c,zt,n,s)},useMemoCache:yf,useCacheRefresh:ry};Rf.useEffectEvent=Yp;var cy={readContext:Zn,use:Pu,useCallback:Kp,useContext:Zn,useEffect:Ef,useImperativeHandle:Zp,useInsertionEffect:Xp,useLayoutEffect:Wp,useMemo:$p,useReducer:vf,useRef:qp,useState:function(){return vf(gs)},useDebugValue:Cf,useDeferredValue:function(n,s){var c=En();return zt===null?Sf(c,n,s):Jp(c,zt.memoizedState,n,s)},useTransition:function(){var n=vf(gs)[0],s=En().memoizedState;return[typeof n=="boolean"?n:$l(n),s]},useSyncExternalStore:Rp,useId:iy,useHostTransitionStatus:Nf,useFormState:Hp,useActionState:Hp,useOptimistic:function(n,s){var c=En();return zt!==null?jp(c,zt,n,s):(c.baseState=n,[n,c.queue.dispatch])},useMemoCache:yf,useCacheRefresh:ry};cy.useEffectEvent=Yp;function Of(n,s,c,m){s=n.memoizedState,c=c(m,s),c=c==null?s:A({},s,c),n.memoizedState=c,n.lanes===0&&(n.updateQueue.baseState=c)}var Mf={enqueueSetState:function(n,s,c){n=n._reactInternals;var m=Gi(),C=ea(m);C.payload=s,c!=null&&(C.callback=c),s=ta(n,C,m),s!==null&&(Ri(s,n,m),Wl(s,n,m))},enqueueReplaceState:function(n,s,c){n=n._reactInternals;var m=Gi(),C=ea(m);C.tag=1,C.payload=s,c!=null&&(C.callback=c),s=ta(n,C,m),s!==null&&(Ri(s,n,m),Wl(s,n,m))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var c=Gi(),m=ea(c);m.tag=2,s!=null&&(m.callback=s),s=ta(n,m,c),s!==null&&(Ri(s,n,c),Wl(s,n,c))}};function uy(n,s,c,m,C,N,M){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(m,N,M):s.prototype&&s.prototype.isPureReactComponent?!v(c,m)||!v(C,N):!0}function dy(n,s,c,m){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(c,m),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(c,m),s.state!==n&&Mf.enqueueReplaceState(s,s.state,null)}function Ja(n,s){var c=s;if("ref"in s){c={};for(var m in s)m!=="ref"&&(c[m]=s[m])}if(n=n.defaultProps){c===s&&(c=A({},c));for(var C in n)c[C]===void 0&&(c[C]=n[C])}return c}function hy(n){wu(n)}function fy(n){console.error(n)}function my(n){wu(n)}function Hu(n,s){try{var c=n.onUncaughtError;c(s.value,{componentStack:s.stack})}catch(m){setTimeout(function(){throw m})}}function gy(n,s,c){try{var m=n.onCaughtError;m(c.value,{componentStack:c.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(C){setTimeout(function(){throw C})}}function If(n,s,c){return c=ea(c),c.tag=3,c.payload={element:null},c.callback=function(){Hu(n,s)},c}function py(n){return n=ea(n),n.tag=3,n}function yy(n,s,c,m){var C=c.type.getDerivedStateFromError;if(typeof C=="function"){var N=m.value;n.payload=function(){return C(N)},n.callback=function(){gy(s,c,m)}}var M=c.stateNode;M!==null&&typeof M.componentDidCatch=="function"&&(n.callback=function(){gy(s,c,m),typeof C!="function"&&(oa===null?oa=new Set([this]):oa.add(this));var q=m.stack;this.componentDidCatch(m.value,{componentStack:q!==null?q:""})})}function YC(n,s,c,m,C){if(c.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(s=c.alternate,s!==null&&Bo(s,c,C,!0),c=Fi.current,c!==null){switch(c.tag){case 31:case 13:return lr===null?td():c.alternate===null&&mn===0&&(mn=3),c.flags&=-257,c.flags|=65536,c.lanes=C,m===Mu?c.flags|=16384:(s=c.updateQueue,s===null?c.updateQueue=new Set([m]):s.add(m),n1(n,m,C)),!1;case 22:return c.flags|=65536,m===Mu?c.flags|=16384:(s=c.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([m])},c.updateQueue=s):(c=s.retryQueue,c===null?s.retryQueue=new Set([m]):c.add(m)),n1(n,m,C)),!1}throw Error(o(435,c.tag))}return n1(n,m,C),td(),!1}if(pt)return s=Fi.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=C,m!==Qh&&(n=Error(o(422),{cause:m}),Hl(rr(n,c)))):(m!==Qh&&(s=Error(o(423),{cause:m}),Hl(rr(s,c))),n=n.current.alternate,n.flags|=65536,C&=-C,n.lanes|=C,m=rr(m,c),C=If(n.stateNode,m,C),of(n,C),mn!==4&&(mn=2)),!1;var N=Error(o(520),{cause:m});if(N=rr(N,c),lc===null?lc=[N]:lc.push(N),mn!==4&&(mn=2),s===null)return!0;m=rr(m,c),c=s;do{switch(c.tag){case 3:return c.flags|=65536,n=C&-C,c.lanes|=n,n=If(c.stateNode,m,n),of(c,n),!1;case 1:if(s=c.type,N=c.stateNode,(c.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(oa===null||!oa.has(N))))return c.flags|=65536,C&=-C,c.lanes|=C,C=py(C),yy(C,n,c,m),of(c,C),!1}c=c.return}while(c!==null);return!1}var _f=Error(o(461)),Rn=!1;function Kn(n,s,c,m){s.child=n===null?xp(s,null,c,m):Ka(s,n.child,c,m)}function by(n,s,c,m,C){c=c.render;var N=s.ref;if("ref"in m){var M={};for(var q in m)q!=="ref"&&(M[q]=m[q])}else M=m;return Xa(s),m=ff(n,s,c,M,N,C),q=mf(),n!==null&&!Rn?(gf(n,s,C),ps(n,s,C)):(pt&&q&&Xh(s),s.flags|=1,Kn(n,s,m,C),s.child)}function vy(n,s,c,m,C){if(n===null){var N=c.type;return typeof N=="function"&&!qh(N)&&N.defaultProps===void 0&&c.compare===null?(s.tag=15,s.type=N,wy(n,s,N,m,C)):(n=Su(c.type,null,m,s,s.mode,C),n.ref=s.ref,n.return=s,s.child=n)}if(N=n.child,!zf(n,C)){var M=N.memoizedProps;if(c=c.compare,c=c!==null?c:v,c(M,m)&&n.ref===s.ref)return ps(n,s,C)}return s.flags|=1,n=us(N,m),n.ref=s.ref,n.return=s,s.child=n}function wy(n,s,c,m,C){if(n!==null){var N=n.memoizedProps;if(v(N,m)&&n.ref===s.ref)if(Rn=!1,s.pendingProps=m=N,zf(n,C))(n.flags&131072)!==0&&(Rn=!0);else return s.lanes=n.lanes,ps(n,s,C)}return Df(n,s,c,m,C)}function xy(n,s,c,m){var C=m.children,N=n!==null?n.memoizedState:null;if(n===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),m.mode==="hidden"){if((s.flags&128)!==0){if(N=N!==null?N.baseLanes|c:c,n!==null){for(m=s.child=n.child,C=0;m!==null;)C=C|m.lanes|m.childLanes,m=m.sibling;m=C&~N}else m=0,s.child=null;return Ey(n,s,N,c,m)}if((c&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},n!==null&&Ru(s,N!==null?N.cachePool:null),N!==null?Sp(s,N):cf(),Ap(s);else return m=s.lanes=536870912,Ey(n,s,N!==null?N.baseLanes|c:c,c,m)}else N!==null?(Ru(s,N.cachePool),Sp(s,N),ia(),s.memoizedState=null):(n!==null&&Ru(s,null),cf(),ia());return Kn(n,s,C,c),s.child}function tc(n,s){return n!==null&&n.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function Ey(n,s,c,m,C){var N=nf();return N=N===null?null:{parent:Nn._currentValue,pool:N},s.memoizedState={baseLanes:c,cachePool:N},n!==null&&Ru(s,null),cf(),Ap(s),n!==null&&Bo(n,s,m,!0),s.childLanes=C,null}function qu(n,s){return s=Yu({mode:s.mode,children:s.children},n.mode),s.ref=n.ref,n.child=s,s.return=n,s}function Cy(n,s,c){return Ka(s,n.child,null,c),n=qu(s,s.pendingProps),n.flags|=2,Vi(s),s.memoizedState=null,n}function XC(n,s,c){var m=s.pendingProps,C=(s.flags&128)!==0;if(s.flags&=-129,n===null){if(pt){if(m.mode==="hidden")return n=qu(s,m),s.lanes=536870912,tc(null,n);if(df(s),(n=$t)?(n=L2(n,or),n=n!==null&&n.data==="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:Qs!==null?{id:Vr,overflow:Hr}:null,retryLane:536870912,hydrationErrors:null},c=ap(n),c.return=s,s.child=c,Qn=s,$t=null)):n=null,n===null)throw Ks(s);return s.lanes=536870912,null}return qu(s,m)}var N=n.memoizedState;if(N!==null){var M=N.dehydrated;if(df(s),C)if(s.flags&256)s.flags&=-257,s=Cy(n,s,c);else if(s.memoizedState!==null)s.child=n.child,s.flags|=128,s=null;else throw Error(o(558));else if(Rn||Bo(n,s,c,!1),C=(c&n.childLanes)!==0,Rn||C){if(m=Xt,m!==null&&(M=wo(m,c),M!==0&&M!==N.retryLane))throw N.retryLane=M,Ha(n,M),Ri(m,n,M),_f;td(),s=Cy(n,s,c)}else n=N.treeContext,$t=cr(M.nextSibling),Qn=s,pt=!0,Zs=null,or=!1,n!==null&&cp(s,n),s=qu(s,m),s.flags|=4096;return s}return n=us(n.child,{mode:m.mode,children:m.children}),n.ref=s.ref,s.child=n,n.return=s,n}function Gu(n,s){var c=s.ref;if(c===null)n!==null&&n.ref!==null&&(s.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(o(284));(n===null||n.ref!==c)&&(s.flags|=4194816)}}function Df(n,s,c,m,C){return Xa(s),c=ff(n,s,c,m,void 0,C),m=mf(),n!==null&&!Rn?(gf(n,s,C),ps(n,s,C)):(pt&&m&&Xh(s),s.flags|=1,Kn(n,s,c,C),s.child)}function Sy(n,s,c,m,C,N){return Xa(s),s.updateQueue=null,c=Tp(s,m,c,C),Np(n),m=mf(),n!==null&&!Rn?(gf(n,s,N),ps(n,s,N)):(pt&&m&&Xh(s),s.flags|=1,Kn(n,s,c,N),s.child)}function Ay(n,s,c,m,C){if(Xa(s),s.stateNode===null){var N=_o,M=c.contextType;typeof M=="object"&&M!==null&&(N=Zn(M)),N=new c(m,N),s.memoizedState=N.state!==null&&N.state!==void 0?N.state:null,N.updater=Mf,s.stateNode=N,N._reactInternals=s,N=s.stateNode,N.props=m,N.state=s.memoizedState,N.refs={},sf(s),M=c.contextType,N.context=typeof M=="object"&&M!==null?Zn(M):_o,N.state=s.memoizedState,M=c.getDerivedStateFromProps,typeof M=="function"&&(Of(s,c,M,m),N.state=s.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof N.getSnapshotBeforeUpdate=="function"||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(M=N.state,typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount(),M!==N.state&&Mf.enqueueReplaceState(N,N.state,null),Zl(s,m,N,C),Ql(),N.state=s.memoizedState),typeof N.componentDidMount=="function"&&(s.flags|=4194308),m=!0}else if(n===null){N=s.stateNode;var q=s.memoizedProps,K=Ja(c,q);N.props=K;var ce=N.context,xe=c.contextType;M=_o,typeof xe=="object"&&xe!==null&&(M=Zn(xe));var Se=c.getDerivedStateFromProps;xe=typeof Se=="function"||typeof N.getSnapshotBeforeUpdate=="function",q=s.pendingProps!==q,xe||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(q||ce!==M)&&dy(s,N,m,M),Js=!1;var de=s.memoizedState;N.state=de,Zl(s,m,N,C),Ql(),ce=s.memoizedState,q||de!==ce||Js?(typeof Se=="function"&&(Of(s,c,Se,m),ce=s.memoizedState),(K=Js||uy(s,c,K,m,de,ce,M))?(xe||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount()),typeof N.componentDidMount=="function"&&(s.flags|=4194308)):(typeof N.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=m,s.memoizedState=ce),N.props=m,N.state=ce,N.context=M,m=K):(typeof N.componentDidMount=="function"&&(s.flags|=4194308),m=!1)}else{N=s.stateNode,af(n,s),M=s.memoizedProps,xe=Ja(c,M),N.props=xe,Se=s.pendingProps,de=N.context,ce=c.contextType,K=_o,typeof ce=="object"&&ce!==null&&(K=Zn(ce)),q=c.getDerivedStateFromProps,(ce=typeof q=="function"||typeof N.getSnapshotBeforeUpdate=="function")||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(M!==Se||de!==K)&&dy(s,N,m,K),Js=!1,de=s.memoizedState,N.state=de,Zl(s,m,N,C),Ql();var be=s.memoizedState;M!==Se||de!==be||Js||n!==null&&n.dependencies!==null&&Nu(n.dependencies)?(typeof q=="function"&&(Of(s,c,q,m),be=s.memoizedState),(xe=Js||uy(s,c,xe,m,de,be,K)||n!==null&&n.dependencies!==null&&Nu(n.dependencies))?(ce||typeof N.UNSAFE_componentWillUpdate!="function"&&typeof N.componentWillUpdate!="function"||(typeof N.componentWillUpdate=="function"&&N.componentWillUpdate(m,be,K),typeof N.UNSAFE_componentWillUpdate=="function"&&N.UNSAFE_componentWillUpdate(m,be,K)),typeof N.componentDidUpdate=="function"&&(s.flags|=4),typeof N.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof N.componentDidUpdate!="function"||M===n.memoizedProps&&de===n.memoizedState||(s.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||M===n.memoizedProps&&de===n.memoizedState||(s.flags|=1024),s.memoizedProps=m,s.memoizedState=be),N.props=m,N.state=be,N.context=K,m=xe):(typeof N.componentDidUpdate!="function"||M===n.memoizedProps&&de===n.memoizedState||(s.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||M===n.memoizedProps&&de===n.memoizedState||(s.flags|=1024),m=!1)}return N=m,Gu(n,s),m=(s.flags&128)!==0,N||m?(N=s.stateNode,c=m&&typeof c.getDerivedStateFromError!="function"?null:N.render(),s.flags|=1,n!==null&&m?(s.child=Ka(s,n.child,null,C),s.child=Ka(s,null,c,C)):Kn(n,s,c,C),s.memoizedState=N.state,n=s.child):n=ps(n,s,C),n}function Ny(n,s,c,m){return Ga(),s.flags|=256,Kn(n,s,c,m),s.child}var jf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Lf(n){return{baseLanes:n,cachePool:gp()}}function Bf(n,s,c){return n=n!==null?n.childLanes&~c:0,s&&(n|=qi),n}function Ty(n,s,c){var m=s.pendingProps,C=!1,N=(s.flags&128)!==0,M;if((M=N)||(M=n!==null&&n.memoizedState===null?!1:(xn.current&2)!==0),M&&(C=!0,s.flags&=-129),M=(s.flags&32)!==0,s.flags&=-33,n===null){if(pt){if(C?na(s):ia(),(n=$t)?(n=L2(n,or),n=n!==null&&n.data!=="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:Qs!==null?{id:Vr,overflow:Hr}:null,retryLane:536870912,hydrationErrors:null},c=ap(n),c.return=s,s.child=c,Qn=s,$t=null)):n=null,n===null)throw Ks(s);return b1(n)?s.lanes=32:s.lanes=536870912,null}var q=m.children;return m=m.fallback,C?(ia(),C=s.mode,q=Yu({mode:"hidden",children:q},C),m=qa(m,C,c,null),q.return=s,m.return=s,q.sibling=m,s.child=q,m=s.child,m.memoizedState=Lf(c),m.childLanes=Bf(n,M,c),s.memoizedState=jf,tc(null,m)):(na(s),kf(s,q))}var K=n.memoizedState;if(K!==null&&(q=K.dehydrated,q!==null)){if(N)s.flags&256?(na(s),s.flags&=-257,s=Pf(n,s,c)):s.memoizedState!==null?(ia(),s.child=n.child,s.flags|=128,s=null):(ia(),q=m.fallback,C=s.mode,m=Yu({mode:"visible",children:m.children},C),q=qa(q,C,c,null),q.flags|=2,m.return=s,q.return=s,m.sibling=q,s.child=m,Ka(s,n.child,null,c),m=s.child,m.memoizedState=Lf(c),m.childLanes=Bf(n,M,c),s.memoizedState=jf,s=tc(null,m));else if(na(s),b1(q)){if(M=q.nextSibling&&q.nextSibling.dataset,M)var ce=M.dgst;M=ce,m=Error(o(419)),m.stack="",m.digest=M,Hl({value:m,source:null,stack:null}),s=Pf(n,s,c)}else if(Rn||Bo(n,s,c,!1),M=(c&n.childLanes)!==0,Rn||M){if(M=Xt,M!==null&&(m=wo(M,c),m!==0&&m!==K.retryLane))throw K.retryLane=m,Ha(n,m),Ri(M,n,m),_f;y1(q)||td(),s=Pf(n,s,c)}else y1(q)?(s.flags|=192,s.child=n.child,s=null):(n=K.treeContext,$t=cr(q.nextSibling),Qn=s,pt=!0,Zs=null,or=!1,n!==null&&cp(s,n),s=kf(s,m.children),s.flags|=4096);return s}return C?(ia(),q=m.fallback,C=s.mode,K=n.child,ce=K.sibling,m=us(K,{mode:"hidden",children:m.children}),m.subtreeFlags=K.subtreeFlags&65011712,ce!==null?q=us(ce,q):(q=qa(q,C,c,null),q.flags|=2),q.return=s,m.return=s,m.sibling=q,s.child=m,tc(null,m),m=s.child,q=n.child.memoizedState,q===null?q=Lf(c):(C=q.cachePool,C!==null?(K=Nn._currentValue,C=C.parent!==K?{parent:K,pool:K}:C):C=gp(),q={baseLanes:q.baseLanes|c,cachePool:C}),m.memoizedState=q,m.childLanes=Bf(n,M,c),s.memoizedState=jf,tc(n.child,m)):(na(s),c=n.child,n=c.sibling,c=us(c,{mode:"visible",children:m.children}),c.return=s,c.sibling=null,n!==null&&(M=s.deletions,M===null?(s.deletions=[n],s.flags|=16):M.push(n)),s.child=c,s.memoizedState=null,c)}function kf(n,s){return s=Yu({mode:"visible",children:s},n.mode),s.return=n,n.child=s}function Yu(n,s){return n=zi(22,n,null,s),n.lanes=0,n}function Pf(n,s,c){return Ka(s,n.child,null,c),n=kf(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function Ry(n,s,c){n.lanes|=s;var m=n.alternate;m!==null&&(m.lanes|=s),$h(n.return,s,c)}function Uf(n,s,c,m,C,N){var M=n.memoizedState;M===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:m,tail:c,tailMode:C,treeForkCount:N}:(M.isBackwards=s,M.rendering=null,M.renderingStartTime=0,M.last=m,M.tail=c,M.tailMode=C,M.treeForkCount=N)}function Oy(n,s,c){var m=s.pendingProps,C=m.revealOrder,N=m.tail;m=m.children;var M=xn.current,q=(M&2)!==0;if(q?(M=M&1|2,s.flags|=128):M&=1,Me(xn,M),Kn(n,s,m,c),m=pt?Vl:0,!q&&n!==null&&(n.flags&128)!==0)e:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Ry(n,c,s);else if(n.tag===19)Ry(n,c,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(C){case"forwards":for(c=s.child,C=null;c!==null;)n=c.alternate,n!==null&&ju(n)===null&&(C=c),c=c.sibling;c=C,c===null?(C=s.child,s.child=null):(C=c.sibling,c.sibling=null),Uf(s,!1,C,c,N,m);break;case"backwards":case"unstable_legacy-backwards":for(c=null,C=s.child,s.child=null;C!==null;){if(n=C.alternate,n!==null&&ju(n)===null){s.child=C;break}n=C.sibling,C.sibling=c,c=C,C=n}Uf(s,!0,c,null,N,m);break;case"together":Uf(s,!1,null,null,void 0,m);break;default:s.memoizedState=null}return s.child}function ps(n,s,c){if(n!==null&&(s.dependencies=n.dependencies),aa|=s.lanes,(c&s.childLanes)===0)if(n!==null){if(Bo(n,s,c,!1),(c&s.childLanes)===0)return null}else return null;if(n!==null&&s.child!==n.child)throw Error(o(153));if(s.child!==null){for(n=s.child,c=us(n,n.pendingProps),s.child=c,c.return=s;n.sibling!==null;)n=n.sibling,c=c.sibling=us(n,n.pendingProps),c.return=s;c.sibling=null}return s.child}function zf(n,s){return(n.lanes&s)!==0?!0:(n=n.dependencies,!!(n!==null&&Nu(n)))}function WC(n,s,c){switch(s.tag){case 3:bt(s,s.stateNode.containerInfo),$s(s,Nn,n.memoizedState.cache),Ga();break;case 27:case 5:br(s);break;case 4:bt(s,s.stateNode.containerInfo);break;case 10:$s(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,df(s),null;break;case 13:var m=s.memoizedState;if(m!==null)return m.dehydrated!==null?(na(s),s.flags|=128,null):(c&s.child.childLanes)!==0?Ty(n,s,c):(na(s),n=ps(n,s,c),n!==null?n.sibling:null);na(s);break;case 19:var C=(n.flags&128)!==0;if(m=(c&s.childLanes)!==0,m||(Bo(n,s,c,!1),m=(c&s.childLanes)!==0),C){if(m)return Oy(n,s,c);s.flags|=128}if(C=s.memoizedState,C!==null&&(C.rendering=null,C.tail=null,C.lastEffect=null),Me(xn,xn.current),m)break;return null;case 22:return s.lanes=0,xy(n,s,c,s.pendingProps);case 24:$s(s,Nn,n.memoizedState.cache)}return ps(n,s,c)}function My(n,s,c){if(n!==null)if(n.memoizedProps!==s.pendingProps)Rn=!0;else{if(!zf(n,c)&&(s.flags&128)===0)return Rn=!1,WC(n,s,c);Rn=(n.flags&131072)!==0}else Rn=!1,pt&&(s.flags&1048576)!==0&&lp(s,Vl,s.index);switch(s.lanes=0,s.tag){case 16:e:{var m=s.pendingProps;if(n=Qa(s.elementType),s.type=n,typeof n=="function")qh(n)?(m=Ja(n,m),s.tag=1,s=Ay(null,s,n,m,c)):(s.tag=0,s=Df(null,s,n,m,c));else{if(n!=null){var C=n.$$typeof;if(C===F){s.tag=11,s=by(null,s,n,m,c);break e}else if(C===z){s.tag=14,s=vy(null,s,n,m,c);break e}}throw s=je(n)||n,Error(o(306,s,""))}}return s;case 0:return Df(n,s,s.type,s.pendingProps,c);case 1:return m=s.type,C=Ja(m,s.pendingProps),Ay(n,s,m,C,c);case 3:e:{if(bt(s,s.stateNode.containerInfo),n===null)throw Error(o(387));m=s.pendingProps;var N=s.memoizedState;C=N.element,af(n,s),Zl(s,m,null,c);var M=s.memoizedState;if(m=M.cache,$s(s,Nn,m),m!==N.cache&&Jh(s,[Nn],c,!0),Ql(),m=M.element,N.isDehydrated)if(N={element:m,isDehydrated:!1,cache:M.cache},s.updateQueue.baseState=N,s.memoizedState=N,s.flags&256){s=Ny(n,s,m,c);break e}else if(m!==C){C=rr(Error(o(424)),s),Hl(C),s=Ny(n,s,m,c);break e}else for(n=s.stateNode.containerInfo,n.nodeType===9?n=n.body:n=n.nodeName==="HTML"?n.ownerDocument.body:n,$t=cr(n.firstChild),Qn=s,pt=!0,Zs=null,or=!0,c=xp(s,null,m,c),s.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(Ga(),m===C){s=ps(n,s,c);break e}Kn(n,s,m,c)}s=s.child}return s;case 26:return Gu(n,s),n===null?(c=F2(s.type,null,s.pendingProps,null))?s.memoizedState=c:pt||(c=s.type,n=s.pendingProps,m=ld(Ie.current).createElement(c),m[bn]=s,m[jt]=n,$n(m,c,n),dn(m),s.stateNode=m):s.memoizedState=F2(s.type,n.memoizedProps,s.pendingProps,n.memoizedState),null;case 27:return br(s),n===null&&pt&&(m=s.stateNode=P2(s.type,s.pendingProps,Ie.current),Qn=s,or=!0,C=$t,da(s.type)?(v1=C,$t=cr(m.firstChild)):$t=C),Kn(n,s,s.pendingProps.children,c),Gu(n,s),n===null&&(s.flags|=4194304),s.child;case 5:return n===null&&pt&&((C=m=$t)&&(m=SS(m,s.type,s.pendingProps,or),m!==null?(s.stateNode=m,Qn=s,$t=cr(m.firstChild),or=!1,C=!0):C=!1),C||Ks(s)),br(s),C=s.type,N=s.pendingProps,M=n!==null?n.memoizedProps:null,m=N.children,m1(C,N)?m=null:M!==null&&m1(C,M)&&(s.flags|=32),s.memoizedState!==null&&(C=ff(n,s,UC,null,null,c),pc._currentValue=C),Gu(n,s),Kn(n,s,m,c),s.child;case 6:return n===null&&pt&&((n=c=$t)&&(c=AS(c,s.pendingProps,or),c!==null?(s.stateNode=c,Qn=s,$t=null,n=!0):n=!1),n||Ks(s)),null;case 13:return Ty(n,s,c);case 4:return bt(s,s.stateNode.containerInfo),m=s.pendingProps,n===null?s.child=Ka(s,null,m,c):Kn(n,s,m,c),s.child;case 11:return by(n,s,s.type,s.pendingProps,c);case 7:return Kn(n,s,s.pendingProps,c),s.child;case 8:return Kn(n,s,s.pendingProps.children,c),s.child;case 12:return Kn(n,s,s.pendingProps.children,c),s.child;case 10:return m=s.pendingProps,$s(s,s.type,m.value),Kn(n,s,m.children,c),s.child;case 9:return C=s.type._context,m=s.pendingProps.children,Xa(s),C=Zn(C),m=m(C),s.flags|=1,Kn(n,s,m,c),s.child;case 14:return vy(n,s,s.type,s.pendingProps,c);case 15:return wy(n,s,s.type,s.pendingProps,c);case 19:return Oy(n,s,c);case 31:return XC(n,s,c);case 22:return xy(n,s,c,s.pendingProps);case 24:return Xa(s),m=Zn(Nn),n===null?(C=nf(),C===null&&(C=Xt,N=ef(),C.pooledCache=N,N.refCount++,N!==null&&(C.pooledCacheLanes|=c),C=N),s.memoizedState={parent:m,cache:C},sf(s),$s(s,Nn,C)):((n.lanes&c)!==0&&(af(n,s),Zl(s,null,null,c),Ql()),C=n.memoizedState,N=s.memoizedState,C.parent!==m?(C={parent:m,cache:m},s.memoizedState=C,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=C),$s(s,Nn,m)):(m=N.cache,$s(s,Nn,m),m!==C.cache&&Jh(s,[Nn],c,!0))),Kn(n,s,s.pendingProps.children,c),s.child;case 29:throw s.pendingProps}throw Error(o(156,s.tag))}function ys(n){n.flags|=4}function Ff(n,s,c,m,C){if((s=(n.mode&32)!==0)&&(s=!1),s){if(n.flags|=16777216,(C&335544128)===C)if(n.stateNode.complete)n.flags|=8192;else if(i2())n.flags|=8192;else throw Za=Mu,rf}else n.flags&=-16777217}function Iy(n,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!Y2(s))if(i2())n.flags|=8192;else throw Za=Mu,rf}function Xu(n,s){s!==null&&(n.flags|=4),n.flags&16384&&(s=n.tag!==22?jn():536870912,n.lanes|=s,Wo|=s)}function nc(n,s){if(!pt)switch(n.tailMode){case"hidden":s=n.tail;for(var c=null;s!==null;)s.alternate!==null&&(c=s),s=s.sibling;c===null?n.tail=null:c.sibling=null;break;case"collapsed":c=n.tail;for(var m=null;c!==null;)c.alternate!==null&&(m=c),c=c.sibling;m===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:m.sibling=null}}function Jt(n){var s=n.alternate!==null&&n.alternate.child===n.child,c=0,m=0;if(s)for(var C=n.child;C!==null;)c|=C.lanes|C.childLanes,m|=C.subtreeFlags&65011712,m|=C.flags&65011712,C.return=n,C=C.sibling;else for(C=n.child;C!==null;)c|=C.lanes|C.childLanes,m|=C.subtreeFlags,m|=C.flags,C.return=n,C=C.sibling;return n.subtreeFlags|=m,n.childLanes=c,s}function QC(n,s,c){var m=s.pendingProps;switch(Wh(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jt(s),null;case 1:return Jt(s),null;case 3:return c=s.stateNode,m=null,n!==null&&(m=n.memoizedState.cache),s.memoizedState.cache!==m&&(s.flags|=2048),fs(Nn),Ht(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(n===null||n.child===null)&&(Lo(s)?ys(s):n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Zh())),Jt(s),null;case 26:var C=s.type,N=s.memoizedState;return n===null?(ys(s),N!==null?(Jt(s),Iy(s,N)):(Jt(s),Ff(s,C,null,m,c))):N?N!==n.memoizedState?(ys(s),Jt(s),Iy(s,N)):(Jt(s),s.flags&=-16777217):(n=n.memoizedProps,n!==m&&ys(s),Jt(s),Ff(s,C,n,m,c)),null;case 27:if(_n(s),c=Ie.current,C=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==m&&ys(s);else{if(!m){if(s.stateNode===null)throw Error(o(166));return Jt(s),null}n=_e.current,Lo(s)?up(s):(n=P2(C,m,c),s.stateNode=n,ys(s))}return Jt(s),null;case 5:if(_n(s),C=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==m&&ys(s);else{if(!m){if(s.stateNode===null)throw Error(o(166));return Jt(s),null}if(N=_e.current,Lo(s))up(s);else{var M=ld(Ie.current);switch(N){case 1:N=M.createElementNS("http://www.w3.org/2000/svg",C);break;case 2:N=M.createElementNS("http://www.w3.org/1998/Math/MathML",C);break;default:switch(C){case"svg":N=M.createElementNS("http://www.w3.org/2000/svg",C);break;case"math":N=M.createElementNS("http://www.w3.org/1998/Math/MathML",C);break;case"script":N=M.createElement("div"),N.innerHTML="<script><\/script>",N=N.removeChild(N.firstChild);break;case"select":N=typeof m.is=="string"?M.createElement("select",{is:m.is}):M.createElement("select"),m.multiple?N.multiple=!0:m.size&&(N.size=m.size);break;default:N=typeof m.is=="string"?M.createElement(C,{is:m.is}):M.createElement(C)}}N[bn]=s,N[jt]=m;e:for(M=s.child;M!==null;){if(M.tag===5||M.tag===6)N.appendChild(M.stateNode);else if(M.tag!==4&&M.tag!==27&&M.child!==null){M.child.return=M,M=M.child;continue}if(M===s)break e;for(;M.sibling===null;){if(M.return===null||M.return===s)break e;M=M.return}M.sibling.return=M.return,M=M.sibling}s.stateNode=N;e:switch($n(N,C,m),C){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}m&&ys(s)}}return Jt(s),Ff(s,s.type,n===null?null:n.memoizedProps,s.pendingProps,c),null;case 6:if(n&&s.stateNode!=null)n.memoizedProps!==m&&ys(s);else{if(typeof m!="string"&&s.stateNode===null)throw Error(o(166));if(n=Ie.current,Lo(s)){if(n=s.stateNode,c=s.memoizedProps,m=null,C=Qn,C!==null)switch(C.tag){case 27:case 5:m=C.memoizedProps}n[bn]=s,n=!!(n.nodeValue===c||m!==null&&m.suppressHydrationWarning===!0||T2(n.nodeValue,c)),n||Ks(s,!0)}else n=ld(n).createTextNode(m),n[bn]=s,s.stateNode=n}return Jt(s),null;case 31:if(c=s.memoizedState,n===null||n.memoizedState!==null){if(m=Lo(s),c!==null){if(n===null){if(!m)throw Error(o(318));if(n=s.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(o(557));n[bn]=s}else Ga(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Jt(s),n=!1}else c=Zh(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=c),n=!0;if(!n)return s.flags&256?(Vi(s),s):(Vi(s),null);if((s.flags&128)!==0)throw Error(o(558))}return Jt(s),null;case 13:if(m=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(C=Lo(s),m!==null&&m.dehydrated!==null){if(n===null){if(!C)throw Error(o(318));if(C=s.memoizedState,C=C!==null?C.dehydrated:null,!C)throw Error(o(317));C[bn]=s}else Ga(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Jt(s),C=!1}else C=Zh(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=C),C=!0;if(!C)return s.flags&256?(Vi(s),s):(Vi(s),null)}return Vi(s),(s.flags&128)!==0?(s.lanes=c,s):(c=m!==null,n=n!==null&&n.memoizedState!==null,c&&(m=s.child,C=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(C=m.alternate.memoizedState.cachePool.pool),N=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(N=m.memoizedState.cachePool.pool),N!==C&&(m.flags|=2048)),c!==n&&c&&(s.child.flags|=8192),Xu(s,s.updateQueue),Jt(s),null);case 4:return Ht(),n===null&&c1(s.stateNode.containerInfo),Jt(s),null;case 10:return fs(s.type),Jt(s),null;case 19:if(ge(xn),m=s.memoizedState,m===null)return Jt(s),null;if(C=(s.flags&128)!==0,N=m.rendering,N===null)if(C)nc(m,!1);else{if(mn!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(N=ju(n),N!==null){for(s.flags|=128,nc(m,!1),n=N.updateQueue,s.updateQueue=n,Xu(s,n),s.subtreeFlags=0,n=c,c=s.child;c!==null;)sp(c,n),c=c.sibling;return Me(xn,xn.current&1|2),pt&&ds(s,m.treeForkCount),s.child}n=n.sibling}m.tail!==null&&sn()>$u&&(s.flags|=128,C=!0,nc(m,!1),s.lanes=4194304)}else{if(!C)if(n=ju(N),n!==null){if(s.flags|=128,C=!0,n=n.updateQueue,s.updateQueue=n,Xu(s,n),nc(m,!0),m.tail===null&&m.tailMode==="hidden"&&!N.alternate&&!pt)return Jt(s),null}else 2*sn()-m.renderingStartTime>$u&&c!==536870912&&(s.flags|=128,C=!0,nc(m,!1),s.lanes=4194304);m.isBackwards?(N.sibling=s.child,s.child=N):(n=m.last,n!==null?n.sibling=N:s.child=N,m.last=N)}return m.tail!==null?(n=m.tail,m.rendering=n,m.tail=n.sibling,m.renderingStartTime=sn(),n.sibling=null,c=xn.current,Me(xn,C?c&1|2:c&1),pt&&ds(s,m.treeForkCount),n):(Jt(s),null);case 22:case 23:return Vi(s),uf(),m=s.memoizedState!==null,n!==null?n.memoizedState!==null!==m&&(s.flags|=8192):m&&(s.flags|=8192),m?(c&536870912)!==0&&(s.flags&128)===0&&(Jt(s),s.subtreeFlags&6&&(s.flags|=8192)):Jt(s),c=s.updateQueue,c!==null&&Xu(s,c.retryQueue),c=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(c=n.memoizedState.cachePool.pool),m=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(m=s.memoizedState.cachePool.pool),m!==c&&(s.flags|=2048),n!==null&&ge(Wa),null;case 24:return c=null,n!==null&&(c=n.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),fs(Nn),Jt(s),null;case 25:return null;case 30:return null}throw Error(o(156,s.tag))}function ZC(n,s){switch(Wh(s),s.tag){case 1:return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return fs(Nn),Ht(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 26:case 27:case 5:return _n(s),null;case 31:if(s.memoizedState!==null){if(Vi(s),s.alternate===null)throw Error(o(340));Ga()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 13:if(Vi(s),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(o(340));Ga()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return ge(xn),null;case 4:return Ht(),null;case 10:return fs(s.type),null;case 22:case 23:return Vi(s),uf(),n!==null&&ge(Wa),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 24:return fs(Nn),null;case 25:return null;default:return null}}function _y(n,s){switch(Wh(s),s.tag){case 3:fs(Nn),Ht();break;case 26:case 27:case 5:_n(s);break;case 4:Ht();break;case 31:s.memoizedState!==null&&Vi(s);break;case 13:Vi(s);break;case 19:ge(xn);break;case 10:fs(s.type);break;case 22:case 23:Vi(s),uf(),n!==null&&ge(Wa);break;case 24:fs(Nn)}}function ic(n,s){try{var c=s.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var C=m.next;c=C;do{if((c.tag&n)===n){m=void 0;var N=c.create,M=c.inst;m=N(),M.destroy=m}c=c.next}while(c!==C)}}catch(q){Bt(s,s.return,q)}}function ra(n,s,c){try{var m=s.updateQueue,C=m!==null?m.lastEffect:null;if(C!==null){var N=C.next;m=N;do{if((m.tag&n)===n){var M=m.inst,q=M.destroy;if(q!==void 0){M.destroy=void 0,C=s;var K=c,ce=q;try{ce()}catch(xe){Bt(C,K,xe)}}}m=m.next}while(m!==N)}}catch(xe){Bt(s,s.return,xe)}}function Dy(n){var s=n.updateQueue;if(s!==null){var c=n.stateNode;try{Cp(s,c)}catch(m){Bt(n,n.return,m)}}}function jy(n,s,c){c.props=Ja(n.type,n.memoizedProps),c.state=n.memoizedState;try{c.componentWillUnmount()}catch(m){Bt(n,s,m)}}function rc(n,s){try{var c=n.ref;if(c!==null){switch(n.tag){case 26:case 27:case 5:var m=n.stateNode;break;case 30:m=n.stateNode;break;default:m=n.stateNode}typeof c=="function"?n.refCleanup=c(m):c.current=m}}catch(C){Bt(n,s,C)}}function qr(n,s){var c=n.ref,m=n.refCleanup;if(c!==null)if(typeof m=="function")try{m()}catch(C){Bt(n,s,C)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(C){Bt(n,s,C)}else c.current=null}function Ly(n){var s=n.type,c=n.memoizedProps,m=n.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":c.autoFocus&&m.focus();break e;case"img":c.src?m.src=c.src:c.srcSet&&(m.srcset=c.srcSet)}}catch(C){Bt(n,n.return,C)}}function Vf(n,s,c){try{var m=n.stateNode;bS(m,n.type,c,s),m[jt]=s}catch(C){Bt(n,n.return,C)}}function By(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&da(n.type)||n.tag===4}function Hf(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||By(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&da(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function qf(n,s,c){var m=n.tag;if(m===5||m===6)n=n.stateNode,s?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(n,s):(s=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,s.appendChild(n),c=c._reactRootContainer,c!=null||s.onclick!==null||(s.onclick=xi));else if(m!==4&&(m===27&&da(n.type)&&(c=n.stateNode,s=null),n=n.child,n!==null))for(qf(n,s,c),n=n.sibling;n!==null;)qf(n,s,c),n=n.sibling}function Wu(n,s,c){var m=n.tag;if(m===5||m===6)n=n.stateNode,s?c.insertBefore(n,s):c.appendChild(n);else if(m!==4&&(m===27&&da(n.type)&&(c=n.stateNode),n=n.child,n!==null))for(Wu(n,s,c),n=n.sibling;n!==null;)Wu(n,s,c),n=n.sibling}function ky(n){var s=n.stateNode,c=n.memoizedProps;try{for(var m=n.type,C=s.attributes;C.length;)s.removeAttributeNode(C[0]);$n(s,m,c),s[bn]=n,s[jt]=c}catch(N){Bt(n,n.return,N)}}var bs=!1,On=!1,Gf=!1,Py=typeof WeakSet=="function"?WeakSet:Set,Hn=null;function KC(n,s){if(n=n.containerInfo,h1=gd,n=B(n),V(n)){if("selectionStart"in n)var c={start:n.selectionStart,end:n.selectionEnd};else e:{c=(c=n.ownerDocument)&&c.defaultView||window;var m=c.getSelection&&c.getSelection();if(m&&m.rangeCount!==0){c=m.anchorNode;var C=m.anchorOffset,N=m.focusNode;m=m.focusOffset;try{c.nodeType,N.nodeType}catch{c=null;break e}var M=0,q=-1,K=-1,ce=0,xe=0,Se=n,de=null;t:for(;;){for(var be;Se!==c||C!==0&&Se.nodeType!==3||(q=M+C),Se!==N||m!==0&&Se.nodeType!==3||(K=M+m),Se.nodeType===3&&(M+=Se.nodeValue.length),(be=Se.firstChild)!==null;)de=Se,Se=be;for(;;){if(Se===n)break t;if(de===c&&++ce===C&&(q=M),de===N&&++xe===m&&(K=M),(be=Se.nextSibling)!==null)break;Se=de,de=Se.parentNode}Se=be}c=q===-1||K===-1?null:{start:q,end:K}}else c=null}c=c||{start:0,end:0}}else c=null;for(f1={focusedElem:n,selectionRange:c},gd=!1,Hn=s;Hn!==null;)if(s=Hn,n=s.child,(s.subtreeFlags&1028)!==0&&n!==null)n.return=s,Hn=n;else for(;Hn!==null;){switch(s=Hn,N=s.alternate,n=s.flags,s.tag){case 0:if((n&4)!==0&&(n=s.updateQueue,n=n!==null?n.events:null,n!==null))for(c=0;c<n.length;c++)C=n[c],C.ref.impl=C.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&N!==null){n=void 0,c=s,C=N.memoizedProps,N=N.memoizedState,m=c.stateNode;try{var Ue=Ja(c.type,C);n=m.getSnapshotBeforeUpdate(Ue,N),m.__reactInternalSnapshotBeforeUpdate=n}catch(Qe){Bt(c,c.return,Qe)}}break;case 3:if((n&1024)!==0){if(n=s.stateNode.containerInfo,c=n.nodeType,c===9)p1(n);else if(c===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":p1(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(o(163))}if(n=s.sibling,n!==null){n.return=s.return,Hn=n;break}Hn=s.return}}function Uy(n,s,c){var m=c.flags;switch(c.tag){case 0:case 11:case 15:ws(n,c),m&4&&ic(5,c);break;case 1:if(ws(n,c),m&4)if(n=c.stateNode,s===null)try{n.componentDidMount()}catch(M){Bt(c,c.return,M)}else{var C=Ja(c.type,s.memoizedProps);s=s.memoizedState;try{n.componentDidUpdate(C,s,n.__reactInternalSnapshotBeforeUpdate)}catch(M){Bt(c,c.return,M)}}m&64&&Dy(c),m&512&&rc(c,c.return);break;case 3:if(ws(n,c),m&64&&(n=c.updateQueue,n!==null)){if(s=null,c.child!==null)switch(c.child.tag){case 27:case 5:s=c.child.stateNode;break;case 1:s=c.child.stateNode}try{Cp(n,s)}catch(M){Bt(c,c.return,M)}}break;case 27:s===null&&m&4&&ky(c);case 26:case 5:ws(n,c),s===null&&m&4&&Ly(c),m&512&&rc(c,c.return);break;case 12:ws(n,c);break;case 31:ws(n,c),m&4&&Vy(n,c);break;case 13:ws(n,c),m&4&&Hy(n,c),m&64&&(n=c.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(c=aS.bind(null,c),NS(n,c))));break;case 22:if(m=c.memoizedState!==null||bs,!m){s=s!==null&&s.memoizedState!==null||On,C=bs;var N=On;bs=m,(On=s)&&!N?xs(n,c,(c.subtreeFlags&8772)!==0):ws(n,c),bs=C,On=N}break;case 30:break;default:ws(n,c)}}function zy(n){var s=n.alternate;s!==null&&(n.alternate=null,zy(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&wi(s)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var nn=null,Si=!1;function vs(n,s,c){for(c=c.child;c!==null;)Fy(n,s,c),c=c.sibling}function Fy(n,s,c){if(Oe&&typeof Oe.onCommitFiberUnmount=="function")try{Oe.onCommitFiberUnmount(Wt,c)}catch{}switch(c.tag){case 26:On||qr(c,s),vs(n,s,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:On||qr(c,s);var m=nn,C=Si;da(c.type)&&(nn=c.stateNode,Si=!1),vs(n,s,c),fc(c.stateNode),nn=m,Si=C;break;case 5:On||qr(c,s);case 6:if(m=nn,C=Si,nn=null,vs(n,s,c),nn=m,Si=C,nn!==null)if(Si)try{(nn.nodeType===9?nn.body:nn.nodeName==="HTML"?nn.ownerDocument.body:nn).removeChild(c.stateNode)}catch(N){Bt(c,s,N)}else try{nn.removeChild(c.stateNode)}catch(N){Bt(c,s,N)}break;case 18:nn!==null&&(Si?(n=nn,D2(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,c.stateNode),nl(n)):D2(nn,c.stateNode));break;case 4:m=nn,C=Si,nn=c.stateNode.containerInfo,Si=!0,vs(n,s,c),nn=m,Si=C;break;case 0:case 11:case 14:case 15:ra(2,c,s),On||ra(4,c,s),vs(n,s,c);break;case 1:On||(qr(c,s),m=c.stateNode,typeof m.componentWillUnmount=="function"&&jy(c,s,m)),vs(n,s,c);break;case 21:vs(n,s,c);break;case 22:On=(m=On)||c.memoizedState!==null,vs(n,s,c),On=m;break;default:vs(n,s,c)}}function Vy(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{nl(n)}catch(c){Bt(s,s.return,c)}}}function Hy(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{nl(n)}catch(c){Bt(s,s.return,c)}}function $C(n){switch(n.tag){case 31:case 13:case 19:var s=n.stateNode;return s===null&&(s=n.stateNode=new Py),s;case 22:return n=n.stateNode,s=n._retryCache,s===null&&(s=n._retryCache=new Py),s;default:throw Error(o(435,n.tag))}}function Qu(n,s){var c=$C(n);s.forEach(function(m){if(!c.has(m)){c.add(m);var C=oS.bind(null,n,m);m.then(C,C)}})}function Ai(n,s){var c=s.deletions;if(c!==null)for(var m=0;m<c.length;m++){var C=c[m],N=n,M=s,q=M;e:for(;q!==null;){switch(q.tag){case 27:if(da(q.type)){nn=q.stateNode,Si=!1;break e}break;case 5:nn=q.stateNode,Si=!1;break e;case 3:case 4:nn=q.stateNode.containerInfo,Si=!0;break e}q=q.return}if(nn===null)throw Error(o(160));Fy(N,M,C),nn=null,Si=!1,N=C.alternate,N!==null&&(N.return=null),C.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)qy(s,n),s=s.sibling}var Nr=null;function qy(n,s){var c=n.alternate,m=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Ai(s,n),Ni(n),m&4&&(ra(3,n,n.return),ic(3,n),ra(5,n,n.return));break;case 1:Ai(s,n),Ni(n),m&512&&(On||c===null||qr(c,c.return)),m&64&&bs&&(n=n.updateQueue,n!==null&&(m=n.callbacks,m!==null&&(c=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=c===null?m:c.concat(m))));break;case 26:var C=Nr;if(Ai(s,n),Ni(n),m&512&&(On||c===null||qr(c,c.return)),m&4){var N=c!==null?c.memoizedState:null;if(m=n.memoizedState,c===null)if(m===null)if(n.stateNode===null){e:{m=n.type,c=n.memoizedProps,C=C.ownerDocument||C;t:switch(m){case"title":N=C.getElementsByTagName("title")[0],(!N||N[ja]||N[bn]||N.namespaceURI==="http://www.w3.org/2000/svg"||N.hasAttribute("itemprop"))&&(N=C.createElement(m),C.head.insertBefore(N,C.querySelector("head > title"))),$n(N,m,c),N[bn]=n,dn(N),m=N;break e;case"link":var M=q2("link","href",C).get(m+(c.href||""));if(M){for(var q=0;q<M.length;q++)if(N=M[q],N.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&N.getAttribute("rel")===(c.rel==null?null:c.rel)&&N.getAttribute("title")===(c.title==null?null:c.title)&&N.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){M.splice(q,1);break t}}N=C.createElement(m),$n(N,m,c),C.head.appendChild(N);break;case"meta":if(M=q2("meta","content",C).get(m+(c.content||""))){for(q=0;q<M.length;q++)if(N=M[q],N.getAttribute("content")===(c.content==null?null:""+c.content)&&N.getAttribute("name")===(c.name==null?null:c.name)&&N.getAttribute("property")===(c.property==null?null:c.property)&&N.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&N.getAttribute("charset")===(c.charSet==null?null:c.charSet)){M.splice(q,1);break t}}N=C.createElement(m),$n(N,m,c),C.head.appendChild(N);break;default:throw Error(o(468,m))}N[bn]=n,dn(N),m=N}n.stateNode=m}else G2(C,n.type,n.stateNode);else n.stateNode=H2(C,m,n.memoizedProps);else N!==m?(N===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):N.count--,m===null?G2(C,n.type,n.stateNode):H2(C,m,n.memoizedProps)):m===null&&n.stateNode!==null&&Vf(n,n.memoizedProps,c.memoizedProps)}break;case 27:Ai(s,n),Ni(n),m&512&&(On||c===null||qr(c,c.return)),c!==null&&m&4&&Vf(n,n.memoizedProps,c.memoizedProps);break;case 5:if(Ai(s,n),Ni(n),m&512&&(On||c===null||qr(c,c.return)),n.flags&32){C=n.stateNode;try{zs(C,"")}catch(Ue){Bt(n,n.return,Ue)}}m&4&&n.stateNode!=null&&(C=n.memoizedProps,Vf(n,C,c!==null?c.memoizedProps:C)),m&1024&&(Gf=!0);break;case 6:if(Ai(s,n),Ni(n),m&4){if(n.stateNode===null)throw Error(o(162));m=n.memoizedProps,c=n.stateNode;try{c.nodeValue=m}catch(Ue){Bt(n,n.return,Ue)}}break;case 3:if(dd=null,C=Nr,Nr=cd(s.containerInfo),Ai(s,n),Nr=C,Ni(n),m&4&&c!==null&&c.memoizedState.isDehydrated)try{nl(s.containerInfo)}catch(Ue){Bt(n,n.return,Ue)}Gf&&(Gf=!1,Gy(n));break;case 4:m=Nr,Nr=cd(n.stateNode.containerInfo),Ai(s,n),Ni(n),Nr=m;break;case 12:Ai(s,n),Ni(n);break;case 31:Ai(s,n),Ni(n),m&4&&(m=n.updateQueue,m!==null&&(n.updateQueue=null,Qu(n,m)));break;case 13:Ai(s,n),Ni(n),n.child.flags&8192&&n.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(Ku=sn()),m&4&&(m=n.updateQueue,m!==null&&(n.updateQueue=null,Qu(n,m)));break;case 22:C=n.memoizedState!==null;var K=c!==null&&c.memoizedState!==null,ce=bs,xe=On;if(bs=ce||C,On=xe||K,Ai(s,n),On=xe,bs=ce,Ni(n),m&8192)e:for(s=n.stateNode,s._visibility=C?s._visibility&-2:s._visibility|1,C&&(c===null||K||bs||On||eo(n)),c=null,s=n;;){if(s.tag===5||s.tag===26){if(c===null){K=c=s;try{if(N=K.stateNode,C)M=N.style,typeof M.setProperty=="function"?M.setProperty("display","none","important"):M.display="none";else{q=K.stateNode;var Se=K.memoizedProps.style,de=Se!=null&&Se.hasOwnProperty("display")?Se.display:null;q.style.display=de==null||typeof de=="boolean"?"":(""+de).trim()}}catch(Ue){Bt(K,K.return,Ue)}}}else if(s.tag===6){if(c===null){K=s;try{K.stateNode.nodeValue=C?"":K.memoizedProps}catch(Ue){Bt(K,K.return,Ue)}}}else if(s.tag===18){if(c===null){K=s;try{var be=K.stateNode;C?j2(be,!0):j2(K.stateNode,!1)}catch(Ue){Bt(K,K.return,Ue)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===n)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break e;for(;s.sibling===null;){if(s.return===null||s.return===n)break e;c===s&&(c=null),s=s.return}c===s&&(c=null),s.sibling.return=s.return,s=s.sibling}m&4&&(m=n.updateQueue,m!==null&&(c=m.retryQueue,c!==null&&(m.retryQueue=null,Qu(n,c))));break;case 19:Ai(s,n),Ni(n),m&4&&(m=n.updateQueue,m!==null&&(n.updateQueue=null,Qu(n,m)));break;case 30:break;case 21:break;default:Ai(s,n),Ni(n)}}function Ni(n){var s=n.flags;if(s&2){try{for(var c,m=n.return;m!==null;){if(By(m)){c=m;break}m=m.return}if(c==null)throw Error(o(160));switch(c.tag){case 27:var C=c.stateNode,N=Hf(n);Wu(n,N,C);break;case 5:var M=c.stateNode;c.flags&32&&(zs(M,""),c.flags&=-33);var q=Hf(n);Wu(n,q,M);break;case 3:case 4:var K=c.stateNode.containerInfo,ce=Hf(n);qf(n,ce,K);break;default:throw Error(o(161))}}catch(xe){Bt(n,n.return,xe)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function Gy(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var s=n;Gy(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),n=n.sibling}}function ws(n,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Uy(n,s.alternate,s),s=s.sibling}function eo(n){for(n=n.child;n!==null;){var s=n;switch(s.tag){case 0:case 11:case 14:case 15:ra(4,s,s.return),eo(s);break;case 1:qr(s,s.return);var c=s.stateNode;typeof c.componentWillUnmount=="function"&&jy(s,s.return,c),eo(s);break;case 27:fc(s.stateNode);case 26:case 5:qr(s,s.return),eo(s);break;case 22:s.memoizedState===null&&eo(s);break;case 30:eo(s);break;default:eo(s)}n=n.sibling}}function xs(n,s,c){for(c=c&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var m=s.alternate,C=n,N=s,M=N.flags;switch(N.tag){case 0:case 11:case 15:xs(C,N,c),ic(4,N);break;case 1:if(xs(C,N,c),m=N,C=m.stateNode,typeof C.componentDidMount=="function")try{C.componentDidMount()}catch(ce){Bt(m,m.return,ce)}if(m=N,C=m.updateQueue,C!==null){var q=m.stateNode;try{var K=C.shared.hiddenCallbacks;if(K!==null)for(C.shared.hiddenCallbacks=null,C=0;C<K.length;C++)Ep(K[C],q)}catch(ce){Bt(m,m.return,ce)}}c&&M&64&&Dy(N),rc(N,N.return);break;case 27:ky(N);case 26:case 5:xs(C,N,c),c&&m===null&&M&4&&Ly(N),rc(N,N.return);break;case 12:xs(C,N,c);break;case 31:xs(C,N,c),c&&M&4&&Vy(C,N);break;case 13:xs(C,N,c),c&&M&4&&Hy(C,N);break;case 22:N.memoizedState===null&&xs(C,N,c),rc(N,N.return);break;case 30:break;default:xs(C,N,c)}s=s.sibling}}function Yf(n,s){var c=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(c=n.memoizedState.cachePool.pool),n=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(n=s.memoizedState.cachePool.pool),n!==c&&(n!=null&&n.refCount++,c!=null&&ql(c))}function Xf(n,s){n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&ql(n))}function Tr(n,s,c,m){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Yy(n,s,c,m),s=s.sibling}function Yy(n,s,c,m){var C=s.flags;switch(s.tag){case 0:case 11:case 15:Tr(n,s,c,m),C&2048&&ic(9,s);break;case 1:Tr(n,s,c,m);break;case 3:Tr(n,s,c,m),C&2048&&(n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&ql(n)));break;case 12:if(C&2048){Tr(n,s,c,m),n=s.stateNode;try{var N=s.memoizedProps,M=N.id,q=N.onPostCommit;typeof q=="function"&&q(M,s.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(K){Bt(s,s.return,K)}}else Tr(n,s,c,m);break;case 31:Tr(n,s,c,m);break;case 13:Tr(n,s,c,m);break;case 23:break;case 22:N=s.stateNode,M=s.alternate,s.memoizedState!==null?N._visibility&2?Tr(n,s,c,m):sc(n,s):N._visibility&2?Tr(n,s,c,m):(N._visibility|=2,Go(n,s,c,m,(s.subtreeFlags&10256)!==0||!1)),C&2048&&Yf(M,s);break;case 24:Tr(n,s,c,m),C&2048&&Xf(s.alternate,s);break;default:Tr(n,s,c,m)}}function Go(n,s,c,m,C){for(C=C&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var N=n,M=s,q=c,K=m,ce=M.flags;switch(M.tag){case 0:case 11:case 15:Go(N,M,q,K,C),ic(8,M);break;case 23:break;case 22:var xe=M.stateNode;M.memoizedState!==null?xe._visibility&2?Go(N,M,q,K,C):sc(N,M):(xe._visibility|=2,Go(N,M,q,K,C)),C&&ce&2048&&Yf(M.alternate,M);break;case 24:Go(N,M,q,K,C),C&&ce&2048&&Xf(M.alternate,M);break;default:Go(N,M,q,K,C)}s=s.sibling}}function sc(n,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var c=n,m=s,C=m.flags;switch(m.tag){case 22:sc(c,m),C&2048&&Yf(m.alternate,m);break;case 24:sc(c,m),C&2048&&Xf(m.alternate,m);break;default:sc(c,m)}s=s.sibling}}var ac=8192;function Yo(n,s,c){if(n.subtreeFlags&ac)for(n=n.child;n!==null;)Xy(n,s,c),n=n.sibling}function Xy(n,s,c){switch(n.tag){case 26:Yo(n,s,c),n.flags&ac&&n.memoizedState!==null&&PS(c,Nr,n.memoizedState,n.memoizedProps);break;case 5:Yo(n,s,c);break;case 3:case 4:var m=Nr;Nr=cd(n.stateNode.containerInfo),Yo(n,s,c),Nr=m;break;case 22:n.memoizedState===null&&(m=n.alternate,m!==null&&m.memoizedState!==null?(m=ac,ac=16777216,Yo(n,s,c),ac=m):Yo(n,s,c));break;default:Yo(n,s,c)}}function Wy(n){var s=n.alternate;if(s!==null&&(n=s.child,n!==null)){s.child=null;do s=n.sibling,n.sibling=null,n=s;while(n!==null)}}function oc(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var c=0;c<s.length;c++){var m=s[c];Hn=m,Zy(m,n)}Wy(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Qy(n),n=n.sibling}function Qy(n){switch(n.tag){case 0:case 11:case 15:oc(n),n.flags&2048&&ra(9,n,n.return);break;case 3:oc(n);break;case 12:oc(n);break;case 22:var s=n.stateNode;n.memoizedState!==null&&s._visibility&2&&(n.return===null||n.return.tag!==13)?(s._visibility&=-3,Zu(n)):oc(n);break;default:oc(n)}}function Zu(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var c=0;c<s.length;c++){var m=s[c];Hn=m,Zy(m,n)}Wy(n)}for(n=n.child;n!==null;){switch(s=n,s.tag){case 0:case 11:case 15:ra(8,s,s.return),Zu(s);break;case 22:c=s.stateNode,c._visibility&2&&(c._visibility&=-3,Zu(s));break;default:Zu(s)}n=n.sibling}}function Zy(n,s){for(;Hn!==null;){var c=Hn;switch(c.tag){case 0:case 11:case 15:ra(8,c,s);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var m=c.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:ql(c.memoizedState.cache)}if(m=c.child,m!==null)m.return=c,Hn=m;else e:for(c=n;Hn!==null;){m=Hn;var C=m.sibling,N=m.return;if(zy(m),m===c){Hn=null;break e}if(C!==null){C.return=N,Hn=C;break e}Hn=N}}}var JC={getCacheForType:function(n){var s=Zn(Nn),c=s.data.get(n);return c===void 0&&(c=n(),s.data.set(n,c)),c},cacheSignal:function(){return Zn(Nn).controller.signal}},eS=typeof WeakMap=="function"?WeakMap:Map,Rt=0,Xt=null,ct=null,mt=0,Lt=0,Hi=null,sa=!1,Xo=!1,Wf=!1,Es=0,mn=0,aa=0,to=0,Qf=0,qi=0,Wo=0,lc=null,Ti=null,Zf=!1,Ku=0,Ky=0,$u=1/0,Ju=null,oa=null,Pn=0,la=null,Qo=null,Cs=0,Kf=0,$f=null,$y=null,cc=0,Jf=null;function Gi(){return(Rt&2)!==0&&mt!==0?mt&-mt:re.T!==null?s1():ai()}function Jy(){if(qi===0)if((mt&536870912)===0||pt){var n=ht;ht<<=1,(ht&3932160)===0&&(ht=262144),qi=n}else qi=536870912;return n=Fi.current,n!==null&&(n.flags|=32),qi}function Ri(n,s,c){(n===Xt&&(Lt===2||Lt===9)||n.cancelPendingCommit!==null)&&(Zo(n,0),ca(n,mt,qi,!1)),Br(n,c),((Rt&2)===0||n!==Xt)&&(n===Xt&&((Rt&2)===0&&(to|=c),mn===4&&ca(n,mt,qi,!1)),Gr(n))}function e2(n,s,c){if((Rt&6)!==0)throw Error(o(327));var m=!c&&(s&127)===0&&(s&n.expiredLanes)===0||Xn(n,s),C=m?iS(n,s):t1(n,s,!0),N=m;do{if(C===0){Xo&&!m&&ca(n,s,0,!1);break}else{if(c=n.current.alternate,N&&!tS(c)){C=t1(n,s,!1),N=!1;continue}if(C===2){if(N=s,n.errorRecoveryDisabledLanes&N)var M=0;else M=n.pendingLanes&-536870913,M=M!==0?M:M&536870912?536870912:0;if(M!==0){s=M;e:{var q=n;C=lc;var K=q.current.memoizedState.isDehydrated;if(K&&(Zo(q,M).flags|=256),M=t1(q,M,!1),M!==2){if(Wf&&!K){q.errorRecoveryDisabledLanes|=N,to|=N,C=4;break e}N=Ti,Ti=C,N!==null&&(Ti===null?Ti=N:Ti.push.apply(Ti,N))}C=M}if(N=!1,C!==2)continue}}if(C===1){Zo(n,0),ca(n,s,0,!0);break}e:{switch(m=n,N=C,N){case 0:case 1:throw Error(o(345));case 4:if((s&4194048)!==s)break;case 6:ca(m,s,qi,!sa);break e;case 2:Ti=null;break;case 3:case 5:break;default:throw Error(o(329))}if((s&62914560)===s&&(C=Ku+300-sn(),10<C)){if(ca(m,s,qi,!sa),Da(m,0,!0)!==0)break e;Cs=s,m.timeoutHandle=I2(t2.bind(null,m,c,Ti,Ju,Zf,s,qi,to,Wo,sa,N,"Throttled",-0,0),C);break e}t2(m,c,Ti,Ju,Zf,s,qi,to,Wo,sa,N,null,-0,0)}}break}while(!0);Gr(n)}function t2(n,s,c,m,C,N,M,q,K,ce,xe,Se,de,be){if(n.timeoutHandle=-1,Se=s.subtreeFlags,Se&8192||(Se&16785408)===16785408){Se={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:xi},Xy(s,N,Se);var Ue=(N&62914560)===N?Ku-sn():(N&4194048)===N?Ky-sn():0;if(Ue=US(Se,Ue),Ue!==null){Cs=N,n.cancelPendingCommit=Ue(c2.bind(null,n,s,N,c,m,C,M,q,K,xe,Se,null,de,be)),ca(n,N,M,!ce);return}}c2(n,s,N,c,m,C,M,q,K)}function tS(n){for(var s=n;;){var c=s.tag;if((c===0||c===11||c===15)&&s.flags&16384&&(c=s.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var m=0;m<c.length;m++){var C=c[m],N=C.getSnapshot;C=C.value;try{if(!g(N(),C))return!1}catch{return!1}}if(c=s.child,s.subtreeFlags&16384&&c!==null)c.return=s,s=c;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ca(n,s,c,m){s&=~Qf,s&=~to,n.suspendedLanes|=s,n.pingedLanes&=~s,m&&(n.warmLanes|=s),m=n.expirationTimes;for(var C=s;0<C;){var N=31-nt(C),M=1<<N;m[N]=-1,C&=~M}c!==0&&su(n,c,s)}function ed(){return(Rt&6)===0?(uc(0),!1):!0}function e1(){if(ct!==null){if(Lt===0)var n=ct.return;else n=ct,hs=Ya=null,pf(n),zo=null,Yl=0,n=ct;for(;n!==null;)_y(n.alternate,n),n=n.return;ct=null}}function Zo(n,s){var c=n.timeoutHandle;c!==-1&&(n.timeoutHandle=-1,xS(c)),c=n.cancelPendingCommit,c!==null&&(n.cancelPendingCommit=null,c()),Cs=0,e1(),Xt=n,ct=c=us(n.current,null),mt=s,Lt=0,Hi=null,sa=!1,Xo=Xn(n,s),Wf=!1,Wo=qi=Qf=to=aa=mn=0,Ti=lc=null,Zf=!1,(s&8)!==0&&(s|=s&32);var m=n.entangledLanes;if(m!==0)for(n=n.entanglements,m&=s;0<m;){var C=31-nt(m),N=1<<C;s|=n[C],m&=~N}return Es=s,xu(),c}function n2(n,s){tt=null,re.H=ec,s===Uo||s===Ou?(s=bp(),Lt=3):s===rf?(s=bp(),Lt=4):Lt=s===_f?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Hi=s,ct===null&&(mn=1,Hu(n,rr(s,n.current)))}function i2(){var n=Fi.current;return n===null?!0:(mt&4194048)===mt?lr===null:(mt&62914560)===mt||(mt&536870912)!==0?n===lr:!1}function r2(){var n=re.H;return re.H=ec,n===null?ec:n}function s2(){var n=re.A;return re.A=JC,n}function td(){mn=4,sa||(mt&4194048)!==mt&&Fi.current!==null||(Xo=!0),(aa&134217727)===0&&(to&134217727)===0||Xt===null||ca(Xt,mt,qi,!1)}function t1(n,s,c){var m=Rt;Rt|=2;var C=r2(),N=s2();(Xt!==n||mt!==s)&&(Ju=null,Zo(n,s)),s=!1;var M=mn;e:do try{if(Lt!==0&&ct!==null){var q=ct,K=Hi;switch(Lt){case 8:e1(),M=6;break e;case 3:case 2:case 9:case 6:Fi.current===null&&(s=!0);var ce=Lt;if(Lt=0,Hi=null,Ko(n,q,K,ce),c&&Xo){M=0;break e}break;default:ce=Lt,Lt=0,Hi=null,Ko(n,q,K,ce)}}nS(),M=mn;break}catch(xe){n2(n,xe)}while(!0);return s&&n.shellSuspendCounter++,hs=Ya=null,Rt=m,re.H=C,re.A=N,ct===null&&(Xt=null,mt=0,xu()),M}function nS(){for(;ct!==null;)a2(ct)}function iS(n,s){var c=Rt;Rt|=2;var m=r2(),C=s2();Xt!==n||mt!==s?(Ju=null,$u=sn()+500,Zo(n,s)):Xo=Xn(n,s);e:do try{if(Lt!==0&&ct!==null){s=ct;var N=Hi;t:switch(Lt){case 1:Lt=0,Hi=null,Ko(n,s,N,1);break;case 2:case 9:if(pp(N)){Lt=0,Hi=null,o2(s);break}s=function(){Lt!==2&&Lt!==9||Xt!==n||(Lt=7),Gr(n)},N.then(s,s);break e;case 3:Lt=7;break e;case 4:Lt=5;break e;case 7:pp(N)?(Lt=0,Hi=null,o2(s)):(Lt=0,Hi=null,Ko(n,s,N,7));break;case 5:var M=null;switch(ct.tag){case 26:M=ct.memoizedState;case 5:case 27:var q=ct;if(M?Y2(M):q.stateNode.complete){Lt=0,Hi=null;var K=q.sibling;if(K!==null)ct=K;else{var ce=q.return;ce!==null?(ct=ce,nd(ce)):ct=null}break t}}Lt=0,Hi=null,Ko(n,s,N,5);break;case 6:Lt=0,Hi=null,Ko(n,s,N,6);break;case 8:e1(),mn=6;break e;default:throw Error(o(462))}}rS();break}catch(xe){n2(n,xe)}while(!0);return hs=Ya=null,re.H=m,re.A=C,Rt=c,ct!==null?0:(Xt=null,mt=0,xu(),mn)}function rS(){for(;ct!==null&&!bo();)a2(ct)}function a2(n){var s=My(n.alternate,n,Es);n.memoizedProps=n.pendingProps,s===null?nd(n):ct=s}function o2(n){var s=n,c=s.alternate;switch(s.tag){case 15:case 0:s=Sy(c,s,s.pendingProps,s.type,void 0,mt);break;case 11:s=Sy(c,s,s.pendingProps,s.type.render,s.ref,mt);break;case 5:pf(s);default:_y(c,s),s=ct=sp(s,Es),s=My(c,s,Es)}n.memoizedProps=n.pendingProps,s===null?nd(n):ct=s}function Ko(n,s,c,m){hs=Ya=null,pf(s),zo=null,Yl=0;var C=s.return;try{if(YC(n,C,s,c,mt)){mn=1,Hu(n,rr(c,n.current)),ct=null;return}}catch(N){if(C!==null)throw ct=C,N;mn=1,Hu(n,rr(c,n.current)),ct=null;return}s.flags&32768?(pt||m===1?n=!0:Xo||(mt&536870912)!==0?n=!1:(sa=n=!0,(m===2||m===9||m===3||m===6)&&(m=Fi.current,m!==null&&m.tag===13&&(m.flags|=16384))),l2(s,n)):nd(s)}function nd(n){var s=n;do{if((s.flags&32768)!==0){l2(s,sa);return}n=s.return;var c=QC(s.alternate,s,Es);if(c!==null){ct=c;return}if(s=s.sibling,s!==null){ct=s;return}ct=s=n}while(s!==null);mn===0&&(mn=5)}function l2(n,s){do{var c=ZC(n.alternate,n);if(c!==null){c.flags&=32767,ct=c;return}if(c=n.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!s&&(n=n.sibling,n!==null)){ct=n;return}ct=n=c}while(n!==null);mn=6,ct=null}function c2(n,s,c,m,C,N,M,q,K){n.cancelPendingCommit=null;do id();while(Pn!==0);if((Rt&6)!==0)throw Error(o(327));if(s!==null){if(s===n.current)throw Error(o(177));if(N=s.lanes|s.childLanes,N|=Vh,Ji(n,c,N,M,q,K),n===Xt&&(ct=Xt=null,mt=0),Qo=s,la=n,Cs=c,Kf=N,$f=C,$y=m,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,lS(Di,function(){return m2(),null})):(n.callbackNode=null,n.callbackPriority=0),m=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||m){m=re.T,re.T=null,C=ue.p,ue.p=2,M=Rt,Rt|=4;try{KC(n,s,c)}finally{Rt=M,ue.p=C,re.T=m}}Pn=1,u2(),d2(),h2()}}function u2(){if(Pn===1){Pn=0;var n=la,s=Qo,c=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||c){c=re.T,re.T=null;var m=ue.p;ue.p=2;var C=Rt;Rt|=4;try{qy(s,n);var N=f1,M=B(n.containerInfo),q=N.focusedElem,K=N.selectionRange;if(M!==q&&q&&q.ownerDocument&&O(q.ownerDocument.documentElement,q)){if(K!==null&&V(q)){var ce=K.start,xe=K.end;if(xe===void 0&&(xe=ce),"selectionStart"in q)q.selectionStart=ce,q.selectionEnd=Math.min(xe,q.value.length);else{var Se=q.ownerDocument||document,de=Se&&Se.defaultView||window;if(de.getSelection){var be=de.getSelection(),Ue=q.textContent.length,Qe=Math.min(K.start,Ue),Vt=K.end===void 0?Qe:Math.min(K.end,Ue);!be.extend&&Qe>Vt&&(M=Vt,Vt=Qe,Qe=M);var ie=T(q,Qe),te=T(q,Vt);if(ie&&te&&(be.rangeCount!==1||be.anchorNode!==ie.node||be.anchorOffset!==ie.offset||be.focusNode!==te.node||be.focusOffset!==te.offset)){var le=Se.createRange();le.setStart(ie.node,ie.offset),be.removeAllRanges(),Qe>Vt?(be.addRange(le),be.extend(te.node,te.offset)):(le.setEnd(te.node,te.offset),be.addRange(le))}}}}for(Se=[],be=q;be=be.parentNode;)be.nodeType===1&&Se.push({element:be,left:be.scrollLeft,top:be.scrollTop});for(typeof q.focus=="function"&&q.focus(),q=0;q<Se.length;q++){var Ce=Se[q];Ce.element.scrollLeft=Ce.left,Ce.element.scrollTop=Ce.top}}gd=!!h1,f1=h1=null}finally{Rt=C,ue.p=m,re.T=c}}n.current=s,Pn=2}}function d2(){if(Pn===2){Pn=0;var n=la,s=Qo,c=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||c){c=re.T,re.T=null;var m=ue.p;ue.p=2;var C=Rt;Rt|=4;try{Uy(n,s.alternate,s)}finally{Rt=C,ue.p=m,re.T=c}}Pn=3}}function h2(){if(Pn===4||Pn===3){Pn=0,ru();var n=la,s=Qo,c=Cs,m=$y;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Pn=5:(Pn=0,Qo=la=null,f2(n,n.pendingLanes));var C=n.pendingLanes;if(C===0&&(oa=null),vr(c),s=s.stateNode,Oe&&typeof Oe.onCommitFiberRoot=="function")try{Oe.onCommitFiberRoot(Wt,s,void 0,(s.current.flags&128)===128)}catch{}if(m!==null){s=re.T,C=ue.p,ue.p=2,re.T=null;try{for(var N=n.onRecoverableError,M=0;M<m.length;M++){var q=m[M];N(q.value,{componentStack:q.stack})}}finally{re.T=s,ue.p=C}}(Cs&3)!==0&&id(),Gr(n),C=n.pendingLanes,(c&261930)!==0&&(C&42)!==0?n===Jf?cc++:(cc=0,Jf=n):cc=0,uc(0)}}function f2(n,s){(n.pooledCacheLanes&=s)===0&&(s=n.pooledCache,s!=null&&(n.pooledCache=null,ql(s)))}function id(){return u2(),d2(),h2(),m2()}function m2(){if(Pn!==5)return!1;var n=la,s=Kf;Kf=0;var c=vr(Cs),m=re.T,C=ue.p;try{ue.p=32>c?32:c,re.T=null,c=$f,$f=null;var N=la,M=Cs;if(Pn=0,Qo=la=null,Cs=0,(Rt&6)!==0)throw Error(o(331));var q=Rt;if(Rt|=4,Qy(N.current),Yy(N,N.current,M,c),Rt=q,uc(0,!1),Oe&&typeof Oe.onPostCommitFiberRoot=="function")try{Oe.onPostCommitFiberRoot(Wt,N)}catch{}return!0}finally{ue.p=C,re.T=m,f2(n,s)}}function g2(n,s,c){s=rr(c,s),s=If(n.stateNode,s,2),n=ta(n,s,2),n!==null&&(Br(n,2),Gr(n))}function Bt(n,s,c){if(n.tag===3)g2(n,n,c);else for(;s!==null;){if(s.tag===3){g2(s,n,c);break}else if(s.tag===1){var m=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(oa===null||!oa.has(m))){n=rr(c,n),c=py(2),m=ta(s,c,2),m!==null&&(yy(c,m,s,n),Br(m,2),Gr(m));break}}s=s.return}}function n1(n,s,c){var m=n.pingCache;if(m===null){m=n.pingCache=new eS;var C=new Set;m.set(s,C)}else C=m.get(s),C===void 0&&(C=new Set,m.set(s,C));C.has(c)||(Wf=!0,C.add(c),n=sS.bind(null,n,s,c),s.then(n,n))}function sS(n,s,c){var m=n.pingCache;m!==null&&m.delete(s),n.pingedLanes|=n.suspendedLanes&c,n.warmLanes&=~c,Xt===n&&(mt&c)===c&&(mn===4||mn===3&&(mt&62914560)===mt&&300>sn()-Ku?(Rt&2)===0&&Zo(n,0):Qf|=c,Wo===mt&&(Wo=0)),Gr(n)}function p2(n,s){s===0&&(s=jn()),n=Ha(n,s),n!==null&&(Br(n,s),Gr(n))}function aS(n){var s=n.memoizedState,c=0;s!==null&&(c=s.retryLane),p2(n,c)}function oS(n,s){var c=0;switch(n.tag){case 31:case 13:var m=n.stateNode,C=n.memoizedState;C!==null&&(c=C.retryLane);break;case 19:m=n.stateNode;break;case 22:m=n.stateNode._retryCache;break;default:throw Error(o(314))}m!==null&&m.delete(s),p2(n,c)}function lS(n,s){return js(n,s)}var rd=null,$o=null,i1=!1,sd=!1,r1=!1,ua=0;function Gr(n){n!==$o&&n.next===null&&($o===null?rd=$o=n:$o=$o.next=n),sd=!0,i1||(i1=!0,uS())}function uc(n,s){if(!r1&&sd){r1=!0;do for(var c=!1,m=rd;m!==null;){if(n!==0){var C=m.pendingLanes;if(C===0)var N=0;else{var M=m.suspendedLanes,q=m.pingedLanes;N=(1<<31-nt(42|n)+1)-1,N&=C&~(M&~q),N=N&201326741?N&201326741|1:N?N|2:0}N!==0&&(c=!0,w2(m,N))}else N=mt,N=Da(m,m===Xt?N:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(N&3)===0||Xn(m,N)||(c=!0,w2(m,N));m=m.next}while(c);r1=!1}}function cS(){y2()}function y2(){sd=i1=!1;var n=0;ua!==0&&wS()&&(n=ua);for(var s=sn(),c=null,m=rd;m!==null;){var C=m.next,N=b2(m,s);N===0?(m.next=null,c===null?rd=C:c.next=C,C===null&&($o=c)):(c=m,(n!==0||(N&3)!==0)&&(sd=!0)),m=C}Pn!==0&&Pn!==5||uc(n),ua!==0&&(ua=0)}function b2(n,s){for(var c=n.suspendedLanes,m=n.pingedLanes,C=n.expirationTimes,N=n.pendingLanes&-62914561;0<N;){var M=31-nt(N),q=1<<M,K=C[M];K===-1?((q&c)===0||(q&m)!==0)&&(C[M]=Il(q,s)):K<=s&&(n.expiredLanes|=q),N&=~q}if(s=Xt,c=mt,c=Da(n,n===s?c:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),m=n.callbackNode,c===0||n===s&&(Lt===2||Lt===9)||n.cancelPendingCommit!==null)return m!==null&&m!==null&&Pe(m),n.callbackNode=null,n.callbackPriority=0;if((c&3)===0||Xn(n,c)){if(s=c&-c,s===n.callbackPriority)return s;switch(m!==null&&Pe(m),vr(c)){case 2:case 8:c=Rl;break;case 32:c=Di;break;case 268435456:c=Ol;break;default:c=Di}return m=v2.bind(null,n),c=js(c,m),n.callbackPriority=s,n.callbackNode=c,s}return m!==null&&m!==null&&Pe(m),n.callbackPriority=2,n.callbackNode=null,2}function v2(n,s){if(Pn!==0&&Pn!==5)return n.callbackNode=null,n.callbackPriority=0,null;var c=n.callbackNode;if(id()&&n.callbackNode!==c)return null;var m=mt;return m=Da(n,n===Xt?m:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),m===0?null:(e2(n,m,s),b2(n,sn()),n.callbackNode!=null&&n.callbackNode===c?v2.bind(null,n):null)}function w2(n,s){if(id())return null;e2(n,s,!0)}function uS(){ES(function(){(Rt&6)!==0?js(vi,cS):y2()})}function s1(){if(ua===0){var n=ko;n===0&&(n=_a,_a<<=1,(_a&261888)===0&&(_a=256)),ua=n}return ua}function x2(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Fs(""+n)}function E2(n,s){var c=s.ownerDocument.createElement("input");return c.name=s.name,c.value=s.value,n.id&&c.setAttribute("form",n.id),s.parentNode.insertBefore(c,s),n=new FormData(n),c.parentNode.removeChild(c),n}function dS(n,s,c,m,C){if(s==="submit"&&c&&c.stateNode===C){var N=x2((C[jt]||null).action),M=m.submitter;M&&(s=(s=M[jt]||null)?x2(s.formAction):M.getAttribute("formAction"),s!==null&&(N=s,M=null));var q=new Ln("action","action",null,m,C);n.push({event:q,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(ua!==0){var K=M?E2(C,M):new FormData(C);Af(c,{pending:!0,data:K,method:C.method,action:N},null,K)}}else typeof N=="function"&&(q.preventDefault(),K=M?E2(C,M):new FormData(C),Af(c,{pending:!0,data:K,method:C.method,action:N},N,K))},currentTarget:C}]})}}for(var a1=0;a1<Fl.length;a1++){var o1=Fl[a1],hS=o1.toLowerCase(),fS=o1[0].toUpperCase()+o1.slice(1);Ar(hS,"on"+fS)}Ar(Ci,"onAnimationEnd"),Ar(Wn,"onAnimationIteration"),Ar(_t,"onAnimationStart"),Ar("dblclick","onDoubleClick"),Ar("focusin","onFocus"),Ar("focusout","onBlur"),Ar(kn,"onTransitionRun"),Ar(di,"onTransitionStart"),Ar(Ws,"onTransitionCancel"),Ar(cs,"onTransitionEnd"),Li("onMouseEnter",["mouseout","mouseover"]),Li("onMouseLeave",["mouseout","mouseover"]),Li("onPointerEnter",["pointerout","pointerover"]),Li("onPointerLeave",["pointerout","pointerover"]),Mt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Mt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Mt("onBeforeInput",["compositionend","keypress","textInput","paste"]),Mt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Mt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Mt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var dc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(dc));function C2(n,s){s=(s&4)!==0;for(var c=0;c<n.length;c++){var m=n[c],C=m.event;m=m.listeners;e:{var N=void 0;if(s)for(var M=m.length-1;0<=M;M--){var q=m[M],K=q.instance,ce=q.currentTarget;if(q=q.listener,K!==N&&C.isPropagationStopped())break e;N=q,C.currentTarget=ce;try{N(C)}catch(xe){wu(xe)}C.currentTarget=null,N=K}else for(M=0;M<m.length;M++){if(q=m[M],K=q.instance,ce=q.currentTarget,q=q.listener,K!==N&&C.isPropagationStopped())break e;N=q,C.currentTarget=ce;try{N(C)}catch(xe){wu(xe)}C.currentTarget=null,N=K}}}}function ut(n,s){var c=s[Ls];c===void 0&&(c=s[Ls]=new Set);var m=n+"__bubble";c.has(m)||(S2(s,n,2,!1),c.add(m))}function l1(n,s,c){var m=0;s&&(m|=4),S2(c,n,m,s)}var ad="_reactListening"+Math.random().toString(36).slice(2);function c1(n){if(!n[ad]){n[ad]=!0,Ae.forEach(function(c){c!=="selectionchange"&&(mS.has(c)||l1(c,!1,n),l1(c,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[ad]||(s[ad]=!0,l1("selectionchange",!1,s))}}function S2(n,s,c,m){switch(J2(s)){case 2:var C=VS;break;case 8:C=HS;break;default:C=S1}c=C.bind(null,s,c,n),C=void 0,!jl||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(C=!0),m?C!==void 0?n.addEventListener(s,c,{capture:!0,passive:C}):n.addEventListener(s,c,!0):C!==void 0?n.addEventListener(s,c,{passive:C}):n.addEventListener(s,c,!1)}function u1(n,s,c,m,C){var N=m;if((s&1)===0&&(s&2)===0&&m!==null)e:for(;;){if(m===null)return;var M=m.tag;if(M===3||M===4){var q=m.stateNode.containerInfo;if(q===C)break;if(M===4)for(M=m.return;M!==null;){var K=M.tag;if((K===3||K===4)&&M.stateNode.containerInfo===C)return;M=M.return}for(;q!==null;){if(M=un(q),M===null)return;if(K=M.tag,K===5||K===6||K===26||K===27){m=N=M;continue e}q=q.parentNode}}m=m.return}cu(function(){var ce=N,xe=Dl(c),Se=[];e:{var de=vu.get(n);if(de!==void 0){var be=Ln,Ue=n;switch(n){case"keypress":if(Pr(c)===0)break e;case"keydown":case"keyup":be=Ro;break;case"focusin":Ue="focus",be=kl;break;case"focusout":Ue="blur",be=kl;break;case"beforeblur":case"afterblur":be=kl;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":be=Tt;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":be=No;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":be=Uh;break;case Ci:case Wn:case _t:be=it;break;case cs:be=ss;break;case"scroll":case"scrollend":be=uu;break;case"wheel":be=zh;break;case"copy":case"cut":case"paste":be=To;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":be=It;break;case"toggle":case"beforetoggle":be=Ul}var Qe=(s&4)!==0,Vt=!Qe&&(n==="scroll"||n==="scrollend"),ie=Qe?de!==null?de+"Capture":null:de;Qe=[];for(var te=ce,le;te!==null;){var Ce=te;if(le=Ce.stateNode,Ce=Ce.tag,Ce!==5&&Ce!==26&&Ce!==27||le===null||ie===null||(Ce=$e(te,ie),Ce!=null&&Qe.push(hc(te,Ce,le))),Vt)break;te=te.return}0<Qe.length&&(de=new be(de,Ue,null,c,xe),Se.push({event:de,listeners:Qe}))}}if((s&7)===0){e:{if(de=n==="mouseover"||n==="pointerover",be=n==="mouseout"||n==="pointerout",de&&c!==La&&(Ue=c.relatedTarget||c.fromElement)&&(un(Ue)||Ue[ji]))break e;if((be||de)&&(de=xe.window===xe?xe:(de=xe.ownerDocument)?de.defaultView||de.parentWindow:window,be?(Ue=c.relatedTarget||c.toElement,be=ce,Ue=Ue?un(Ue):null,Ue!==null&&(Vt=h(Ue),Qe=Ue.tag,Ue!==Vt||Qe!==5&&Qe!==27&&Qe!==6)&&(Ue=null)):(be=null,Ue=ce),be!==Ue)){if(Qe=Tt,Ce="onMouseLeave",ie="onMouseEnter",te="mouse",(n==="pointerout"||n==="pointerover")&&(Qe=It,Ce="onPointerLeave",ie="onPointerEnter",te="pointer"),Vt=be==null?de:Bs(be),le=Ue==null?de:Bs(Ue),de=new Qe(Ce,te+"leave",be,c,xe),de.target=Vt,de.relatedTarget=le,Ce=null,un(xe)===ce&&(Qe=new Qe(ie,te+"enter",Ue,c,xe),Qe.target=le,Qe.relatedTarget=Vt,Ce=Qe),Vt=Ce,be&&Ue)t:{for(Qe=gS,ie=be,te=Ue,le=0,Ce=ie;Ce;Ce=Qe(Ce))le++;Ce=0;for(var Ye=te;Ye;Ye=Qe(Ye))Ce++;for(;0<le-Ce;)ie=Qe(ie),le--;for(;0<Ce-le;)te=Qe(te),Ce--;for(;le--;){if(ie===te||te!==null&&ie===te.alternate){Qe=ie;break t}ie=Qe(ie),te=Qe(te)}Qe=null}else Qe=null;be!==null&&A2(Se,de,be,Qe,!1),Ue!==null&&Vt!==null&&A2(Se,Vt,Ue,Qe,!0)}}e:{if(de=ce?Bs(ce):window,be=de.nodeName&&de.nodeName.toLowerCase(),be==="select"||be==="input"&&de.type==="file")var Ct=Ui;else if(zl(de))if(bu)Ct=d;else{Ct=a;var qe=i}else be=de.nodeName,!be||be.toLowerCase()!=="input"||de.type!=="checkbox"&&de.type!=="radio"?ce&&qt(ce.elementType)&&(Ct=Ui):Ct=l;if(Ct&&(Ct=Ct(n,ce))){Pi(Se,Ct,c,xe);break e}qe&&qe(n,de,ce),n==="focusout"&&ce&&de.type==="number"&&ce.memoizedProps.value!=null&&W(de,"number",de.value)}switch(qe=ce?Bs(ce):window,n){case"focusin":(zl(qe)||qe.contentEditable==="true")&&(J=qe,ee=ce,se=null);break;case"focusout":se=ee=J=null;break;case"mousedown":he=!0;break;case"contextmenu":case"mouseup":case"dragend":he=!1,Re(Se,c,xe);break;case"selectionchange":if(Z)break;case"keydown":case"keyup":Re(Se,c,xe)}var rt;if(Pa)e:{switch(n){case"compositionstart":var gt="onCompositionStart";break e;case"compositionend":gt="onCompositionEnd";break e;case"compositionupdate":gt="onCompositionUpdate";break e}gt=void 0}else Xs?yu(n,c)&&(gt="onCompositionEnd"):n==="keydown"&&c.keyCode===229&&(gt="onCompositionStart");gt&&(pu&&c.locale!=="ko"&&(Xs||gt!=="onCompositionStart"?gt==="onCompositionEnd"&&Xs&&(rt=Vs()):(Cr=xe,Sr="value"in Cr?Cr.value:Cr.textContent,Xs=!0)),qe=od(ce,gt),0<qe.length&&(gt=new fu(gt,n,null,c,xe),Se.push({event:gt,listeners:qe}),rt?gt.data=rt:(rt=Ys(c),rt!==null&&(gt.data=rt)))),(rt=gu?Fr(n,c):Mo(n,c))&&(gt=od(ce,"onBeforeInput"),0<gt.length&&(qe=new fu("onBeforeInput","beforeinput",null,c,xe),Se.push({event:qe,listeners:gt}),qe.data=rt)),dS(Se,n,ce,c,xe)}C2(Se,s)})}function hc(n,s,c){return{instance:n,listener:s,currentTarget:c}}function od(n,s){for(var c=s+"Capture",m=[];n!==null;){var C=n,N=C.stateNode;if(C=C.tag,C!==5&&C!==26&&C!==27||N===null||(C=$e(n,c),C!=null&&m.unshift(hc(n,C,N)),C=$e(n,s),C!=null&&m.push(hc(n,C,N))),n.tag===3)return m;n=n.return}return[]}function gS(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function A2(n,s,c,m,C){for(var N=s._reactName,M=[];c!==null&&c!==m;){var q=c,K=q.alternate,ce=q.stateNode;if(q=q.tag,K!==null&&K===m)break;q!==5&&q!==26&&q!==27||ce===null||(K=ce,C?(ce=$e(c,N),ce!=null&&M.unshift(hc(c,ce,K))):C||(ce=$e(c,N),ce!=null&&M.push(hc(c,ce,K)))),c=c.return}M.length!==0&&n.push({event:s,listeners:M})}var pS=/\r\n?/g,yS=/\u0000|\uFFFD/g;function N2(n){return(typeof n=="string"?n:""+n).replace(pS,`
`).replace(yS,"")}function T2(n,s){return s=N2(s),N2(n)===s}function Ft(n,s,c,m,C,N){switch(c){case"children":typeof m=="string"?s==="body"||s==="textarea"&&m===""||zs(n,m):(typeof m=="number"||typeof m=="bigint")&&s!=="body"&&zs(n,""+m);break;case"className":Ps(n,"class",m);break;case"tabIndex":Ps(n,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":Ps(n,c,m);break;case"style":Ge(n,m,N);break;case"data":if(s!=="object"){Ps(n,"data",m);break}case"src":case"href":if(m===""&&(s!=="a"||c!=="href")){n.removeAttribute(c);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){n.removeAttribute(c);break}m=Fs(""+m),n.setAttribute(c,m);break;case"action":case"formAction":if(typeof m=="function"){n.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof N=="function"&&(c==="formAction"?(s!=="input"&&Ft(n,s,"name",C.name,C,null),Ft(n,s,"formEncType",C.formEncType,C,null),Ft(n,s,"formMethod",C.formMethod,C,null),Ft(n,s,"formTarget",C.formTarget,C,null)):(Ft(n,s,"encType",C.encType,C,null),Ft(n,s,"method",C.method,C,null),Ft(n,s,"target",C.target,C,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){n.removeAttribute(c);break}m=Fs(""+m),n.setAttribute(c,m);break;case"onClick":m!=null&&(n.onclick=xi);break;case"onScroll":m!=null&&ut("scroll",n);break;case"onScrollEnd":m!=null&&ut("scrollend",n);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(o(61));if(c=m.__html,c!=null){if(C.children!=null)throw Error(o(60));n.innerHTML=c}}break;case"multiple":n.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":n.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){n.removeAttribute("xlink:href");break}c=Fs(""+m),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?n.setAttribute(c,""+m):n.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?n.setAttribute(c,""):n.removeAttribute(c);break;case"capture":case"download":m===!0?n.setAttribute(c,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?n.setAttribute(c,m):n.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?n.setAttribute(c,m):n.removeAttribute(c);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?n.removeAttribute(c):n.setAttribute(c,m);break;case"popover":ut("beforetoggle",n),ut("toggle",n),ks(n,"popover",m);break;case"xlinkActuate":Bi(n,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":Bi(n,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":Bi(n,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":Bi(n,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":Bi(n,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":Bi(n,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":Bi(n,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":Bi(n,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":Bi(n,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":ks(n,"is",m);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=lu.get(c)||c,ks(n,c,m))}}function d1(n,s,c,m,C,N){switch(c){case"style":Ge(n,m,N);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(o(61));if(c=m.__html,c!=null){if(C.children!=null)throw Error(o(60));n.innerHTML=c}}break;case"children":typeof m=="string"?zs(n,m):(typeof m=="number"||typeof m=="bigint")&&zs(n,""+m);break;case"onScroll":m!=null&&ut("scroll",n);break;case"onScrollEnd":m!=null&&ut("scrollend",n);break;case"onClick":m!=null&&(n.onclick=xi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ou.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(C=c.endsWith("Capture"),s=c.slice(2,C?c.length-7:void 0),N=n[jt]||null,N=N!=null?N[c]:null,typeof N=="function"&&n.removeEventListener(s,N,C),typeof m=="function")){typeof N!="function"&&N!==null&&(c in n?n[c]=null:n.hasAttribute(c)&&n.removeAttribute(c)),n.addEventListener(s,m,C);break e}c in n?n[c]=m:m===!0?n.setAttribute(c,""):ks(n,c,m)}}}function $n(n,s,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ut("error",n),ut("load",n);var m=!1,C=!1,N;for(N in c)if(c.hasOwnProperty(N)){var M=c[N];if(M!=null)switch(N){case"src":m=!0;break;case"srcSet":C=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,s));default:Ft(n,s,N,M,c,null)}}C&&Ft(n,s,"srcSet",c.srcSet,c,null),m&&Ft(n,s,"src",c.src,c,null);return;case"input":ut("invalid",n);var q=N=M=C=null,K=null,ce=null;for(m in c)if(c.hasOwnProperty(m)){var xe=c[m];if(xe!=null)switch(m){case"name":C=xe;break;case"type":M=xe;break;case"checked":K=xe;break;case"defaultChecked":ce=xe;break;case"value":N=xe;break;case"defaultValue":q=xe;break;case"children":case"dangerouslySetInnerHTML":if(xe!=null)throw Error(o(137,s));break;default:Ft(n,s,m,xe,c,null)}}oe(n,N,q,K,ce,M,C,!1);return;case"select":ut("invalid",n),m=M=N=null;for(C in c)if(c.hasOwnProperty(C)&&(q=c[C],q!=null))switch(C){case"value":N=q;break;case"defaultValue":M=q;break;case"multiple":m=q;default:Ft(n,s,C,q,c,null)}s=N,c=M,n.multiple=!!m,s!=null?Ve(n,!!m,s,!1):c!=null&&Ve(n,!!m,c,!0);return;case"textarea":ut("invalid",n),N=C=m=null;for(M in c)if(c.hasOwnProperty(M)&&(q=c[M],q!=null))switch(M){case"value":m=q;break;case"defaultValue":C=q;break;case"children":N=q;break;case"dangerouslySetInnerHTML":if(q!=null)throw Error(o(91));break;default:Ft(n,s,M,q,c,null)}ci(n,m,C,N);return;case"option":for(K in c)c.hasOwnProperty(K)&&(m=c[K],m!=null)&&(K==="selected"?n.selected=m&&typeof m!="function"&&typeof m!="symbol":Ft(n,s,K,m,c,null));return;case"dialog":ut("beforetoggle",n),ut("toggle",n),ut("cancel",n),ut("close",n);break;case"iframe":case"object":ut("load",n);break;case"video":case"audio":for(m=0;m<dc.length;m++)ut(dc[m],n);break;case"image":ut("error",n),ut("load",n);break;case"details":ut("toggle",n);break;case"embed":case"source":case"link":ut("error",n),ut("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ce in c)if(c.hasOwnProperty(ce)&&(m=c[ce],m!=null))switch(ce){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,s));default:Ft(n,s,ce,m,c,null)}return;default:if(qt(s)){for(xe in c)c.hasOwnProperty(xe)&&(m=c[xe],m!==void 0&&d1(n,s,xe,m,c,void 0));return}}for(q in c)c.hasOwnProperty(q)&&(m=c[q],m!=null&&Ft(n,s,q,m,c,null))}function bS(n,s,c,m){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var C=null,N=null,M=null,q=null,K=null,ce=null,xe=null;for(be in c){var Se=c[be];if(c.hasOwnProperty(be)&&Se!=null)switch(be){case"checked":break;case"value":break;case"defaultValue":K=Se;default:m.hasOwnProperty(be)||Ft(n,s,be,null,m,Se)}}for(var de in m){var be=m[de];if(Se=c[de],m.hasOwnProperty(de)&&(be!=null||Se!=null))switch(de){case"type":N=be;break;case"name":C=be;break;case"checked":ce=be;break;case"defaultChecked":xe=be;break;case"value":M=be;break;case"defaultValue":q=be;break;case"children":case"dangerouslySetInnerHTML":if(be!=null)throw Error(o(137,s));break;default:be!==Se&&Ft(n,s,de,be,m,Se)}}Sn(n,M,q,K,ce,xe,N,C);return;case"select":be=M=q=de=null;for(N in c)if(K=c[N],c.hasOwnProperty(N)&&K!=null)switch(N){case"value":break;case"multiple":be=K;default:m.hasOwnProperty(N)||Ft(n,s,N,null,m,K)}for(C in m)if(N=m[C],K=c[C],m.hasOwnProperty(C)&&(N!=null||K!=null))switch(C){case"value":de=N;break;case"defaultValue":q=N;break;case"multiple":M=N;default:N!==K&&Ft(n,s,C,N,m,K)}s=q,c=M,m=be,de!=null?Ve(n,!!c,de,!1):!!m!=!!c&&(s!=null?Ve(n,!!c,s,!0):Ve(n,!!c,c?[]:"",!1));return;case"textarea":be=de=null;for(q in c)if(C=c[q],c.hasOwnProperty(q)&&C!=null&&!m.hasOwnProperty(q))switch(q){case"value":break;case"children":break;default:Ft(n,s,q,null,m,C)}for(M in m)if(C=m[M],N=c[M],m.hasOwnProperty(M)&&(C!=null||N!=null))switch(M){case"value":de=C;break;case"defaultValue":be=C;break;case"children":break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(o(91));break;default:C!==N&&Ft(n,s,M,C,m,N)}vn(n,de,be);return;case"option":for(var Ue in c)de=c[Ue],c.hasOwnProperty(Ue)&&de!=null&&!m.hasOwnProperty(Ue)&&(Ue==="selected"?n.selected=!1:Ft(n,s,Ue,null,m,de));for(K in m)de=m[K],be=c[K],m.hasOwnProperty(K)&&de!==be&&(de!=null||be!=null)&&(K==="selected"?n.selected=de&&typeof de!="function"&&typeof de!="symbol":Ft(n,s,K,de,m,be));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Qe in c)de=c[Qe],c.hasOwnProperty(Qe)&&de!=null&&!m.hasOwnProperty(Qe)&&Ft(n,s,Qe,null,m,de);for(ce in m)if(de=m[ce],be=c[ce],m.hasOwnProperty(ce)&&de!==be&&(de!=null||be!=null))switch(ce){case"children":case"dangerouslySetInnerHTML":if(de!=null)throw Error(o(137,s));break;default:Ft(n,s,ce,de,m,be)}return;default:if(qt(s)){for(var Vt in c)de=c[Vt],c.hasOwnProperty(Vt)&&de!==void 0&&!m.hasOwnProperty(Vt)&&d1(n,s,Vt,void 0,m,de);for(xe in m)de=m[xe],be=c[xe],!m.hasOwnProperty(xe)||de===be||de===void 0&&be===void 0||d1(n,s,xe,de,m,be);return}}for(var ie in c)de=c[ie],c.hasOwnProperty(ie)&&de!=null&&!m.hasOwnProperty(ie)&&Ft(n,s,ie,null,m,de);for(Se in m)de=m[Se],be=c[Se],!m.hasOwnProperty(Se)||de===be||de==null&&be==null||Ft(n,s,Se,de,m,be)}function R2(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function vS(){if(typeof performance.getEntriesByType=="function"){for(var n=0,s=0,c=performance.getEntriesByType("resource"),m=0;m<c.length;m++){var C=c[m],N=C.transferSize,M=C.initiatorType,q=C.duration;if(N&&q&&R2(M)){for(M=0,q=C.responseEnd,m+=1;m<c.length;m++){var K=c[m],ce=K.startTime;if(ce>q)break;var xe=K.transferSize,Se=K.initiatorType;xe&&R2(Se)&&(K=K.responseEnd,M+=xe*(K<q?1:(q-ce)/(K-ce)))}if(--m,s+=8*(N+M)/(C.duration/1e3),n++,10<n)break}}if(0<n)return s/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var h1=null,f1=null;function ld(n){return n.nodeType===9?n:n.ownerDocument}function O2(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function M2(n,s){if(n===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&s==="foreignObject"?0:n}function m1(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var g1=null;function wS(){var n=window.event;return n&&n.type==="popstate"?n===g1?!1:(g1=n,!0):(g1=null,!1)}var I2=typeof setTimeout=="function"?setTimeout:void 0,xS=typeof clearTimeout=="function"?clearTimeout:void 0,_2=typeof Promise=="function"?Promise:void 0,ES=typeof queueMicrotask=="function"?queueMicrotask:typeof _2<"u"?function(n){return _2.resolve(null).then(n).catch(CS)}:I2;function CS(n){setTimeout(function(){throw n})}function da(n){return n==="head"}function D2(n,s){var c=s,m=0;do{var C=c.nextSibling;if(n.removeChild(c),C&&C.nodeType===8)if(c=C.data,c==="/$"||c==="/&"){if(m===0){n.removeChild(C),nl(s);return}m--}else if(c==="$"||c==="$?"||c==="$~"||c==="$!"||c==="&")m++;else if(c==="html")fc(n.ownerDocument.documentElement);else if(c==="head"){c=n.ownerDocument.head,fc(c);for(var N=c.firstChild;N;){var M=N.nextSibling,q=N.nodeName;N[ja]||q==="SCRIPT"||q==="STYLE"||q==="LINK"&&N.rel.toLowerCase()==="stylesheet"||c.removeChild(N),N=M}}else c==="body"&&fc(n.ownerDocument.body);c=C}while(c);nl(s)}function j2(n,s){var c=n;n=0;do{var m=c.nextSibling;if(c.nodeType===1?s?(c._stashedDisplay=c.style.display,c.style.display="none"):(c.style.display=c._stashedDisplay||"",c.getAttribute("style")===""&&c.removeAttribute("style")):c.nodeType===3&&(s?(c._stashedText=c.nodeValue,c.nodeValue=""):c.nodeValue=c._stashedText||""),m&&m.nodeType===8)if(c=m.data,c==="/$"){if(n===0)break;n--}else c!=="$"&&c!=="$?"&&c!=="$~"&&c!=="$!"||n++;c=m}while(c)}function p1(n){var s=n.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var c=s;switch(s=s.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":p1(c),wi(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}n.removeChild(c)}}function SS(n,s,c,m){for(;n.nodeType===1;){var C=c;if(n.nodeName.toLowerCase()!==s.toLowerCase()){if(!m&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(m){if(!n[ja])switch(s){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(N=n.getAttribute("rel"),N==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(N!==C.rel||n.getAttribute("href")!==(C.href==null||C.href===""?null:C.href)||n.getAttribute("crossorigin")!==(C.crossOrigin==null?null:C.crossOrigin)||n.getAttribute("title")!==(C.title==null?null:C.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(N=n.getAttribute("src"),(N!==(C.src==null?null:C.src)||n.getAttribute("type")!==(C.type==null?null:C.type)||n.getAttribute("crossorigin")!==(C.crossOrigin==null?null:C.crossOrigin))&&N&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(s==="input"&&n.type==="hidden"){var N=C.name==null?null:""+C.name;if(C.type==="hidden"&&n.getAttribute("name")===N)return n}else return n;if(n=cr(n.nextSibling),n===null)break}return null}function AS(n,s,c){if(s==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!c||(n=cr(n.nextSibling),n===null))return null;return n}function L2(n,s){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!s||(n=cr(n.nextSibling),n===null))return null;return n}function y1(n){return n.data==="$?"||n.data==="$~"}function b1(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function NS(n,s){var c=n.ownerDocument;if(n.data==="$~")n._reactRetry=s;else if(n.data!=="$?"||c.readyState!=="loading")s();else{var m=function(){s(),c.removeEventListener("DOMContentLoaded",m)};c.addEventListener("DOMContentLoaded",m),n._reactRetry=m}}function cr(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return n}var v1=null;function B2(n){n=n.nextSibling;for(var s=0;n;){if(n.nodeType===8){var c=n.data;if(c==="/$"||c==="/&"){if(s===0)return cr(n.nextSibling);s--}else c!=="$"&&c!=="$!"&&c!=="$?"&&c!=="$~"&&c!=="&"||s++}n=n.nextSibling}return null}function k2(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var c=n.data;if(c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"){if(s===0)return n;s--}else c!=="/$"&&c!=="/&"||s++}n=n.previousSibling}return null}function P2(n,s,c){switch(s=ld(c),n){case"html":if(n=s.documentElement,!n)throw Error(o(452));return n;case"head":if(n=s.head,!n)throw Error(o(453));return n;case"body":if(n=s.body,!n)throw Error(o(454));return n;default:throw Error(o(451))}}function fc(n){for(var s=n.attributes;s.length;)n.removeAttributeNode(s[0]);wi(n)}var ur=new Map,U2=new Set;function cd(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Ss=ue.d;ue.d={f:TS,r:RS,D:OS,C:MS,L:IS,m:_S,X:jS,S:DS,M:LS};function TS(){var n=Ss.f(),s=ed();return n||s}function RS(n){var s=Nt(n);s!==null&&s.tag===5&&s.type==="form"?ny(s):Ss.r(n)}var Jo=typeof document>"u"?null:document;function z2(n,s,c){var m=Jo;if(m&&typeof s=="string"&&s){var C=at(s);C='link[rel="'+n+'"][href="'+C+'"]',typeof c=="string"&&(C+='[crossorigin="'+c+'"]'),U2.has(C)||(U2.add(C),n={rel:n,crossOrigin:c,href:s},m.querySelector(C)===null&&(s=m.createElement("link"),$n(s,"link",n),dn(s),m.head.appendChild(s)))}}function OS(n){Ss.D(n),z2("dns-prefetch",n,null)}function MS(n,s){Ss.C(n,s),z2("preconnect",n,s)}function IS(n,s,c){Ss.L(n,s,c);var m=Jo;if(m&&n&&s){var C='link[rel="preload"][as="'+at(s)+'"]';s==="image"&&c&&c.imageSrcSet?(C+='[imagesrcset="'+at(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(C+='[imagesizes="'+at(c.imageSizes)+'"]')):C+='[href="'+at(n)+'"]';var N=C;switch(s){case"style":N=el(n);break;case"script":N=tl(n)}ur.has(N)||(n=A({rel:"preload",href:s==="image"&&c&&c.imageSrcSet?void 0:n,as:s},c),ur.set(N,n),m.querySelector(C)!==null||s==="style"&&m.querySelector(mc(N))||s==="script"&&m.querySelector(gc(N))||(s=m.createElement("link"),$n(s,"link",n),dn(s),m.head.appendChild(s)))}}function _S(n,s){Ss.m(n,s);var c=Jo;if(c&&n){var m=s&&typeof s.as=="string"?s.as:"script",C='link[rel="modulepreload"][as="'+at(m)+'"][href="'+at(n)+'"]',N=C;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":N=tl(n)}if(!ur.has(N)&&(n=A({rel:"modulepreload",href:n},s),ur.set(N,n),c.querySelector(C)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(gc(N)))return}m=c.createElement("link"),$n(m,"link",n),dn(m),c.head.appendChild(m)}}}function DS(n,s,c){Ss.S(n,s,c);var m=Jo;if(m&&n){var C=li(m).hoistableStyles,N=el(n);s=s||"default";var M=C.get(N);if(!M){var q={loading:0,preload:null};if(M=m.querySelector(mc(N)))q.loading=5;else{n=A({rel:"stylesheet",href:n,"data-precedence":s},c),(c=ur.get(N))&&w1(n,c);var K=M=m.createElement("link");dn(K),$n(K,"link",n),K._p=new Promise(function(ce,xe){K.onload=ce,K.onerror=xe}),K.addEventListener("load",function(){q.loading|=1}),K.addEventListener("error",function(){q.loading|=2}),q.loading|=4,ud(M,s,m)}M={type:"stylesheet",instance:M,count:1,state:q},C.set(N,M)}}}function jS(n,s){Ss.X(n,s);var c=Jo;if(c&&n){var m=li(c).hoistableScripts,C=tl(n),N=m.get(C);N||(N=c.querySelector(gc(C)),N||(n=A({src:n,async:!0},s),(s=ur.get(C))&&x1(n,s),N=c.createElement("script"),dn(N),$n(N,"link",n),c.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},m.set(C,N))}}function LS(n,s){Ss.M(n,s);var c=Jo;if(c&&n){var m=li(c).hoistableScripts,C=tl(n),N=m.get(C);N||(N=c.querySelector(gc(C)),N||(n=A({src:n,async:!0,type:"module"},s),(s=ur.get(C))&&x1(n,s),N=c.createElement("script"),dn(N),$n(N,"link",n),c.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},m.set(C,N))}}function F2(n,s,c,m){var C=(C=Ie.current)?cd(C):null;if(!C)throw Error(o(446));switch(n){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(s=el(c.href),c=li(C).hoistableStyles,m=c.get(s),m||(m={type:"style",instance:null,count:0,state:null},c.set(s,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){n=el(c.href);var N=li(C).hoistableStyles,M=N.get(n);if(M||(C=C.ownerDocument||C,M={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},N.set(n,M),(N=C.querySelector(mc(n)))&&!N._p&&(M.instance=N,M.state.loading=5),ur.has(n)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},ur.set(n,c),N||BS(C,n,c,M.state))),s&&m===null)throw Error(o(528,""));return M}if(s&&m!==null)throw Error(o(529,""));return null;case"script":return s=c.async,c=c.src,typeof c=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=tl(c),c=li(C).hoistableScripts,m=c.get(s),m||(m={type:"script",instance:null,count:0,state:null},c.set(s,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,n))}}function el(n){return'href="'+at(n)+'"'}function mc(n){return'link[rel="stylesheet"]['+n+"]"}function V2(n){return A({},n,{"data-precedence":n.precedence,precedence:null})}function BS(n,s,c,m){n.querySelector('link[rel="preload"][as="style"]['+s+"]")?m.loading=1:(s=n.createElement("link"),m.preload=s,s.addEventListener("load",function(){return m.loading|=1}),s.addEventListener("error",function(){return m.loading|=2}),$n(s,"link",c),dn(s),n.head.appendChild(s))}function tl(n){return'[src="'+at(n)+'"]'}function gc(n){return"script[async]"+n}function H2(n,s,c){if(s.count++,s.instance===null)switch(s.type){case"style":var m=n.querySelector('style[data-href~="'+at(c.href)+'"]');if(m)return s.instance=m,dn(m),m;var C=A({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return m=(n.ownerDocument||n).createElement("style"),dn(m),$n(m,"style",C),ud(m,c.precedence,n),s.instance=m;case"stylesheet":C=el(c.href);var N=n.querySelector(mc(C));if(N)return s.state.loading|=4,s.instance=N,dn(N),N;m=V2(c),(C=ur.get(C))&&w1(m,C),N=(n.ownerDocument||n).createElement("link"),dn(N);var M=N;return M._p=new Promise(function(q,K){M.onload=q,M.onerror=K}),$n(N,"link",m),s.state.loading|=4,ud(N,c.precedence,n),s.instance=N;case"script":return N=tl(c.src),(C=n.querySelector(gc(N)))?(s.instance=C,dn(C),C):(m=c,(C=ur.get(N))&&(m=A({},c),x1(m,C)),n=n.ownerDocument||n,C=n.createElement("script"),dn(C),$n(C,"link",m),n.head.appendChild(C),s.instance=C);case"void":return null;default:throw Error(o(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(m=s.instance,s.state.loading|=4,ud(m,c.precedence,n));return s.instance}function ud(n,s,c){for(var m=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),C=m.length?m[m.length-1]:null,N=C,M=0;M<m.length;M++){var q=m[M];if(q.dataset.precedence===s)N=q;else if(N!==C)break}N?N.parentNode.insertBefore(n,N.nextSibling):(s=c.nodeType===9?c.head:c,s.insertBefore(n,s.firstChild))}function w1(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.title==null&&(n.title=s.title)}function x1(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.integrity==null&&(n.integrity=s.integrity)}var dd=null;function q2(n,s,c){if(dd===null){var m=new Map,C=dd=new Map;C.set(c,m)}else C=dd,m=C.get(c),m||(m=new Map,C.set(c,m));if(m.has(n))return m;for(m.set(n,null),c=c.getElementsByTagName(n),C=0;C<c.length;C++){var N=c[C];if(!(N[ja]||N[bn]||n==="link"&&N.getAttribute("rel")==="stylesheet")&&N.namespaceURI!=="http://www.w3.org/2000/svg"){var M=N.getAttribute(s)||"";M=n+M;var q=m.get(M);q?q.push(N):m.set(M,[N])}}return m}function G2(n,s,c){n=n.ownerDocument||n,n.head.insertBefore(c,s==="title"?n.querySelector("head > title"):null)}function kS(n,s,c){if(c===1||s.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;return s.rel==="stylesheet"?(n=s.disabled,typeof s.precedence=="string"&&n==null):!0;case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Y2(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function PS(n,s,c,m){if(c.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var C=el(m.href),N=s.querySelector(mc(C));if(N){s=N._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(n.count++,n=hd.bind(n),s.then(n,n)),c.state.loading|=4,c.instance=N,dn(N);return}N=s.ownerDocument||s,m=V2(m),(C=ur.get(C))&&w1(m,C),N=N.createElement("link"),dn(N);var M=N;M._p=new Promise(function(q,K){M.onload=q,M.onerror=K}),$n(N,"link",m),c.instance=N}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(c,s),(s=c.state.preload)&&(c.state.loading&3)===0&&(n.count++,c=hd.bind(n),s.addEventListener("load",c),s.addEventListener("error",c))}}var E1=0;function US(n,s){return n.stylesheets&&n.count===0&&md(n,n.stylesheets),0<n.count||0<n.imgCount?function(c){var m=setTimeout(function(){if(n.stylesheets&&md(n,n.stylesheets),n.unsuspend){var N=n.unsuspend;n.unsuspend=null,N()}},6e4+s);0<n.imgBytes&&E1===0&&(E1=62500*vS());var C=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&md(n,n.stylesheets),n.unsuspend)){var N=n.unsuspend;n.unsuspend=null,N()}},(n.imgBytes>E1?50:800)+s);return n.unsuspend=c,function(){n.unsuspend=null,clearTimeout(m),clearTimeout(C)}}:null}function hd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)md(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var fd=null;function md(n,s){n.stylesheets=null,n.unsuspend!==null&&(n.count++,fd=new Map,s.forEach(zS,n),fd=null,hd.call(n))}function zS(n,s){if(!(s.state.loading&4)){var c=fd.get(n);if(c)var m=c.get(null);else{c=new Map,fd.set(n,c);for(var C=n.querySelectorAll("link[data-precedence],style[data-precedence]"),N=0;N<C.length;N++){var M=C[N];(M.nodeName==="LINK"||M.getAttribute("media")!=="not all")&&(c.set(M.dataset.precedence,M),m=M)}m&&c.set(null,m)}C=s.instance,M=C.getAttribute("data-precedence"),N=c.get(M)||m,N===m&&c.set(null,C),c.set(M,C),this.count++,m=hd.bind(this),C.addEventListener("load",m),C.addEventListener("error",m),N?N.parentNode.insertBefore(C,N.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(C,n.firstChild)),s.state.loading|=4}}var pc={$$typeof:U,Provider:null,Consumer:null,_currentValue:we,_currentValue2:we,_threadCount:0};function FS(n,s,c,m,C,N,M,q,K){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Lr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Lr(0),this.hiddenUpdates=Lr(null),this.identifierPrefix=m,this.onUncaughtError=C,this.onCaughtError=N,this.onRecoverableError=M,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=K,this.incompleteTransitions=new Map}function X2(n,s,c,m,C,N,M,q,K,ce,xe,Se){return n=new FS(n,s,c,M,K,ce,xe,Se,q),s=1,N===!0&&(s|=24),N=zi(3,null,null,s),n.current=N,N.stateNode=n,s=ef(),s.refCount++,n.pooledCache=s,s.refCount++,N.memoizedState={element:m,isDehydrated:c,cache:s},sf(N),n}function W2(n){return n?(n=_o,n):_o}function Q2(n,s,c,m,C,N){C=W2(C),m.context===null?m.context=C:m.pendingContext=C,m=ea(s),m.payload={element:c},N=N===void 0?null:N,N!==null&&(m.callback=N),c=ta(n,m,s),c!==null&&(Ri(c,n,s),Wl(c,n,s))}function Z2(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var c=n.retryLane;n.retryLane=c!==0&&c<s?c:s}}function C1(n,s){Z2(n,s),(n=n.alternate)&&Z2(n,s)}function K2(n){if(n.tag===13||n.tag===31){var s=Ha(n,67108864);s!==null&&Ri(s,n,67108864),C1(n,67108864)}}function $2(n){if(n.tag===13||n.tag===31){var s=Gi();s=Vn(s);var c=Ha(n,s);c!==null&&Ri(c,n,s),C1(n,s)}}var gd=!0;function VS(n,s,c,m){var C=re.T;re.T=null;var N=ue.p;try{ue.p=2,S1(n,s,c,m)}finally{ue.p=N,re.T=C}}function HS(n,s,c,m){var C=re.T;re.T=null;var N=ue.p;try{ue.p=8,S1(n,s,c,m)}finally{ue.p=N,re.T=C}}function S1(n,s,c,m){if(gd){var C=A1(m);if(C===null)u1(n,s,m,pd,c),eb(n,m);else if(GS(C,n,s,c,m))m.stopPropagation();else if(eb(n,m),s&4&&-1<qS.indexOf(n)){for(;C!==null;){var N=Nt(C);if(N!==null)switch(N.tag){case 3:if(N=N.stateNode,N.current.memoizedState.isDehydrated){var M=jr(N.pendingLanes);if(M!==0){var q=N;for(q.pendingLanes|=2,q.entangledLanes|=2;M;){var K=1<<31-nt(M);q.entanglements[1]|=K,M&=~K}Gr(N),(Rt&6)===0&&($u=sn()+500,uc(0))}}break;case 31:case 13:q=Ha(N,2),q!==null&&Ri(q,N,2),ed(),C1(N,2)}if(N=A1(m),N===null&&u1(n,s,m,pd,c),N===C)break;C=N}C!==null&&m.stopPropagation()}else u1(n,s,m,null,c)}}function A1(n){return n=Dl(n),N1(n)}var pd=null;function N1(n){if(pd=null,n=un(n),n!==null){var s=h(n);if(s===null)n=null;else{var c=s.tag;if(c===13){if(n=p(s),n!==null)return n;n=null}else if(c===31){if(n=w(s),n!==null)return n;n=null}else if(c===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null)}}return pd=n,null}function J2(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Tl()){case vi:return 2;case Rl:return 8;case Di:case Yn:return 32;case Ol:return 268435456;default:return 32}default:return 32}}var T1=!1,ha=null,fa=null,ma=null,yc=new Map,bc=new Map,ga=[],qS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function eb(n,s){switch(n){case"focusin":case"focusout":ha=null;break;case"dragenter":case"dragleave":fa=null;break;case"mouseover":case"mouseout":ma=null;break;case"pointerover":case"pointerout":yc.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":bc.delete(s.pointerId)}}function vc(n,s,c,m,C,N){return n===null||n.nativeEvent!==N?(n={blockedOn:s,domEventName:c,eventSystemFlags:m,nativeEvent:N,targetContainers:[C]},s!==null&&(s=Nt(s),s!==null&&K2(s)),n):(n.eventSystemFlags|=m,s=n.targetContainers,C!==null&&s.indexOf(C)===-1&&s.push(C),n)}function GS(n,s,c,m,C){switch(s){case"focusin":return ha=vc(ha,n,s,c,m,C),!0;case"dragenter":return fa=vc(fa,n,s,c,m,C),!0;case"mouseover":return ma=vc(ma,n,s,c,m,C),!0;case"pointerover":var N=C.pointerId;return yc.set(N,vc(yc.get(N)||null,n,s,c,m,C)),!0;case"gotpointercapture":return N=C.pointerId,bc.set(N,vc(bc.get(N)||null,n,s,c,m,C)),!0}return!1}function tb(n){var s=un(n.target);if(s!==null){var c=h(s);if(c!==null){if(s=c.tag,s===13){if(s=p(c),s!==null){n.blockedOn=s,Le(n.priority,function(){$2(c)});return}}else if(s===31){if(s=w(c),s!==null){n.blockedOn=s,Le(n.priority,function(){$2(c)});return}}else if(s===3&&c.stateNode.current.memoizedState.isDehydrated){n.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}n.blockedOn=null}function yd(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var c=A1(n.nativeEvent);if(c===null){c=n.nativeEvent;var m=new c.constructor(c.type,c);La=m,c.target.dispatchEvent(m),La=null}else return s=Nt(c),s!==null&&K2(s),n.blockedOn=c,!1;s.shift()}return!0}function nb(n,s,c){yd(n)&&c.delete(s)}function YS(){T1=!1,ha!==null&&yd(ha)&&(ha=null),fa!==null&&yd(fa)&&(fa=null),ma!==null&&yd(ma)&&(ma=null),yc.forEach(nb),bc.forEach(nb)}function bd(n,s){n.blockedOn===s&&(n.blockedOn=null,T1||(T1=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,YS)))}var vd=null;function ib(n){vd!==n&&(vd=n,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){vd===n&&(vd=null);for(var s=0;s<n.length;s+=3){var c=n[s],m=n[s+1],C=n[s+2];if(typeof m!="function"){if(N1(m||c)===null)continue;break}var N=Nt(c);N!==null&&(n.splice(s,3),s-=3,Af(N,{pending:!0,data:C,method:c.method,action:m},m,C))}}))}function nl(n){function s(K){return bd(K,n)}ha!==null&&bd(ha,n),fa!==null&&bd(fa,n),ma!==null&&bd(ma,n),yc.forEach(s),bc.forEach(s);for(var c=0;c<ga.length;c++){var m=ga[c];m.blockedOn===n&&(m.blockedOn=null)}for(;0<ga.length&&(c=ga[0],c.blockedOn===null);)tb(c),c.blockedOn===null&&ga.shift();if(c=(n.ownerDocument||n).$$reactFormReplay,c!=null)for(m=0;m<c.length;m+=3){var C=c[m],N=c[m+1],M=C[jt]||null;if(typeof N=="function")M||ib(c);else if(M){var q=null;if(N&&N.hasAttribute("formAction")){if(C=N,M=N[jt]||null)q=M.formAction;else if(N1(C)!==null)continue}else q=M.action;typeof q=="function"?c[m+1]=q:(c.splice(m,3),m-=3),ib(c)}}}function rb(){function n(N){N.canIntercept&&N.info==="react-transition"&&N.intercept({handler:function(){return new Promise(function(M){return C=M})},focusReset:"manual",scroll:"manual"})}function s(){C!==null&&(C(),C=null),m||setTimeout(c,20)}function c(){if(!m&&!navigation.transition){var N=navigation.currentEntry;N&&N.url!=null&&navigation.navigate(N.url,{state:N.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var m=!1,C=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(c,100),function(){m=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),C!==null&&(C(),C=null)}}}function R1(n){this._internalRoot=n}wd.prototype.render=R1.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(o(409));var c=s.current,m=Gi();Q2(c,m,n,s,null,null)},wd.prototype.unmount=R1.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;Q2(n.current,2,null,n,null,null),ed(),s[ji]=null}};function wd(n){this._internalRoot=n}wd.prototype.unstable_scheduleHydration=function(n){if(n){var s=ai();n={blockedOn:null,target:n,priority:s};for(var c=0;c<ga.length&&s!==0&&s<ga[c].priority;c++);ga.splice(c,0,n),c===0&&tb(n)}};var sb=t.version;if(sb!=="19.2.4")throw Error(o(527,sb,"19.2.4"));ue.findDOMNode=function(n){var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(o(188)):(n=Object.keys(n).join(","),Error(o(268,n)));return n=b(s),n=n!==null?E(n):null,n=n===null?null:n.stateNode,n};var XS={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:re,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xd.isDisabled&&xd.supportsFiber)try{Wt=xd.inject(XS),Oe=xd}catch{}}return xc.createRoot=function(n,s){if(!u(n))throw Error(o(299));var c=!1,m="",C=hy,N=fy,M=my;return s!=null&&(s.unstable_strictMode===!0&&(c=!0),s.identifierPrefix!==void 0&&(m=s.identifierPrefix),s.onUncaughtError!==void 0&&(C=s.onUncaughtError),s.onCaughtError!==void 0&&(N=s.onCaughtError),s.onRecoverableError!==void 0&&(M=s.onRecoverableError)),s=X2(n,1,!1,null,null,c,m,null,C,N,M,rb),n[ji]=s.current,c1(n),new R1(s)},xc.hydrateRoot=function(n,s,c){if(!u(n))throw Error(o(299));var m=!1,C="",N=hy,M=fy,q=my,K=null;return c!=null&&(c.unstable_strictMode===!0&&(m=!0),c.identifierPrefix!==void 0&&(C=c.identifierPrefix),c.onUncaughtError!==void 0&&(N=c.onUncaughtError),c.onCaughtError!==void 0&&(M=c.onCaughtError),c.onRecoverableError!==void 0&&(q=c.onRecoverableError),c.formState!==void 0&&(K=c.formState)),s=X2(n,1,!0,s,c??null,m,C,K,N,M,q,rb),s.context=W2(null),c=s.current,m=Gi(),m=Vn(m),C=ea(m),C.callback=null,ta(c,C,m),c=m,s.current.lanes=c,Br(s,c),Gr(s),n[ji]=s.current,c1(n),new wd(s)},xc.version="19.2.4",xc}var gb;function i6(){if(gb)return I1.exports;gb=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),I1.exports=n6(),I1.exports}var r6=i6();var pb="popstate";function s6(e={}){function t(o,u){let{pathname:h,search:p,hash:w}=o.location;return cm("",{pathname:h,search:p,hash:w},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function r(o,u){return typeof u=="string"?u:Dc(u)}return o6(t,r,null,e)}function rn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function _r(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function a6(){return Math.random().toString(36).substring(2,10)}function yb(e,t){return{usr:e.state,key:e.key,idx:t}}function cm(e,t,r=null,o){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?pl(t):t,state:r,key:t&&t.key||o||a6()}}function Dc({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function pl(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let o=e.indexOf("?");o>=0&&(t.search=e.substring(o),e=e.substring(0,o)),e&&(t.pathname=e)}return t}function o6(e,t,r,o={}){let{window:u=document.defaultView,v5Compat:h=!1}=o,p=u.history,w="POP",x=null,b=E();b==null&&(b=0,p.replaceState({...p.state,idx:b},""));function E(){return(p.state||{idx:null}).idx}function A(){w="POP";let P=E(),Y=P==null?null:P-b;b=P,x&&x({action:w,location:k.location,delta:Y})}function R(P,Y){w="PUSH";let j=cm(k.location,P,Y);b=E()+1;let U=yb(j,b),F=k.createHref(j);try{p.pushState(U,"",F)}catch(I){if(I instanceof DOMException&&I.name==="DataCloneError")throw I;u.location.assign(F)}h&&x&&x({action:w,location:k.location,delta:1})}function D(P,Y){w="REPLACE";let j=cm(k.location,P,Y);b=E();let U=yb(j,b),F=k.createHref(j);p.replaceState(U,"",F),h&&x&&x({action:w,location:k.location,delta:0})}function _(P){return l6(P)}let k={get action(){return w},get location(){return e(u,p)},listen(P){if(x)throw new Error("A history only accepts one active listener");return u.addEventListener(pb,A),x=P,()=>{u.removeEventListener(pb,A),x=null}},createHref(P){return t(u,P)},createURL:_,encodeLocation(P){let Y=_(P);return{pathname:Y.pathname,search:Y.search,hash:Y.hash}},push:R,replace:D,go(P){return p.go(P)}};return k}function l6(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),rn(r,"No window.location.(origin|href) available to create URL");let o=typeof e=="string"?e:Dc(e);return o=o.replace(/ $/,"%20"),!t&&o.startsWith("//")&&(o=r+o),new URL(o,r)}function Wx(e,t,r="/"){return c6(e,t,r,!1)}function c6(e,t,r,o){let u=typeof t=="string"?pl(t):t,h=Os(u.pathname||"/",r);if(h==null)return null;let p=Qx(e);u6(p);let w=null;for(let x=0;w==null&&x<p.length;++x){let b=x6(h);w=v6(p[x],b,o)}return w}function Qx(e,t=[],r=[],o="",u=!1){let h=(p,w,x=u,b)=>{let E={relativePath:b===void 0?p.path||"":b,caseSensitive:p.caseSensitive===!0,childrenIndex:w,route:p};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(o)&&x)return;rn(E.relativePath.startsWith(o),`Absolute route path "${E.relativePath}" nested under path "${o}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(o.length)}let A=Ts([o,E.relativePath]),R=r.concat(E);p.children&&p.children.length>0&&(rn(p.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${A}".`),Qx(p.children,t,R,A,x)),!(p.path==null&&!p.index)&&t.push({path:A,score:y6(A,p.index),routesMeta:R})};return e.forEach((p,w)=>{if(p.path===""||!p.path?.includes("?"))h(p,w);else for(let x of Zx(p.path))h(p,w,!0,x)}),t}function Zx(e){let t=e.split("/");if(t.length===0)return[];let[r,...o]=t,u=r.endsWith("?"),h=r.replace(/\?$/,"");if(o.length===0)return u?[h,""]:[h];let p=Zx(o.join("/")),w=[];return w.push(...p.map(x=>x===""?h:[h,x].join("/"))),u&&w.push(...p),w.map(x=>e.startsWith("/")&&x===""?"/":x)}function u6(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:b6(t.routesMeta.map(o=>o.childrenIndex),r.routesMeta.map(o=>o.childrenIndex)))}var d6=/^:[\w-]+$/,h6=3,f6=2,m6=1,g6=10,p6=-2,bb=e=>e==="*";function y6(e,t){let r=e.split("/"),o=r.length;return r.some(bb)&&(o+=p6),t&&(o+=f6),r.filter(u=>!bb(u)).reduce((u,h)=>u+(d6.test(h)?h6:h===""?m6:g6),o)}function b6(e,t){return e.length===t.length&&e.slice(0,-1).every((o,u)=>o===t[u])?e[e.length-1]-t[t.length-1]:0}function v6(e,t,r=!1){let{routesMeta:o}=e,u={},h="/",p=[];for(let w=0;w<o.length;++w){let x=o[w],b=w===o.length-1,E=h==="/"?t:t.slice(h.length)||"/",A=Zd({path:x.relativePath,caseSensitive:x.caseSensitive,end:b},E),R=x.route;if(!A&&b&&r&&!o[o.length-1].route.index&&(A=Zd({path:x.relativePath,caseSensitive:x.caseSensitive,end:!1},E)),!A)return null;Object.assign(u,A.params),p.push({params:u,pathname:Ts([h,A.pathname]),pathnameBase:A6(Ts([h,A.pathnameBase])),route:R}),A.pathnameBase!=="/"&&(h=Ts([h,A.pathnameBase]))}return p}function Zd(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,o]=w6(e.path,e.caseSensitive,e.end),u=t.match(r);if(!u)return null;let h=u[0],p=h.replace(/(.)\/+$/,"$1"),w=u.slice(1);return{params:o.reduce((b,{paramName:E,isOptional:A},R)=>{if(E==="*"){let _=w[R]||"";p=h.slice(0,h.length-_.length).replace(/(.)\/+$/,"$1")}const D=w[R];return A&&!D?b[E]=void 0:b[E]=(D||"").replace(/%2F/g,"/"),b},{}),pathname:h,pathnameBase:p,pattern:e}}function w6(e,t=!1,r=!0){_r(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let o=[],u="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(p,w,x)=>(o.push({paramName:w,isOptional:x!=null}),x?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(o.push({paramName:"*"}),u+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?u+="\\/*$":e!==""&&e!=="/"&&(u+="(?:(?=\\/|$))"),[new RegExp(u,t?void 0:"i"),o]}function x6(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return _r(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Os(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,o=e.charAt(r);return o&&o!=="/"?null:e.slice(r)||"/"}var E6=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function C6(e,t="/"){let{pathname:r,search:o="",hash:u=""}=typeof e=="string"?pl(e):e,h;return r?(r=r.replace(/\/\/+/g,"/"),r.startsWith("/")?h=vb(r.substring(1),"/"):h=vb(r,t)):h=t,{pathname:h,search:N6(o),hash:T6(u)}}function vb(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(u=>{u===".."?r.length>1&&r.pop():u!=="."&&r.push(u)}),r.length>1?r.join("/"):"/"}function L1(e,t,r,o){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(o)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function S6(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function $m(e){let t=S6(e);return t.map((r,o)=>o===t.length-1?r.pathname:r.pathnameBase)}function Jm(e,t,r,o=!1){let u;typeof e=="string"?u=pl(e):(u={...e},rn(!u.pathname||!u.pathname.includes("?"),L1("?","pathname","search",u)),rn(!u.pathname||!u.pathname.includes("#"),L1("#","pathname","hash",u)),rn(!u.search||!u.search.includes("#"),L1("#","search","hash",u)));let h=e===""||u.pathname==="",p=h?"/":u.pathname,w;if(p==null)w=r;else{let A=t.length-1;if(!o&&p.startsWith("..")){let R=p.split("/");for(;R[0]==="..";)R.shift(),A-=1;u.pathname=R.join("/")}w=A>=0?t[A]:"/"}let x=C6(u,w),b=p&&p!=="/"&&p.endsWith("/"),E=(h||p===".")&&r.endsWith("/");return!x.pathname.endsWith("/")&&(b||E)&&(x.pathname+="/"),x}var Ts=e=>e.join("/").replace(/\/\/+/g,"/"),A6=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),N6=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,T6=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,R6=class{constructor(e,t,r,o=!1){this.status=e,this.statusText=t||"",this.internal=o,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function O6(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function M6(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Kx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function $x(e,t){let r=e;if(typeof r!="string"||!E6.test(r))return{absoluteURL:void 0,isExternal:!1,to:r};let o=r,u=!1;if(Kx)try{let h=new URL(window.location.href),p=r.startsWith("//")?new URL(h.protocol+r):new URL(r),w=Os(p.pathname,t);p.origin===h.origin&&w!=null?r=w+p.search+p.hash:u=!0}catch{_r(!1,`<Link to="${r}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:o,isExternal:u,to:r}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Jx=["POST","PUT","PATCH","DELETE"];new Set(Jx);var I6=["GET",...Jx];new Set(I6);var yl=H.createContext(null);yl.displayName="DataRouter";var ph=H.createContext(null);ph.displayName="DataRouterState";var _6=H.createContext(!1),eE=H.createContext({isTransitioning:!1});eE.displayName="ViewTransition";var D6=H.createContext(new Map);D6.displayName="Fetchers";var j6=H.createContext(null);j6.displayName="Await";var Zi=H.createContext(null);Zi.displayName="Navigation";var Vc=H.createContext(null);Vc.displayName="Location";var pr=H.createContext({outlet:null,matches:[],isDataRoute:!1});pr.displayName="Route";var eg=H.createContext(null);eg.displayName="RouteError";var tE="REACT_ROUTER_ERROR",L6="REDIRECT",B6="ROUTE_ERROR_RESPONSE";function k6(e){if(e.startsWith(`${tE}:${L6}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function P6(e){if(e.startsWith(`${tE}:${B6}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new R6(t.status,t.statusText,t.data)}catch{}}function U6(e,{relative:t}={}){rn(bl(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:o}=H.useContext(Zi),{hash:u,pathname:h,search:p}=Hc(e,{relative:t}),w=h;return r!=="/"&&(w=h==="/"?r:Ts([r,h])),o.createHref({pathname:w,search:p,hash:u})}function bl(){return H.useContext(Vc)!=null}function ts(){return rn(bl(),"useLocation() may be used only in the context of a <Router> component."),H.useContext(Vc).location}var nE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function iE(e){H.useContext(Zi).static||H.useLayoutEffect(e)}function Ki(){let{isDataRoute:e}=H.useContext(pr);return e?eA():z6()}function z6(){rn(bl(),"useNavigate() may be used only in the context of a <Router> component.");let e=H.useContext(yl),{basename:t,navigator:r}=H.useContext(Zi),{matches:o}=H.useContext(pr),{pathname:u}=ts(),h=JSON.stringify($m(o)),p=H.useRef(!1);return iE(()=>{p.current=!0}),H.useCallback((x,b={})=>{if(_r(p.current,nE),!p.current)return;if(typeof x=="number"){r.go(x);return}let E=Jm(x,JSON.parse(h),u,b.relative==="path");e==null&&t!=="/"&&(E.pathname=E.pathname==="/"?t:Ts([t,E.pathname])),(b.replace?r.replace:r.push)(E,b.state,b)},[t,r,h,u,e])}var F6=H.createContext(null);function V6(e){let t=H.useContext(pr).outlet;return H.useMemo(()=>t&&H.createElement(F6.Provider,{value:e},t),[t,e])}function rE(){let{matches:e}=H.useContext(pr),t=e[e.length-1];return t?t.params:{}}function Hc(e,{relative:t}={}){let{matches:r}=H.useContext(pr),{pathname:o}=ts(),u=JSON.stringify($m(r));return H.useMemo(()=>Jm(e,JSON.parse(u),o,t==="path"),[e,u,o,t])}function H6(e,t){return sE(e,t)}function sE(e,t,r,o,u){rn(bl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:h}=H.useContext(Zi),{matches:p}=H.useContext(pr),w=p[p.length-1],x=w?w.params:{},b=w?w.pathname:"/",E=w?w.pathnameBase:"/",A=w&&w.route;{let j=A&&A.path||"";oE(b,!A||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${b}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let R=ts(),D;if(t){let j=typeof t=="string"?pl(t):t;rn(E==="/"||j.pathname?.startsWith(E),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${j.pathname}" was given in the \`location\` prop.`),D=j}else D=R;let _=D.pathname||"/",k=_;if(E!=="/"){let j=E.replace(/^\//,"").split("/");k="/"+_.replace(/^\//,"").split("/").slice(j.length).join("/")}let P=Wx(e,{pathname:k});_r(A||P!=null,`No routes matched location "${D.pathname}${D.search}${D.hash}" `),_r(P==null||P[P.length-1].route.element!==void 0||P[P.length-1].route.Component!==void 0||P[P.length-1].route.lazy!==void 0,`Matched leaf route at location "${D.pathname}${D.search}${D.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Y=W6(P&&P.map(j=>Object.assign({},j,{params:Object.assign({},x,j.params),pathname:Ts([E,h.encodeLocation?h.encodeLocation(j.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?E:Ts([E,h.encodeLocation?h.encodeLocation(j.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:j.pathnameBase])})),p,r,o,u);return t&&Y?H.createElement(Vc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...D},navigationType:"POP"}},Y):Y}function q6(){let e=J6(),t=O6(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,o="rgba(200,200,200, 0.5)",u={padding:"0.5rem",backgroundColor:o},h={padding:"2px 4px",backgroundColor:o},p=null;return console.error("Error handled by React Router default ErrorBoundary:",e),p=H.createElement(H.Fragment,null,H.createElement("p",null," Hey developer "),H.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",H.createElement("code",{style:h},"ErrorBoundary")," or"," ",H.createElement("code",{style:h},"errorElement")," prop on your route.")),H.createElement(H.Fragment,null,H.createElement("h2",null,"Unexpected Application Error!"),H.createElement("h3",{style:{fontStyle:"italic"}},t),r?H.createElement("pre",{style:u},r):null,p)}var G6=H.createElement(q6,null),aE=class extends H.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const r=P6(e.digest);r&&(e=r)}let t=e!==void 0?H.createElement(pr.Provider,{value:this.props.routeContext},H.createElement(eg.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?H.createElement(Y6,{error:e},t):t}};aE.contextType=_6;var B1=new WeakMap;function Y6({children:e,error:t}){let{basename:r}=H.useContext(Zi);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let o=k6(t.digest);if(o){let u=B1.get(t);if(u)throw u;let h=$x(o.location,r);if(Kx&&!B1.get(t))if(h.isExternal||o.reloadDocument)window.location.href=h.absoluteURL||h.to;else{const p=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(h.to,{replace:o.replace}));throw B1.set(t,p),p}return H.createElement("meta",{httpEquiv:"refresh",content:`0;url=${h.absoluteURL||h.to}`})}}return e}function X6({routeContext:e,match:t,children:r}){let o=H.useContext(yl);return o&&o.static&&o.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=t.route.id),H.createElement(pr.Provider,{value:e},r)}function W6(e,t=[],r=null,o=null,u=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let h=e,p=r?.errors;if(p!=null){let E=h.findIndex(A=>A.route.id&&p?.[A.route.id]!==void 0);rn(E>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(p).join(",")}`),h=h.slice(0,Math.min(h.length,E+1))}let w=!1,x=-1;if(r)for(let E=0;E<h.length;E++){let A=h[E];if((A.route.HydrateFallback||A.route.hydrateFallbackElement)&&(x=E),A.route.id){let{loaderData:R,errors:D}=r,_=A.route.loader&&!R.hasOwnProperty(A.route.id)&&(!D||D[A.route.id]===void 0);if(A.route.lazy||_){w=!0,x>=0?h=h.slice(0,x+1):h=[h[0]];break}}}let b=r&&o?(E,A)=>{o(E,{location:r.location,params:r.matches?.[0]?.params??{},unstable_pattern:M6(r.matches),errorInfo:A})}:void 0;return h.reduceRight((E,A,R)=>{let D,_=!1,k=null,P=null;r&&(D=p&&A.route.id?p[A.route.id]:void 0,k=A.route.errorElement||G6,w&&(x<0&&R===0?(oE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),_=!0,P=null):x===R&&(_=!0,P=A.route.hydrateFallbackElement||null)));let Y=t.concat(h.slice(0,R+1)),j=()=>{let U;return D?U=k:_?U=P:A.route.Component?U=H.createElement(A.route.Component,null):A.route.element?U=A.route.element:U=E,H.createElement(X6,{match:A,routeContext:{outlet:E,matches:Y,isDataRoute:r!=null},children:U})};return r&&(A.route.ErrorBoundary||A.route.errorElement||R===0)?H.createElement(aE,{location:r.location,revalidation:r.revalidation,component:k,error:D,children:j(),routeContext:{outlet:null,matches:Y,isDataRoute:!0},onError:b}):j()},null)}function tg(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Q6(e){let t=H.useContext(yl);return rn(t,tg(e)),t}function Z6(e){let t=H.useContext(ph);return rn(t,tg(e)),t}function K6(e){let t=H.useContext(pr);return rn(t,tg(e)),t}function ng(e){let t=K6(e),r=t.matches[t.matches.length-1];return rn(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function $6(){return ng("useRouteId")}function J6(){let e=H.useContext(eg),t=Z6("useRouteError"),r=ng("useRouteError");return e!==void 0?e:t.errors?.[r]}function eA(){let{router:e}=Q6("useNavigate"),t=ng("useNavigate"),r=H.useRef(!1);return iE(()=>{r.current=!0}),H.useCallback(async(u,h={})=>{_r(r.current,nE),r.current&&(typeof u=="number"?await e.navigate(u):await e.navigate(u,{fromRouteId:t,...h}))},[e,t])}var wb={};function oE(e,t,r){!t&&!wb[e]&&(wb[e]=!0,_r(!1,r))}H.memo(tA);function tA({routes:e,future:t,state:r,onError:o}){return sE(e,void 0,r,o,t)}function ro({to:e,replace:t,state:r,relative:o}){rn(bl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:u}=H.useContext(Zi);_r(!u,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:h}=H.useContext(pr),{pathname:p}=ts(),w=Ki(),x=Jm(e,$m(h),p,o==="path"),b=JSON.stringify(x);return H.useEffect(()=>{w(JSON.parse(b),{replace:t,state:r,relative:o})},[w,b,o,t,r]),null}function lE(e){return V6(e.context)}function kt(e){rn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function nA({basename:e="/",children:t=null,location:r,navigationType:o="POP",navigator:u,static:h=!1,unstable_useTransitions:p}){rn(!bl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let w=e.replace(/^\/*/,"/"),x=H.useMemo(()=>({basename:w,navigator:u,static:h,unstable_useTransitions:p,future:{}}),[w,u,h,p]);typeof r=="string"&&(r=pl(r));let{pathname:b="/",search:E="",hash:A="",state:R=null,key:D="default"}=r,_=H.useMemo(()=>{let k=Os(b,w);return k==null?null:{location:{pathname:k,search:E,hash:A,state:R,key:D},navigationType:o}},[w,b,E,A,R,D,o]);return _r(_!=null,`<Router basename="${w}"> is not able to match the URL "${b}${E}${A}" because it does not start with the basename, so the <Router> won't render anything.`),_==null?null:H.createElement(Zi.Provider,{value:x},H.createElement(Vc.Provider,{children:t,value:_}))}function iA({children:e,location:t}){return H6(um(e),t)}function um(e,t=[]){let r=[];return H.Children.forEach(e,(o,u)=>{if(!H.isValidElement(o))return;let h=[...t,u];if(o.type===H.Fragment){r.push.apply(r,um(o.props.children,h));return}rn(o.type===kt,`[${typeof o.type=="string"?o.type:o.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),rn(!o.props.index||!o.props.children,"An index route cannot have child routes.");let p={id:o.props.id||h.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,middleware:o.props.middleware,loader:o.props.loader,action:o.props.action,hydrateFallbackElement:o.props.hydrateFallbackElement,HydrateFallback:o.props.HydrateFallback,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.hasErrorBoundary===!0||o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(p.children=um(o.props.children,h)),r.push(p)}),r}var kd="get",Pd="application/x-www-form-urlencoded";function yh(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function rA(e){return yh(e)&&e.tagName.toLowerCase()==="button"}function sA(e){return yh(e)&&e.tagName.toLowerCase()==="form"}function aA(e){return yh(e)&&e.tagName.toLowerCase()==="input"}function oA(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function lA(e,t){return e.button===0&&(!t||t==="_self")&&!oA(e)}var Ed=null;function cA(){if(Ed===null)try{new FormData(document.createElement("form"),0),Ed=!1}catch{Ed=!0}return Ed}var uA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function k1(e){return e!=null&&!uA.has(e)?(_r(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Pd}"`),null):e}function dA(e,t){let r,o,u,h,p;if(sA(e)){let w=e.getAttribute("action");o=w?Os(w,t):null,r=e.getAttribute("method")||kd,u=k1(e.getAttribute("enctype"))||Pd,h=new FormData(e)}else if(rA(e)||aA(e)&&(e.type==="submit"||e.type==="image")){let w=e.form;if(w==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let x=e.getAttribute("formaction")||w.getAttribute("action");if(o=x?Os(x,t):null,r=e.getAttribute("formmethod")||w.getAttribute("method")||kd,u=k1(e.getAttribute("formenctype"))||k1(w.getAttribute("enctype"))||Pd,h=new FormData(w,e),!cA()){let{name:b,type:E,value:A}=e;if(E==="image"){let R=b?`${b}.`:"";h.append(`${R}x`,"0"),h.append(`${R}y`,"0")}else b&&h.append(b,A)}}else{if(yh(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=kd,o=null,u=Pd,p=e}return h&&u==="text/plain"&&(p=h,h=void 0),{action:o,method:r.toLowerCase(),encType:u,formData:h,body:p}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function ig(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function hA(e,t,r,o){let u=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r?u.pathname.endsWith("/")?u.pathname=`${u.pathname}_.${o}`:u.pathname=`${u.pathname}.${o}`:u.pathname==="/"?u.pathname=`_root.${o}`:t&&Os(u.pathname,t)==="/"?u.pathname=`${t.replace(/\/$/,"")}/_root.${o}`:u.pathname=`${u.pathname.replace(/\/$/,"")}.${o}`,u}async function fA(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function mA(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function gA(e,t,r){let o=await Promise.all(e.map(async u=>{let h=t.routes[u.route.id];if(h){let p=await fA(h,r);return p.links?p.links():[]}return[]}));return vA(o.flat(1).filter(mA).filter(u=>u.rel==="stylesheet"||u.rel==="preload").map(u=>u.rel==="stylesheet"?{...u,rel:"prefetch",as:"style"}:{...u,rel:"prefetch"}))}function xb(e,t,r,o,u,h){let p=(x,b)=>r[b]?x.route.id!==r[b].route.id:!0,w=(x,b)=>r[b].pathname!==x.pathname||r[b].route.path?.endsWith("*")&&r[b].params["*"]!==x.params["*"];return h==="assets"?t.filter((x,b)=>p(x,b)||w(x,b)):h==="data"?t.filter((x,b)=>{let E=o.routes[x.route.id];if(!E||!E.hasLoader)return!1;if(p(x,b)||w(x,b))return!0;if(x.route.shouldRevalidate){let A=x.route.shouldRevalidate({currentUrl:new URL(u.pathname+u.search+u.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:x.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function pA(e,t,{includeHydrateFallback:r}={}){return yA(e.map(o=>{let u=t.routes[o.route.id];if(!u)return[];let h=[u.module];return u.clientActionModule&&(h=h.concat(u.clientActionModule)),u.clientLoaderModule&&(h=h.concat(u.clientLoaderModule)),r&&u.hydrateFallbackModule&&(h=h.concat(u.hydrateFallbackModule)),u.imports&&(h=h.concat(u.imports)),h}).flat(1))}function yA(e){return[...new Set(e)]}function bA(e){let t={},r=Object.keys(e).sort();for(let o of r)t[o]=e[o];return t}function vA(e,t){let r=new Set;return new Set(t),e.reduce((o,u)=>{let h=JSON.stringify(bA(u));return r.has(h)||(r.add(h),o.push({key:h,link:u})),o},[])}function cE(){let e=H.useContext(yl);return ig(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function wA(){let e=H.useContext(ph);return ig(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var rg=H.createContext(void 0);rg.displayName="FrameworkContext";function uE(){let e=H.useContext(rg);return ig(e,"You must render this element inside a <HydratedRouter> element"),e}function xA(e,t){let r=H.useContext(rg),[o,u]=H.useState(!1),[h,p]=H.useState(!1),{onFocus:w,onBlur:x,onMouseEnter:b,onMouseLeave:E,onTouchStart:A}=t,R=H.useRef(null);H.useEffect(()=>{if(e==="render"&&p(!0),e==="viewport"){let k=Y=>{Y.forEach(j=>{p(j.isIntersecting)})},P=new IntersectionObserver(k,{threshold:.5});return R.current&&P.observe(R.current),()=>{P.disconnect()}}},[e]),H.useEffect(()=>{if(o){let k=setTimeout(()=>{p(!0)},100);return()=>{clearTimeout(k)}}},[o]);let D=()=>{u(!0)},_=()=>{u(!1),p(!1)};return r?e!=="intent"?[h,R,{}]:[h,R,{onFocus:Ec(w,D),onBlur:Ec(x,_),onMouseEnter:Ec(b,D),onMouseLeave:Ec(E,_),onTouchStart:Ec(A,D)}]:[!1,R,{}]}function Ec(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function EA({page:e,...t}){let{router:r}=cE(),o=H.useMemo(()=>Wx(r.routes,e,r.basename),[r.routes,e,r.basename]);return o?H.createElement(SA,{page:e,matches:o,...t}):null}function CA(e){let{manifest:t,routeModules:r}=uE(),[o,u]=H.useState([]);return H.useEffect(()=>{let h=!1;return gA(e,t,r).then(p=>{h||u(p)}),()=>{h=!0}},[e,t,r]),o}function SA({page:e,matches:t,...r}){let o=ts(),{future:u,manifest:h,routeModules:p}=uE(),{basename:w}=cE(),{loaderData:x,matches:b}=wA(),E=H.useMemo(()=>xb(e,t,b,h,o,"data"),[e,t,b,h,o]),A=H.useMemo(()=>xb(e,t,b,h,o,"assets"),[e,t,b,h,o]),R=H.useMemo(()=>{if(e===o.pathname+o.search+o.hash)return[];let k=new Set,P=!1;if(t.forEach(j=>{let U=h.routes[j.route.id];!U||!U.hasLoader||(!E.some(F=>F.route.id===j.route.id)&&j.route.id in x&&p[j.route.id]?.shouldRevalidate||U.hasClientLoader?P=!0:k.add(j.route.id))}),k.size===0)return[];let Y=hA(e,w,u.unstable_trailingSlashAwareDataRequests,"data");return P&&k.size>0&&Y.searchParams.set("_routes",t.filter(j=>k.has(j.route.id)).map(j=>j.route.id).join(",")),[Y.pathname+Y.search]},[w,u.unstable_trailingSlashAwareDataRequests,x,o,h,E,t,e,p]),D=H.useMemo(()=>pA(A,h),[A,h]),_=CA(A);return H.createElement(H.Fragment,null,R.map(k=>H.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...r})),D.map(k=>H.createElement("link",{key:k,rel:"modulepreload",href:k,...r})),_.map(({key:k,link:P})=>H.createElement("link",{key:k,nonce:r.nonce,...P,crossOrigin:P.crossOrigin??r.crossOrigin})))}function AA(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var NA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{NA&&(window.__reactRouterVersion="7.13.0")}catch{}function TA({basename:e,children:t,unstable_useTransitions:r,window:o}){let u=H.useRef();u.current==null&&(u.current=s6({window:o,v5Compat:!0}));let h=u.current,[p,w]=H.useState({action:h.action,location:h.location}),x=H.useCallback(b=>{r===!1?w(b):H.startTransition(()=>w(b))},[r]);return H.useLayoutEffect(()=>h.listen(x),[h,x]),H.createElement(nA,{basename:e,children:t,location:p.location,navigationType:p.action,navigator:h,unstable_useTransitions:r})}var dE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,hE=H.forwardRef(function({onClick:t,discover:r="render",prefetch:o="none",relative:u,reloadDocument:h,replace:p,state:w,target:x,to:b,preventScrollReset:E,viewTransition:A,unstable_defaultShouldRevalidate:R,...D},_){let{basename:k,unstable_useTransitions:P}=H.useContext(Zi),Y=typeof b=="string"&&dE.test(b),j=$x(b,k);b=j.to;let U=U6(b,{relative:u}),[F,I,X]=xA(o,D),z=IA(b,{replace:p,state:w,target:x,preventScrollReset:E,relative:u,viewTransition:A,unstable_defaultShouldRevalidate:R,unstable_useTransitions:P});function G(Ee){t&&t(Ee),Ee.defaultPrevented||z(Ee)}let Q=H.createElement("a",{...D,...X,href:j.absoluteURL||U,onClick:j.isExternal||h?t:G,ref:AA(_,I),target:x,"data-discover":!Y&&r==="render"?"true":void 0});return F&&!Y?H.createElement(H.Fragment,null,Q,H.createElement(EA,{page:U})):Q});hE.displayName="Link";var RA=H.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:o="",end:u=!1,style:h,to:p,viewTransition:w,children:x,...b},E){let A=Hc(p,{relative:b.relative}),R=ts(),D=H.useContext(ph),{navigator:_,basename:k}=H.useContext(Zi),P=D!=null&&BA(A)&&w===!0,Y=_.encodeLocation?_.encodeLocation(A).pathname:A.pathname,j=R.pathname,U=D&&D.navigation&&D.navigation.location?D.navigation.location.pathname:null;r||(j=j.toLowerCase(),U=U?U.toLowerCase():null,Y=Y.toLowerCase()),U&&k&&(U=Os(U,k)||U);const F=Y!=="/"&&Y.endsWith("/")?Y.length-1:Y.length;let I=j===Y||!u&&j.startsWith(Y)&&j.charAt(F)==="/",X=U!=null&&(U===Y||!u&&U.startsWith(Y)&&U.charAt(Y.length)==="/"),z={isActive:I,isPending:X,isTransitioning:P},G=I?t:void 0,Q;typeof o=="function"?Q=o(z):Q=[o,I?"active":null,X?"pending":null,P?"transitioning":null].filter(Boolean).join(" ");let Ee=typeof h=="function"?h(z):h;return H.createElement(hE,{...b,"aria-current":G,className:Q,ref:E,style:Ee,to:p,viewTransition:w},typeof x=="function"?x(z):x)});RA.displayName="NavLink";var OA=H.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:o,replace:u,state:h,method:p=kd,action:w,onSubmit:x,relative:b,preventScrollReset:E,viewTransition:A,unstable_defaultShouldRevalidate:R,...D},_)=>{let{unstable_useTransitions:k}=H.useContext(Zi),P=jA(),Y=LA(w,{relative:b}),j=p.toLowerCase()==="get"?"get":"post",U=typeof w=="string"&&dE.test(w),F=I=>{if(x&&x(I),I.defaultPrevented)return;I.preventDefault();let X=I.nativeEvent.submitter,z=X?.getAttribute("formmethod")||p,G=()=>P(X||I.currentTarget,{fetcherKey:t,method:z,navigate:r,replace:u,state:h,relative:b,preventScrollReset:E,viewTransition:A,unstable_defaultShouldRevalidate:R});k&&r!==!1?H.startTransition(()=>G()):G()};return H.createElement("form",{ref:_,method:j,action:Y,onSubmit:o?x:F,...D,"data-discover":!U&&e==="render"?"true":void 0})});OA.displayName="Form";function MA(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function fE(e){let t=H.useContext(yl);return rn(t,MA(e)),t}function IA(e,{target:t,replace:r,state:o,preventScrollReset:u,relative:h,viewTransition:p,unstable_defaultShouldRevalidate:w,unstable_useTransitions:x}={}){let b=Ki(),E=ts(),A=Hc(e,{relative:h});return H.useCallback(R=>{if(lA(R,t)){R.preventDefault();let D=r!==void 0?r:Dc(E)===Dc(A),_=()=>b(e,{replace:D,state:o,preventScrollReset:u,relative:h,viewTransition:p,unstable_defaultShouldRevalidate:w});x?H.startTransition(()=>_()):_()}},[E,b,A,r,o,t,e,u,h,p,w,x])}var _A=0,DA=()=>`__${String(++_A)}__`;function jA(){let{router:e}=fE("useSubmit"),{basename:t}=H.useContext(Zi),r=$6(),o=e.fetch,u=e.navigate;return H.useCallback(async(h,p={})=>{let{action:w,method:x,encType:b,formData:E,body:A}=dA(h,t);if(p.navigate===!1){let R=p.fetcherKey||DA();await o(R,r,p.action||w,{unstable_defaultShouldRevalidate:p.unstable_defaultShouldRevalidate,preventScrollReset:p.preventScrollReset,formData:E,body:A,formMethod:p.method||x,formEncType:p.encType||b,flushSync:p.flushSync})}else await u(p.action||w,{unstable_defaultShouldRevalidate:p.unstable_defaultShouldRevalidate,preventScrollReset:p.preventScrollReset,formData:E,body:A,formMethod:p.method||x,formEncType:p.encType||b,replace:p.replace,state:p.state,fromRouteId:r,flushSync:p.flushSync,viewTransition:p.viewTransition})},[o,u,t,r])}function LA(e,{relative:t}={}){let{basename:r}=H.useContext(Zi),o=H.useContext(pr);rn(o,"useFormAction must be used inside a RouteContext");let[u]=o.matches.slice(-1),h={...Hc(e||".",{relative:t})},p=ts();if(e==null){h.search=p.search;let w=new URLSearchParams(h.search),x=w.getAll("index");if(x.some(E=>E==="")){w.delete("index"),x.filter(A=>A).forEach(A=>w.append("index",A));let E=w.toString();h.search=E?`?${E}`:""}}return(!e||e===".")&&u.route.index&&(h.search=h.search?h.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(h.pathname=h.pathname==="/"?r:Ts([r,h.pathname])),Dc(h)}function BA(e,{relative:t}={}){let r=H.useContext(eE);rn(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:o}=fE("useViewTransitionState"),u=Hc(e,{relative:t});if(!r.isTransitioning)return!1;let h=Os(r.currentLocation.pathname,o)||r.currentLocation.pathname,p=Os(r.nextLocation.pathname,o)||r.nextLocation.pathname;return Zd(u.pathname,p)!=null||Zd(u.pathname,h)!=null}var vl=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},kA={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},PA=class{#e=kA;#t=!1;setTimeoutProvider(e){this.#e=e}setTimeout(e,t){return this.#e.setTimeout(e,t)}clearTimeout(e){this.#e.clearTimeout(e)}setInterval(e,t){return this.#e.setInterval(e,t)}clearInterval(e){this.#e.clearInterval(e)}},so=new PA;function UA(e){setTimeout(e,0)}var ho=typeof window>"u"||"Deno"in globalThis;function fi(){}function zA(e,t){return typeof e=="function"?e(t):e}function dm(e){return typeof e=="number"&&e>=0&&e!==1/0}function mE(e,t){return Math.max(e+(t||0)-Date.now(),0)}function xa(e,t){return typeof e=="function"?e(t):e}function hr(e,t){return typeof e=="function"?e(t):e}function Eb(e,t){const{type:r="all",exact:o,fetchStatus:u,predicate:h,queryKey:p,stale:w}=e;if(p){if(o){if(t.queryHash!==sg(p,t.options))return!1}else if(!jc(t.queryKey,p))return!1}if(r!=="all"){const x=t.isActive();if(r==="active"&&!x||r==="inactive"&&x)return!1}return!(typeof w=="boolean"&&t.isStale()!==w||u&&u!==t.state.fetchStatus||h&&!h(t))}function Cb(e,t){const{exact:r,status:o,predicate:u,mutationKey:h}=e;if(h){if(!t.options.mutationKey)return!1;if(r){if(fo(t.options.mutationKey)!==fo(h))return!1}else if(!jc(t.options.mutationKey,h))return!1}return!(o&&t.state.status!==o||u&&!u(t))}function sg(e,t){return(t?.queryKeyHashFn||fo)(e)}function fo(e){return JSON.stringify(e,(t,r)=>hm(r)?Object.keys(r).sort().reduce((o,u)=>(o[u]=r[u],o),{}):r)}function jc(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>jc(e[r],t[r])):!1}var FA=Object.prototype.hasOwnProperty;function gE(e,t,r=0){if(e===t)return e;if(r>500)return t;const o=Sb(e)&&Sb(t);if(!o&&!(hm(e)&&hm(t)))return t;const h=(o?e:Object.keys(e)).length,p=o?t:Object.keys(t),w=p.length,x=o?new Array(w):{};let b=0;for(let E=0;E<w;E++){const A=o?E:p[E],R=e[A],D=t[A];if(R===D){x[A]=R,(o?E<h:FA.call(e,A))&&b++;continue}if(R===null||D===null||typeof R!="object"||typeof D!="object"){x[A]=D;continue}const _=gE(R,D,r+1);x[A]=_,_===R&&b++}return h===w&&b===h?e:x}function Kd(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function Sb(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function hm(e){if(!Ab(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!Ab(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Ab(e){return Object.prototype.toString.call(e)==="[object Object]"}function VA(e){return new Promise(t=>{so.setTimeout(t,e)})}function fm(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?gE(e,t):t}function HA(e,t,r=0){const o=[...e,t];return r&&o.length>r?o.slice(1):o}function qA(e,t,r=0){const o=[t,...e];return r&&o.length>r?o.slice(0,-1):o}var ag=Symbol();function pE(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===ag?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function og(e,t){return typeof e=="function"?e(...t):!!e}function GA(e,t,r){let o=!1,u;return Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(u??=t(),o||(o=!0,u.aborted?r():u.addEventListener("abort",r,{once:!0})),u)}),e}var YA=class extends vl{#e;#t;#n;constructor(){super(),this.#n=e=>{if(!ho&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},lg=new YA;function mm(){let e,t;const r=new Promise((u,h)=>{e=u,t=h});r.status="pending",r.catch(()=>{});function o(u){Object.assign(r,u),delete r.resolve,delete r.reject}return r.resolve=u=>{o({status:"fulfilled",value:u}),e(u)},r.reject=u=>{o({status:"rejected",reason:u}),t(u)},r}var XA=UA;function WA(){let e=[],t=0,r=w=>{w()},o=w=>{w()},u=XA;const h=w=>{t?e.push(w):u(()=>{r(w)})},p=()=>{const w=e;e=[],w.length&&u(()=>{o(()=>{w.forEach(x=>{r(x)})})})};return{batch:w=>{let x;t++;try{x=w()}finally{t--,t||p()}return x},batchCalls:w=>(...x)=>{h(()=>{w(...x)})},schedule:h,setNotifyFunction:w=>{r=w},setBatchNotifyFunction:w=>{o=w},setScheduler:w=>{u=w}}}var zn=WA(),QA=class extends vl{#e=!0;#t;#n;constructor(){super(),this.#n=e=>{if(!ho&&window.addEventListener){const t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(r=>{r(e)}))}isOnline(){return this.#e}},$d=new QA;function ZA(e){return Math.min(1e3*2**e,3e4)}function yE(e){return(e??"online")==="online"?$d.isOnline():!0}var gm=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function bE(e){let t=!1,r=0,o;const u=mm(),h=()=>u.status!=="pending",p=k=>{if(!h()){const P=new gm(k);R(P),e.onCancel?.(P)}},w=()=>{t=!0},x=()=>{t=!1},b=()=>lg.isFocused()&&(e.networkMode==="always"||$d.isOnline())&&e.canRun(),E=()=>yE(e.networkMode)&&e.canRun(),A=k=>{h()||(o?.(),u.resolve(k))},R=k=>{h()||(o?.(),u.reject(k))},D=()=>new Promise(k=>{o=P=>{(h()||b())&&k(P)},e.onPause?.()}).then(()=>{o=void 0,h()||e.onContinue?.()}),_=()=>{if(h())return;let k;const P=r===0?e.initialPromise:void 0;try{k=P??e.fn()}catch(Y){k=Promise.reject(Y)}Promise.resolve(k).then(A).catch(Y=>{if(h())return;const j=e.retry??(ho?0:3),U=e.retryDelay??ZA,F=typeof U=="function"?U(r,Y):U,I=j===!0||typeof j=="number"&&r<j||typeof j=="function"&&j(r,Y);if(t||!I){R(Y);return}r++,e.onFail?.(r,Y),VA(F).then(()=>b()?void 0:D()).then(()=>{t?R(Y):_()})})};return{promise:u,status:()=>u.status,cancel:p,continue:()=>(o?.(),u),cancelRetry:w,continueRetry:x,canStart:E,start:()=>(E()?_():D().then(_),u)}}var vE=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),dm(this.gcTime)&&(this.#e=so.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(ho?1/0:300*1e3))}clearGcTimeout(){this.#e&&(so.clearTimeout(this.#e),this.#e=void 0)}},KA=class extends vE{#e;#t;#n;#r;#i;#a;#o;constructor(e){super(),this.#o=!1,this.#a=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#r=e.client,this.#n=this.#r.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=Tb(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#i?.promise}setOptions(e){if(this.options={...this.#a,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const t=Tb(this.options);t.data!==void 0&&(this.setState(Nb(t.data,t.dataUpdatedAt)),this.#e=t)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(e,t){const r=fm(this.state.data,e,this.options);return this.#s({data:r,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),r}setState(e,t){this.#s({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#i?.promise;return this.#i?.cancel(e),t?t.then(fi).catch(fi):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>hr(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===ag||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>xa(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!mE(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#i?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#i?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#i&&(this.#o?this.#i.cancel({revert:!0}):this.#i.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#s({type:"invalidate"})}async fetch(e,t){if(this.state.fetchStatus!=="idle"&&this.#i?.status()!=="rejected"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#i)return this.#i.continueRetry(),this.#i.promise}if(e&&this.setOptions(e),!this.options.queryFn){const w=this.observers.find(x=>x.options.queryFn);w&&this.setOptions(w.options)}const r=new AbortController,o=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(this.#o=!0,r.signal)})},u=()=>{const w=pE(this.options,t),b=(()=>{const E={client:this.#r,queryKey:this.queryKey,meta:this.meta};return o(E),E})();return this.#o=!1,this.options.persister?this.options.persister(w,b,this):w(b)},p=(()=>{const w={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#r,state:this.state,fetchFn:u};return o(w),w})();this.options.behavior?.onFetch(p,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==p.fetchOptions?.meta)&&this.#s({type:"fetch",meta:p.fetchOptions?.meta}),this.#i=bE({initialPromise:t?.initialPromise,fn:p.fetchFn,onCancel:w=>{w instanceof gm&&w.revert&&this.setState({...this.#t,fetchStatus:"idle"}),r.abort()},onFail:(w,x)=>{this.#s({type:"failed",failureCount:w,error:x})},onPause:()=>{this.#s({type:"pause"})},onContinue:()=>{this.#s({type:"continue"})},retry:p.options.retry,retryDelay:p.options.retryDelay,networkMode:p.options.networkMode,canRun:()=>!0});try{const w=await this.#i.start();if(w===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(w),this.#n.config.onSuccess?.(w,this),this.#n.config.onSettled?.(w,this.state.error,this),w}catch(w){if(w instanceof gm){if(w.silent)return this.#i.promise;if(w.revert){if(this.state.data===void 0)throw w;return this.state.data}}throw this.#s({type:"error",error:w}),this.#n.config.onError?.(w,this),this.#n.config.onSettled?.(this.state.data,w,this),w}finally{this.scheduleGc()}}#s(e){const t=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...wE(r.data,this.options),fetchMeta:e.meta??null};case"success":const o={...r,...Nb(e.data,e.dataUpdatedAt),dataUpdateCount:r.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?o:void 0,o;case"error":const u=e.error;return{...r,error:u,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:u,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=t(this.state),zn.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:e})})}};function wE(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:yE(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Nb(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function Tb(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,o=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?o??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var $A=class extends vl{constructor(e,t){super(),this.options=t,this.#e=e,this.#s=null,this.#o=mm(),this.bindMethods(),this.setOptions(t)}#e;#t=void 0;#n=void 0;#r=void 0;#i;#a;#o;#s;#g;#h;#f;#c;#u;#l;#m=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),Rb(this.#t,this.options)?this.#d():this.updateResult(),this.#v())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return pm(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return pm(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#w(),this.#x(),this.#t.removeObserver(this)}setOptions(e){const t=this.options,r=this.#t;if(this.options=this.#e.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof hr(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#E(),this.#t.setOptions(this.options),t._defaulted&&!Kd(this.options,t)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const o=this.hasListeners();o&&Ob(this.#t,r,this.options,t)&&this.#d(),this.updateResult(),o&&(this.#t!==r||hr(this.options.enabled,this.#t)!==hr(t.enabled,this.#t)||xa(this.options.staleTime,this.#t)!==xa(t.staleTime,this.#t))&&this.#p();const u=this.#y();o&&(this.#t!==r||hr(this.options.enabled,this.#t)!==hr(t.enabled,this.#t)||u!==this.#l)&&this.#b(u)}getOptimisticResult(e){const t=this.#e.getQueryCache().build(this.#e,e),r=this.createResult(t,e);return e8(this,r)&&(this.#r=r,this.#a=this.options,this.#i=this.#t.state),r}getCurrentResult(){return this.#r}trackResult(e,t){return new Proxy(e,{get:(r,o)=>(this.trackProp(o),t?.(o),o==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#o.status==="pending"&&this.#o.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(r,o))})}trackProp(e){this.#m.add(e)}getCurrentQuery(){return this.#t}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=this.#e.defaultQueryOptions(e),r=this.#e.getQueryCache().build(this.#e,t);return r.fetch().then(()=>this.createResult(r,t))}fetch(e){return this.#d({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#r))}#d(e){this.#E();let t=this.#t.fetch(this.options,e);return e?.throwOnError||(t=t.catch(fi)),t}#p(){this.#w();const e=xa(this.options.staleTime,this.#t);if(ho||this.#r.isStale||!dm(e))return;const r=mE(this.#r.dataUpdatedAt,e)+1;this.#c=so.setTimeout(()=>{this.#r.isStale||this.updateResult()},r)}#y(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#b(e){this.#x(),this.#l=e,!(ho||hr(this.options.enabled,this.#t)===!1||!dm(this.#l)||this.#l===0)&&(this.#u=so.setInterval(()=>{(this.options.refetchIntervalInBackground||lg.isFocused())&&this.#d()},this.#l))}#v(){this.#p(),this.#b(this.#y())}#w(){this.#c&&(so.clearTimeout(this.#c),this.#c=void 0)}#x(){this.#u&&(so.clearInterval(this.#u),this.#u=void 0)}createResult(e,t){const r=this.#t,o=this.options,u=this.#r,h=this.#i,p=this.#a,x=e!==r?e.state:this.#n,{state:b}=e;let E={...b},A=!1,R;if(t._optimisticResults){const G=this.hasListeners(),Q=!G&&Rb(e,t),Ee=G&&Ob(e,r,t,o);(Q||Ee)&&(E={...E,...wE(b.data,e.options)}),t._optimisticResults==="isRestoring"&&(E.fetchStatus="idle")}let{error:D,errorUpdatedAt:_,status:k}=E;R=E.data;let P=!1;if(t.placeholderData!==void 0&&R===void 0&&k==="pending"){let G;u?.isPlaceholderData&&t.placeholderData===p?.placeholderData?(G=u.data,P=!0):G=typeof t.placeholderData=="function"?t.placeholderData(this.#f?.state.data,this.#f):t.placeholderData,G!==void 0&&(k="success",R=fm(u?.data,G,t),A=!0)}if(t.select&&R!==void 0&&!P)if(u&&R===h?.data&&t.select===this.#g)R=this.#h;else try{this.#g=t.select,R=t.select(R),R=fm(u?.data,R,t),this.#h=R,this.#s=null}catch(G){this.#s=G}this.#s&&(D=this.#s,R=this.#h,_=Date.now(),k="error");const Y=E.fetchStatus==="fetching",j=k==="pending",U=k==="error",F=j&&Y,I=R!==void 0,z={status:k,fetchStatus:E.fetchStatus,isPending:j,isSuccess:k==="success",isError:U,isInitialLoading:F,isLoading:F,data:R,dataUpdatedAt:E.dataUpdatedAt,error:D,errorUpdatedAt:_,failureCount:E.fetchFailureCount,failureReason:E.fetchFailureReason,errorUpdateCount:E.errorUpdateCount,isFetched:E.dataUpdateCount>0||E.errorUpdateCount>0,isFetchedAfterMount:E.dataUpdateCount>x.dataUpdateCount||E.errorUpdateCount>x.errorUpdateCount,isFetching:Y,isRefetching:Y&&!j,isLoadingError:U&&!I,isPaused:E.fetchStatus==="paused",isPlaceholderData:A,isRefetchError:U&&I,isStale:cg(e,t),refetch:this.refetch,promise:this.#o,isEnabled:hr(t.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const G=z.data!==void 0,Q=z.status==="error"&&!G,Ee=me=>{Q?me.reject(z.error):G&&me.resolve(z.data)},ae=()=>{const me=this.#o=z.promise=mm();Ee(me)},ve=this.#o;switch(ve.status){case"pending":e.queryHash===r.queryHash&&Ee(ve);break;case"fulfilled":(Q||z.data!==ve.value)&&ae();break;case"rejected":(!Q||z.error!==ve.reason)&&ae();break}}return z}updateResult(){const e=this.#r,t=this.createResult(this.#t,this.options);if(this.#i=this.#t.state,this.#a=this.options,this.#i.data!==void 0&&(this.#f=this.#t),Kd(t,e))return;this.#r=t;const r=()=>{if(!e)return!0;const{notifyOnChangeProps:o}=this.options,u=typeof o=="function"?o():o;if(u==="all"||!u&&!this.#m.size)return!0;const h=new Set(u??this.#m);return this.options.throwOnError&&h.add("error"),Object.keys(this.#r).some(p=>{const w=p;return this.#r[w]!==e[w]&&h.has(w)})};this.#C({listeners:r()})}#E(){const e=this.#e.getQueryCache().build(this.#e,this.options);if(e===this.#t)return;const t=this.#t;this.#t=e,this.#n=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#v()}#C(e){zn.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(this.#r)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function JA(e,t){return hr(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Rb(e,t){return JA(e,t)||e.state.data!==void 0&&pm(e,t,t.refetchOnMount)}function pm(e,t,r){if(hr(t.enabled,e)!==!1&&xa(t.staleTime,e)!=="static"){const o=typeof r=="function"?r(e):r;return o==="always"||o!==!1&&cg(e,t)}return!1}function Ob(e,t,r,o){return(e!==t||hr(o.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&cg(e,r)}function cg(e,t){return hr(t.enabled,e)!==!1&&e.isStaleByTime(xa(t.staleTime,e))}function e8(e,t){return!Kd(e.getCurrentResult(),t)}function Mb(e){return{onFetch:(t,r)=>{const o=t.options,u=t.fetchOptions?.meta?.fetchMore?.direction,h=t.state.data?.pages||[],p=t.state.data?.pageParams||[];let w={pages:[],pageParams:[]},x=0;const b=async()=>{let E=!1;const A=_=>{GA(_,()=>t.signal,()=>E=!0)},R=pE(t.options,t.fetchOptions),D=async(_,k,P)=>{if(E)return Promise.reject();if(k==null&&_.pages.length)return Promise.resolve(_);const j=(()=>{const X={client:t.client,queryKey:t.queryKey,pageParam:k,direction:P?"backward":"forward",meta:t.options.meta};return A(X),X})(),U=await R(j),{maxPages:F}=t.options,I=P?qA:HA;return{pages:I(_.pages,U,F),pageParams:I(_.pageParams,k,F)}};if(u&&h.length){const _=u==="backward",k=_?t8:Ib,P={pages:h,pageParams:p},Y=k(o,P);w=await D(P,Y,_)}else{const _=e??h.length;do{const k=x===0?p[0]??o.initialPageParam:Ib(o,w);if(x>0&&k==null)break;w=await D(w,k),x++}while(x<_)}return w};t.options.persister?t.fetchFn=()=>t.options.persister?.(b,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r):t.fetchFn=b}}}function Ib(e,{pages:t,pageParams:r}){const o=t.length-1;return t.length>0?e.getNextPageParam(t[o],t,r[o],r):void 0}function t8(e,{pages:t,pageParams:r}){return t.length>0?e.getPreviousPageParam?.(t[0],t,r[0],r):void 0}var n8=class extends vE{#e;#t;#n;#r;constructor(e){super(),this.#e=e.client,this.mutationId=e.mutationId,this.#n=e.mutationCache,this.#t=[],this.state=e.state||xE(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(t=>t!==e),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#r?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#i({type:"continue"})},r={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#r=bE({fn:()=>this.options.mutationFn?this.options.mutationFn(e,r):Promise.reject(new Error("No mutationFn found")),onFail:(h,p)=>{this.#i({type:"failed",failureCount:h,error:p})},onPause:()=>{this.#i({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const o=this.state.status==="pending",u=!this.#r.canStart();try{if(o)t();else{this.#i({type:"pending",variables:e,isPaused:u}),this.#n.config.onMutate&&await this.#n.config.onMutate(e,this,r);const p=await this.options.onMutate?.(e,r);p!==this.state.context&&this.#i({type:"pending",context:p,variables:e,isPaused:u})}const h=await this.#r.start();return await this.#n.config.onSuccess?.(h,e,this.state.context,this,r),await this.options.onSuccess?.(h,e,this.state.context,r),await this.#n.config.onSettled?.(h,null,this.state.variables,this.state.context,this,r),await this.options.onSettled?.(h,null,e,this.state.context,r),this.#i({type:"success",data:h}),h}catch(h){try{await this.#n.config.onError?.(h,e,this.state.context,this,r)}catch(p){Promise.reject(p)}try{await this.options.onError?.(h,e,this.state.context,r)}catch(p){Promise.reject(p)}try{await this.#n.config.onSettled?.(void 0,h,this.state.variables,this.state.context,this,r)}catch(p){Promise.reject(p)}try{await this.options.onSettled?.(void 0,h,e,this.state.context,r)}catch(p){Promise.reject(p)}throw this.#i({type:"error",error:h}),h}finally{this.#n.runNext(this)}}#i(e){const t=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),zn.batch(()=>{this.#t.forEach(r=>{r.onMutationUpdate(e)}),this.#n.notify({mutation:this,type:"updated",action:e})})}};function xE(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var i8=class extends vl{constructor(e={}){super(),this.config=e,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(e,t,r){const o=new n8({client:e,mutationCache:this,mutationId:++this.#n,options:e.defaultMutationOptions(t),state:r});return this.add(o),o}add(e){this.#e.add(e);const t=Cd(e);if(typeof t=="string"){const r=this.#t.get(t);r?r.push(e):this.#t.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#e.delete(e)){const t=Cd(e);if(typeof t=="string"){const r=this.#t.get(t);if(r)if(r.length>1){const o=r.indexOf(e);o!==-1&&r.splice(o,1)}else r[0]===e&&this.#t.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=Cd(e);if(typeof t=="string"){const o=this.#t.get(t)?.find(u=>u.state.status==="pending");return!o||o===e}else return!0}runNext(e){const t=Cd(e);return typeof t=="string"?this.#t.get(t)?.find(o=>o!==e&&o.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){zn.batch(()=>{this.#e.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(e){const t={exact:!0,...e};return this.getAll().find(r=>Cb(t,r))}findAll(e={}){return this.getAll().filter(t=>Cb(e,t))}notify(e){zn.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return zn.batch(()=>Promise.all(e.map(t=>t.continue().catch(fi))))}};function Cd(e){return e.options.scope?.id}var r8=class extends vl{#e;#t=void 0;#n;#r;constructor(t,r){super(),this.#e=t,this.setOptions(r),this.bindMethods(),this.#i()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){const r=this.options;this.options=this.#e.defaultMutationOptions(t),Kd(this.options,r)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),r?.mutationKey&&this.options.mutationKey&&fo(r.mutationKey)!==fo(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(t){this.#i(),this.#a(t)}getCurrentResult(){return this.#t}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#i(),this.#a()}mutate(t,r){return this.#r=r,this.#n?.removeObserver(this),this.#n=this.#e.getMutationCache().build(this.#e,this.options),this.#n.addObserver(this),this.#n.execute(t)}#i(){const t=this.#n?.state??xE();this.#t={...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset}}#a(t){zn.batch(()=>{if(this.#r&&this.hasListeners()){const r=this.#t.variables,o=this.#t.context,u={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};if(t?.type==="success"){try{this.#r.onSuccess?.(t.data,r,o,u)}catch(h){Promise.reject(h)}try{this.#r.onSettled?.(t.data,null,r,o,u)}catch(h){Promise.reject(h)}}else if(t?.type==="error"){try{this.#r.onError?.(t.error,r,o,u)}catch(h){Promise.reject(h)}try{this.#r.onSettled?.(void 0,t.error,r,o,u)}catch(h){Promise.reject(h)}}}this.listeners.forEach(r=>{r(this.#t)})})}},s8=class extends vl{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,t,r){const o=t.queryKey,u=t.queryHash??sg(o,t);let h=this.get(u);return h||(h=new KA({client:e,queryKey:o,queryHash:u,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(o)}),this.add(h)),h}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#e.get(e.queryHash);t&&(e.destroy(),t===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){zn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(r=>Eb(t,r))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(r=>Eb(e,r)):t}notify(e){zn.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){zn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){zn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},a8=class{#e;#t;#n;#r;#i;#a;#o;#s;constructor(e={}){this.#e=e.queryCache||new s8,this.#t=e.mutationCache||new i8,this.#n=e.defaultOptions||{},this.#r=new Map,this.#i=new Map,this.#a=0}mount(){this.#a++,this.#a===1&&(this.#o=lg.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#s=$d.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#a--,this.#a===0&&(this.#o?.(),this.#o=void 0,this.#s?.(),this.#s=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=this.#e.build(this,t),o=r.state.data;return o===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(xa(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(o))}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:t,state:r})=>{const o=r.data;return[t,o]})}setQueryData(e,t,r){const o=this.defaultQueryOptions({queryKey:e}),h=this.#e.get(o.queryHash)?.state.data,p=zA(t,h);if(p!==void 0)return this.#e.build(this,o).setData(p,{...r,manual:!0})}setQueriesData(e,t,r){return zn.batch(()=>this.#e.findAll(e).map(({queryKey:o})=>[o,this.setQueryData(o,t,r)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state}removeQueries(e){const t=this.#e;zn.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=this.#e;return zn.batch(()=>(r.findAll(e).forEach(o=>{o.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},o=zn.batch(()=>this.#e.findAll(e).map(u=>u.cancel(r)));return Promise.all(o).then(fi).catch(fi)}invalidateQueries(e,t={}){return zn.batch(()=>(this.#e.findAll(e).forEach(r=>{r.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},o=zn.batch(()=>this.#e.findAll(e).filter(u=>!u.isDisabled()&&!u.isStatic()).map(u=>{let h=u.fetch(void 0,r);return r.throwOnError||(h=h.catch(fi)),u.state.fetchStatus==="paused"?Promise.resolve():h}));return Promise.all(o).then(fi)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=this.#e.build(this,t);return r.isStaleByTime(xa(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(fi).catch(fi)}fetchInfiniteQuery(e){return e.behavior=Mb(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(fi).catch(fi)}ensureInfiniteQueryData(e){return e.behavior=Mb(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return $d.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(e){this.#n=e}setQueryDefaults(e,t){this.#r.set(fo(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#r.values()],r={};return t.forEach(o=>{jc(e,o.queryKey)&&Object.assign(r,o.defaultOptions)}),r}setMutationDefaults(e,t){this.#i.set(fo(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#i.values()],r={};return t.forEach(o=>{jc(e,o.mutationKey)&&Object.assign(r,o.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#n.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=sg(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===ag&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#n.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},EE=H.createContext(void 0),Ta=e=>{const t=H.useContext(EE);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},o8=({client:e,children:t})=>(H.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),y.jsx(EE.Provider,{value:e,children:t})),CE=H.createContext(!1),l8=()=>H.useContext(CE);CE.Provider;function c8(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var u8=H.createContext(c8()),d8=()=>H.useContext(u8),h8=(e,t,r)=>{const o=r?.state.error&&typeof e.throwOnError=="function"?og(e.throwOnError,[r.state.error,r]):e.throwOnError;(e.suspense||e.experimental_prefetchInRender||o)&&(t.isReset()||(e.retryOnMount=!1))},f8=e=>{H.useEffect(()=>{e.clearReset()},[e])},m8=({result:e,errorResetBoundary:t,throwOnError:r,query:o,suspense:u})=>e.isError&&!t.isReset()&&!e.isFetching&&o&&(u&&e.data===void 0||og(r,[e.error,o])),g8=e=>{if(e.suspense){const r=u=>u==="static"?u:Math.max(u??1e3,1e3),o=e.staleTime;e.staleTime=typeof o=="function"?(...u)=>r(o(...u)):r(o),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},p8=(e,t)=>e.isLoading&&e.isFetching&&!t,y8=(e,t)=>e?.suspense&&t.isPending,_b=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function b8(e,t,r){const o=l8(),u=d8(),h=Ta(),p=h.defaultQueryOptions(e);h.getDefaultOptions().queries?._experimental_beforeQuery?.(p);const w=h.getQueryCache().get(p.queryHash);p._optimisticResults=o?"isRestoring":"optimistic",g8(p),h8(p,u,w),f8(u);const x=!h.getQueryCache().get(p.queryHash),[b]=H.useState(()=>new t(h,p)),E=b.getOptimisticResult(p),A=!o&&e.subscribed!==!1;if(H.useSyncExternalStore(H.useCallback(R=>{const D=A?b.subscribe(zn.batchCalls(R)):fi;return b.updateResult(),D},[b,A]),()=>b.getCurrentResult(),()=>b.getCurrentResult()),H.useEffect(()=>{b.setOptions(p)},[p,b]),y8(p,E))throw _b(p,b,u);if(m8({result:E,errorResetBoundary:u,throwOnError:p.throwOnError,query:w,suspense:p.suspense}))throw E.error;return h.getDefaultOptions().queries?._experimental_afterQuery?.(p,E),p.experimental_prefetchInRender&&!ho&&p8(E,o)&&(x?_b(p,b,u):w?.promise)?.catch(fi).finally(()=>{b.updateResult()}),p.notifyOnChangeProps?E:b.trackResult(E)}function si(e,t){return b8(e,$A)}function ni(e,t){const r=Ta(),[o]=H.useState(()=>new r8(r,e));H.useEffect(()=>{o.setOptions(e)},[o,e]);const u=H.useSyncExternalStore(H.useCallback(p=>o.subscribe(zn.batchCalls(p)),[o]),()=>o.getCurrentResult(),()=>o.getCurrentResult()),h=H.useCallback((p,w)=>{o.mutate(p,w).catch(fi)},[o]);if(u.error&&og(o.options.throwOnError,[u.error]))throw u.error;return{...u,mutate:h,mutateAsync:u.mutate}}const Yr={IDENTITY_AUTH:"/auth",VENDOR_SERVICE:"/vendor",ORG_SERVICE:"/organization"},qn={SUPER_ADMIN:"ROLE_SUPER_ADMIN",ORG_ADMIN:"ROLE_ORG_ADMIN",VENDOR:"ROLE_VENDOR",EMPLOYEE:"ROLE_EMPLOYEE"},Sd={PENDING:"PENDING_APPROVAL",ACTIVE:"ACTIVE",BLOCKED:"BLOCKED"},Zr={TOKEN:"hb_token",USER:"hb_user"},ym={CARD_STYLE:"bg-white rounded-hb border border-surface-border shadow-sm"},Cn={HOME:"hero",LOGIN:"login",REGISTER:"register",ACC_VERIFY:"verify"};function SE(e,t){return function(){return e.apply(t,arguments)}}const{toString:v8}=Object.prototype,{getPrototypeOf:ug}=Object,{iterator:bh,toStringTag:AE}=Symbol,vh=(e=>t=>{const r=v8.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Dr=e=>(e=e.toLowerCase(),t=>vh(t)===e),wh=e=>t=>typeof t===e,{isArray:wl}=Array,hl=wh("undefined");function qc(e){return e!==null&&!hl(e)&&e.constructor!==null&&!hl(e.constructor)&&Ii(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const NE=Dr("ArrayBuffer");function w8(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&NE(e.buffer),t}const x8=wh("string"),Ii=wh("function"),TE=wh("number"),Gc=e=>e!==null&&typeof e=="object",E8=e=>e===!0||e===!1,Ud=e=>{if(vh(e)!=="object")return!1;const t=ug(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(AE in e)&&!(bh in e)},C8=e=>{if(!Gc(e)||qc(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},S8=Dr("Date"),A8=Dr("File"),N8=Dr("Blob"),T8=Dr("FileList"),R8=e=>Gc(e)&&Ii(e.pipe),O8=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Ii(e.append)&&((t=vh(e))==="formdata"||t==="object"&&Ii(e.toString)&&e.toString()==="[object FormData]"))},M8=Dr("URLSearchParams"),[I8,_8,D8,j8]=["ReadableStream","Request","Response","Headers"].map(Dr),L8=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Yc(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let o,u;if(typeof e!="object"&&(e=[e]),wl(e))for(o=0,u=e.length;o<u;o++)t.call(null,e[o],o,e);else{if(qc(e))return;const h=r?Object.getOwnPropertyNames(e):Object.keys(e),p=h.length;let w;for(o=0;o<p;o++)w=h[o],t.call(null,e[w],w,e)}}function RE(e,t){if(qc(e))return null;t=t.toLowerCase();const r=Object.keys(e);let o=r.length,u;for(;o-- >0;)if(u=r[o],t===u.toLowerCase())return u;return null}const ao=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:globalThis,OE=e=>!hl(e)&&e!==ao;function bm(){const{caseless:e,skipUndefined:t}=OE(this)&&this||{},r={},o=(u,h)=>{if(h==="__proto__"||h==="constructor"||h==="prototype")return;const p=e&&RE(r,h)||h;Ud(r[p])&&Ud(u)?r[p]=bm(r[p],u):Ud(u)?r[p]=bm({},u):wl(u)?r[p]=u.slice():(!t||!hl(u))&&(r[p]=u)};for(let u=0,h=arguments.length;u<h;u++)arguments[u]&&Yc(arguments[u],o);return r}const B8=(e,t,r,{allOwnKeys:o}={})=>(Yc(t,(u,h)=>{r&&Ii(u)?Object.defineProperty(e,h,{value:SE(u,r),writable:!0,enumerable:!0,configurable:!0}):Object.defineProperty(e,h,{value:u,writable:!0,enumerable:!0,configurable:!0})},{allOwnKeys:o}),e),k8=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),P8=(e,t,r,o)=>{e.prototype=Object.create(t.prototype,o),Object.defineProperty(e.prototype,"constructor",{value:e,writable:!0,enumerable:!1,configurable:!0}),Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},U8=(e,t,r,o)=>{let u,h,p;const w={};if(t=t||{},e==null)return t;do{for(u=Object.getOwnPropertyNames(e),h=u.length;h-- >0;)p=u[h],(!o||o(p,e,t))&&!w[p]&&(t[p]=e[p],w[p]=!0);e=r!==!1&&ug(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},z8=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const o=e.indexOf(t,r);return o!==-1&&o===r},F8=e=>{if(!e)return null;if(wl(e))return e;let t=e.length;if(!TE(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},V8=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&ug(Uint8Array)),H8=(e,t)=>{const o=(e&&e[bh]).call(e);let u;for(;(u=o.next())&&!u.done;){const h=u.value;t.call(e,h[0],h[1])}},q8=(e,t)=>{let r;const o=[];for(;(r=e.exec(t))!==null;)o.push(r);return o},G8=Dr("HTMLFormElement"),Y8=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,o,u){return o.toUpperCase()+u}),Db=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),X8=Dr("RegExp"),ME=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),o={};Yc(r,(u,h)=>{let p;(p=t(u,h,e))!==!1&&(o[h]=p||u)}),Object.defineProperties(e,o)},W8=e=>{ME(e,(t,r)=>{if(Ii(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const o=e[r];if(Ii(o)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},Q8=(e,t)=>{const r={},o=u=>{u.forEach(h=>{r[h]=!0})};return wl(e)?o(e):o(String(e).split(t)),r},Z8=()=>{},K8=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function $8(e){return!!(e&&Ii(e.append)&&e[AE]==="FormData"&&e[bh])}const J8=e=>{const t=new Array(10),r=(o,u)=>{if(Gc(o)){if(t.indexOf(o)>=0)return;if(qc(o))return o;if(!("toJSON"in o)){t[u]=o;const h=wl(o)?[]:{};return Yc(o,(p,w)=>{const x=r(p,u+1);!hl(x)&&(h[w]=x)}),t[u]=void 0,h}}return o};return r(e,0)},eN=Dr("AsyncFunction"),tN=e=>e&&(Gc(e)||Ii(e))&&Ii(e.then)&&Ii(e.catch),IE=((e,t)=>e?setImmediate:t?((r,o)=>(ao.addEventListener("message",({source:u,data:h})=>{u===ao&&h===r&&o.length&&o.shift()()},!1),u=>{o.push(u),ao.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Ii(ao.postMessage)),nN=typeof queueMicrotask<"u"?queueMicrotask.bind(ao):typeof process<"u"&&process.nextTick||IE,iN=e=>e!=null&&Ii(e[bh]),pe={isArray:wl,isArrayBuffer:NE,isBuffer:qc,isFormData:O8,isArrayBufferView:w8,isString:x8,isNumber:TE,isBoolean:E8,isObject:Gc,isPlainObject:Ud,isEmptyObject:C8,isReadableStream:I8,isRequest:_8,isResponse:D8,isHeaders:j8,isUndefined:hl,isDate:S8,isFile:A8,isBlob:N8,isRegExp:X8,isFunction:Ii,isStream:R8,isURLSearchParams:M8,isTypedArray:V8,isFileList:T8,forEach:Yc,merge:bm,extend:B8,trim:L8,stripBOM:k8,inherits:P8,toFlatObject:U8,kindOf:vh,kindOfTest:Dr,endsWith:z8,toArray:F8,forEachEntry:H8,matchAll:q8,isHTMLForm:G8,hasOwnProperty:Db,hasOwnProp:Db,reduceDescriptors:ME,freezeMethods:W8,toObjectSet:Q8,toCamelCase:Y8,noop:Z8,toFiniteNumber:K8,findKey:RE,global:ao,isContextDefined:OE,isSpecCompliantForm:$8,toJSONObject:J8,isAsyncFn:eN,isThenable:tN,setImmediate:IE,asap:nN,isIterable:iN};let Ke=class _E extends Error{static from(t,r,o,u,h,p){const w=new _E(t.message,r||t.code,o,u,h);return w.cause=t,w.name=t.name,p&&Object.assign(w,p),w}constructor(t,r,o,u,h){super(t),this.name="AxiosError",this.isAxiosError=!0,r&&(this.code=r),o&&(this.config=o),u&&(this.request=u),h&&(this.response=h,this.status=h.status)}toJSON(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:pe.toJSONObject(this.config),code:this.code,status:this.status}}};Ke.ERR_BAD_OPTION_VALUE="ERR_BAD_OPTION_VALUE";Ke.ERR_BAD_OPTION="ERR_BAD_OPTION";Ke.ECONNABORTED="ECONNABORTED";Ke.ETIMEDOUT="ETIMEDOUT";Ke.ERR_NETWORK="ERR_NETWORK";Ke.ERR_FR_TOO_MANY_REDIRECTS="ERR_FR_TOO_MANY_REDIRECTS";Ke.ERR_DEPRECATED="ERR_DEPRECATED";Ke.ERR_BAD_RESPONSE="ERR_BAD_RESPONSE";Ke.ERR_BAD_REQUEST="ERR_BAD_REQUEST";Ke.ERR_CANCELED="ERR_CANCELED";Ke.ERR_NOT_SUPPORT="ERR_NOT_SUPPORT";Ke.ERR_INVALID_URL="ERR_INVALID_URL";const rN=null;function vm(e){return pe.isPlainObject(e)||pe.isArray(e)}function DE(e){return pe.endsWith(e,"[]")?e.slice(0,-2):e}function jb(e,t,r){return e?e.concat(t).map(function(u,h){return u=DE(u),!r&&h?"["+u+"]":u}).join(r?".":""):t}function sN(e){return pe.isArray(e)&&!e.some(vm)}const aN=pe.toFlatObject(pe,{},null,function(t){return/^is[A-Z]/.test(t)});function xh(e,t,r){if(!pe.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=pe.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(k,P){return!pe.isUndefined(P[k])});const o=r.metaTokens,u=r.visitor||E,h=r.dots,p=r.indexes,x=(r.Blob||typeof Blob<"u"&&Blob)&&pe.isSpecCompliantForm(t);if(!pe.isFunction(u))throw new TypeError("visitor must be a function");function b(_){if(_===null)return"";if(pe.isDate(_))return _.toISOString();if(pe.isBoolean(_))return _.toString();if(!x&&pe.isBlob(_))throw new Ke("Blob is not supported. Use a Buffer instead.");return pe.isArrayBuffer(_)||pe.isTypedArray(_)?x&&typeof Blob=="function"?new Blob([_]):Buffer.from(_):_}function E(_,k,P){let Y=_;if(_&&!P&&typeof _=="object"){if(pe.endsWith(k,"{}"))k=o?k:k.slice(0,-2),_=JSON.stringify(_);else if(pe.isArray(_)&&sN(_)||(pe.isFileList(_)||pe.endsWith(k,"[]"))&&(Y=pe.toArray(_)))return k=DE(k),Y.forEach(function(U,F){!(pe.isUndefined(U)||U===null)&&t.append(p===!0?jb([k],F,h):p===null?k:k+"[]",b(U))}),!1}return vm(_)?!0:(t.append(jb(P,k,h),b(_)),!1)}const A=[],R=Object.assign(aN,{defaultVisitor:E,convertValue:b,isVisitable:vm});function D(_,k){if(!pe.isUndefined(_)){if(A.indexOf(_)!==-1)throw Error("Circular reference detected in "+k.join("."));A.push(_),pe.forEach(_,function(Y,j){(!(pe.isUndefined(Y)||Y===null)&&u.call(t,Y,pe.isString(j)?j.trim():j,k,R))===!0&&D(Y,k?k.concat(j):[j])}),A.pop()}}if(!pe.isObject(e))throw new TypeError("data must be an object");return D(e),t}function Lb(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(o){return t[o]})}function dg(e,t){this._pairs=[],e&&xh(e,this,t)}const jE=dg.prototype;jE.append=function(t,r){this._pairs.push([t,r])};jE.toString=function(t){const r=t?function(o){return t.call(this,o,Lb)}:Lb;return this._pairs.map(function(u){return r(u[0])+"="+r(u[1])},"").join("&")};function oN(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function LE(e,t,r){if(!t)return e;const o=r&&r.encode||oN,u=pe.isFunction(r)?{serialize:r}:r,h=u&&u.serialize;let p;if(h?p=h(t,u):p=pe.isURLSearchParams(t)?t.toString():new dg(t,u).toString(o),p){const w=e.indexOf("#");w!==-1&&(e=e.slice(0,w)),e+=(e.indexOf("?")===-1?"?":"&")+p}return e}class Bb{constructor(){this.handlers=[]}use(t,r,o){return this.handlers.push({fulfilled:t,rejected:r,synchronous:o?o.synchronous:!1,runWhen:o?o.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){pe.forEach(this.handlers,function(o){o!==null&&t(o)})}}const hg={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1,legacyInterceptorReqResOrdering:!0},lN=typeof URLSearchParams<"u"?URLSearchParams:dg,cN=typeof FormData<"u"?FormData:null,uN=typeof Blob<"u"?Blob:null,dN={isBrowser:!0,classes:{URLSearchParams:lN,FormData:cN,Blob:uN},protocols:["http","https","file","blob","url","data"]},fg=typeof window<"u"&&typeof document<"u",wm=typeof navigator=="object"&&navigator||void 0,hN=fg&&(!wm||["ReactNative","NativeScript","NS"].indexOf(wm.product)<0),fN=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",mN=fg&&window.location.href||"http://localhost",gN=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:fg,hasStandardBrowserEnv:hN,hasStandardBrowserWebWorkerEnv:fN,navigator:wm,origin:mN},Symbol.toStringTag,{value:"Module"})),ii={...gN,...dN};function pN(e,t){return xh(e,new ii.classes.URLSearchParams,{visitor:function(r,o,u,h){return ii.isNode&&pe.isBuffer(r)?(this.append(o,r.toString("base64")),!1):h.defaultVisitor.apply(this,arguments)},...t})}function yN(e){return pe.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function bN(e){const t={},r=Object.keys(e);let o;const u=r.length;let h;for(o=0;o<u;o++)h=r[o],t[h]=e[h];return t}function BE(e){function t(r,o,u,h){let p=r[h++];if(p==="__proto__")return!0;const w=Number.isFinite(+p),x=h>=r.length;return p=!p&&pe.isArray(u)?u.length:p,x?(pe.hasOwnProp(u,p)?u[p]=[u[p],o]:u[p]=o,!w):((!u[p]||!pe.isObject(u[p]))&&(u[p]=[]),t(r,o,u[p],h)&&pe.isArray(u[p])&&(u[p]=bN(u[p])),!w)}if(pe.isFormData(e)&&pe.isFunction(e.entries)){const r={};return pe.forEachEntry(e,(o,u)=>{t(yN(o),u,r,0)}),r}return null}function vN(e,t,r){if(pe.isString(e))try{return(t||JSON.parse)(e),pe.trim(e)}catch(o){if(o.name!=="SyntaxError")throw o}return(r||JSON.stringify)(e)}const Xc={transitional:hg,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const o=r.getContentType()||"",u=o.indexOf("application/json")>-1,h=pe.isObject(t);if(h&&pe.isHTMLForm(t)&&(t=new FormData(t)),pe.isFormData(t))return u?JSON.stringify(BE(t)):t;if(pe.isArrayBuffer(t)||pe.isBuffer(t)||pe.isStream(t)||pe.isFile(t)||pe.isBlob(t)||pe.isReadableStream(t))return t;if(pe.isArrayBufferView(t))return t.buffer;if(pe.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let w;if(h){if(o.indexOf("application/x-www-form-urlencoded")>-1)return pN(t,this.formSerializer).toString();if((w=pe.isFileList(t))||o.indexOf("multipart/form-data")>-1){const x=this.env&&this.env.FormData;return xh(w?{"files[]":t}:t,x&&new x,this.formSerializer)}}return h||u?(r.setContentType("application/json",!1),vN(t)):t}],transformResponse:[function(t){const r=this.transitional||Xc.transitional,o=r&&r.forcedJSONParsing,u=this.responseType==="json";if(pe.isResponse(t)||pe.isReadableStream(t))return t;if(t&&pe.isString(t)&&(o&&!this.responseType||u)){const p=!(r&&r.silentJSONParsing)&&u;try{return JSON.parse(t,this.parseReviver)}catch(w){if(p)throw w.name==="SyntaxError"?Ke.from(w,Ke.ERR_BAD_RESPONSE,this,null,this.response):w}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ii.classes.FormData,Blob:ii.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};pe.forEach(["delete","get","head","post","put","patch"],e=>{Xc.headers[e]={}});const wN=pe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),xN=e=>{const t={};let r,o,u;return e&&e.split(`
`).forEach(function(p){u=p.indexOf(":"),r=p.substring(0,u).trim().toLowerCase(),o=p.substring(u+1).trim(),!(!r||t[r]&&wN[r])&&(r==="set-cookie"?t[r]?t[r].push(o):t[r]=[o]:t[r]=t[r]?t[r]+", "+o:o)}),t},kb=Symbol("internals");function Cc(e){return e&&String(e).trim().toLowerCase()}function zd(e){return e===!1||e==null?e:pe.isArray(e)?e.map(zd):String(e)}function EN(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let o;for(;o=r.exec(e);)t[o[1]]=o[2];return t}const CN=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function P1(e,t,r,o,u){if(pe.isFunction(o))return o.call(this,t,r);if(u&&(t=r),!!pe.isString(t)){if(pe.isString(o))return t.indexOf(o)!==-1;if(pe.isRegExp(o))return o.test(t)}}function SN(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,o)=>r.toUpperCase()+o)}function AN(e,t){const r=pe.toCamelCase(" "+t);["get","set","has"].forEach(o=>{Object.defineProperty(e,o+r,{value:function(u,h,p){return this[o].call(this,t,u,h,p)},configurable:!0})})}let _i=class{constructor(t){t&&this.set(t)}set(t,r,o){const u=this;function h(w,x,b){const E=Cc(x);if(!E)throw new Error("header name must be a non-empty string");const A=pe.findKey(u,E);(!A||u[A]===void 0||b===!0||b===void 0&&u[A]!==!1)&&(u[A||x]=zd(w))}const p=(w,x)=>pe.forEach(w,(b,E)=>h(b,E,x));if(pe.isPlainObject(t)||t instanceof this.constructor)p(t,r);else if(pe.isString(t)&&(t=t.trim())&&!CN(t))p(xN(t),r);else if(pe.isObject(t)&&pe.isIterable(t)){let w={},x,b;for(const E of t){if(!pe.isArray(E))throw TypeError("Object iterator must return a key-value pair");w[b=E[0]]=(x=w[b])?pe.isArray(x)?[...x,E[1]]:[x,E[1]]:E[1]}p(w,r)}else t!=null&&h(r,t,o);return this}get(t,r){if(t=Cc(t),t){const o=pe.findKey(this,t);if(o){const u=this[o];if(!r)return u;if(r===!0)return EN(u);if(pe.isFunction(r))return r.call(this,u,o);if(pe.isRegExp(r))return r.exec(u);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=Cc(t),t){const o=pe.findKey(this,t);return!!(o&&this[o]!==void 0&&(!r||P1(this,this[o],o,r)))}return!1}delete(t,r){const o=this;let u=!1;function h(p){if(p=Cc(p),p){const w=pe.findKey(o,p);w&&(!r||P1(o,o[w],w,r))&&(delete o[w],u=!0)}}return pe.isArray(t)?t.forEach(h):h(t),u}clear(t){const r=Object.keys(this);let o=r.length,u=!1;for(;o--;){const h=r[o];(!t||P1(this,this[h],h,t,!0))&&(delete this[h],u=!0)}return u}normalize(t){const r=this,o={};return pe.forEach(this,(u,h)=>{const p=pe.findKey(o,h);if(p){r[p]=zd(u),delete r[h];return}const w=t?SN(h):String(h).trim();w!==h&&delete r[h],r[w]=zd(u),o[w]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return pe.forEach(this,(o,u)=>{o!=null&&o!==!1&&(r[u]=t&&pe.isArray(o)?o.join(", "):o)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const o=new this(t);return r.forEach(u=>o.set(u)),o}static accessor(t){const o=(this[kb]=this[kb]={accessors:{}}).accessors,u=this.prototype;function h(p){const w=Cc(p);o[w]||(AN(u,p),o[w]=!0)}return pe.isArray(t)?t.forEach(h):h(t),this}};_i.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);pe.reduceDescriptors(_i.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(o){this[r]=o}}});pe.freezeMethods(_i);function U1(e,t){const r=this||Xc,o=t||r,u=_i.from(o.headers);let h=o.data;return pe.forEach(e,function(w){h=w.call(r,h,u.normalize(),t?t.status:void 0)}),u.normalize(),h}function kE(e){return!!(e&&e.__CANCEL__)}let Wc=class extends Ke{constructor(t,r,o){super(t??"canceled",Ke.ERR_CANCELED,r,o),this.name="CanceledError",this.__CANCEL__=!0}};function PE(e,t,r){const o=r.config.validateStatus;!r.status||!o||o(r.status)?e(r):t(new Ke("Request failed with status code "+r.status,[Ke.ERR_BAD_REQUEST,Ke.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function NN(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function TN(e,t){e=e||10;const r=new Array(e),o=new Array(e);let u=0,h=0,p;return t=t!==void 0?t:1e3,function(x){const b=Date.now(),E=o[h];p||(p=b),r[u]=x,o[u]=b;let A=h,R=0;for(;A!==u;)R+=r[A++],A=A%e;if(u=(u+1)%e,u===h&&(h=(h+1)%e),b-p<t)return;const D=E&&b-E;return D?Math.round(R*1e3/D):void 0}}function RN(e,t){let r=0,o=1e3/t,u,h;const p=(b,E=Date.now())=>{r=E,u=null,h&&(clearTimeout(h),h=null),e(...b)};return[(...b)=>{const E=Date.now(),A=E-r;A>=o?p(b,E):(u=b,h||(h=setTimeout(()=>{h=null,p(u)},o-A)))},()=>u&&p(u)]}const Jd=(e,t,r=3)=>{let o=0;const u=TN(50,250);return RN(h=>{const p=h.loaded,w=h.lengthComputable?h.total:void 0,x=p-o,b=u(x),E=p<=w;o=p;const A={loaded:p,total:w,progress:w?p/w:void 0,bytes:x,rate:b||void 0,estimated:b&&w&&E?(w-p)/b:void 0,event:h,lengthComputable:w!=null,[t?"download":"upload"]:!0};e(A)},r)},Pb=(e,t)=>{const r=e!=null;return[o=>t[0]({lengthComputable:r,total:e,loaded:o}),t[1]]},Ub=e=>(...t)=>pe.asap(()=>e(...t)),ON=ii.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,ii.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(ii.origin),ii.navigator&&/(msie|trident)/i.test(ii.navigator.userAgent)):()=>!0,MN=ii.hasStandardBrowserEnv?{write(e,t,r,o,u,h,p){if(typeof document>"u")return;const w=[`${e}=${encodeURIComponent(t)}`];pe.isNumber(r)&&w.push(`expires=${new Date(r).toUTCString()}`),pe.isString(o)&&w.push(`path=${o}`),pe.isString(u)&&w.push(`domain=${u}`),h===!0&&w.push("secure"),pe.isString(p)&&w.push(`SameSite=${p}`),document.cookie=w.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function IN(e){return typeof e!="string"?!1:/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function _N(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function UE(e,t,r){let o=!IN(t);return e&&(o||r==!1)?_N(e,t):t}const zb=e=>e instanceof _i?{...e}:e;function mo(e,t){t=t||{};const r={};function o(b,E,A,R){return pe.isPlainObject(b)&&pe.isPlainObject(E)?pe.merge.call({caseless:R},b,E):pe.isPlainObject(E)?pe.merge({},E):pe.isArray(E)?E.slice():E}function u(b,E,A,R){if(pe.isUndefined(E)){if(!pe.isUndefined(b))return o(void 0,b,A,R)}else return o(b,E,A,R)}function h(b,E){if(!pe.isUndefined(E))return o(void 0,E)}function p(b,E){if(pe.isUndefined(E)){if(!pe.isUndefined(b))return o(void 0,b)}else return o(void 0,E)}function w(b,E,A){if(A in t)return o(b,E);if(A in e)return o(void 0,b)}const x={url:h,method:h,data:h,baseURL:p,transformRequest:p,transformResponse:p,paramsSerializer:p,timeout:p,timeoutMessage:p,withCredentials:p,withXSRFToken:p,adapter:p,responseType:p,xsrfCookieName:p,xsrfHeaderName:p,onUploadProgress:p,onDownloadProgress:p,decompress:p,maxContentLength:p,maxBodyLength:p,beforeRedirect:p,transport:p,httpAgent:p,httpsAgent:p,cancelToken:p,socketPath:p,responseEncoding:p,validateStatus:w,headers:(b,E,A)=>u(zb(b),zb(E),A,!0)};return pe.forEach(Object.keys({...e,...t}),function(E){if(E==="__proto__"||E==="constructor"||E==="prototype")return;const A=pe.hasOwnProp(x,E)?x[E]:u,R=A(e[E],t[E],E);pe.isUndefined(R)&&A!==w||(r[E]=R)}),r}const zE=e=>{const t=mo({},e);let{data:r,withXSRFToken:o,xsrfHeaderName:u,xsrfCookieName:h,headers:p,auth:w}=t;if(t.headers=p=_i.from(p),t.url=LE(UE(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),w&&p.set("Authorization","Basic "+btoa((w.username||"")+":"+(w.password?unescape(encodeURIComponent(w.password)):""))),pe.isFormData(r)){if(ii.hasStandardBrowserEnv||ii.hasStandardBrowserWebWorkerEnv)p.setContentType(void 0);else if(pe.isFunction(r.getHeaders)){const x=r.getHeaders(),b=["content-type","content-length"];Object.entries(x).forEach(([E,A])=>{b.includes(E.toLowerCase())&&p.set(E,A)})}}if(ii.hasStandardBrowserEnv&&(o&&pe.isFunction(o)&&(o=o(t)),o||o!==!1&&ON(t.url))){const x=u&&h&&MN.read(h);x&&p.set(u,x)}return t},DN=typeof XMLHttpRequest<"u",jN=DN&&function(e){return new Promise(function(r,o){const u=zE(e);let h=u.data;const p=_i.from(u.headers).normalize();let{responseType:w,onUploadProgress:x,onDownloadProgress:b}=u,E,A,R,D,_;function k(){D&&D(),_&&_(),u.cancelToken&&u.cancelToken.unsubscribe(E),u.signal&&u.signal.removeEventListener("abort",E)}let P=new XMLHttpRequest;P.open(u.method.toUpperCase(),u.url,!0),P.timeout=u.timeout;function Y(){if(!P)return;const U=_i.from("getAllResponseHeaders"in P&&P.getAllResponseHeaders()),I={data:!w||w==="text"||w==="json"?P.responseText:P.response,status:P.status,statusText:P.statusText,headers:U,config:e,request:P};PE(function(z){r(z),k()},function(z){o(z),k()},I),P=null}"onloadend"in P?P.onloadend=Y:P.onreadystatechange=function(){!P||P.readyState!==4||P.status===0&&!(P.responseURL&&P.responseURL.indexOf("file:")===0)||setTimeout(Y)},P.onabort=function(){P&&(o(new Ke("Request aborted",Ke.ECONNABORTED,e,P)),P=null)},P.onerror=function(F){const I=F&&F.message?F.message:"Network Error",X=new Ke(I,Ke.ERR_NETWORK,e,P);X.event=F||null,o(X),P=null},P.ontimeout=function(){let F=u.timeout?"timeout of "+u.timeout+"ms exceeded":"timeout exceeded";const I=u.transitional||hg;u.timeoutErrorMessage&&(F=u.timeoutErrorMessage),o(new Ke(F,I.clarifyTimeoutError?Ke.ETIMEDOUT:Ke.ECONNABORTED,e,P)),P=null},h===void 0&&p.setContentType(null),"setRequestHeader"in P&&pe.forEach(p.toJSON(),function(F,I){P.setRequestHeader(I,F)}),pe.isUndefined(u.withCredentials)||(P.withCredentials=!!u.withCredentials),w&&w!=="json"&&(P.responseType=u.responseType),b&&([R,_]=Jd(b,!0),P.addEventListener("progress",R)),x&&P.upload&&([A,D]=Jd(x),P.upload.addEventListener("progress",A),P.upload.addEventListener("loadend",D)),(u.cancelToken||u.signal)&&(E=U=>{P&&(o(!U||U.type?new Wc(null,e,P):U),P.abort(),P=null)},u.cancelToken&&u.cancelToken.subscribe(E),u.signal&&(u.signal.aborted?E():u.signal.addEventListener("abort",E)));const j=NN(u.url);if(j&&ii.protocols.indexOf(j)===-1){o(new Ke("Unsupported protocol "+j+":",Ke.ERR_BAD_REQUEST,e));return}P.send(h||null)})},LN=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let o=new AbortController,u;const h=function(b){if(!u){u=!0,w();const E=b instanceof Error?b:this.reason;o.abort(E instanceof Ke?E:new Wc(E instanceof Error?E.message:E))}};let p=t&&setTimeout(()=>{p=null,h(new Ke(`timeout of ${t}ms exceeded`,Ke.ETIMEDOUT))},t);const w=()=>{e&&(p&&clearTimeout(p),p=null,e.forEach(b=>{b.unsubscribe?b.unsubscribe(h):b.removeEventListener("abort",h)}),e=null)};e.forEach(b=>b.addEventListener("abort",h));const{signal:x}=o;return x.unsubscribe=()=>pe.asap(w),x}},BN=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let o=0,u;for(;o<r;)u=o+t,yield e.slice(o,u),o=u},kN=async function*(e,t){for await(const r of PN(e))yield*BN(r,t)},PN=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:o}=await t.read();if(r)break;yield o}}finally{await t.cancel()}},Fb=(e,t,r,o)=>{const u=kN(e,t);let h=0,p,w=x=>{p||(p=!0,o&&o(x))};return new ReadableStream({async pull(x){try{const{done:b,value:E}=await u.next();if(b){w(),x.close();return}let A=E.byteLength;if(r){let R=h+=A;r(R)}x.enqueue(new Uint8Array(E))}catch(b){throw w(b),b}},cancel(x){return w(x),u.return()}},{highWaterMark:2})},Vb=64*1024,{isFunction:Ad}=pe,UN=(({Request:e,Response:t})=>({Request:e,Response:t}))(pe.global),{ReadableStream:Hb,TextEncoder:qb}=pe.global,Gb=(e,...t)=>{try{return!!e(...t)}catch{return!1}},zN=e=>{e=pe.merge.call({skipUndefined:!0},UN,e);const{fetch:t,Request:r,Response:o}=e,u=t?Ad(t):typeof fetch=="function",h=Ad(r),p=Ad(o);if(!u)return!1;const w=u&&Ad(Hb),x=u&&(typeof qb=="function"?(_=>k=>_.encode(k))(new qb):async _=>new Uint8Array(await new r(_).arrayBuffer())),b=h&&w&&Gb(()=>{let _=!1;const k=new r(ii.origin,{body:new Hb,method:"POST",get duplex(){return _=!0,"half"}}).headers.has("Content-Type");return _&&!k}),E=p&&w&&Gb(()=>pe.isReadableStream(new o("").body)),A={stream:E&&(_=>_.body)};u&&["text","arrayBuffer","blob","formData","stream"].forEach(_=>{!A[_]&&(A[_]=(k,P)=>{let Y=k&&k[_];if(Y)return Y.call(k);throw new Ke(`Response type '${_}' is not supported`,Ke.ERR_NOT_SUPPORT,P)})});const R=async _=>{if(_==null)return 0;if(pe.isBlob(_))return _.size;if(pe.isSpecCompliantForm(_))return(await new r(ii.origin,{method:"POST",body:_}).arrayBuffer()).byteLength;if(pe.isArrayBufferView(_)||pe.isArrayBuffer(_))return _.byteLength;if(pe.isURLSearchParams(_)&&(_=_+""),pe.isString(_))return(await x(_)).byteLength},D=async(_,k)=>{const P=pe.toFiniteNumber(_.getContentLength());return P??R(k)};return async _=>{let{url:k,method:P,data:Y,signal:j,cancelToken:U,timeout:F,onDownloadProgress:I,onUploadProgress:X,responseType:z,headers:G,withCredentials:Q="same-origin",fetchOptions:Ee}=zE(_),ae=t||fetch;z=z?(z+"").toLowerCase():"text";let ve=LN([j,U&&U.toAbortSignal()],F),me=null;const je=ve&&ve.unsubscribe&&(()=>{ve.unsubscribe()});let ne;try{if(X&&b&&P!=="get"&&P!=="head"&&(ne=await D(G,Y))!==0){let $=new r(k,{method:"POST",body:Y,duplex:"half"}),ge;if(pe.isFormData(Y)&&(ge=$.headers.get("content-type"))&&G.setContentType(ge),$.body){const[Me,_e]=Pb(ne,Jd(Ub(X)));Y=Fb($.body,Vb,Me,_e)}}pe.isString(Q)||(Q=Q?"include":"omit");const re=h&&"credentials"in r.prototype,ue={...Ee,signal:ve,method:P.toUpperCase(),headers:G.normalize().toJSON(),body:Y,duplex:"half",credentials:re?Q:void 0};me=h&&new r(k,ue);let we=await(h?ae(me,Ee):ae(k,ue));const Be=E&&(z==="stream"||z==="response");if(E&&(I||Be&&je)){const $={};["status","statusText","headers"].forEach(Ze=>{$[Ze]=we[Ze]});const ge=pe.toFiniteNumber(we.headers.get("content-length")),[Me,_e]=I&&Pb(ge,Jd(Ub(I),!0))||[];we=new o(Fb(we.body,Vb,Me,()=>{_e&&_e(),je&&je()}),$)}z=z||"text";let ye=await A[pe.findKey(A,z)||"text"](we,_);return!Be&&je&&je(),await new Promise(($,ge)=>{PE($,ge,{data:ye,headers:_i.from(we.headers),status:we.status,statusText:we.statusText,config:_,request:me})})}catch(re){throw je&&je(),re&&re.name==="TypeError"&&/Load failed|fetch/i.test(re.message)?Object.assign(new Ke("Network Error",Ke.ERR_NETWORK,_,me,re&&re.response),{cause:re.cause||re}):Ke.from(re,re&&re.code,_,me,re&&re.response)}}},FN=new Map,FE=e=>{let t=e&&e.env||{};const{fetch:r,Request:o,Response:u}=t,h=[o,u,r];let p=h.length,w=p,x,b,E=FN;for(;w--;)x=h[w],b=E.get(x),b===void 0&&E.set(x,b=w?new Map:zN(t)),E=b;return b};FE();const mg={http:rN,xhr:jN,fetch:{get:FE}};pe.forEach(mg,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Yb=e=>`- ${e}`,VN=e=>pe.isFunction(e)||e===null||e===!1;function HN(e,t){e=pe.isArray(e)?e:[e];const{length:r}=e;let o,u;const h={};for(let p=0;p<r;p++){o=e[p];let w;if(u=o,!VN(o)&&(u=mg[(w=String(o)).toLowerCase()],u===void 0))throw new Ke(`Unknown adapter '${w}'`);if(u&&(pe.isFunction(u)||(u=u.get(t))))break;h[w||"#"+p]=u}if(!u){const p=Object.entries(h).map(([x,b])=>`adapter ${x} `+(b===!1?"is not supported by the environment":"is not available in the build"));let w=r?p.length>1?`since :
`+p.map(Yb).join(`
`):" "+Yb(p[0]):"as no adapter specified";throw new Ke("There is no suitable adapter to dispatch the request "+w,"ERR_NOT_SUPPORT")}return u}const VE={getAdapter:HN,adapters:mg};function z1(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Wc(null,e)}function Xb(e){return z1(e),e.headers=_i.from(e.headers),e.data=U1.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),VE.getAdapter(e.adapter||Xc.adapter,e)(e).then(function(o){return z1(e),o.data=U1.call(e,e.transformResponse,o),o.headers=_i.from(o.headers),o},function(o){return kE(o)||(z1(e),o&&o.response&&(o.response.data=U1.call(e,e.transformResponse,o.response),o.response.headers=_i.from(o.response.headers))),Promise.reject(o)})}const HE="1.13.5",Eh={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Eh[e]=function(o){return typeof o===e||"a"+(t<1?"n ":" ")+e}});const Wb={};Eh.transitional=function(t,r,o){function u(h,p){return"[Axios v"+HE+"] Transitional option '"+h+"'"+p+(o?". "+o:"")}return(h,p,w)=>{if(t===!1)throw new Ke(u(p," has been removed"+(r?" in "+r:"")),Ke.ERR_DEPRECATED);return r&&!Wb[p]&&(Wb[p]=!0,console.warn(u(p," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(h,p,w):!0}};Eh.spelling=function(t){return(r,o)=>(console.warn(`${o} is likely a misspelling of ${t}`),!0)};function qN(e,t,r){if(typeof e!="object")throw new Ke("options must be an object",Ke.ERR_BAD_OPTION_VALUE);const o=Object.keys(e);let u=o.length;for(;u-- >0;){const h=o[u],p=t[h];if(p){const w=e[h],x=w===void 0||p(w,h,e);if(x!==!0)throw new Ke("option "+h+" must be "+x,Ke.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Ke("Unknown option "+h,Ke.ERR_BAD_OPTION)}}const Fd={assertOptions:qN,validators:Eh},dr=Fd.validators;let co=class{constructor(t){this.defaults=t||{},this.interceptors={request:new Bb,response:new Bb}}async request(t,r){try{return await this._request(t,r)}catch(o){if(o instanceof Error){let u={};Error.captureStackTrace?Error.captureStackTrace(u):u=new Error;const h=u.stack?u.stack.replace(/^.+\n/,""):"";try{o.stack?h&&!String(o.stack).endsWith(h.replace(/^.+\n.+\n/,""))&&(o.stack+=`
`+h):o.stack=h}catch{}}throw o}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=mo(this.defaults,r);const{transitional:o,paramsSerializer:u,headers:h}=r;o!==void 0&&Fd.assertOptions(o,{silentJSONParsing:dr.transitional(dr.boolean),forcedJSONParsing:dr.transitional(dr.boolean),clarifyTimeoutError:dr.transitional(dr.boolean),legacyInterceptorReqResOrdering:dr.transitional(dr.boolean)},!1),u!=null&&(pe.isFunction(u)?r.paramsSerializer={serialize:u}:Fd.assertOptions(u,{encode:dr.function,serialize:dr.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Fd.assertOptions(r,{baseUrl:dr.spelling("baseURL"),withXsrfToken:dr.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let p=h&&pe.merge(h.common,h[r.method]);h&&pe.forEach(["delete","get","head","post","put","patch","common"],_=>{delete h[_]}),r.headers=_i.concat(p,h);const w=[];let x=!0;this.interceptors.request.forEach(function(k){if(typeof k.runWhen=="function"&&k.runWhen(r)===!1)return;x=x&&k.synchronous;const P=r.transitional||hg;P&&P.legacyInterceptorReqResOrdering?w.unshift(k.fulfilled,k.rejected):w.push(k.fulfilled,k.rejected)});const b=[];this.interceptors.response.forEach(function(k){b.push(k.fulfilled,k.rejected)});let E,A=0,R;if(!x){const _=[Xb.bind(this),void 0];for(_.unshift(...w),_.push(...b),R=_.length,E=Promise.resolve(r);A<R;)E=E.then(_[A++],_[A++]);return E}R=w.length;let D=r;for(;A<R;){const _=w[A++],k=w[A++];try{D=_(D)}catch(P){k.call(this,P);break}}try{E=Xb.call(this,D)}catch(_){return Promise.reject(_)}for(A=0,R=b.length;A<R;)E=E.then(b[A++],b[A++]);return E}getUri(t){t=mo(this.defaults,t);const r=UE(t.baseURL,t.url,t.allowAbsoluteUrls);return LE(r,t.params,t.paramsSerializer)}};pe.forEach(["delete","get","head","options"],function(t){co.prototype[t]=function(r,o){return this.request(mo(o||{},{method:t,url:r,data:(o||{}).data}))}});pe.forEach(["post","put","patch"],function(t){function r(o){return function(h,p,w){return this.request(mo(w||{},{method:t,headers:o?{"Content-Type":"multipart/form-data"}:{},url:h,data:p}))}}co.prototype[t]=r(),co.prototype[t+"Form"]=r(!0)});let GN=class qE{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(h){r=h});const o=this;this.promise.then(u=>{if(!o._listeners)return;let h=o._listeners.length;for(;h-- >0;)o._listeners[h](u);o._listeners=null}),this.promise.then=u=>{let h;const p=new Promise(w=>{o.subscribe(w),h=w}).then(u);return p.cancel=function(){o.unsubscribe(h)},p},t(function(h,p,w){o.reason||(o.reason=new Wc(h,p,w),r(o.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=o=>{t.abort(o)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new qE(function(u){t=u}),cancel:t}}};function YN(e){return function(r){return e.apply(null,r)}}function XN(e){return pe.isObject(e)&&e.isAxiosError===!0}const xm={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(xm).forEach(([e,t])=>{xm[t]=e});function GE(e){const t=new co(e),r=SE(co.prototype.request,t);return pe.extend(r,co.prototype,t,{allOwnKeys:!0}),pe.extend(r,t,null,{allOwnKeys:!0}),r.create=function(u){return GE(mo(e,u))},r}const cn=GE(Xc);cn.Axios=co;cn.CanceledError=Wc;cn.CancelToken=GN;cn.isCancel=kE;cn.VERSION=HE;cn.toFormData=xh;cn.AxiosError=Ke;cn.Cancel=cn.CanceledError;cn.all=function(t){return Promise.all(t)};cn.spread=YN;cn.isAxiosError=XN;cn.mergeConfig=mo;cn.AxiosHeaders=_i;cn.formToJSON=e=>BE(pe.isHTMLForm(e)?new FormData(e):e);cn.getAdapter=VE.getAdapter;cn.HttpStatusCode=xm;cn.default=cn;const{Axios:_D,AxiosError:DD,CanceledError:jD,isCancel:LD,CancelToken:BD,VERSION:kD,all:PD,Cancel:UD,isAxiosError:zD,spread:FD,toFormData:VD,AxiosHeaders:HD,HttpStatusCode:qD,formToJSON:GD,getAdapter:YD,mergeConfig:XD}=cn;let WN={data:""},QN=e=>{if(typeof window=="object"){let t=(e?e.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return t.nonce=window.__nonce__,t.parentNode||(e||document.head).appendChild(t),t.firstChild}return e||WN},ZN=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,KN=/\/\*[^]*?\*\/|  +/g,Qb=/\n+/g,va=(e,t)=>{let r="",o="",u="";for(let h in e){let p=e[h];h[0]=="@"?h[1]=="i"?r=h+" "+p+";":o+=h[1]=="f"?va(p,h):h+"{"+va(p,h[1]=="k"?"":t)+"}":typeof p=="object"?o+=va(p,t?t.replace(/([^,])+/g,w=>h.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,x=>/&/.test(x)?x.replace(/&/g,w):w?w+" "+x:x)):h):p!=null&&(h=/^--/.test(h)?h:h.replace(/[A-Z]/g,"-$&").toLowerCase(),u+=va.p?va.p(h,p):h+":"+p+";")}return r+(t&&u?t+"{"+u+"}":u)+o},As={},YE=e=>{if(typeof e=="object"){let t="";for(let r in e)t+=r+YE(e[r]);return t}return e},$N=(e,t,r,o,u)=>{let h=YE(e),p=As[h]||(As[h]=(x=>{let b=0,E=11;for(;b<x.length;)E=101*E+x.charCodeAt(b++)>>>0;return"go"+E})(h));if(!As[p]){let x=h!==e?e:(b=>{let E,A,R=[{}];for(;E=ZN.exec(b.replace(KN,""));)E[4]?R.shift():E[3]?(A=E[3].replace(Qb," ").trim(),R.unshift(R[0][A]=R[0][A]||{})):R[0][E[1]]=E[2].replace(Qb," ").trim();return R[0]})(e);As[p]=va(u?{["@keyframes "+p]:x}:x,r?"":"."+p)}let w=r&&As.g?As.g:null;return r&&(As.g=As[p]),((x,b,E,A)=>{A?b.data=b.data.replace(A,x):b.data.indexOf(x)===-1&&(b.data=E?x+b.data:b.data+x)})(As[p],t,o,w),p},JN=(e,t,r)=>e.reduce((o,u,h)=>{let p=t[h];if(p&&p.call){let w=p(r),x=w&&w.props&&w.props.className||/^go/.test(w)&&w;p=x?"."+x:w&&typeof w=="object"?w.props?"":va(w,""):w===!1?"":w}return o+u+(p??"")},"");function Ch(e){let t=this||{},r=e.call?e(t.p):e;return $N(r.unshift?r.raw?JN(r,[].slice.call(arguments,1),t.p):r.reduce((o,u)=>Object.assign(o,u&&u.call?u(t.p):u),{}):r,QN(t.target),t.g,t.o,t.k)}let XE,Em,Cm;Ch.bind({g:1});let Ms=Ch.bind({k:1});function eT(e,t,r,o){va.p=t,XE=e,Em=r,Cm=o}function Ra(e,t){let r=this||{};return function(){let o=arguments;function u(h,p){let w=Object.assign({},h),x=w.className||u.className;r.p=Object.assign({theme:Em&&Em()},w),r.o=/ *go\d+/.test(x),w.className=Ch.apply(r,o)+(x?" "+x:"");let b=e;return e[0]&&(b=w.as||e,delete w.as),Cm&&b[0]&&Cm(w),XE(b,w)}return u}}var tT=e=>typeof e=="function",eh=(e,t)=>tT(e)?e(t):e,nT=(()=>{let e=0;return()=>(++e).toString()})(),WE=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),iT=20,gg="default",QE=(e,t)=>{let{toastLimit:r}=e.settings;switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,r)};case 1:return{...e,toasts:e.toasts.map(p=>p.id===t.toast.id?{...p,...t.toast}:p)};case 2:let{toast:o}=t;return QE(e,{type:e.toasts.find(p=>p.id===o.id)?1:0,toast:o});case 3:let{toastId:u}=t;return{...e,toasts:e.toasts.map(p=>p.id===u||u===void 0?{...p,dismissed:!0,visible:!1}:p)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(p=>p.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let h=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(p=>({...p,pauseDuration:p.pauseDuration+h}))}}},Vd=[],ZE={toasts:[],pausedAt:void 0,settings:{toastLimit:iT}},Kr={},KE=(e,t=gg)=>{Kr[t]=QE(Kr[t]||ZE,e),Vd.forEach(([r,o])=>{r===t&&o(Kr[t])})},$E=e=>Object.keys(Kr).forEach(t=>KE(e,t)),rT=e=>Object.keys(Kr).find(t=>Kr[t].toasts.some(r=>r.id===e)),Sh=(e=gg)=>t=>{KE(t,e)},sT={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},aT=(e={},t=gg)=>{let[r,o]=H.useState(Kr[t]||ZE),u=H.useRef(Kr[t]);H.useEffect(()=>(u.current!==Kr[t]&&o(Kr[t]),Vd.push([t,o]),()=>{let p=Vd.findIndex(([w])=>w===t);p>-1&&Vd.splice(p,1)}),[t]);let h=r.toasts.map(p=>{var w,x,b;return{...e,...e[p.type],...p,removeDelay:p.removeDelay||((w=e[p.type])==null?void 0:w.removeDelay)||e?.removeDelay,duration:p.duration||((x=e[p.type])==null?void 0:x.duration)||e?.duration||sT[p.type],style:{...e.style,...(b=e[p.type])==null?void 0:b.style,...p.style}}});return{...r,toasts:h}},oT=(e,t="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...r,id:r?.id||nT()}),Qc=e=>(t,r)=>{let o=oT(t,e,r);return Sh(o.toasterId||rT(o.id))({type:2,toast:o}),o.id},Fn=(e,t)=>Qc("blank")(e,t);Fn.error=Qc("error");Fn.success=Qc("success");Fn.loading=Qc("loading");Fn.custom=Qc("custom");Fn.dismiss=(e,t)=>{let r={type:3,toastId:e};t?Sh(t)(r):$E(r)};Fn.dismissAll=e=>Fn.dismiss(void 0,e);Fn.remove=(e,t)=>{let r={type:4,toastId:e};t?Sh(t)(r):$E(r)};Fn.removeAll=e=>Fn.remove(void 0,e);Fn.promise=(e,t,r)=>{let o=Fn.loading(t.loading,{...r,...r?.loading});return typeof e=="function"&&(e=e()),e.then(u=>{let h=t.success?eh(t.success,u):void 0;return h?Fn.success(h,{id:o,...r,...r?.success}):Fn.dismiss(o),u}).catch(u=>{let h=t.error?eh(t.error,u):void 0;h?Fn.error(h,{id:o,...r,...r?.error}):Fn.dismiss(o)}),e};var lT=1e3,cT=(e,t="default")=>{let{toasts:r,pausedAt:o}=aT(e,t),u=H.useRef(new Map).current,h=H.useCallback((A,R=lT)=>{if(u.has(A))return;let D=setTimeout(()=>{u.delete(A),p({type:4,toastId:A})},R);u.set(A,D)},[]);H.useEffect(()=>{if(o)return;let A=Date.now(),R=r.map(D=>{if(D.duration===1/0)return;let _=(D.duration||0)+D.pauseDuration-(A-D.createdAt);if(_<0){D.visible&&Fn.dismiss(D.id);return}return setTimeout(()=>Fn.dismiss(D.id,t),_)});return()=>{R.forEach(D=>D&&clearTimeout(D))}},[r,o,t]);let p=H.useCallback(Sh(t),[t]),w=H.useCallback(()=>{p({type:5,time:Date.now()})},[p]),x=H.useCallback((A,R)=>{p({type:1,toast:{id:A,height:R}})},[p]),b=H.useCallback(()=>{o&&p({type:6,time:Date.now()})},[o,p]),E=H.useCallback((A,R)=>{let{reverseOrder:D=!1,gutter:_=8,defaultPosition:k}=R||{},P=r.filter(U=>(U.position||k)===(A.position||k)&&U.height),Y=P.findIndex(U=>U.id===A.id),j=P.filter((U,F)=>F<Y&&U.visible).length;return P.filter(U=>U.visible).slice(...D?[j+1]:[0,j]).reduce((U,F)=>U+(F.height||0)+_,0)},[r]);return H.useEffect(()=>{r.forEach(A=>{if(A.dismissed)h(A.id,A.removeDelay);else{let R=u.get(A.id);R&&(clearTimeout(R),u.delete(A.id))}})},[r,h]),{toasts:r,handlers:{updateHeight:x,startPause:w,endPause:b,calculateOffset:E}}},uT=Ms`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,dT=Ms`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,hT=Ms`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,fT=Ra("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${uT} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${dT} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${hT} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,mT=Ms`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,gT=Ra("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${mT} 1s linear infinite;
`,pT=Ms`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,yT=Ms`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,bT=Ra("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${pT} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${yT} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,vT=Ra("div")`
  position: absolute;
`,wT=Ra("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,xT=Ms`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,ET=Ra("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${xT} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,CT=({toast:e})=>{let{icon:t,type:r,iconTheme:o}=e;return t!==void 0?typeof t=="string"?H.createElement(ET,null,t):t:r==="blank"?null:H.createElement(wT,null,H.createElement(gT,{...o}),r!=="loading"&&H.createElement(vT,null,r==="error"?H.createElement(fT,{...o}):H.createElement(bT,{...o})))},ST=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,AT=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,NT="0%{opacity:0;} 100%{opacity:1;}",TT="0%{opacity:1;} 100%{opacity:0;}",RT=Ra("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,OT=Ra("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,MT=(e,t)=>{let r=e.includes("top")?1:-1,[o,u]=WE()?[NT,TT]:[ST(r),AT(r)];return{animation:t?`${Ms(o)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Ms(u)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},IT=H.memo(({toast:e,position:t,style:r,children:o})=>{let u=e.height?MT(e.position||t||"top-center",e.visible):{opacity:0},h=H.createElement(CT,{toast:e}),p=H.createElement(OT,{...e.ariaProps},eh(e.message,e));return H.createElement(RT,{className:e.className,style:{...u,...r,...e.style}},typeof o=="function"?o({icon:h,message:p}):H.createElement(H.Fragment,null,h,p))});eT(H.createElement);var _T=({id:e,className:t,style:r,onHeightUpdate:o,children:u})=>{let h=H.useCallback(p=>{if(p){let w=()=>{let x=p.getBoundingClientRect().height;o(e,x)};w(),new MutationObserver(w).observe(p,{subtree:!0,childList:!0,characterData:!0})}},[e,o]);return H.createElement("div",{ref:h,className:t,style:r},u)},DT=(e,t)=>{let r=e.includes("top"),o=r?{top:0}:{bottom:0},u=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:WE()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(r?1:-1)}px)`,...o,...u}},jT=Ch`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Nd=16,LT=({reverseOrder:e,position:t="top-center",toastOptions:r,gutter:o,children:u,toasterId:h,containerStyle:p,containerClassName:w})=>{let{toasts:x,handlers:b}=cT(r,h);return H.createElement("div",{"data-rht-toaster":h||"",style:{position:"fixed",zIndex:9999,top:Nd,left:Nd,right:Nd,bottom:Nd,pointerEvents:"none",...p},className:w,onMouseEnter:b.startPause,onMouseLeave:b.endPause},x.map(E=>{let A=E.position||t,R=b.calculateOffset(E,{reverseOrder:e,gutter:o,defaultPosition:t}),D=DT(A,R);return H.createElement(_T,{id:E.id,key:E.id,onHeightUpdate:b.updateHeight,className:E.visible?jT:"",style:D},E.type==="custom"?eh(E.message,E):u?u(E):H.createElement(IT,{toast:E,position:A}))}))},ze=Fn;const th={LOGIN_SUCCESS:"Welcome back! Redirecting...",REGISTER_SUCCESS:"Account created successfully. Please login.",LOGOUT_SUCCESS:"Logged out successfully.",ORG_CREATED:"Organization and primary admin setup complete.",USER_APPROVED:"User access has been granted.",USER_REJECTED:"User access has been denied."},go={INVALID_CREDENTIALS:"The email or password you entered is incorrect.",ACC_NOT_VERIFIED:"Account Not Verified",GENERIC_ERROR:"Something went wrong. Please try again later.",FETCH_FAILED:"Failed to load data from the server.",ACTION_FAILED:"The requested action could not be completed."},De=cn.create({baseURL:"http://localhost:8089",headers:{"Content-Type":"application/json"}});De.interceptors.response.use(e=>e.data.success?e.data.data:Promise.reject(e.data.message),e=>{const t=e.response?.data?.message||e.response?.data?.error||go.GENERIC_ERROR;return e.response?.status===401?(ze.error("Your session has expired. Please login again."),localStorage.clear(),window.location.href="/",Promise.reject("Unauthorized")):(e.response?.status===403&&ze.error("Access Denied: You don't have permission."),Promise.reject(t))});De.interceptors.request.use(e=>{const t=localStorage.getItem(Zr.TOKEN);return t&&(e.headers.Authorization=`Bearer ${t}`),e});const JE=H.createContext(null),BT=({children:e})=>{const[t,r]=H.useState(null),[o,u]=H.useState(!0);H.useEffect(()=>{(async()=>{try{const b=localStorage.getItem(Zr.USER),E=localStorage.getItem(Zr.TOKEN);if(b&&E)try{await De.get(`/auth/validate?token=${E}`),r(JSON.parse(b))}catch(A){console.warn("Token validation failed:",A),localStorage.clear(),r(null)}}catch(b){console.error("Failed to initialize auth:",b),localStorage.clear(),r(null)}finally{u(!1)}})()},[]);const h=(x,b)=>{localStorage.setItem(Zr.USER,JSON.stringify(x)),localStorage.setItem(Zr.TOKEN,b),r(x)},p=()=>{localStorage.removeItem(Zr.USER),localStorage.removeItem(Zr.TOKEN),r(null)},w=H.useMemo(()=>({user:t,isInitializing:o,saveLoginDetails:h,logout:p,isAuthenticated:!!t}),[t,o]);return y.jsx(JE.Provider,{value:w,children:e})},_s=()=>{const e=H.useContext(JE);if(!e)throw new Error("useAuth must be used within AuthProvider");return e};const kT=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),PT=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,o)=>o?o.toUpperCase():r.toLowerCase()),Zb=e=>{const t=PT(e);return t.charAt(0).toUpperCase()+t.slice(1)},e3=(...e)=>e.filter((t,r,o)=>!!t&&t.trim()!==""&&o.indexOf(t)===r).join(" ").trim(),UT=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var zT={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const FT=H.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:o,className:u="",children:h,iconNode:p,...w},x)=>H.createElement("svg",{ref:x,...zT,width:t,height:t,stroke:e,strokeWidth:o?Number(r)*24/Number(t):r,className:e3("lucide",u),...!h&&!UT(w)&&{"aria-hidden":"true"},...w},[...p.map(([b,E])=>H.createElement(b,E)),...Array.isArray(h)?h:[h]]));const He=(e,t)=>{const r=H.forwardRef(({className:o,...u},h)=>H.createElement(FT,{ref:h,iconNode:t,className:e3(`lucide-${kT(Zb(e))}`,`lucide-${e}`,o),...u}));return r.displayName=Zb(e),r};const VT=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],xl=He("arrow-left",VT);const HT=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Kb=He("bell",HT);const qT=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],Jr=He("building-2",qT);const GT=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],$b=He("camera",GT);const YT=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],XT=He("check-check",YT);const WT=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],t3=He("check",WT);const QT=[["path",{d:"M17 21a1 1 0 0 0 1-1v-5.35c0-.457.316-.844.727-1.041a4 4 0 0 0-2.134-7.589 5 5 0 0 0-9.186 0 4 4 0 0 0-2.134 7.588c.411.198.727.585.727 1.041V20a1 1 0 0 0 1 1Z",key:"1qvrer"}],["path",{d:"M6 17h12",key:"1jwigz"}]],n3=He("chef-hat",QT);const ZT=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],i3=He("chevron-down",ZT);const KT=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],$T=He("chevron-right",KT);const JT=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],r3=He("chevron-up",JT);const e5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Ah=He("circle-alert",e5);const t5=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Zc=He("circle-check-big",t5);const n5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],pg=He("circle-check",n5);const i5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],s3=He("circle-x",i5);const r5=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],Jb=He("clipboard-list",r5);const s5=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Lc=He("clock",s5);const a5=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],o5=He("credit-card",a5);const l5=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],a3=He("dollar-sign",l5);const c5=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],u5=He("download",c5);const d5=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],h5=He("flame",d5);const f5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],m5=He("globe",f5);const g5=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],p5=He("grid-3x3",g5);const y5=[["path",{d:"M6 3h12",key:"ggurg9"}],["path",{d:"M6 8h12",key:"6g4wlu"}],["path",{d:"m6 13 8.5 8",key:"u1kupk"}],["path",{d:"M6 13h3",key:"wdp6ag"}],["path",{d:"M9 13c6.667 0 6.667-10 0-10",key:"1nkvk2"}]],Wi=He("indian-rupee",y5);const b5=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],F1=He("layout-dashboard",b5);const v5=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],w5=He("list",v5);const x5=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Gn=He("loader-circle",x5);const E5=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],C5=He("log-out",E5);const S5=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],A5=He("mail",S5);const N5=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Rs=He("map-pin",N5);const T5=[["path",{d:"M11 6a13 13 0 0 0 8.4-2.8A1 1 0 0 1 21 4v12a1 1 0 0 1-1.6.8A13 13 0 0 0 11 14H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z",key:"q8bfy3"}],["path",{d:"M6 14a12 12 0 0 0 2.4 7.2 2 2 0 0 0 3.2-2.4A8 8 0 0 1 10 14",key:"1853fq"}],["path",{d:"M8 6v8",key:"15ugcq"}]],R5=He("megaphone",T5);const O5=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],M5=He("menu",O5);const I5=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],_5=He("message-square",I5);const D5=[["path",{d:"M5 12h14",key:"1ays0h"}]],o3=He("minus",D5);const j5=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Ca=He("package",j5);const L5=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Sm=He("pen",L5);const B5=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],k5=He("phone",B5);const P5=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],gr=He("plus",P5);const U5=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],l3=He("qr-code",U5);const z5=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],F5=He("refresh-ccw",z5);const V5=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],c3=He("refresh-cw",V5);const H5=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],u3=He("search",H5);const q5=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],d3=He("shield-check",q5);const G5=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],Y5=He("shopping-bag",G5);const X5=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],Bc=He("shopping-cart",X5);const W5=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],ev=He("square-pen",W5);const Q5=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],nh=He("star",Q5);const Z5=[["path",{d:"M15 21v-5a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v5",key:"slp6dd"}],["path",{d:"M17.774 10.31a1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.451 0 1.12 1.12 0 0 0-1.548 0 2.5 2.5 0 0 1-3.452 0 1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.77-3.248l2.889-4.184A2 2 0 0 1 7 2h10a2 2 0 0 1 1.653.873l2.895 4.192a2.5 2.5 0 0 1-3.774 3.244",key:"o0xfot"}],["path",{d:"M4 10.95V19a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8.05",key:"wn3emo"}]],fl=He("store",Z5);const K5=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],$5=He("tag",K5);const J5=[["circle",{cx:"9",cy:"12",r:"3",key:"u3jwor"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],tv=He("toggle-left",J5);const eR=[["circle",{cx:"15",cy:"12",r:"3",key:"1afu0r"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],nv=He("toggle-right",eR);const tR=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],ml=He("trash-2",tR);const nR=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],ih=He("trending-up",nR);const iR=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],rR=He("triangle-alert",iR);const sR=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],yg=He("user",sR);const aR=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],h3=He("users",aR);const oR=[["path",{d:"m16 2-2.3 2.3a3 3 0 0 0 0 4.2l1.8 1.8a3 3 0 0 0 4.2 0L22 8",key:"n7qcjb"}],["path",{d:"M15 15 3.3 3.3a4.2 4.2 0 0 0 0 6l7.3 7.3c.7.7 2 .7 2.8 0L15 15Zm0 0 7 7",key:"d0u48b"}],["path",{d:"m2.1 21.8 6.4-6.3",key:"yn04lh"}],["path",{d:"m19 5-7 7",key:"194lzd"}]],Ea=He("utensils-crossed",oR);const lR=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],cR=He("utensils",lR);const uR=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],f3=He("wallet",uR);const dR=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],m3=He("wifi-off",dR);const hR=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],g3=He("wifi",hR);const fR=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],bg=He("x",fR);const mR=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],gR=He("zap",mR),Td=({allowedRoles:e})=>{const{user:t,isInitializing:r}=_s(),o=ts();return r?y.jsx("div",{className:"h-screen w-screen flex items-center justify-center bg-surface-bg",children:y.jsx(Gn,{className:"animate-spin text-brand-primary",size:48})}):t?e.includes(t.role)?y.jsx(lE,{}):y.jsx(ro,{to:"/unauthorized",replace:!0}):y.jsx(ro,{to:"/",state:{from:o},replace:!0})};var Ac={exports:{}},pR=Ac.exports,iv;function yR(){return iv||(iv=1,(function(e,t){(function(r,o){o(t)})(pR,(function(r){function o(F,I){F.terminate=function(){const X=()=>{};this.onerror=X,this.onmessage=X,this.onopen=X;const z=new Date,G=Math.random().toString().substring(2,8),Q=this.onclose;this.onclose=Ee=>{const ae=new Date().getTime()-z.getTime();I(`Discarded socket (#${G})  closed after ${ae}ms, with code/reason: ${Ee.code}/${Ee.reason}`)},this.close(),Q?.call(F,{code:4001,reason:`Quick discarding socket (#${G}) without waiting for the shutdown sequence.`,wasClean:!1})}}const u={LF:`
`,NULL:"\0"};class h{get body(){return!this._body&&this.isBinaryBody&&(this._body=new TextDecoder().decode(this._binaryBody)),this._body||""}get binaryBody(){return!this._binaryBody&&!this.isBinaryBody&&(this._binaryBody=new TextEncoder().encode(this._body)),this._binaryBody}constructor(I){const{command:X,headers:z,body:G,binaryBody:Q,escapeHeaderValues:Ee,skipContentLengthHeader:ae}=I;this.command=X,this.headers=Object.assign({},z||{}),Q?(this._binaryBody=Q,this.isBinaryBody=!0):(this._body=G||"",this.isBinaryBody=!1),this.escapeHeaderValues=Ee||!1,this.skipContentLengthHeader=ae||!1}static fromRawFrame(I,X){const z={},G=Q=>Q.replace(/^\s+|\s+$/g,"");for(const Q of I.headers.reverse()){Q.indexOf(":");const Ee=G(Q[0]);let ae=G(Q[1]);X&&I.command!=="CONNECT"&&I.command!=="CONNECTED"&&(ae=h.hdrValueUnEscape(ae)),z[Ee]=ae}return new h({command:I.command,headers:z,binaryBody:I.binaryBody,escapeHeaderValues:X})}toString(){return this.serializeCmdAndHeaders()}serialize(){const I=this.serializeCmdAndHeaders();return this.isBinaryBody?h.toUnit8Array(I,this._binaryBody).buffer:I+this._body+u.NULL}serializeCmdAndHeaders(){const I=[this.command];this.skipContentLengthHeader&&delete this.headers["content-length"];for(const X of Object.keys(this.headers||{})){const z=this.headers[X];this.escapeHeaderValues&&this.command!=="CONNECT"&&this.command!=="CONNECTED"?I.push(`${X}:${h.hdrValueEscape(`${z}`)}`):I.push(`${X}:${z}`)}return(this.isBinaryBody||!this.isBodyEmpty()&&!this.skipContentLengthHeader)&&I.push(`content-length:${this.bodyLength()}`),I.join(u.LF)+u.LF+u.LF}isBodyEmpty(){return this.bodyLength()===0}bodyLength(){const I=this.binaryBody;return I?I.length:0}static sizeOfUTF8(I){return I?new TextEncoder().encode(I).length:0}static toUnit8Array(I,X){const z=new TextEncoder().encode(I),G=new Uint8Array([0]),Q=new Uint8Array(z.length+X.length+G.length);return Q.set(z),Q.set(X,z.length),Q.set(G,z.length+X.length),Q}static marshall(I){return new h(I).serialize()}static hdrValueEscape(I){return I.replace(/\\/g,"\\\\").replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/:/g,"\\c")}static hdrValueUnEscape(I){return I.replace(/\\r/g,"\r").replace(/\\n/g,`
`).replace(/\\c/g,":").replace(/\\\\/g,"\\")}}const p=0,w=10,x=13,b=58;class E{constructor(I,X){this.onFrame=I,this.onIncomingPing=X,this._encoder=new TextEncoder,this._decoder=new TextDecoder,this._token=[],this._initState()}parseChunk(I,X=!1){let z;if(typeof I=="string"?z=this._encoder.encode(I):z=new Uint8Array(I),X&&z[z.length-1]!==0){const G=new Uint8Array(z.length+1);G.set(z,0),G[z.length]=0,z=G}for(let G=0;G<z.length;G++){const Q=z[G];this._onByte(Q)}}_collectFrame(I){if(I!==p&&I!==x){if(I===w){this.onIncomingPing();return}this._onByte=this._collectCommand,this._reinjectByte(I)}}_collectCommand(I){if(I!==x){if(I===w){this._results.command=this._consumeTokenAsUTF8(),this._onByte=this._collectHeaders;return}this._consumeByte(I)}}_collectHeaders(I){if(I!==x){if(I===w){this._setupCollectBody();return}this._onByte=this._collectHeaderKey,this._reinjectByte(I)}}_reinjectByte(I){this._onByte(I)}_collectHeaderKey(I){if(I===b){this._headerKey=this._consumeTokenAsUTF8(),this._onByte=this._collectHeaderValue;return}this._consumeByte(I)}_collectHeaderValue(I){if(I!==x){if(I===w){this._results.headers.push([this._headerKey,this._consumeTokenAsUTF8()]),this._headerKey=void 0,this._onByte=this._collectHeaders;return}this._consumeByte(I)}}_setupCollectBody(){const I=this._results.headers.filter(X=>X[0]==="content-length")[0];I?(this._bodyBytesRemaining=parseInt(I[1],10),this._onByte=this._collectBodyFixedSize):this._onByte=this._collectBodyNullTerminated}_collectBodyNullTerminated(I){if(I===p){this._retrievedBody();return}this._consumeByte(I)}_collectBodyFixedSize(I){if(this._bodyBytesRemaining--===0){this._retrievedBody();return}this._consumeByte(I)}_retrievedBody(){this._results.binaryBody=this._consumeTokenAsRaw();try{this.onFrame(this._results)}catch(I){console.log("Ignoring an exception thrown by a frame handler. Original exception: ",I)}this._initState()}_consumeByte(I){this._token.push(I)}_consumeTokenAsUTF8(){return this._decoder.decode(this._consumeTokenAsRaw())}_consumeTokenAsRaw(){const I=new Uint8Array(this._token);return this._token=[],I}_initState(){this._results={command:void 0,headers:[],binaryBody:void 0},this._token=[],this._headerKey=void 0,this._onByte=this._collectFrame}}r.StompSocketState=void 0,(function(F){F[F.CONNECTING=0]="CONNECTING",F[F.OPEN=1]="OPEN",F[F.CLOSING=2]="CLOSING",F[F.CLOSED=3]="CLOSED"})(r.StompSocketState||(r.StompSocketState={})),r.ActivationState=void 0,(function(F){F[F.ACTIVE=0]="ACTIVE",F[F.DEACTIVATING=1]="DEACTIVATING",F[F.INACTIVE=2]="INACTIVE"})(r.ActivationState||(r.ActivationState={})),r.ReconnectionTimeMode=void 0,(function(F){F[F.LINEAR=0]="LINEAR",F[F.EXPONENTIAL=1]="EXPONENTIAL"})(r.ReconnectionTimeMode||(r.ReconnectionTimeMode={})),r.TickerStrategy=void 0,(function(F){F.Interval="interval",F.Worker="worker"})(r.TickerStrategy||(r.TickerStrategy={}));class A{constructor(I,X=r.TickerStrategy.Interval,z){this._interval=I,this._strategy=X,this._debug=z,this._workerScript=`
    var startTime = Date.now();
    setInterval(function() {
        self.postMessage(Date.now() - startTime);
    }, ${this._interval});
  `}start(I){this.stop(),this.shouldUseWorker()?this.runWorker(I):this.runInterval(I)}stop(){this.disposeWorker(),this.disposeInterval()}shouldUseWorker(){return typeof Worker<"u"&&this._strategy===r.TickerStrategy.Worker}runWorker(I){this._debug("Using runWorker for outgoing pings"),this._worker||(this._worker=new Worker(URL.createObjectURL(new Blob([this._workerScript],{type:"text/javascript"}))),this._worker.onmessage=X=>I(X.data))}runInterval(I){if(this._debug("Using runInterval for outgoing pings"),!this._timer){const X=Date.now();this._timer=setInterval(()=>{I(Date.now()-X)},this._interval)}}disposeWorker(){this._worker&&(this._worker.terminate(),delete this._worker,this._debug("Outgoing ping disposeWorker"))}disposeInterval(){this._timer&&(clearInterval(this._timer),delete this._timer,this._debug("Outgoing ping disposeInterval"))}}class R{constructor(I){this.versions=I}supportedVersions(){return this.versions.join(",")}protocolVersions(){return this.versions.map(I=>`v${I.replace(".","")}.stomp`)}}R.V1_0="1.0",R.V1_1="1.1",R.V1_2="1.2",R.default=new R([R.V1_2,R.V1_1,R.V1_0]);class D{get connectedVersion(){return this._connectedVersion}get connected(){return this._connected}constructor(I,X,z){this._client=I,this._webSocket=X,this._connected=!1,this._serverFrameHandlers={CONNECTED:G=>{this.debug(`connected to server ${G.headers.server}`),this._connected=!0,this._connectedVersion=G.headers.version,this._connectedVersion===R.V1_2&&(this._escapeHeaderValues=!0),this._setupHeartbeat(G.headers),this.onConnect(G)},MESSAGE:G=>{const Q=G.headers.subscription,Ee=this._subscriptions[Q]||this.onUnhandledMessage,ae=G,ve=this,me=this._connectedVersion===R.V1_2?ae.headers.ack:ae.headers["message-id"];ae.ack=(je={})=>ve.ack(me,Q,je),ae.nack=(je={})=>ve.nack(me,Q,je),Ee(ae)},RECEIPT:G=>{const Q=this._receiptWatchers[G.headers["receipt-id"]];Q?(Q(G),delete this._receiptWatchers[G.headers["receipt-id"]]):this.onUnhandledReceipt(G)},ERROR:G=>{this.onStompError(G)}},this._counter=0,this._subscriptions={},this._receiptWatchers={},this._partialData="",this._escapeHeaderValues=!1,this._lastServerActivityTS=Date.now(),this.debug=z.debug,this.stompVersions=z.stompVersions,this.connectHeaders=z.connectHeaders,this.disconnectHeaders=z.disconnectHeaders,this.heartbeatIncoming=z.heartbeatIncoming,this.heartbeatToleranceMultiplier=z.heartbeatGracePeriods,this.heartbeatOutgoing=z.heartbeatOutgoing,this.splitLargeFrames=z.splitLargeFrames,this.maxWebSocketChunkSize=z.maxWebSocketChunkSize,this.forceBinaryWSFrames=z.forceBinaryWSFrames,this.logRawCommunication=z.logRawCommunication,this.appendMissingNULLonIncoming=z.appendMissingNULLonIncoming,this.discardWebsocketOnCommFailure=z.discardWebsocketOnCommFailure,this.onConnect=z.onConnect,this.onDisconnect=z.onDisconnect,this.onStompError=z.onStompError,this.onWebSocketClose=z.onWebSocketClose,this.onWebSocketError=z.onWebSocketError,this.onUnhandledMessage=z.onUnhandledMessage,this.onUnhandledReceipt=z.onUnhandledReceipt,this.onUnhandledFrame=z.onUnhandledFrame,this.onHeartbeatReceived=z.onHeartbeatReceived,this.onHeartbeatLost=z.onHeartbeatLost}start(){const I=new E(z=>{const G=h.fromRawFrame(z,this._escapeHeaderValues);this.logRawCommunication||this.debug(`<<< ${G}`),(this._serverFrameHandlers[G.command]||this.onUnhandledFrame)(G)},()=>{this.debug("<<< PONG"),this.onHeartbeatReceived()});this._webSocket.onmessage=z=>{if(this.debug("Received data"),this._lastServerActivityTS=Date.now(),this.logRawCommunication){const G=z.data instanceof ArrayBuffer?new TextDecoder().decode(z.data):z.data;this.debug(`<<< ${G}`)}I.parseChunk(z.data,this.appendMissingNULLonIncoming)},this._webSocket.onclose=z=>{this.debug(`Connection closed to ${this._webSocket.url}`),this._cleanUp(),this.onWebSocketClose(z)},this._webSocket.onerror=z=>{this.onWebSocketError(z)};const X=()=>{const z=Object.assign({},this.connectHeaders);this.debug("Web Socket Opened..."),z["accept-version"]=this.stompVersions.supportedVersions(),z["heart-beat"]=[this.heartbeatOutgoing,this.heartbeatIncoming].join(","),this._transmit({command:"CONNECT",headers:z})};this._webSocket.readyState===r.StompSocketState.OPEN?X():this._webSocket.onopen=X}_setupHeartbeat(I){if(I.version!==R.V1_1&&I.version!==R.V1_2||!I["heart-beat"])return;const[X,z]=I["heart-beat"].split(",").map(G=>parseInt(G,10));if(this.heartbeatOutgoing!==0&&z!==0){const G=Math.max(this.heartbeatOutgoing,z);this.debug(`send PING every ${G}ms`),this._pinger=new A(G,this._client.heartbeatStrategy,this.debug),this._pinger.start(()=>{this._webSocket.readyState===r.StompSocketState.OPEN&&(this._webSocket.send(u.LF),this.debug(">>> PING"))})}if(this.heartbeatIncoming!==0&&X!==0){const G=Math.max(this.heartbeatIncoming,X);this.debug(`check PONG every ${G}ms`),this._ponger=setInterval(()=>{const Q=Date.now()-this._lastServerActivityTS;Q>G*this.heartbeatToleranceMultiplier&&(this.debug(`did not receive server activity for the last ${Q}ms`),this.onHeartbeatLost(),this._closeOrDiscardWebsocket())},G)}}_closeOrDiscardWebsocket(){this.discardWebsocketOnCommFailure?(this.debug("Discarding websocket, the underlying socket may linger for a while"),this.discardWebsocket()):(this.debug("Issuing close on the websocket"),this._closeWebsocket())}forceDisconnect(){this._webSocket&&(this._webSocket.readyState===r.StompSocketState.CONNECTING||this._webSocket.readyState===r.StompSocketState.OPEN)&&this._closeOrDiscardWebsocket()}_closeWebsocket(){this._webSocket.onmessage=()=>{},this._webSocket.close()}discardWebsocket(){typeof this._webSocket.terminate!="function"&&o(this._webSocket,I=>this.debug(I)),this._webSocket.terminate()}_transmit(I){const{command:X,headers:z,body:G,binaryBody:Q,skipContentLengthHeader:Ee}=I,ae=new h({command:X,headers:z,body:G,binaryBody:Q,escapeHeaderValues:this._escapeHeaderValues,skipContentLengthHeader:Ee});let ve=ae.serialize();if(this.logRawCommunication?this.debug(`>>> ${ve}`):this.debug(`>>> ${ae}`),this.forceBinaryWSFrames&&typeof ve=="string"&&(ve=new TextEncoder().encode(ve)),typeof ve!="string"||!this.splitLargeFrames)this._webSocket.send(ve);else{let me=ve;for(;me.length>0;){const je=me.substring(0,this.maxWebSocketChunkSize);me=me.substring(this.maxWebSocketChunkSize),this._webSocket.send(je),this.debug(`chunk sent = ${je.length}, remaining = ${me.length}`)}}}dispose(){if(this.connected)try{const I=Object.assign({},this.disconnectHeaders);I.receipt||(I.receipt=`close-${this._counter++}`),this.watchForReceipt(I.receipt,X=>{this._closeWebsocket(),this._cleanUp(),this.onDisconnect(X)}),this._transmit({command:"DISCONNECT",headers:I})}catch(I){this.debug(`Ignoring error during disconnect ${I}`)}else(this._webSocket.readyState===r.StompSocketState.CONNECTING||this._webSocket.readyState===r.StompSocketState.OPEN)&&this._closeWebsocket()}_cleanUp(){this._connected=!1,this._pinger&&(this._pinger.stop(),this._pinger=void 0),this._ponger&&(clearInterval(this._ponger),this._ponger=void 0)}publish(I){const{destination:X,headers:z,body:G,binaryBody:Q,skipContentLengthHeader:Ee}=I,ae=Object.assign({destination:X},z);this._transmit({command:"SEND",headers:ae,body:G,binaryBody:Q,skipContentLengthHeader:Ee})}watchForReceipt(I,X){this._receiptWatchers[I]=X}subscribe(I,X,z={}){z=Object.assign({},z),z.id||(z.id=`sub-${this._counter++}`),z.destination=I,this._subscriptions[z.id]=X,this._transmit({command:"SUBSCRIBE",headers:z});const G=this;return{id:z.id,unsubscribe(Q){return G.unsubscribe(z.id,Q)}}}unsubscribe(I,X={}){X=Object.assign({},X),delete this._subscriptions[I],X.id=I,this._transmit({command:"UNSUBSCRIBE",headers:X})}begin(I){const X=I||`tx-${this._counter++}`;this._transmit({command:"BEGIN",headers:{transaction:X}});const z=this;return{id:X,commit(){z.commit(X)},abort(){z.abort(X)}}}commit(I){this._transmit({command:"COMMIT",headers:{transaction:I}})}abort(I){this._transmit({command:"ABORT",headers:{transaction:I}})}ack(I,X,z={}){z=Object.assign({},z),this._connectedVersion===R.V1_2?z.id=I:z["message-id"]=I,z.subscription=X,this._transmit({command:"ACK",headers:z})}nack(I,X,z={}){return z=Object.assign({},z),this._connectedVersion===R.V1_2?z.id=I:z["message-id"]=I,z.subscription=X,this._transmit({command:"NACK",headers:z})}}class _{get webSocket(){return this._stompHandler?._webSocket}get disconnectHeaders(){return this._disconnectHeaders}set disconnectHeaders(I){this._disconnectHeaders=I,this._stompHandler&&(this._stompHandler.disconnectHeaders=this._disconnectHeaders)}get connected(){return!!this._stompHandler&&this._stompHandler.connected}get connectedVersion(){return this._stompHandler?this._stompHandler.connectedVersion:void 0}get active(){return this.state===r.ActivationState.ACTIVE}_changeState(I){this.state=I,this.onChangeState(I)}constructor(I={}){this.stompVersions=R.default,this.connectionTimeout=0,this.reconnectDelay=5e3,this._nextReconnectDelay=0,this.maxReconnectDelay=900*1e3,this.reconnectTimeMode=r.ReconnectionTimeMode.LINEAR,this.heartbeatIncoming=1e4,this.heartbeatToleranceMultiplier=2,this.heartbeatOutgoing=1e4,this.heartbeatStrategy=r.TickerStrategy.Interval,this.splitLargeFrames=!1,this.maxWebSocketChunkSize=8*1024,this.forceBinaryWSFrames=!1,this.appendMissingNULLonIncoming=!1,this.discardWebsocketOnCommFailure=!1,this.state=r.ActivationState.INACTIVE;const X=()=>{};this.debug=X,this.beforeConnect=X,this.onConnect=X,this.onDisconnect=X,this.onUnhandledMessage=X,this.onUnhandledReceipt=X,this.onUnhandledFrame=X,this.onHeartbeatReceived=X,this.onHeartbeatLost=X,this.onStompError=X,this.onWebSocketClose=X,this.onWebSocketError=X,this.logRawCommunication=!1,this.onChangeState=X,this.connectHeaders={},this._disconnectHeaders={},this.configure(I)}configure(I){Object.assign(this,I),this.maxReconnectDelay>0&&this.maxReconnectDelay<this.reconnectDelay&&(this.debug(`Warning: maxReconnectDelay (${this.maxReconnectDelay}ms) is less than reconnectDelay (${this.reconnectDelay}ms). Using reconnectDelay as the maxReconnectDelay delay.`),this.maxReconnectDelay=this.reconnectDelay)}activate(){const I=()=>{if(this.active){this.debug("Already ACTIVE, ignoring request to activate");return}this._changeState(r.ActivationState.ACTIVE),this._nextReconnectDelay=this.reconnectDelay,this._connect()};this.state===r.ActivationState.DEACTIVATING?(this.debug("Waiting for deactivation to finish before activating"),this.deactivate().then(()=>{I()})):I()}async _connect(){if(await this.beforeConnect(this),this._stompHandler){this.debug("There is already a stompHandler, skipping the call to connect");return}if(!this.active){this.debug("Client has been marked inactive, will not attempt to connect");return}this.connectionTimeout>0&&(this._connectionWatcher&&clearTimeout(this._connectionWatcher),this._connectionWatcher=setTimeout(()=>{this.connected||(this.debug(`Connection not established in ${this.connectionTimeout}ms, closing socket`),this.forceDisconnect())},this.connectionTimeout)),this.debug("Opening Web Socket...");const I=this._createWebSocket();this._stompHandler=new D(this,I,{debug:this.debug,stompVersions:this.stompVersions,connectHeaders:this.connectHeaders,disconnectHeaders:this._disconnectHeaders,heartbeatIncoming:this.heartbeatIncoming,heartbeatGracePeriods:this.heartbeatToleranceMultiplier,heartbeatOutgoing:this.heartbeatOutgoing,heartbeatStrategy:this.heartbeatStrategy,splitLargeFrames:this.splitLargeFrames,maxWebSocketChunkSize:this.maxWebSocketChunkSize,forceBinaryWSFrames:this.forceBinaryWSFrames,logRawCommunication:this.logRawCommunication,appendMissingNULLonIncoming:this.appendMissingNULLonIncoming,discardWebsocketOnCommFailure:this.discardWebsocketOnCommFailure,onConnect:X=>{if(this._connectionWatcher&&(clearTimeout(this._connectionWatcher),this._connectionWatcher=void 0),this._nextReconnectDelay=this.reconnectDelay,!this.active){this.debug("STOMP got connected while deactivate was issued, will disconnect now"),this._disposeStompHandler();return}this.onConnect(X)},onDisconnect:X=>{this.onDisconnect(X)},onStompError:X=>{this.onStompError(X)},onWebSocketClose:X=>{this._stompHandler=void 0,this.state===r.ActivationState.DEACTIVATING&&this._changeState(r.ActivationState.INACTIVE),this.onWebSocketClose(X),this.active&&this._schedule_reconnect()},onWebSocketError:X=>{this.onWebSocketError(X)},onUnhandledMessage:X=>{this.onUnhandledMessage(X)},onUnhandledReceipt:X=>{this.onUnhandledReceipt(X)},onUnhandledFrame:X=>{this.onUnhandledFrame(X)},onHeartbeatReceived:()=>{this.onHeartbeatReceived()},onHeartbeatLost:()=>{this.onHeartbeatLost()}}),this._stompHandler.start()}_createWebSocket(){let I;if(this.webSocketFactory)I=this.webSocketFactory();else if(this.brokerURL)I=new WebSocket(this.brokerURL,this.stompVersions.protocolVersions());else throw new Error("Either brokerURL or webSocketFactory must be provided");return I.binaryType="arraybuffer",I}_schedule_reconnect(){this._nextReconnectDelay>0&&(this.debug(`STOMP: scheduling reconnection in ${this._nextReconnectDelay}ms`),this._reconnector=setTimeout(()=>{this.reconnectTimeMode===r.ReconnectionTimeMode.EXPONENTIAL&&(this._nextReconnectDelay=this._nextReconnectDelay*2,this.maxReconnectDelay!==0&&(this._nextReconnectDelay=Math.min(this._nextReconnectDelay,this.maxReconnectDelay))),this._connect()},this._nextReconnectDelay))}async deactivate(I={}){const X=I.force||!1,z=this.active;let G;if(this.state===r.ActivationState.INACTIVE)return this.debug("Already INACTIVE, nothing more to do"),Promise.resolve();if(this._changeState(r.ActivationState.DEACTIVATING),this._nextReconnectDelay=0,this._reconnector&&(clearTimeout(this._reconnector),this._reconnector=void 0),this._stompHandler&&this.webSocket.readyState!==r.StompSocketState.CLOSED){const Q=this._stompHandler.onWebSocketClose;G=new Promise((Ee,ae)=>{this._stompHandler.onWebSocketClose=ve=>{Q(ve),Ee()}})}else return this._changeState(r.ActivationState.INACTIVE),Promise.resolve();return X?this._stompHandler?.discardWebsocket():z&&this._disposeStompHandler(),G}forceDisconnect(){this._stompHandler&&this._stompHandler.forceDisconnect()}_disposeStompHandler(){this._stompHandler&&this._stompHandler.dispose()}publish(I){this._checkConnection(),this._stompHandler.publish(I)}_checkConnection(){if(!this.connected)throw new TypeError("There is no underlying STOMP connection")}watchForReceipt(I,X){this._checkConnection(),this._stompHandler.watchForReceipt(I,X)}subscribe(I,X,z={}){return this._checkConnection(),this._stompHandler.subscribe(I,X,z)}unsubscribe(I,X={}){this._checkConnection(),this._stompHandler.unsubscribe(I,X)}begin(I){return this._checkConnection(),this._stompHandler.begin(I)}commit(I){this._checkConnection(),this._stompHandler.commit(I)}abort(I){this._checkConnection(),this._stompHandler.abort(I)}ack(I,X,z={}){this._checkConnection(),this._stompHandler.ack(I,X,z)}nack(I,X,z={}){this._checkConnection(),this._stompHandler.nack(I,X,z)}}class k{}class P{}class Y{constructor(I){this.client=I}get outgoing(){return this.client.heartbeatOutgoing}set outgoing(I){this.client.heartbeatOutgoing=I}get incoming(){return this.client.heartbeatIncoming}set incoming(I){this.client.heartbeatIncoming=I}}class j extends _{constructor(I){super(),this.maxWebSocketFrameSize=16*1024,this._heartbeatInfo=new Y(this),this.reconnect_delay=0,this.webSocketFactory=I,this.debug=(...X)=>{console.log(...X)}}_parseConnect(...I){let X,z,G,Q={};if(I.length<2)throw new Error("Connect requires at least 2 arguments");return typeof I[1]=="function"?[Q,z,G,X]=I:I.length===6?[Q.login,Q.passcode,z,G,X,Q.host]=I:[Q.login,Q.passcode,z,G,X]=I,[Q,z,G,X]}connect(...I){const X=this._parseConnect(...I);X[0]&&(this.connectHeaders=X[0]),X[1]&&(this.onConnect=X[1]),X[2]&&(this.onStompError=X[2]),X[3]&&(this.onWebSocketClose=X[3]),super.activate()}disconnect(I,X={}){I&&(this.onDisconnect=I),this.disconnectHeaders=X,super.deactivate()}send(I,X={},z=""){X=Object.assign({},X);const G=X["content-length"]===!1;G&&delete X["content-length"],this.publish({destination:I,headers:X,body:z,skipContentLengthHeader:G})}set reconnect_delay(I){this.reconnectDelay=I}get ws(){return this.webSocket}get version(){return this.connectedVersion}get onreceive(){return this.onUnhandledMessage}set onreceive(I){this.onUnhandledMessage=I}get onreceipt(){return this.onUnhandledReceipt}set onreceipt(I){this.onUnhandledReceipt=I}get heartbeat(){return this._heartbeatInfo}set heartbeat(I){this.heartbeatIncoming=I.incoming,this.heartbeatOutgoing=I.outgoing}}class U{static client(I,X){X==null&&(X=R.default.protocolVersions());const z=()=>{const G=U.WebSocketClass||WebSocket;return new G(I,X)};return new j(z)}static over(I){let X;return typeof I=="function"?X=I:(console.warn("Stomp.over did not receive a factory, auto reconnect will not work. Please see https://stomp-js.github.io/api-docs/latest/classes/Stomp.html#over"),X=()=>I),new j(X)}}U.WebSocketClass=null,r.Client=_,r.CompatClient=j,r.FrameImpl=h,r.Parser=E,r.Stomp=U,r.StompConfig=k,r.StompHeaders=P,r.Versions=R}))})(Ac,Ac.exports)),Ac.exports}var bR=yR(),V1={exports:{}},Rd={},rv;function vR(){return rv||(rv=1,globalThis.crypto&&globalThis.crypto.getRandomValues?Rd.randomBytes=function(e){var t=new Uint8Array(e);return globalThis.crypto.getRandomValues(t),t}:Rd.randomBytes=function(e){for(var t=new Array(e),r=0;r<e;r++)t[r]=Math.floor(Math.random()*256);return t}),Rd}var H1,sv;function El(){if(sv)return H1;sv=1;var e=vR(),t="abcdefghijklmnopqrstuvwxyz012345";return H1={string:function(r){for(var o=t.length,u=e.randomBytes(r),h=[],p=0;p<r;p++)h.push(t.substr(u[p]%o,1));return h.join("")},number:function(r){return Math.floor(Math.random()*r)},numberString:function(r){var o=(""+(r-1)).length,u=new Array(o+1).join("0");return(u+this.number(r)).slice(-o)}},H1}var av;function Oa(){return av||(av=1,(function(e){var t=El(),r={},o=!1,u=globalThis.chrome&&globalThis.chrome.app&&globalThis.chrome.app.runtime;e.exports={attachEvent:function(p,w){typeof globalThis.addEventListener<"u"?globalThis.addEventListener(p,w,!1):globalThis.document&&globalThis.attachEvent&&(globalThis.document.attachEvent("on"+p,w),globalThis.attachEvent("on"+p,w))},detachEvent:function(p,w){typeof globalThis.addEventListener<"u"?globalThis.removeEventListener(p,w,!1):globalThis.document&&globalThis.detachEvent&&(globalThis.document.detachEvent("on"+p,w),globalThis.detachEvent("on"+p,w))},unloadAdd:function(p){if(u)return null;var w=t.string(8);return r[w]=p,o&&setTimeout(this.triggerUnloadCallbacks,0),w},unloadDel:function(p){p in r&&delete r[p]},triggerUnloadCallbacks:function(){for(var p in r)r[p](),delete r[p]}};var h=function(){o||(o=!0,e.exports.triggerUnloadCallbacks())};u||e.exports.attachEvent("unload",h)})(V1)),V1.exports}var q1,ov;function wR(){return ov||(ov=1,q1=function(t,r){if(r=r.split(":")[0],t=+t,!t)return!1;switch(r){case"http":case"ws":return t!==80;case"https":case"wss":return t!==443;case"ftp":return t!==21;case"gopher":return t!==70;case"file":return!1}return t!==0}),q1}var Od={},lv;function xR(){if(lv)return Od;lv=1;var e=Object.prototype.hasOwnProperty,t;function r(p){try{return decodeURIComponent(p.replace(/\+/g," "))}catch{return null}}function o(p){try{return encodeURIComponent(p)}catch{return null}}function u(p){for(var w=/([^=?#&]+)=?([^&]*)/g,x={},b;b=w.exec(p);){var E=r(b[1]),A=r(b[2]);E===null||A===null||E in x||(x[E]=A)}return x}function h(p,w){w=w||"";var x=[],b,E;typeof w!="string"&&(w="?");for(E in p)if(e.call(p,E)){if(b=p[E],!b&&(b===null||b===t||isNaN(b))&&(b=""),E=o(E),b=o(b),E===null||b===null)continue;x.push(E+"="+b)}return x.length?w+x.join("&"):""}return Od.stringify=h,Od.parse=u,Od}var G1,cv;function p3(){if(cv)return G1;cv=1;var e=wR(),t=xR(),r=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,o=/[\n\r\t]/g,u=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,h=/:\d+$/,p=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,w=/^[a-zA-Z]:/;function x(j){return(j||"").toString().replace(r,"")}var b=[["#","hash"],["?","query"],function(U,F){return R(F.protocol)?U.replace(/\\/g,"/"):U},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],E={hash:1,query:1};function A(j){var U;typeof window<"u"?U=window:typeof globalThis<"u"?U=globalThis:typeof self<"u"?U=self:U={};var F=U.location||{};j=j||F;var I={},X=typeof j,z;if(j.protocol==="blob:")I=new k(unescape(j.pathname),{});else if(X==="string"){I=new k(j,{});for(z in E)delete I[z]}else if(X==="object"){for(z in j)z in E||(I[z]=j[z]);I.slashes===void 0&&(I.slashes=u.test(j.href))}return I}function R(j){return j==="file:"||j==="ftp:"||j==="http:"||j==="https:"||j==="ws:"||j==="wss:"}function D(j,U){j=x(j),j=j.replace(o,""),U=U||{};var F=p.exec(j),I=F[1]?F[1].toLowerCase():"",X=!!F[2],z=!!F[3],G=0,Q;return X?z?(Q=F[2]+F[3]+F[4],G=F[2].length+F[3].length):(Q=F[2]+F[4],G=F[2].length):z?(Q=F[3]+F[4],G=F[3].length):Q=F[4],I==="file:"?G>=2&&(Q=Q.slice(2)):R(I)?Q=F[4]:I?X&&(Q=Q.slice(2)):G>=2&&R(U.protocol)&&(Q=F[4]),{protocol:I,slashes:X||R(I),slashesCount:G,rest:Q}}function _(j,U){if(j==="")return U;for(var F=(U||"/").split("/").slice(0,-1).concat(j.split("/")),I=F.length,X=F[I-1],z=!1,G=0;I--;)F[I]==="."?F.splice(I,1):F[I]===".."?(F.splice(I,1),G++):G&&(I===0&&(z=!0),F.splice(I,1),G--);return z&&F.unshift(""),(X==="."||X==="..")&&F.push(""),F.join("/")}function k(j,U,F){if(j=x(j),j=j.replace(o,""),!(this instanceof k))return new k(j,U,F);var I,X,z,G,Q,Ee,ae=b.slice(),ve=typeof U,me=this,je=0;for(ve!=="object"&&ve!=="string"&&(F=U,U=null),F&&typeof F!="function"&&(F=t.parse),U=A(U),X=D(j||"",U),I=!X.protocol&&!X.slashes,me.slashes=X.slashes||I&&U.slashes,me.protocol=X.protocol||U.protocol||"",j=X.rest,(X.protocol==="file:"&&(X.slashesCount!==2||w.test(j))||!X.slashes&&(X.protocol||X.slashesCount<2||!R(me.protocol)))&&(ae[3]=[/(.*)/,"pathname"]);je<ae.length;je++){if(G=ae[je],typeof G=="function"){j=G(j,me);continue}z=G[0],Ee=G[1],z!==z?me[Ee]=j:typeof z=="string"?(Q=z==="@"?j.lastIndexOf(z):j.indexOf(z),~Q&&(typeof G[2]=="number"?(me[Ee]=j.slice(0,Q),j=j.slice(Q+G[2])):(me[Ee]=j.slice(Q),j=j.slice(0,Q)))):(Q=z.exec(j))&&(me[Ee]=Q[1],j=j.slice(0,Q.index)),me[Ee]=me[Ee]||I&&G[3]&&U[Ee]||"",G[4]&&(me[Ee]=me[Ee].toLowerCase())}F&&(me.query=F(me.query)),I&&U.slashes&&me.pathname.charAt(0)!=="/"&&(me.pathname!==""||U.pathname!=="")&&(me.pathname=_(me.pathname,U.pathname)),me.pathname.charAt(0)!=="/"&&R(me.protocol)&&(me.pathname="/"+me.pathname),e(me.port,me.protocol)||(me.host=me.hostname,me.port=""),me.username=me.password="",me.auth&&(Q=me.auth.indexOf(":"),~Q?(me.username=me.auth.slice(0,Q),me.username=encodeURIComponent(decodeURIComponent(me.username)),me.password=me.auth.slice(Q+1),me.password=encodeURIComponent(decodeURIComponent(me.password))):me.username=encodeURIComponent(decodeURIComponent(me.auth)),me.auth=me.password?me.username+":"+me.password:me.username),me.origin=me.protocol!=="file:"&&R(me.protocol)&&me.host?me.protocol+"//"+me.host:"null",me.href=me.toString()}function P(j,U,F){var I=this;switch(j){case"query":typeof U=="string"&&U.length&&(U=(F||t.parse)(U)),I[j]=U;break;case"port":I[j]=U,e(U,I.protocol)?U&&(I.host=I.hostname+":"+U):(I.host=I.hostname,I[j]="");break;case"hostname":I[j]=U,I.port&&(U+=":"+I.port),I.host=U;break;case"host":I[j]=U,h.test(U)?(U=U.split(":"),I.port=U.pop(),I.hostname=U.join(":")):(I.hostname=U,I.port="");break;case"protocol":I.protocol=U.toLowerCase(),I.slashes=!F;break;case"pathname":case"hash":if(U){var X=j==="pathname"?"/":"#";I[j]=U.charAt(0)!==X?X+U:U}else I[j]=U;break;case"username":case"password":I[j]=encodeURIComponent(U);break;case"auth":var z=U.indexOf(":");~z?(I.username=U.slice(0,z),I.username=encodeURIComponent(decodeURIComponent(I.username)),I.password=U.slice(z+1),I.password=encodeURIComponent(decodeURIComponent(I.password))):I.username=encodeURIComponent(decodeURIComponent(U))}for(var G=0;G<b.length;G++){var Q=b[G];Q[4]&&(I[Q[1]]=I[Q[1]].toLowerCase())}return I.auth=I.password?I.username+":"+I.password:I.username,I.origin=I.protocol!=="file:"&&R(I.protocol)&&I.host?I.protocol+"//"+I.host:"null",I.href=I.toString(),I}function Y(j){(!j||typeof j!="function")&&(j=t.stringify);var U,F=this,I=F.host,X=F.protocol;X&&X.charAt(X.length-1)!==":"&&(X+=":");var z=X+(F.protocol&&F.slashes||R(F.protocol)?"//":"");return F.username?(z+=F.username,F.password&&(z+=":"+F.password),z+="@"):F.password?(z+=":"+F.password,z+="@"):F.protocol!=="file:"&&R(F.protocol)&&!I&&F.pathname!=="/"&&(z+="@"),(I[I.length-1]===":"||h.test(F.hostname)&&!F.port)&&(I+=":"),z+=I+F.pathname,U=typeof F.query=="object"?j(F.query):F.query,U&&(z+=U.charAt(0)!=="?"?"?"+U:U),F.hash&&(z+=F.hash),z}return k.prototype={set:P,toString:Y},k.extractProtocol=D,k.location=A,k.trimLeft=x,k.qs=t,G1=k,G1}var Y1,uv;function yr(){if(uv)return Y1;uv=1;var e=p3();return Y1={getOrigin:function(t){if(!t)return null;var r=new e(t);if(r.protocol==="file:")return null;var o=r.port;return o||(o=r.protocol==="https:"?"443":"80"),r.protocol+"//"+r.hostname+":"+o},isOriginEqual:function(t,r){var o=this.getOrigin(t)===this.getOrigin(r);return o},isSchemeEqual:function(t,r){return t.split(":")[0]===r.split(":")[0]},addPath:function(t,r){var o=t.split("?");return o[0]+r+(o[1]?"?"+o[1]:"")},addQuery:function(t,r){return t+(t.indexOf("?")===-1?"?"+r:"&"+r)},isLoopbackAddr:function(t){return/^127\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(t)||/^\[::1\]$/.test(t)}},Y1}var Md={exports:{}},dv;function Ot(){return dv||(dv=1,typeof Object.create=="function"?Md.exports=function(t,r){r&&(t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:Md.exports=function(t,r){if(r){t.super_=r;var o=function(){};o.prototype=r.prototype,t.prototype=new o,t.prototype.constructor=t}}),Md.exports}var X1={},W1,hv;function y3(){if(hv)return W1;hv=1;function e(){this._listeners={}}return e.prototype.addEventListener=function(t,r){t in this._listeners||(this._listeners[t]=[]);var o=this._listeners[t];o.indexOf(r)===-1&&(o=o.concat([r])),this._listeners[t]=o},e.prototype.removeEventListener=function(t,r){var o=this._listeners[t];if(o){var u=o.indexOf(r);if(u!==-1){o.length>1?this._listeners[t]=o.slice(0,u).concat(o.slice(u+1)):delete this._listeners[t];return}}},e.prototype.dispatchEvent=function(){var t=arguments[0],r=t.type,o=arguments.length===1?[t]:Array.apply(null,arguments);if(this["on"+r]&&this["on"+r].apply(this,o),r in this._listeners)for(var u=this._listeners[r],h=0;h<u.length;h++)u[h].apply(this,o)},W1=e,W1}var fv;function pi(){if(fv)return X1;fv=1;var e=Ot(),t=y3();function r(){t.call(this)}return e(r,t),r.prototype.removeAllListeners=function(o){o?delete this._listeners[o]:this._listeners={}},r.prototype.once=function(o,u){var h=this,p=!1;function w(){h.removeListener(o,w),p||(p=!0,u.apply(this,arguments))}this.on(o,w)},r.prototype.emit=function(){var o=arguments[0],u=this._listeners[o];if(u){for(var h=arguments.length,p=new Array(h-1),w=1;w<h;w++)p[w-1]=arguments[w];for(var x=0;x<u.length;x++)u[x].apply(this,p)}},r.prototype.on=r.prototype.addListener=t.prototype.addEventListener,r.prototype.removeListener=t.prototype.removeEventListener,X1.EventEmitter=r,X1}var Id={exports:{}},mv;function ER(){if(mv)return Id.exports;mv=1;var e=globalThis.WebSocket||globalThis.MozWebSocket;return e?Id.exports=function(r){return new e(r)}:Id.exports=void 0,Id.exports}var Q1,gv;function CR(){if(gv)return Q1;gv=1;var e=Oa(),t=yr(),r=Ot(),o=pi().EventEmitter,u=ER(),h=function(){};function p(w,x,b){if(!p.enabled())throw new Error("Transport created when disabled");o.call(this);var E=this,A=t.addPath(w,"/websocket");A.slice(0,5)==="https"?A="wss"+A.slice(5):A="ws"+A.slice(4),this.url=A,this.ws=new u(this.url,[],b),this.ws.onmessage=function(R){h("message event",R.data),E.emit("message",R.data)},this.unloadRef=e.unloadAdd(function(){E.ws.close()}),this.ws.onclose=function(R){h("close event",R.code,R.reason),E.emit("close",R.code,R.reason),E._cleanup()},this.ws.onerror=function(R){E.emit("close",1006,"WebSocket connection broken"),E._cleanup()}}return r(p,o),p.prototype.send=function(w){var x="["+w+"]";this.ws.send(x)},p.prototype.close=function(){var w=this.ws;this._cleanup(),w&&w.close()},p.prototype._cleanup=function(){var w=this.ws;w&&(w.onmessage=w.onclose=w.onerror=null),e.unloadDel(this.unloadRef),this.unloadRef=this.ws=null,this.removeAllListeners()},p.enabled=function(){return!!u},p.transportName="websocket",p.roundTrips=2,Q1=p,Q1}var Z1,pv;function SR(){if(pv)return Z1;pv=1;var e=Ot(),t=pi().EventEmitter,r=function(){};function o(u,h){t.call(this),this.sendBuffer=[],this.sender=h,this.url=u}return e(o,t),o.prototype.send=function(u){this.sendBuffer.push(u),this.sendStop||this.sendSchedule()},o.prototype.sendScheduleWait=function(){var u=this,h;this.sendStop=function(){u.sendStop=null,clearTimeout(h)},h=setTimeout(function(){u.sendStop=null,u.sendSchedule()},25)},o.prototype.sendSchedule=function(){r("sendSchedule",this.sendBuffer.length);var u=this;if(this.sendBuffer.length>0){var h="["+this.sendBuffer.join(",")+"]";this.sendStop=this.sender(this.url,h,function(p){u.sendStop=null,p?(u.emit("close",p.code||1006,"Sending error: "+p),u.close()):u.sendScheduleWait()}),this.sendBuffer=[]}},o.prototype._cleanup=function(){this.removeAllListeners()},o.prototype.close=function(){this._cleanup(),this.sendStop&&(this.sendStop(),this.sendStop=null)},Z1=o,Z1}var K1,yv;function AR(){if(yv)return K1;yv=1;var e=Ot(),t=pi().EventEmitter,r=function(){};function o(u,h,p){t.call(this),this.Receiver=u,this.receiveUrl=h,this.AjaxObject=p,this._scheduleReceiver()}return e(o,t),o.prototype._scheduleReceiver=function(){var u=this,h=this.poll=new this.Receiver(this.receiveUrl,this.AjaxObject);h.on("message",function(p){u.emit("message",p)}),h.once("close",function(p,w){r("close",p,w,u.pollIsClosing),u.poll=h=null,u.pollIsClosing||(w==="network"?u._scheduleReceiver():(u.emit("close",p||1006,w),u.removeAllListeners()))})},o.prototype.abort=function(){this.removeAllListeners(),this.pollIsClosing=!0,this.poll&&this.poll.abort()},K1=o,K1}var $1,bv;function b3(){if(bv)return $1;bv=1;var e=Ot(),t=yr(),r=SR(),o=AR();function u(h,p,w,x,b){var E=t.addPath(h,p),A=this;r.call(this,h,w),this.poll=new o(x,E,b),this.poll.on("message",function(R){A.emit("message",R)}),this.poll.once("close",function(R,D){A.poll=null,A.emit("close",R,D),A.close()})}return e(u,r),u.prototype.close=function(){r.prototype.close.call(this),this.removeAllListeners(),this.poll&&(this.poll.abort(),this.poll=null)},$1=u,$1}var J1,vv;function Cl(){if(vv)return J1;vv=1;var e=Ot(),t=yr(),r=b3();function o(h){return function(p,w,x){var b={};typeof w=="string"&&(b.headers={"Content-type":"text/plain"});var E=t.addPath(p,"/xhr_send"),A=new h("POST",E,w,b);return A.once("finish",function(R){if(A=null,R!==200&&R!==204)return x(new Error("http status "+R));x()}),function(){A.close(),A=null;var R=new Error("Aborted");R.code=1e3,x(R)}}}function u(h,p,w,x){r.call(this,h,p,o(x),w,x)}return e(u,r),J1=u,J1}var e0,wv;function Nh(){if(wv)return e0;wv=1;var e=Ot(),t=pi().EventEmitter;function r(o,u){t.call(this);var h=this;this.bufferPosition=0,this.xo=new u("POST",o,null),this.xo.on("chunk",this._chunkHandler.bind(this)),this.xo.once("finish",function(p,w){h._chunkHandler(p,w),h.xo=null;var x=p===200?"network":"permanent";h.emit("close",null,x),h._cleanup()})}return e(r,t),r.prototype._chunkHandler=function(o,u){if(!(o!==200||!u))for(var h=-1;;this.bufferPosition+=h+1){var p=u.slice(this.bufferPosition);if(h=p.indexOf(`
`),h===-1)break;var w=p.slice(0,h);w&&this.emit("message",w)}},r.prototype._cleanup=function(){this.removeAllListeners()},r.prototype.abort=function(){this.xo&&(this.xo.close(),this.emit("close",null,"user"),this.xo=null),this._cleanup()},e0=r,e0}var t0,xv;function v3(){if(xv)return t0;xv=1;var e=pi().EventEmitter,t=Ot(),r=Oa(),o=yr(),u=globalThis.XMLHttpRequest,h=function(){};function p(b,E,A,R){var D=this;e.call(this),setTimeout(function(){D._start(b,E,A,R)},0)}t(p,e),p.prototype._start=function(b,E,A,R){var D=this;try{this.xhr=new u}catch{}if(!this.xhr){this.emit("finish",0,"no xhr support"),this._cleanup();return}E=o.addQuery(E,"t="+ +new Date),this.unloadRef=r.unloadAdd(function(){D._cleanup(!0)});try{this.xhr.open(b,E,!0),this.timeout&&"timeout"in this.xhr&&(this.xhr.timeout=this.timeout,this.xhr.ontimeout=function(){h("xhr timeout"),D.emit("finish",0,""),D._cleanup(!1)})}catch{this.emit("finish",0,""),this._cleanup(!1);return}if((!R||!R.noCredentials)&&p.supportsCORS&&(this.xhr.withCredentials=!0),R&&R.headers)for(var _ in R.headers)this.xhr.setRequestHeader(_,R.headers[_]);this.xhr.onreadystatechange=function(){if(D.xhr){var k=D.xhr,P,Y;switch(h("readyState",k.readyState),k.readyState){case 3:try{Y=k.status,P=k.responseText}catch{}Y===1223&&(Y=204),Y===200&&P&&P.length>0&&D.emit("chunk",Y,P);break;case 4:Y=k.status,Y===1223&&(Y=204),(Y===12005||Y===12029)&&(Y=0),h("finish",Y,k.responseText),D.emit("finish",Y,k.responseText),D._cleanup(!1);break}}};try{D.xhr.send(A)}catch{D.emit("finish",0,""),D._cleanup(!1)}},p.prototype._cleanup=function(b){if(this.xhr){if(this.removeAllListeners(),r.unloadDel(this.unloadRef),this.xhr.onreadystatechange=function(){},this.xhr.ontimeout&&(this.xhr.ontimeout=null),b)try{this.xhr.abort()}catch{}this.unloadRef=this.xhr=null}},p.prototype.close=function(){this._cleanup(!0)},p.enabled=!!u;var w=["Active"].concat("Object").join("X");!p.enabled&&w in globalThis&&(u=function(){try{return new globalThis[w]("Microsoft.XMLHTTP")}catch{return null}},p.enabled=!!new u);var x=!1;try{x="withCredentials"in new u}catch{}return p.supportsCORS=x,t0=p,t0}var n0,Ev;function Th(){if(Ev)return n0;Ev=1;var e=Ot(),t=v3();function r(o,u,h,p){t.call(this,o,u,h,p)}return e(r,t),r.enabled=t.enabled&&t.supportsCORS,n0=r,n0}var i0,Cv;function Kc(){if(Cv)return i0;Cv=1;var e=Ot(),t=v3();function r(o,u,h){t.call(this,o,u,h,{noCredentials:!0})}return e(r,t),r.enabled=t.enabled,i0=r,i0}var r0,Sv;function $c(){return Sv||(Sv=1,r0={isOpera:function(){return globalThis.navigator&&/opera/i.test(globalThis.navigator.userAgent)},isKonqueror:function(){return globalThis.navigator&&/konqueror/i.test(globalThis.navigator.userAgent)},hasDomain:function(){if(!globalThis.document)return!0;try{return!!globalThis.document.domain}catch{return!1}}}),r0}var s0,Av;function NR(){if(Av)return s0;Av=1;var e=Ot(),t=Cl(),r=Nh(),o=Th(),u=Kc(),h=$c();function p(w){if(!u.enabled&&!o.enabled)throw new Error("Transport created when disabled");t.call(this,w,"/xhr_streaming",r,o)}return e(p,t),p.enabled=function(w){return w.nullOrigin||h.isOpera()?!1:o.enabled},p.transportName="xhr-streaming",p.roundTrips=2,p.needBody=!!globalThis.document,s0=p,s0}var a0,Nv;function vg(){if(Nv)return a0;Nv=1;var e=pi().EventEmitter,t=Ot(),r=Oa(),o=$c(),u=yr(),h=function(){};function p(w,x,b){var E=this;e.call(this),setTimeout(function(){E._start(w,x,b)},0)}return t(p,e),p.prototype._start=function(w,x,b){var E=this,A=new globalThis.XDomainRequest;x=u.addQuery(x,"t="+ +new Date),A.onerror=function(){E._error()},A.ontimeout=function(){E._error()},A.onprogress=function(){h("progress",A.responseText),E.emit("chunk",200,A.responseText)},A.onload=function(){E.emit("finish",200,A.responseText),E._cleanup(!1)},this.xdr=A,this.unloadRef=r.unloadAdd(function(){E._cleanup(!0)});try{this.xdr.open(w,x),this.timeout&&(this.xdr.timeout=this.timeout),this.xdr.send(b)}catch{this._error()}},p.prototype._error=function(){this.emit("finish",0,""),this._cleanup(!1)},p.prototype._cleanup=function(w){if(this.xdr){if(this.removeAllListeners(),r.unloadDel(this.unloadRef),this.xdr.ontimeout=this.xdr.onerror=this.xdr.onprogress=this.xdr.onload=null,w)try{this.xdr.abort()}catch{}this.unloadRef=this.xdr=null}},p.prototype.close=function(){this._cleanup(!0)},p.enabled=!!(globalThis.XDomainRequest&&o.hasDomain()),a0=p,a0}var o0,Tv;function w3(){if(Tv)return o0;Tv=1;var e=Ot(),t=Cl(),r=Nh(),o=vg();function u(h){if(!o.enabled)throw new Error("Transport created when disabled");t.call(this,h,"/xhr_streaming",r,o)}return e(u,t),u.enabled=function(h){return h.cookie_needed||h.nullOrigin?!1:o.enabled&&h.sameScheme},u.transportName="xdr-streaming",u.roundTrips=2,o0=u,o0}var l0,Rv;function x3(){return Rv||(Rv=1,l0=globalThis.EventSource),l0}var c0,Ov;function TR(){if(Ov)return c0;Ov=1;var e=Ot(),t=pi().EventEmitter,r=x3(),o=function(){};function u(h){t.call(this);var p=this,w=this.es=new r(h);w.onmessage=function(x){o("message",x.data),p.emit("message",decodeURI(x.data))},w.onerror=function(x){o("error",w.readyState);var b=w.readyState!==2?"network":"permanent";p._cleanup(),p._close(b)}}return e(u,t),u.prototype.abort=function(){this._cleanup(),this._close("user")},u.prototype._cleanup=function(){var h=this.es;h&&(h.onmessage=h.onerror=null,h.close(),this.es=null)},u.prototype._close=function(h){var p=this;setTimeout(function(){p.emit("close",null,h),p.removeAllListeners()},200)},c0=u,c0}var u0,Mv;function Iv(){if(Mv)return u0;Mv=1;var e=Ot(),t=Cl(),r=TR(),o=Th(),u=x3();function h(p){if(!h.enabled())throw new Error("Transport created when disabled");t.call(this,p,"/eventsource",r,o)}return e(h,t),h.enabled=function(){return!!u},h.transportName="eventsource",h.roundTrips=2,u0=h,u0}var d0,_v;function E3(){return _v||(_v=1,d0="1.6.1"),d0}var h0={exports:{}},Dv;function Jc(){return Dv||(Dv=1,(function(e){var t=Oa(),r=$c();e.exports={WPrefix:"_jp",currentWindowId:null,polluteGlobalNamespace:function(){e.exports.WPrefix in globalThis||(globalThis[e.exports.WPrefix]={})},postMessage:function(o,u){globalThis.parent!==globalThis&&globalThis.parent.postMessage(JSON.stringify({windowId:e.exports.currentWindowId,type:o,data:u||""}),"*")},createIframe:function(o,u){var h=globalThis.document.createElement("iframe"),p,w,x=function(){clearTimeout(p);try{h.onload=null}catch{}h.onerror=null},b=function(){h&&(x(),setTimeout(function(){h&&h.parentNode.removeChild(h),h=null},0),t.unloadDel(w))},E=function(R){h&&(b(),u(R))},A=function(R,D){setTimeout(function(){try{h&&h.contentWindow&&h.contentWindow.postMessage(R,D)}catch{}},0)};return h.src=o,h.style.display="none",h.style.position="absolute",h.onerror=function(){E("onerror")},h.onload=function(){clearTimeout(p),p=setTimeout(function(){E("onload timeout")},2e3)},globalThis.document.body.appendChild(h),p=setTimeout(function(){E("timeout")},15e3),w=t.unloadAdd(b),{post:A,cleanup:b,loaded:x}},createHtmlfile:function(o,u){var h=["Active"].concat("Object").join("X"),p=new globalThis[h]("htmlfile"),w,x,b,E=function(){clearTimeout(w),b.onerror=null},A=function(){p&&(E(),t.unloadDel(x),b.parentNode.removeChild(b),b=p=null,CollectGarbage())},R=function(k){p&&(A(),u(k))},D=function(k,P){try{setTimeout(function(){b&&b.contentWindow&&b.contentWindow.postMessage(k,P)},0)}catch{}};p.open(),p.write('<html><script>document.domain="'+globalThis.document.domain+'";<\/script></html>'),p.close(),p.parentWindow[e.exports.WPrefix]=globalThis[e.exports.WPrefix];var _=p.createElement("div");return p.body.appendChild(_),b=p.createElement("iframe"),_.appendChild(b),b.src=o,b.onerror=function(){R("onerror")},w=setTimeout(function(){R("timeout")},15e3),x=t.unloadAdd(A),{post:D,cleanup:A,loaded:E}}},e.exports.iframeEnabled=!1,globalThis.document&&(e.exports.iframeEnabled=(typeof globalThis.postMessage=="function"||typeof globalThis.postMessage=="object")&&!r.isKonqueror())})(h0)),h0.exports}var f0,jv;function C3(){if(jv)return f0;jv=1;var e=Ot(),t=pi().EventEmitter,r=E3(),o=yr(),u=Jc(),h=Oa(),p=El(),w=function(){};function x(b,E,A){if(!x.enabled())throw new Error("Transport created when disabled");t.call(this);var R=this;this.origin=o.getOrigin(A),this.baseUrl=A,this.transUrl=E,this.transport=b,this.windowId=p.string(8);var D=o.addPath(A,"/iframe.html")+"#"+this.windowId;this.iframeObj=u.createIframe(D,function(_){R.emit("close",1006,"Unable to load an iframe ("+_+")"),R.close()}),this.onmessageCallback=this._message.bind(this),h.attachEvent("message",this.onmessageCallback)}return e(x,t),x.prototype.close=function(){if(this.removeAllListeners(),this.iframeObj){h.detachEvent("message",this.onmessageCallback);try{this.postMessage("c")}catch{}this.iframeObj.cleanup(),this.iframeObj=null,this.onmessageCallback=this.iframeObj=null}},x.prototype._message=function(b){if(w("message",b.data),!o.isOriginEqual(b.origin,this.origin)){w("not same origin",b.origin,this.origin);return}var E;try{E=JSON.parse(b.data)}catch{w("bad json",b.data);return}if(E.windowId!==this.windowId){w("mismatched window id",E.windowId,this.windowId);return}switch(E.type){case"s":this.iframeObj.loaded(),this.postMessage("s",JSON.stringify([r,this.transport,this.transUrl,this.baseUrl]));break;case"t":this.emit("message",E.data);break;case"c":var A;try{A=JSON.parse(E.data)}catch{w("bad json",E.data);return}this.emit("close",A[0],A[1]),this.close();break}},x.prototype.postMessage=function(b,E){this.iframeObj.post(JSON.stringify({windowId:this.windowId,type:b,data:E||""}),this.origin)},x.prototype.send=function(b){this.postMessage("m",b)},x.enabled=function(){return u.iframeEnabled},x.transportName="iframe",x.roundTrips=2,f0=x,f0}var m0,Lv;function wg(){return Lv||(Lv=1,m0={isObject:function(e){var t=typeof e;return t==="function"||t==="object"&&!!e},extend:function(e){if(!this.isObject(e))return e;for(var t,r,o=1,u=arguments.length;o<u;o++){t=arguments[o];for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}}),m0}var g0,Bv;function p0(){if(Bv)return g0;Bv=1;var e=Ot(),t=C3(),r=wg();return g0=function(o){function u(h,p){t.call(this,o.transportName,h,p)}return e(u,t),u.enabled=function(h,p){if(!globalThis.document)return!1;var w=r.extend({},p);return w.sameOrigin=!0,o.enabled(w)&&t.enabled()},u.transportName="iframe-"+o.transportName,u.needBody=!0,u.roundTrips=t.roundTrips+o.roundTrips-1,u.facadeTransport=o,u},g0}var y0,kv;function RR(){if(kv)return y0;kv=1;var e=Ot(),t=Jc(),r=yr(),o=pi().EventEmitter,u=El(),h=function(){};function p(x){o.call(this);var b=this;t.polluteGlobalNamespace(),this.id="a"+u.string(6),x=r.addQuery(x,"c="+decodeURIComponent(t.WPrefix+"."+this.id)),h("using htmlfile",p.htmlfileEnabled);var E=p.htmlfileEnabled?t.createHtmlfile:t.createIframe;globalThis[t.WPrefix][this.id]={start:function(){b.iframeObj.loaded()},message:function(A){b.emit("message",A)},stop:function(){b._cleanup(),b._close("network")}},this.iframeObj=E(x,function(){b._cleanup(),b._close("permanent")})}e(p,o),p.prototype.abort=function(){this._cleanup(),this._close("user")},p.prototype._cleanup=function(){this.iframeObj&&(this.iframeObj.cleanup(),this.iframeObj=null),delete globalThis[t.WPrefix][this.id]},p.prototype._close=function(x){this.emit("close",null,x),this.removeAllListeners()},p.htmlfileEnabled=!1;var w=["Active"].concat("Object").join("X");if(w in globalThis)try{p.htmlfileEnabled=!!new globalThis[w]("htmlfile")}catch{}return p.enabled=p.htmlfileEnabled||t.iframeEnabled,y0=p,y0}var b0,Pv;function Uv(){if(Pv)return b0;Pv=1;var e=Ot(),t=RR(),r=Kc(),o=Cl();function u(h){if(!t.enabled)throw new Error("Transport created when disabled");o.call(this,h,"/htmlfile",t,r)}return e(u,o),u.enabled=function(h){return t.enabled&&h.sameOrigin},u.transportName="htmlfile",u.roundTrips=2,b0=u,b0}var v0,zv;function Fv(){if(zv)return v0;zv=1;var e=Ot(),t=Cl(),r=Nh(),o=Th(),u=Kc();function h(p){if(!u.enabled&&!o.enabled)throw new Error("Transport created when disabled");t.call(this,p,"/xhr",r,o)}return e(h,t),h.enabled=function(p){return p.nullOrigin?!1:u.enabled&&p.sameOrigin?!0:o.enabled},h.transportName="xhr-polling",h.roundTrips=2,v0=h,v0}var w0,Vv;function OR(){if(Vv)return w0;Vv=1;var e=Ot(),t=Cl(),r=w3(),o=Nh(),u=vg();function h(p){if(!u.enabled)throw new Error("Transport created when disabled");t.call(this,p,"/xhr",o,u)}return e(h,t),h.enabled=r.enabled,h.transportName="xdr-polling",h.roundTrips=2,w0=h,w0}var x0,Hv;function MR(){if(Hv)return x0;Hv=1;var e=Jc(),t=El(),r=$c(),o=yr(),u=Ot(),h=pi().EventEmitter,p=function(){};function w(x){var b=this;h.call(this),e.polluteGlobalNamespace(),this.id="a"+t.string(6);var E=o.addQuery(x,"c="+encodeURIComponent(e.WPrefix+"."+this.id));globalThis[e.WPrefix][this.id]=this._callback.bind(this),this._createScript(E),this.timeoutId=setTimeout(function(){b._abort(new Error("JSONP script loaded abnormally (timeout)"))},w.timeout)}return u(w,h),w.prototype.abort=function(){if(globalThis[e.WPrefix][this.id]){var x=new Error("JSONP user aborted read");x.code=1e3,this._abort(x)}},w.timeout=35e3,w.scriptErrorTimeout=1e3,w.prototype._callback=function(x){this._cleanup(),!this.aborting&&(x&&this.emit("message",x),this.emit("close",null,"network"),this.removeAllListeners())},w.prototype._abort=function(x){this._cleanup(),this.aborting=!0,this.emit("close",x.code,x.message),this.removeAllListeners()},w.prototype._cleanup=function(){if(clearTimeout(this.timeoutId),this.script2&&(this.script2.parentNode.removeChild(this.script2),this.script2=null),this.script){var x=this.script;x.parentNode.removeChild(x),x.onreadystatechange=x.onerror=x.onload=x.onclick=null,this.script=null}delete globalThis[e.WPrefix][this.id]},w.prototype._scriptError=function(){var x=this;this.errorTimer||(this.errorTimer=setTimeout(function(){x.loadedOkay||x._abort(new Error("JSONP script loaded abnormally (onerror)"))},w.scriptErrorTimeout))},w.prototype._createScript=function(x){var b=this,E=this.script=globalThis.document.createElement("script"),A;if(E.id="a"+t.string(8),E.src=x,E.type="text/javascript",E.charset="UTF-8",E.onerror=this._scriptError.bind(this),E.onload=function(){b._abort(new Error("JSONP script loaded abnormally (onload)"))},E.onreadystatechange=function(){if(p("onreadystatechange",E.readyState),/loaded|closed/.test(E.readyState)){if(E&&E.htmlFor&&E.onclick){b.loadedOkay=!0;try{E.onclick()}catch{}}E&&b._abort(new Error("JSONP script loaded abnormally (onreadystatechange)"))}},typeof E.async>"u"&&globalThis.document.attachEvent)if(r.isOpera())A=this.script2=globalThis.document.createElement("script"),A.text="try{var a = document.getElementById('"+E.id+"'); if(a)a.onerror();}catch(x){};",E.async=A.async=!1;else{try{E.htmlFor=E.id,E.event="onclick"}catch{}E.async=!0}typeof E.async<"u"&&(E.async=!0);var R=globalThis.document.getElementsByTagName("head")[0];R.insertBefore(E,R.firstChild),A&&R.insertBefore(A,R.firstChild)},x0=w,x0}var E0,qv;function IR(){if(qv)return E0;qv=1;var e=El(),t=yr(),r=function(){},o,u;function h(w){try{return globalThis.document.createElement('<iframe name="'+w+'">')}catch{var x=globalThis.document.createElement("iframe");return x.name=w,x}}function p(){o=globalThis.document.createElement("form"),o.style.display="none",o.style.position="absolute",o.method="POST",o.enctype="application/x-www-form-urlencoded",o.acceptCharset="UTF-8",u=globalThis.document.createElement("textarea"),u.name="d",o.appendChild(u),globalThis.document.body.appendChild(o)}return E0=function(w,x,b){o||p();var E="a"+e.string(8);o.target=E,o.action=t.addQuery(t.addPath(w,"/jsonp_send"),"i="+E);var A=h(E);A.id=E,A.style.display="none",o.appendChild(A);try{u.value=x}catch{}o.submit();var R=function(D){A.onerror&&(A.onreadystatechange=A.onerror=A.onload=null,setTimeout(function(){A.parentNode.removeChild(A),A=null},500),u.value="",b(D))};return A.onerror=function(){R()},A.onload=function(){R()},A.onreadystatechange=function(D){r("onreadystatechange",E,A.readyState),A.readyState==="complete"&&R()},function(){R(new Error("Aborted"))}},E0}var C0,Gv;function _R(){if(Gv)return C0;Gv=1;var e=Ot(),t=b3(),r=MR(),o=IR();function u(h){if(!u.enabled())throw new Error("Transport created when disabled");t.call(this,h,"/jsonp",o,r)}return e(u,t),u.enabled=function(){return!!globalThis.document},u.transportName="jsonp-polling",u.roundTrips=1,u.needBody=!0,C0=u,C0}var S0,Yv;function DR(){return Yv||(Yv=1,S0=[CR(),NR(),w3(),Iv(),p0()(Iv()),Uv(),p0()(Uv()),Fv(),OR(),p0()(Fv()),_R()]),S0}var Xv={},Wv;function jR(){if(Wv)return Xv;Wv=1;var e=Array.prototype,t=Object.prototype,r=Function.prototype,o=String.prototype,u=e.slice,h=t.toString,p=function(z){return t.toString.call(z)==="[object Function]"},w=function(G){return h.call(G)==="[object Array]"},x=function(G){return h.call(G)==="[object String]"},b=Object.defineProperty&&(function(){try{return Object.defineProperty({},"x",{}),!0}catch{return!1}})(),E;b?E=function(z,G,Q,Ee){!Ee&&G in z||Object.defineProperty(z,G,{configurable:!0,enumerable:!1,writable:!0,value:Q})}:E=function(z,G,Q,Ee){!Ee&&G in z||(z[G]=Q)};var A=function(z,G,Q){for(var Ee in G)t.hasOwnProperty.call(G,Ee)&&E(z,Ee,G[Ee],Q)},R=function(z){if(z==null)throw new TypeError("can't convert "+z+" to object");return Object(z)};function D(z){var G=+z;return G!==G?G=0:G!==0&&G!==1/0&&G!==-1/0&&(G=(G>0||-1)*Math.floor(Math.abs(G))),G}function _(z){return z>>>0}function k(){}A(r,{bind:function(G){var Q=this;if(!p(Q))throw new TypeError("Function.prototype.bind called on incompatible "+Q);for(var Ee=u.call(arguments,1),ae=function(){if(this instanceof ne){var re=Q.apply(this,Ee.concat(u.call(arguments)));return Object(re)===re?re:this}else return Q.apply(G,Ee.concat(u.call(arguments)))},ve=Math.max(0,Q.length-Ee.length),me=[],je=0;je<ve;je++)me.push("$"+je);var ne=Function("binder","return function ("+me.join(",")+"){ return binder.apply(this, arguments); }")(ae);return Q.prototype&&(k.prototype=Q.prototype,ne.prototype=new k,k.prototype=null),ne}}),A(Array,{isArray:w});var P=Object("a"),Y=P[0]!=="a"||!(0 in P),j=function(G){var Q=!0,Ee=!0;return G&&(G.call("foo",function(ae,ve,me){typeof me!="object"&&(Q=!1)}),G.call([1],function(){Ee=typeof this=="string"},"x")),!!G&&Q&&Ee};A(e,{forEach:function(G){var Q=R(this),Ee=Y&&x(this)?this.split(""):Q,ae=arguments[1],ve=-1,me=Ee.length>>>0;if(!p(G))throw new TypeError;for(;++ve<me;)ve in Ee&&G.call(ae,Ee[ve],ve,Q)}},!j(e.forEach));var U=Array.prototype.indexOf&&[0,1].indexOf(1,2)!==-1;A(e,{indexOf:function(G){var Q=Y&&x(this)?this.split(""):R(this),Ee=Q.length>>>0;if(!Ee)return-1;var ae=0;for(arguments.length>1&&(ae=D(arguments[1])),ae=ae>=0?ae:Math.max(0,Ee+ae);ae<Ee;ae++)if(ae in Q&&Q[ae]===G)return ae;return-1}},U);var F=o.split;"ab".split(/(?:ab)*/).length!==2||".".split(/(.?)(.?)/).length!==4||"tesst".split(/(s)*/)[1]==="t"||"test".split(/(?:)/,-1).length!==4||"".split(/.?/).length||".".split(/()()/).length>1?(function(){var z=/()??/.exec("")[1]===void 0;o.split=function(G,Q){var Ee=this;if(G===void 0&&Q===0)return[];if(h.call(G)!=="[object RegExp]")return F.call(this,G,Q);var ae=[],ve=(G.ignoreCase?"i":"")+(G.multiline?"m":"")+(G.extended?"x":"")+(G.sticky?"y":""),me=0,je,ne,re,ue;for(G=new RegExp(G.source,ve+"g"),Ee+="",z||(je=new RegExp("^"+G.source+"$(?!\\s)",ve)),Q=Q===void 0?-1>>>0:_(Q);(ne=G.exec(Ee))&&(re=ne.index+ne[0].length,!(re>me&&(ae.push(Ee.slice(me,ne.index)),!z&&ne.length>1&&ne[0].replace(je,function(){for(var we=1;we<arguments.length-2;we++)arguments[we]===void 0&&(ne[we]=void 0)}),ne.length>1&&ne.index<Ee.length&&e.push.apply(ae,ne.slice(1)),ue=ne[0].length,me=re,ae.length>=Q)));)G.lastIndex===ne.index&&G.lastIndex++;return me===Ee.length?(ue||!G.test(""))&&ae.push(""):ae.push(Ee.slice(me)),ae.length>Q?ae.slice(0,Q):ae}})():"0".split(void 0,0).length&&(o.split=function(G,Q){return G===void 0&&Q===0?[]:F.call(this,G,Q)});var I=o.substr,X="".substr&&"0b".substr(-1)!=="b";return A(o,{substr:function(G,Q){return I.call(this,G<0&&(G=this.length+G)<0?0:G,Q)}},X),Xv}var A0,Qv;function LR(){if(Qv)return A0;Qv=1;var e=/[\x00-\x1f\ud800-\udfff\ufffe\uffff\u0300-\u0333\u033d-\u0346\u034a-\u034c\u0350-\u0352\u0357-\u0358\u035c-\u0362\u0374\u037e\u0387\u0591-\u05af\u05c4\u0610-\u0617\u0653-\u0654\u0657-\u065b\u065d-\u065e\u06df-\u06e2\u06eb-\u06ec\u0730\u0732-\u0733\u0735-\u0736\u073a\u073d\u073f-\u0741\u0743\u0745\u0747\u07eb-\u07f1\u0951\u0958-\u095f\u09dc-\u09dd\u09df\u0a33\u0a36\u0a59-\u0a5b\u0a5e\u0b5c-\u0b5d\u0e38-\u0e39\u0f43\u0f4d\u0f52\u0f57\u0f5c\u0f69\u0f72-\u0f76\u0f78\u0f80-\u0f83\u0f93\u0f9d\u0fa2\u0fa7\u0fac\u0fb9\u1939-\u193a\u1a17\u1b6b\u1cda-\u1cdb\u1dc0-\u1dcf\u1dfc\u1dfe\u1f71\u1f73\u1f75\u1f77\u1f79\u1f7b\u1f7d\u1fbb\u1fbe\u1fc9\u1fcb\u1fd3\u1fdb\u1fe3\u1feb\u1fee-\u1fef\u1ff9\u1ffb\u1ffd\u2000-\u2001\u20d0-\u20d1\u20d4-\u20d7\u20e7-\u20e9\u2126\u212a-\u212b\u2329-\u232a\u2adc\u302b-\u302c\uaab2-\uaab3\uf900-\ufa0d\ufa10\ufa12\ufa15-\ufa1e\ufa20\ufa22\ufa25-\ufa26\ufa2a-\ufa2d\ufa30-\ufa6d\ufa70-\ufad9\ufb1d\ufb1f\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufb4e\ufff0-\uffff]/g,t,r=function(o){var u,h={},p=[];for(u=0;u<65536;u++)p.push(String.fromCharCode(u));return o.lastIndex=0,p.join("").replace(o,function(w){return h[w]="\\u"+("0000"+w.charCodeAt(0).toString(16)).slice(-4),""}),o.lastIndex=0,h};return A0={quote:function(o){var u=JSON.stringify(o);return e.lastIndex=0,e.test(u)?(t||(t=r(e)),u.replace(e,function(h){return t[h]})):u}},A0}var N0,Zv;function BR(){if(Zv)return N0;Zv=1;var e=function(){};return N0=function(t){return{filterToEnabled:function(r,o){var u={main:[],facade:[]};return r?typeof r=="string"&&(r=[r]):r=[],t.forEach(function(h){if(h&&!(h.transportName==="websocket"&&o.websocket===!1)){if(r.length&&r.indexOf(h.transportName)===-1){e("not in whitelist",h.transportName);return}h.enabled(o)?(e("enabled",h.transportName),u.main.push(h),h.facadeTransport&&u.facade.push(h.facadeTransport)):e("disabled",h.transportName)}}),u}}},N0}var T0,Kv;function kR(){if(Kv)return T0;Kv=1;var e={};return["log","debug","warn"].forEach(function(t){var r;try{r=globalThis.console&&globalThis.console[t]&&globalThis.console[t].apply}catch{}e[t]=r?function(){return globalThis.console[t].apply(globalThis.console,arguments)}:t==="log"?function(){}:e.log}),T0=e,T0}var R0,$v;function xg(){if($v)return R0;$v=1;function e(t){this.type=t}return e.prototype.initEvent=function(t,r,o){return this.type=t,this.bubbles=r,this.cancelable=o,this.timeStamp=+new Date,this},e.prototype.stopPropagation=function(){},e.prototype.preventDefault=function(){},e.CAPTURING_PHASE=1,e.AT_TARGET=2,e.BUBBLING_PHASE=3,R0=e,R0}var O0,Jv;function S3(){return Jv||(Jv=1,O0=globalThis.location||{origin:"http://localhost:80",protocol:"http:",host:"localhost",port:80,href:"http://localhost/",hash:""}),O0}var M0,ew;function PR(){if(ew)return M0;ew=1;var e=Ot(),t=xg();function r(){t.call(this),this.initEvent("close",!1,!1),this.wasClean=!1,this.code=0,this.reason=""}return e(r,t),M0=r,M0}var I0,tw;function UR(){if(tw)return I0;tw=1;var e=Ot(),t=xg();function r(o){t.call(this),this.initEvent("message",!1,!1),this.data=o}return e(r,t),I0=r,I0}var _0,nw;function zR(){if(nw)return _0;nw=1;var e=pi().EventEmitter,t=Ot();function r(){var o=this;e.call(this),this.to=setTimeout(function(){o.emit("finish",200,"{}")},r.timeout)}return t(r,e),r.prototype.close=function(){clearTimeout(this.to)},r.timeout=2e3,_0=r,_0}var D0,iw;function A3(){if(iw)return D0;iw=1;var e=pi().EventEmitter,t=Ot(),r=wg();function o(u,h){e.call(this);var p=this,w=+new Date;this.xo=new h("GET",u),this.xo.once("finish",function(x,b){var E,A;if(x===200){if(A=+new Date-w,b)try{E=JSON.parse(b)}catch{}r.isObject(E)||(E={})}p.emit("finish",E,A),p.removeAllListeners()})}return t(o,e),o.prototype.close=function(){this.removeAllListeners(),this.xo.close()},D0=o,D0}var j0,rw;function N3(){if(rw)return j0;rw=1;var e=Ot(),t=pi().EventEmitter,r=Kc(),o=A3();function u(h){var p=this;t.call(this),this.ir=new o(h,r),this.ir.once("finish",function(w,x){p.ir=null,p.emit("message",JSON.stringify([w,x]))})}return e(u,t),u.transportName="iframe-info-receiver",u.prototype.close=function(){this.ir&&(this.ir.close(),this.ir=null),this.removeAllListeners()},j0=u,j0}var L0,sw;function FR(){if(sw)return L0;sw=1;var e=pi().EventEmitter,t=Ot(),r=Oa(),o=C3(),u=N3();function h(p,w){var x=this;e.call(this);var b=function(){var E=x.ifr=new o(u.transportName,w,p);E.once("message",function(A){if(A){var R;try{R=JSON.parse(A)}catch{x.emit("finish"),x.close();return}var D=R[0],_=R[1];x.emit("finish",D,_)}x.close()}),E.once("close",function(){x.emit("finish"),x.close()})};globalThis.document.body?b():r.attachEvent("load",b)}return t(h,e),h.enabled=function(){return o.enabled()},h.prototype.close=function(){this.ifr&&this.ifr.close(),this.removeAllListeners(),this.ifr=null},L0=h,L0}var B0,aw;function VR(){if(aw)return B0;aw=1;var e=pi().EventEmitter,t=Ot(),r=yr(),o=vg(),u=Th(),h=Kc(),p=zR(),w=FR(),x=A3();function b(E,A){var R=this;e.call(this),setTimeout(function(){R.doXhr(E,A)},0)}return t(b,e),b._getReceiver=function(E,A,R){return R.sameOrigin?new x(A,h):u.enabled?new x(A,u):o.enabled&&R.sameScheme?new x(A,o):w.enabled()?new w(E,A):new x(A,p)},b.prototype.doXhr=function(E,A){var R=this,D=r.addPath(E,"/info");this.xo=b._getReceiver(E,D,A),this.timeoutRef=setTimeout(function(){R._cleanup(!1),R.emit("finish")},b.timeout),this.xo.once("finish",function(_,k){R._cleanup(!0),R.emit("finish",_,k)})},b.prototype._cleanup=function(E){clearTimeout(this.timeoutRef),this.timeoutRef=null,!E&&this.xo&&this.xo.close(),this.xo=null},b.prototype.close=function(){this.removeAllListeners(),this._cleanup(!1)},b.timeout=8e3,B0=b,B0}var k0,ow;function HR(){if(ow)return k0;ow=1;var e=Jc();function t(r){this._transport=r,r.on("message",this._transportMessage.bind(this)),r.on("close",this._transportClose.bind(this))}return t.prototype._transportClose=function(r,o){e.postMessage("c",JSON.stringify([r,o]))},t.prototype._transportMessage=function(r){e.postMessage("t",r)},t.prototype._send=function(r){this._transport.send(r)},t.prototype._close=function(){this._transport.close(),this._transport.removeAllListeners()},k0=t,k0}var P0,lw;function qR(){if(lw)return P0;lw=1;var e=yr(),t=Oa(),r=HR(),o=N3(),u=Jc(),h=S3(),p=function(){};return P0=function(w,x){var b={};x.forEach(function(A){A.facadeTransport&&(b[A.facadeTransport.transportName]=A.facadeTransport)}),b[o.transportName]=o;var E;w.bootstrap_iframe=function(){var A;u.currentWindowId=h.hash.slice(1);var R=function(D){if(D.source===parent&&(typeof E>"u"&&(E=D.origin),D.origin===E)){var _;try{_=JSON.parse(D.data)}catch{p("bad json",D.data);return}if(_.windowId===u.currentWindowId)switch(_.type){case"s":var k;try{k=JSON.parse(_.data)}catch{p("bad json",_.data);break}var P=k[0],Y=k[1],j=k[2],U=k[3];if(P!==w.version)throw new Error('Incompatible SockJS! Main site uses: "'+P+'", the iframe: "'+w.version+'".');if(!e.isOriginEqual(j,h.href)||!e.isOriginEqual(U,h.href))throw new Error("Can't connect to different domain from within an iframe. ("+h.href+", "+j+", "+U+")");A=new r(new b[Y](j,U));break;case"m":A._send(_.data);break;case"c":A&&A._close(),A=null;break}}};t.attachEvent("message",R),u.postMessage("s")}},P0}var U0,cw;function GR(){if(cw)return U0;cw=1,jR();var e=p3(),t=Ot(),r=El(),o=LR(),u=yr(),h=Oa(),p=BR(),w=wg(),x=$c(),b=kR(),E=xg(),A=y3(),R=S3(),D=PR(),_=UR(),k=VR(),P=function(){},Y;function j(F,I,X){if(!(this instanceof j))return new j(F,I,X);if(arguments.length<1)throw new TypeError("Failed to construct 'SockJS: 1 argument required, but only 0 present");A.call(this),this.readyState=j.CONNECTING,this.extensions="",this.protocol="",X=X||{},X.protocols_whitelist&&b.warn("'protocols_whitelist' is DEPRECATED. Use 'transports' instead."),this._transportsWhitelist=X.transports,this._transportOptions=X.transportOptions||{},this._timeout=X.timeout||0;var z=X.sessionId||8;if(typeof z=="function")this._generateSessionId=z;else if(typeof z=="number")this._generateSessionId=function(){return r.string(z)};else throw new TypeError("If sessionId is used in the options, it needs to be a number or a function.");this._server=X.server||r.numberString(1e3);var G=new e(F);if(!G.host||!G.protocol)throw new SyntaxError("The URL '"+F+"' is invalid");if(G.hash)throw new SyntaxError("The URL must not contain a fragment");if(G.protocol!=="http:"&&G.protocol!=="https:")throw new SyntaxError("The URL's scheme must be either 'http:' or 'https:'. '"+G.protocol+"' is not allowed.");var Q=G.protocol==="https:";if(R.protocol==="https:"&&!Q&&!u.isLoopbackAddr(G.hostname))throw new Error("SecurityError: An insecure SockJS connection may not be initiated from a page loaded over HTTPS");I?Array.isArray(I)||(I=[I]):I=[];var Ee=I.sort();Ee.forEach(function(ve,me){if(!ve)throw new SyntaxError("The protocols entry '"+ve+"' is invalid.");if(me<Ee.length-1&&ve===Ee[me+1])throw new SyntaxError("The protocols entry '"+ve+"' is duplicated.")});var ae=u.getOrigin(R.href);this._origin=ae?ae.toLowerCase():null,G.set("pathname",G.pathname.replace(/\/+$/,"")),this.url=G.href,P("using url",this.url),this._urlInfo={nullOrigin:!x.hasDomain(),sameOrigin:u.isOriginEqual(this.url,R.href),sameScheme:u.isSchemeEqual(this.url,R.href)},this._ir=new k(this.url,this._urlInfo),this._ir.once("finish",this._receiveInfo.bind(this))}t(j,A);function U(F){return F===1e3||F>=3e3&&F<=4999}return j.prototype.close=function(F,I){if(F&&!U(F))throw new Error("InvalidAccessError: Invalid code");if(I&&I.length>123)throw new SyntaxError("reason argument has an invalid length");if(!(this.readyState===j.CLOSING||this.readyState===j.CLOSED)){var X=!0;this._close(F||1e3,I||"Normal closure",X)}},j.prototype.send=function(F){if(typeof F!="string"&&(F=""+F),this.readyState===j.CONNECTING)throw new Error("InvalidStateError: The connection has not been established yet");this.readyState===j.OPEN&&this._transport.send(o.quote(F))},j.version=E3(),j.CONNECTING=0,j.OPEN=1,j.CLOSING=2,j.CLOSED=3,j.prototype._receiveInfo=function(F,I){if(this._ir=null,!F){this._close(1002,"Cannot connect to server");return}this._rto=this.countRTO(I),this._transUrl=F.base_url?F.base_url:this.url,F=w.extend(F,this._urlInfo);var X=Y.filterToEnabled(this._transportsWhitelist,F);this._transports=X.main,P(this._transports.length+" enabled transports"),this._connect()},j.prototype._connect=function(){for(var F=this._transports.shift();F;F=this._transports.shift()){if(P("attempt",F.transportName),F.needBody&&(!globalThis.document.body||typeof globalThis.document.readyState<"u"&&globalThis.document.readyState!=="complete"&&globalThis.document.readyState!=="interactive")){this._transports.unshift(F),h.attachEvent("load",this._connect.bind(this));return}var I=Math.max(this._timeout,this._rto*F.roundTrips||5e3);this._transportTimeoutId=setTimeout(this._transportTimeout.bind(this),I);var X=u.addPath(this._transUrl,"/"+this._server+"/"+this._generateSessionId()),z=this._transportOptions[F.transportName],G=new F(X,this._transUrl,z);G.on("message",this._transportMessage.bind(this)),G.once("close",this._transportClose.bind(this)),G.transportName=F.transportName,this._transport=G;return}this._close(2e3,"All transports failed",!1)},j.prototype._transportTimeout=function(){this.readyState===j.CONNECTING&&(this._transport&&this._transport.close(),this._transportClose(2007,"Transport timed out"))},j.prototype._transportMessage=function(F){var I=this,X=F.slice(0,1),z=F.slice(1),G;switch(X){case"o":this._open();return;case"h":this.dispatchEvent(new E("heartbeat")),P("heartbeat",this.transport);return}if(z)try{G=JSON.parse(z)}catch{}if(!(typeof G>"u"))switch(X){case"a":Array.isArray(G)&&G.forEach(function(Q){P("message",I.transport),I.dispatchEvent(new _(Q))});break;case"m":P("message",this.transport),this.dispatchEvent(new _(G));break;case"c":Array.isArray(G)&&G.length===2&&this._close(G[0],G[1],!0);break}},j.prototype._transportClose=function(F,I){if(P("_transportClose",this.transport),this._transport&&(this._transport.removeAllListeners(),this._transport=null,this.transport=null),!U(F)&&F!==2e3&&this.readyState===j.CONNECTING){this._connect();return}this._close(F,I)},j.prototype._open=function(){P("_open",this._transport&&this._transport.transportName,this.readyState),this.readyState===j.CONNECTING?(this._transportTimeoutId&&(clearTimeout(this._transportTimeoutId),this._transportTimeoutId=null),this.readyState=j.OPEN,this.transport=this._transport.transportName,this.dispatchEvent(new E("open")),P("connected",this.transport)):this._close(1006,"Server lost session")},j.prototype._close=function(F,I,X){P("_close",this.transport,F,I,X,this.readyState);var z=!1;if(this._ir&&(z=!0,this._ir.close(),this._ir=null),this._transport&&(this._transport.close(),this._transport=null,this.transport=null),this.readyState===j.CLOSED)throw new Error("InvalidStateError: SockJS has already been closed");this.readyState=j.CLOSING,setTimeout((function(){this.readyState=j.CLOSED,z&&this.dispatchEvent(new E("error"));var G=new D("close");G.wasClean=X||!1,G.code=F||1e3,G.reason=I,this.dispatchEvent(G),this.onmessage=this.onclose=this.onerror=null}).bind(this),0)},j.prototype.countRTO=function(F){return F>100?4*F:300+F},U0=function(F){return Y=p(F),qR()(j,F),j},U0}var z0,uw;function YR(){if(uw)return z0;uw=1;var e=DR();return z0=GR()(e),"_sockjs_onload"in globalThis&&setTimeout(globalThis._sockjs_onload,1),z0}var XR=YR();const WR=Xx(XR),QR=(e={})=>{const{autoConnect:t=!0,onConnect:r,onDisconnect:o,onError:u}=e,[h,p]=H.useState(!1),[w,x]=H.useState(null),b=H.useRef(null),E=H.useRef(new Map),A=H.useRef(null),R=H.useRef(0),D=3,_=3e5,k=H.useCallback(()=>{if(b.current?.active){console.log("[WebSocket] Already connected");return}console.log("[WebSocket] Initiating connection...");const I=localStorage.getItem(Zr.TOKEN),X="http://localhost:8089/ws",z=new bR.Client({webSocketFactory:()=>new WR(X),connectHeaders:{Authorization:I?`Bearer ${I}`:""},debug:G=>{},reconnectDelay:_,heartbeatIncoming:1e4,heartbeatOutgoing:1e4,onConnect:G=>{console.log("[WebSocket] Connected successfully",G),p(!0),x(null),R.current=0,r&&r(G)},onDisconnect:G=>{console.log("[WebSocket] Disconnected",G),p(!1),E.current.clear(),o&&o(G),P()},onStompError:G=>{console.error("[WebSocket] STOMP error",G);const Q=G.headers?.message||"WebSocket error occurred";x(Q),u&&u(Q)},onWebSocketError:G=>{console.error("[WebSocket] WebSocket error",G);const Q="WebSocket connection error";x(Q),u&&u(Q)}});b.current=z,z.activate()},[r,o,u]),P=H.useCallback(()=>{if(R.current>=D){console.error("[WebSocket] Max reconnection attempts reached (3 attempts)"),x("Failed to reconnect after 3 attempts. Please refresh the page.");return}R.current+=1;const I=_/6e4;console.log(`[WebSocket] Reconnecting in ${I} minutes (attempt ${R.current}/${D})`),A.current=setTimeout(()=>{k()},_)},[k]),Y=H.useCallback(()=>{console.log("[WebSocket] Disconnecting..."),A.current&&(clearTimeout(A.current),A.current=null),b.current?.active&&b.current.deactivate(),E.current.clear(),p(!1)},[]),j=H.useCallback((I,X)=>{if(!b.current?.active)return console.warn("[WebSocket] Not connected. Cannot subscribe to:",I),null;console.log("[WebSocket] Subscribing to:",I);try{const z=b.current.subscribe(I,Q=>{try{const Ee=JSON.parse(Q.body);console.log("[WebSocket] Message received from",I,Ee),X(Ee)}catch(Ee){console.error("[WebSocket] Failed to parse message:",Ee)}}),G=z.id;return E.current.set(G,z),G}catch(z){return console.error("[WebSocket] Subscription error:",z),null}},[]),U=H.useCallback(I=>{if(!I)return;const X=E.current.get(I);X&&(console.log("[WebSocket] Unsubscribing:",I),X.unsubscribe(),E.current.delete(I))},[]),F=H.useCallback((I,X)=>{if(!b.current?.active){console.warn("[WebSocket] Not connected. Cannot send message to:",I);return}try{b.current.publish({destination:I,body:JSON.stringify(X)}),console.log("[WebSocket] Message sent to",I,X)}catch(z){console.error("[WebSocket] Failed to send message:",z)}},[]);return H.useEffect(()=>(t&&k(),()=>{Y()}),[t,k,Y]),{isConnected:h,connectionError:w,connect:k,disconnect:Y,subscribe:j,unsubscribe:U,send:F}},T3=H.createContext(null),ZR=({children:e})=>{const{user:t}=_s(),[r,o]=H.useState([]),[u,h]=H.useState(0),{isConnected:p,connectionError:w,subscribe:x,unsubscribe:b}=QR({autoConnect:!!t,onConnect:()=>{console.log("[Notifications] WebSocket connected")},onDisconnect:()=>{console.log("[Notifications] WebSocket disconnected")},onError:Y=>{console.error("[Notifications] WebSocket error:",Y)}}),E=H.useCallback(Y=>{console.log("[Notifications] Received:",Y),o(U=>[{...Y,id:`${Y.orderId}-${Date.now()}`,timestamp:Y.timestamp||new Date().toISOString(),read:!1},...U.slice(0,49)]),h(U=>U+1);const j=Y.message||"Order update received";Y.type==="NEW_ORDER"?ze.success(`${j} - Order #${Y.orderNumber}`,{duration:5e3,icon:""}):Y.type==="STATUS_CHANGE"?ze(`${j} - Order #${Y.orderNumber}`,{duration:4e3,icon:""}):ze(j,{duration:3e3}),A()},[]),A=H.useCallback(()=>{try{const Y=new(window.AudioContext||window.webkitAudioContext),j=Y.createOscillator(),U=Y.createGain();j.connect(U),U.connect(Y.destination),j.frequency.value=800,j.type="sine",U.gain.setValueAtTime(.3,Y.currentTime),U.gain.exponentialRampToValueAtTime(.01,Y.currentTime+.5),j.start(Y.currentTime),j.stop(Y.currentTime+.5)}catch(Y){console.warn("[Notifications] Failed to play sound:",Y)}},[]);H.useEffect(()=>{if(!p||!t)return;const Y=[];if(t.role==="ROLE_VENDOR"){const j=`/topic/orders/vendor/${t.id}`,U=x(j,E);U&&(Y.push(U),console.log("[Notifications] Subscribed to vendor topic:",j))}else if(t.role==="ROLE_EMPLOYEE"){const j=`/queue/orders/user/${t.id}`,U=x(j,E);U&&(Y.push(U),console.log("[Notifications] Subscribed to user queue:",j))}return()=>{Y.forEach(j=>b(j))}},[p,t,x,b,E]);const R=H.useCallback(Y=>{o(j=>j.map(U=>U.id===Y?{...U,read:!0}:U)),h(j=>Math.max(0,j-1))},[]),D=H.useCallback(()=>{o(Y=>Y.map(j=>({...j,read:!0}))),h(0)},[]),_=H.useCallback(Y=>{o(j=>{const U=j.find(F=>F.id===Y);return U&&!U.read&&h(F=>Math.max(0,F-1)),j.filter(F=>F.id!==Y)})},[]),k=H.useCallback(()=>{o([]),h(0)},[]),P={notifications:r,unreadCount:u,isConnected:p,connectionError:w,markAsRead:R,markAllAsRead:D,clearNotification:_,clearAllNotifications:k};return y.jsx(T3.Provider,{value:P,children:e})},Eg=()=>{const e=H.useContext(T3);if(!e)throw new Error("useOrderNotifications must be used within OrderNotificationProvider");return e},KR=()=>{const e=Ki(),[t,r]=H.useState(!1),o=H.useRef(null),{notifications:u,unreadCount:h,isConnected:p,markAsRead:w,markAllAsRead:x,clearNotification:b}=Eg();H.useEffect(()=>{const R=D=>{o.current&&!o.current.contains(D.target)&&r(!1)};return t&&document.addEventListener("mousedown",R),()=>{document.removeEventListener("mousedown",R)}},[t]);const E=R=>{w(R.id),r(!1),R.orderId&&e(`/orders/${R.orderId}`)},A=R=>{const D=new Date(R),k=new Date-D,P=Math.floor(k/6e4);if(P<1)return"Just now";if(P<60)return`${P}m ago`;const Y=Math.floor(P/60);return Y<24?`${Y}h ago`:`${Math.floor(Y/24)}d ago`};return y.jsxs("div",{className:"relative",ref:o,children:[y.jsxs("button",{onClick:()=>r(!t),className:"relative p-2 rounded-xl hover:bg-gray-100 transition-colors","aria-label":"Notifications",children:[y.jsx(Kb,{className:"text-gray-600",size:24}),h>0&&y.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs font-bold rounded-full w-5 h-5 flex items-center justify-center",children:h>9?"9+":h}),y.jsx("span",{className:`absolute bottom-1 right-1 w-2 h-2 rounded-full ${p?"bg-green-500":"bg-gray-400"}`,title:p?"Connected":"Disconnected"})]}),t&&y.jsxs("div",{className:"absolute right-0 mt-2 w-96 bg-white rounded-2xl shadow-xl border border-gray-200 z-50 overflow-hidden",children:[y.jsxs("div",{className:"p-4 border-b border-gray-200 flex items-center justify-between",children:[y.jsxs("div",{children:[y.jsx("h3",{className:"font-bold text-gray-900",children:"Notifications"}),y.jsx("p",{className:"text-xs text-gray-500",children:p?"Live updates enabled":"Reconnecting..."})]}),h>0&&y.jsxs("button",{onClick:x,className:"text-xs text-brand-primary hover:text-brand-secondary font-semibold flex items-center",title:"Mark all as read",children:[y.jsx(XT,{size:14,className:"mr-1"}),"Mark all read"]})]}),y.jsx("div",{className:"max-h-96 overflow-y-auto",children:u.length===0?y.jsxs("div",{className:"p-8 text-center",children:[y.jsx(Kb,{className:"text-gray-300 mx-auto mb-3",size:48}),y.jsx("p",{className:"text-gray-500 text-sm",children:"No notifications yet"}),y.jsx("p",{className:"text-gray-400 text-xs mt-1",children:"You'll receive updates about your orders here"})]}):y.jsx("div",{className:"divide-y divide-gray-100",children:u.map(R=>y.jsx("div",{className:`p-4 hover:bg-gray-50 transition-colors cursor-pointer ${R.read?"":"bg-blue-50"}`,onClick:()=>E(R),children:y.jsxs("div",{className:"flex items-start justify-between",children:[y.jsxs("div",{className:"flex-1",children:[R.type==="NEW_ORDER"&&y.jsx("span",{className:"inline-block px-2 py-1 text-xs font-semibold bg-green-100 text-green-700 rounded-full mb-2",children:"New Order"}),y.jsx("p",{className:"text-sm font-semibold text-gray-900 mb-1",children:R.message}),y.jsxs("div",{className:"flex items-center gap-3 text-xs text-gray-600",children:[y.jsxs("span",{children:["Order #",R.orderNumber]}),R.newStatus&&y.jsx("span",{className:"px-2 py-0.5 bg-gray-100 rounded",children:R.newStatus}),y.jsx("span",{children:A(R.timestamp)})]})]}),y.jsxs("div",{className:"flex items-center gap-2 ml-3",children:[!R.read&&y.jsx("button",{onClick:D=>{D.stopPropagation(),w(R.id)},className:"p-1 hover:bg-gray-200 rounded transition-colors",title:"Mark as read",children:y.jsx(t3,{size:14,className:"text-gray-600"})}),y.jsx("button",{onClick:D=>{D.stopPropagation(),b(R.id)},className:"p-1 hover:bg-gray-200 rounded transition-colors",title:"Remove",children:y.jsx(bg,{size:14,className:"text-gray-600"})})]})]})},R.id))})}),u.length>0&&y.jsx("div",{className:"p-3 border-t border-gray-200 bg-gray-50",children:y.jsx("button",{onClick:()=>{r(!1)},className:"w-full text-center text-sm text-brand-primary hover:text-brand-secondary font-semibold",children:"View all notifications"})})]})]})},_d=({navigationLinks:e,brandName:t="BiteDash"})=>{const r=Ki(),o=ts(),{logout:u}=_s(),[h,p]=H.useState(!1),w=b=>{o.pathname!==b&&(r(b),p(!1))},x=()=>{u(),r("/",{replace:!0})};return y.jsxs("div",{className:"flex h-screen bg-surface-bg",children:[y.jsx("button",{onClick:()=>p(!h),className:"md:hidden fixed top-4 left-4 z-50 p-3 bg-gray-900 text-white rounded-lg shadow-lg hover:bg-gray-800 transition-colors","aria-label":"Toggle menu",children:h?y.jsx(bg,{size:24}):y.jsx(M5,{size:24})}),h&&y.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 md:hidden",onClick:()=>p(!1),"aria-hidden":"true"}),y.jsxs("aside",{className:`
          fixed md:static inset-y-0 left-0 z-50
          w-72 bg-gray-900 text-white flex flex-col shadow-2xl
          transform transition-transform duration-300 ease-in-out
          ${h?"translate-x-0":"-translate-x-full md:translate-x-0"}
        `,children:[y.jsxs("div",{className:"p-4 md:p-6 flex items-center justify-between border-b border-gray-800",children:[y.jsxs("div",{className:"flex items-center gap-2 md:gap-3",children:[y.jsx("img",{src:"/logo.svg",alt:t,className:"h-10 w-10 md:h-12 md:w-12"}),y.jsx("span",{className:"text-xl md:text-2xl font-black text-brand-primary tracking-tighter",children:t})]}),y.jsx(KR,{})]}),y.jsx("nav",{className:"flex-1 p-4 md:p-6 space-y-2 md:space-y-3 overflow-y-auto",children:e.map(b=>{const E=o.pathname===b.path;return y.jsxs("button",{onClick:()=>w(b.path),className:`
                  w-full flex items-center gap-3 md:gap-4 p-3 md:p-4 rounded-xl md:rounded-2xl
                  transition-all group min-h-[44px]
                  ${E?"bg-brand-primary text-white":"hover:bg-gray-800 text-gray-400"}
                `,children:[y.jsx("span",{className:E?"text-white":"group-hover:text-brand-primary",children:b.icon}),y.jsx("span",{className:`font-semibold text-sm md:text-base ${E?"text-white":"text-gray-300"}`,children:b.label})]},b.path)})}),y.jsx("div",{className:"p-4 md:p-6",children:y.jsxs("button",{onClick:x,className:"w-full flex items-center gap-3 md:gap-4 p-3 md:p-4 rounded-xl md:rounded-2xl transition-all hover:bg-red-900 text-gray-400 hover:text-white group min-h-[44px]",children:[y.jsx(C5,{size:20,className:"group-hover:text-white"}),y.jsx("span",{className:"font-semibold text-sm md:text-base",children:"Logout"})]})})]}),y.jsx("main",{className:"flex-1 overflow-y-auto scrollbar-hide",children:y.jsx("div",{className:"p-4 md:p-6 lg:p-8",children:y.jsx(lE,{})})})]})},Cg=H.createContext({});function Sg(e){const t=H.useRef(null);return t.current===null&&(t.current=e()),t.current}const R3=typeof window<"u",O3=R3?H.useLayoutEffect:H.useEffect,Rh=H.createContext(null);function Ag(e,t){e.indexOf(t)===-1&&e.push(t)}function rh(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}const es=(e,t,r)=>r>t?t:r<e?e:r;let Ng=()=>{};const Is={},M3=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function I3(e){return typeof e=="object"&&e!==null}const _3=e=>/^0[^.\s]+$/u.test(e);function Tg(e){let t;return()=>(t===void 0&&(t=e()),t)}const mr=e=>e,$R=(e,t)=>r=>t(e(r)),eu=(...e)=>e.reduce($R),kc=(e,t,r)=>{const o=t-e;return o===0?1:(r-e)/o};class Rg{constructor(){this.subscriptions=[]}add(t){return Ag(this.subscriptions,t),()=>rh(this.subscriptions,t)}notify(t,r,o){const u=this.subscriptions.length;if(u)if(u===1)this.subscriptions[0](t,r,o);else for(let h=0;h<u;h++){const p=this.subscriptions[h];p&&p(t,r,o)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ir=e=>e*1e3,fr=e=>e/1e3;function D3(e,t){return t?e*(1e3/t):0}const j3=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,JR=1e-7,eO=12;function tO(e,t,r,o,u){let h,p,w=0;do p=t+(r-t)/2,h=j3(p,o,u)-e,h>0?r=p:t=p;while(Math.abs(h)>JR&&++w<eO);return p}function tu(e,t,r,o){if(e===t&&r===o)return mr;const u=h=>tO(h,0,1,e,r);return h=>h===0||h===1?h:j3(u(h),t,o)}const L3=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,B3=e=>t=>1-e(1-t),k3=tu(.33,1.53,.69,.99),Og=B3(k3),P3=L3(Og),U3=e=>(e*=2)<1?.5*Og(e):.5*(2-Math.pow(2,-10*(e-1))),Mg=e=>1-Math.sin(Math.acos(e)),z3=B3(Mg),F3=L3(Mg),nO=tu(.42,0,1,1),iO=tu(0,0,.58,1),V3=tu(.42,0,.58,1),rO=e=>Array.isArray(e)&&typeof e[0]!="number",H3=e=>Array.isArray(e)&&typeof e[0]=="number",sO={linear:mr,easeIn:nO,easeInOut:V3,easeOut:iO,circIn:Mg,circInOut:F3,circOut:z3,backIn:Og,backInOut:P3,backOut:k3,anticipate:U3},aO=e=>typeof e=="string",dw=e=>{if(H3(e)){Ng(e.length===4);const[t,r,o,u]=e;return tu(t,r,o,u)}else if(aO(e))return sO[e];return e},Dd=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function oO(e,t){let r=new Set,o=new Set,u=!1,h=!1;const p=new WeakSet;let w={delta:0,timestamp:0,isProcessing:!1};function x(E){p.has(E)&&(b.schedule(E),e()),E(w)}const b={schedule:(E,A=!1,R=!1)=>{const _=R&&u?r:o;return A&&p.add(E),_.has(E)||_.add(E),E},cancel:E=>{o.delete(E),p.delete(E)},process:E=>{if(w=E,u){h=!0;return}u=!0,[r,o]=[o,r],r.forEach(x),r.clear(),u=!1,h&&(h=!1,b.process(E))}};return b}const lO=40;function q3(e,t){let r=!1,o=!0;const u={delta:0,timestamp:0,isProcessing:!1},h=()=>r=!0,p=Dd.reduce((U,F)=>(U[F]=oO(h),U),{}),{setup:w,read:x,resolveKeyframes:b,preUpdate:E,update:A,preRender:R,render:D,postRender:_}=p,k=()=>{const U=Is.useManualTiming?u.timestamp:performance.now();r=!1,Is.useManualTiming||(u.delta=o?1e3/60:Math.max(Math.min(U-u.timestamp,lO),1)),u.timestamp=U,u.isProcessing=!0,w.process(u),x.process(u),b.process(u),E.process(u),A.process(u),R.process(u),D.process(u),_.process(u),u.isProcessing=!1,r&&t&&(o=!1,e(k))},P=()=>{r=!0,o=!0,u.isProcessing||e(k)};return{schedule:Dd.reduce((U,F)=>{const I=p[F];return U[F]=(X,z=!1,G=!1)=>(r||P(),I.schedule(X,z,G)),U},{}),cancel:U=>{for(let F=0;F<Dd.length;F++)p[Dd[F]].cancel(U)},state:u,steps:p}}const{schedule:Qt,cancel:Sa,state:Jn,steps:F0}=q3(typeof requestAnimationFrame<"u"?requestAnimationFrame:mr,!0);let Hd;function cO(){Hd=void 0}const mi={now:()=>(Hd===void 0&&mi.set(Jn.isProcessing||Is.useManualTiming?Jn.timestamp:performance.now()),Hd),set:e=>{Hd=e,queueMicrotask(cO)}},G3=e=>t=>typeof t=="string"&&t.startsWith(e),Y3=G3("--"),uO=G3("var(--"),Ig=e=>uO(e)?dO.test(e.split("/*")[0].trim()):!1,dO=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function hw(e){return typeof e!="string"?!1:e.split("/*")[0].includes("var(--")}const Sl={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Pc={...Sl,transform:e=>es(0,1,e)},jd={...Sl,default:1},Rc=e=>Math.round(e*1e5)/1e5,_g=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function hO(e){return e==null}const fO=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Dg=(e,t)=>r=>!!(typeof r=="string"&&fO.test(r)&&r.startsWith(e)||t&&!hO(r)&&Object.prototype.hasOwnProperty.call(r,t)),X3=(e,t,r)=>o=>{if(typeof o!="string")return o;const[u,h,p,w]=o.match(_g);return{[e]:parseFloat(u),[t]:parseFloat(h),[r]:parseFloat(p),alpha:w!==void 0?parseFloat(w):1}},mO=e=>es(0,255,e),V0={...Sl,transform:e=>Math.round(mO(e))},oo={test:Dg("rgb","red"),parse:X3("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:o=1})=>"rgba("+V0.transform(e)+", "+V0.transform(t)+", "+V0.transform(r)+", "+Rc(Pc.transform(o))+")"};function gO(e){let t="",r="",o="",u="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),o=e.substring(5,7),u=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),o=e.substring(3,4),u=e.substring(4,5),t+=t,r+=r,o+=o,u+=u),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(o,16),alpha:u?parseInt(u,16)/255:1}}const Am={test:Dg("#"),parse:gO,transform:oo.transform},nu=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),ba=nu("deg"),$r=nu("%"),Fe=nu("px"),pO=nu("vh"),yO=nu("vw"),fw={...$r,parse:e=>$r.parse(e)/100,transform:e=>$r.transform(e*100)},rl={test:Dg("hsl","hue"),parse:X3("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:o=1})=>"hsla("+Math.round(e)+", "+$r.transform(Rc(t))+", "+$r.transform(Rc(r))+", "+Rc(Pc.transform(o))+")"},Mn={test:e=>oo.test(e)||Am.test(e)||rl.test(e),parse:e=>oo.test(e)?oo.parse(e):rl.test(e)?rl.parse(e):Am.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?oo.transform(e):rl.transform(e),getAnimatableNone:e=>{const t=Mn.parse(e);return t.alpha=0,Mn.transform(t)}},bO=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function vO(e){return isNaN(e)&&typeof e=="string"&&(e.match(_g)?.length||0)+(e.match(bO)?.length||0)>0}const W3="number",Q3="color",wO="var",xO="var(",mw="${}",EO=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Uc(e){const t=e.toString(),r=[],o={color:[],number:[],var:[]},u=[];let h=0;const w=t.replace(EO,x=>(Mn.test(x)?(o.color.push(h),u.push(Q3),r.push(Mn.parse(x))):x.startsWith(xO)?(o.var.push(h),u.push(wO),r.push(x)):(o.number.push(h),u.push(W3),r.push(parseFloat(x))),++h,mw)).split(mw);return{values:r,split:w,indexes:o,types:u}}function Z3(e){return Uc(e).values}function K3(e){const{split:t,types:r}=Uc(e),o=t.length;return u=>{let h="";for(let p=0;p<o;p++)if(h+=t[p],u[p]!==void 0){const w=r[p];w===W3?h+=Rc(u[p]):w===Q3?h+=Mn.transform(u[p]):h+=u[p]}return h}}const CO=e=>typeof e=="number"?0:Mn.test(e)?Mn.getAnimatableNone(e):e;function SO(e){const t=Z3(e);return K3(e)(t.map(CO))}const Aa={test:vO,parse:Z3,createTransformer:K3,getAnimatableNone:SO};function H0(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function AO({hue:e,saturation:t,lightness:r,alpha:o}){e/=360,t/=100,r/=100;let u=0,h=0,p=0;if(!t)u=h=p=r;else{const w=r<.5?r*(1+t):r+t-r*t,x=2*r-w;u=H0(x,w,e+1/3),h=H0(x,w,e),p=H0(x,w,e-1/3)}return{red:Math.round(u*255),green:Math.round(h*255),blue:Math.round(p*255),alpha:o}}function sh(e,t){return r=>r>0?t:e}const ln=(e,t,r)=>e+(t-e)*r,q0=(e,t,r)=>{const o=e*e,u=r*(t*t-o)+o;return u<0?0:Math.sqrt(u)},NO=[Am,oo,rl],TO=e=>NO.find(t=>t.test(e));function gw(e){const t=TO(e);if(!t)return!1;let r=t.parse(e);return t===rl&&(r=AO(r)),r}const pw=(e,t)=>{const r=gw(e),o=gw(t);if(!r||!o)return sh(e,t);const u={...r};return h=>(u.red=q0(r.red,o.red,h),u.green=q0(r.green,o.green,h),u.blue=q0(r.blue,o.blue,h),u.alpha=ln(r.alpha,o.alpha,h),oo.transform(u))},Nm=new Set(["none","hidden"]);function RO(e,t){return Nm.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function OO(e,t){return r=>ln(e,t,r)}function jg(e){return typeof e=="number"?OO:typeof e=="string"?Ig(e)?sh:Mn.test(e)?pw:_O:Array.isArray(e)?$3:typeof e=="object"?Mn.test(e)?pw:MO:sh}function $3(e,t){const r=[...e],o=r.length,u=e.map((h,p)=>jg(h)(h,t[p]));return h=>{for(let p=0;p<o;p++)r[p]=u[p](h);return r}}function MO(e,t){const r={...e,...t},o={};for(const u in r)e[u]!==void 0&&t[u]!==void 0&&(o[u]=jg(e[u])(e[u],t[u]));return u=>{for(const h in o)r[h]=o[h](u);return r}}function IO(e,t){const r=[],o={color:0,var:0,number:0};for(let u=0;u<t.values.length;u++){const h=t.types[u],p=e.indexes[h][o[h]],w=e.values[p]??0;r[u]=w,o[h]++}return r}const _O=(e,t)=>{const r=Aa.createTransformer(t),o=Uc(e),u=Uc(t);return o.indexes.var.length===u.indexes.var.length&&o.indexes.color.length===u.indexes.color.length&&o.indexes.number.length>=u.indexes.number.length?Nm.has(e)&&!u.values.length||Nm.has(t)&&!o.values.length?RO(e,t):eu($3(IO(o,u),u.values),r):sh(e,t)};function J3(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?ln(e,t,r):jg(e)(e,t)}const DO=e=>{const t=({timestamp:r})=>e(r);return{start:(r=!0)=>Qt.update(t,r),stop:()=>Sa(t),now:()=>Jn.isProcessing?Jn.timestamp:mi.now()}},e4=(e,t,r=10)=>{let o="";const u=Math.max(Math.round(t/r),2);for(let h=0;h<u;h++)o+=Math.round(e(h/(u-1))*1e4)/1e4+", ";return`linear(${o.substring(0,o.length-2)})`},ah=2e4;function Lg(e){let t=0;const r=50;let o=e.next(t);for(;!o.done&&t<ah;)t+=r,o=e.next(t);return t>=ah?1/0:t}function jO(e,t=100,r){const o=r({...e,keyframes:[0,t]}),u=Math.min(Lg(o),ah);return{type:"keyframes",ease:h=>o.next(u*h).value/t,duration:fr(u)}}const LO=5;function t4(e,t,r){const o=Math.max(t-LO,0);return D3(r-e(o),t-o)}const yn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},G0=.001;function BO({duration:e=yn.duration,bounce:t=yn.bounce,velocity:r=yn.velocity,mass:o=yn.mass}){let u,h,p=1-t;p=es(yn.minDamping,yn.maxDamping,p),e=es(yn.minDuration,yn.maxDuration,fr(e)),p<1?(u=b=>{const E=b*p,A=E*e,R=E-r,D=Tm(b,p),_=Math.exp(-A);return G0-R/D*_},h=b=>{const A=b*p*e,R=A*r+r,D=Math.pow(p,2)*Math.pow(b,2)*e,_=Math.exp(-A),k=Tm(Math.pow(b,2),p);return(-u(b)+G0>0?-1:1)*((R-D)*_)/k}):(u=b=>{const E=Math.exp(-b*e),A=(b-r)*e+1;return-G0+E*A},h=b=>{const E=Math.exp(-b*e),A=(r-b)*(e*e);return E*A});const w=5/e,x=PO(u,h,w);if(e=Ir(e),isNaN(x))return{stiffness:yn.stiffness,damping:yn.damping,duration:e};{const b=Math.pow(x,2)*o;return{stiffness:b,damping:p*2*Math.sqrt(o*b),duration:e}}}const kO=12;function PO(e,t,r){let o=r;for(let u=1;u<kO;u++)o=o-e(o)/t(o);return o}function Tm(e,t){return e*Math.sqrt(1-t*t)}const UO=["duration","bounce"],zO=["stiffness","damping","mass"];function yw(e,t){return t.some(r=>e[r]!==void 0)}function FO(e){let t={velocity:yn.velocity,stiffness:yn.stiffness,damping:yn.damping,mass:yn.mass,isResolvedFromDuration:!1,...e};if(!yw(e,zO)&&yw(e,UO))if(e.visualDuration){const r=e.visualDuration,o=2*Math.PI/(r*1.2),u=o*o,h=2*es(.05,1,1-(e.bounce||0))*Math.sqrt(u);t={...t,mass:yn.mass,stiffness:u,damping:h}}else{const r=BO(e);t={...t,...r,mass:yn.mass},t.isResolvedFromDuration=!0}return t}function oh(e=yn.visualDuration,t=yn.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:o,restDelta:u}=r;const h=r.keyframes[0],p=r.keyframes[r.keyframes.length-1],w={done:!1,value:h},{stiffness:x,damping:b,mass:E,duration:A,velocity:R,isResolvedFromDuration:D}=FO({...r,velocity:-fr(r.velocity||0)}),_=R||0,k=b/(2*Math.sqrt(x*E)),P=p-h,Y=fr(Math.sqrt(x/E)),j=Math.abs(P)<5;o||(o=j?yn.restSpeed.granular:yn.restSpeed.default),u||(u=j?yn.restDelta.granular:yn.restDelta.default);let U;if(k<1){const I=Tm(Y,k);U=X=>{const z=Math.exp(-k*Y*X);return p-z*((_+k*Y*P)/I*Math.sin(I*X)+P*Math.cos(I*X))}}else if(k===1)U=I=>p-Math.exp(-Y*I)*(P+(_+Y*P)*I);else{const I=Y*Math.sqrt(k*k-1);U=X=>{const z=Math.exp(-k*Y*X),G=Math.min(I*X,300);return p-z*((_+k*Y*P)*Math.sinh(G)+I*P*Math.cosh(G))/I}}const F={calculatedDuration:D&&A||null,next:I=>{const X=U(I);if(D)w.done=I>=A;else{let z=I===0?_:0;k<1&&(z=I===0?Ir(_):t4(U,I,X));const G=Math.abs(z)<=o,Q=Math.abs(p-X)<=u;w.done=G&&Q}return w.value=w.done?p:X,w},toString:()=>{const I=Math.min(Lg(F),ah),X=e4(z=>F.next(I*z).value,I,30);return I+"ms "+X},toTransition:()=>{}};return F}oh.applyToOptions=e=>{const t=jO(e,100,oh);return e.ease=t.ease,e.duration=Ir(t.duration),e.type="keyframes",e};function Rm({keyframes:e,velocity:t=0,power:r=.8,timeConstant:o=325,bounceDamping:u=10,bounceStiffness:h=500,modifyTarget:p,min:w,max:x,restDelta:b=.5,restSpeed:E}){const A=e[0],R={done:!1,value:A},D=G=>w!==void 0&&G<w||x!==void 0&&G>x,_=G=>w===void 0?x:x===void 0||Math.abs(w-G)<Math.abs(x-G)?w:x;let k=r*t;const P=A+k,Y=p===void 0?P:p(P);Y!==P&&(k=Y-A);const j=G=>-k*Math.exp(-G/o),U=G=>Y+j(G),F=G=>{const Q=j(G),Ee=U(G);R.done=Math.abs(Q)<=b,R.value=R.done?Y:Ee};let I,X;const z=G=>{D(R.value)&&(I=G,X=oh({keyframes:[R.value,_(R.value)],velocity:t4(U,G,R.value),damping:u,stiffness:h,restDelta:b,restSpeed:E}))};return z(0),{calculatedDuration:null,next:G=>{let Q=!1;return!X&&I===void 0&&(Q=!0,F(G),z(G)),I!==void 0&&G>=I?X.next(G-I):(!Q&&F(G),R)}}}function VO(e,t,r){const o=[],u=r||Is.mix||J3,h=e.length-1;for(let p=0;p<h;p++){let w=u(e[p],e[p+1]);if(t){const x=Array.isArray(t)?t[p]||mr:t;w=eu(x,w)}o.push(w)}return o}function HO(e,t,{clamp:r=!0,ease:o,mixer:u}={}){const h=e.length;if(Ng(h===t.length),h===1)return()=>t[0];if(h===2&&t[0]===t[1])return()=>t[1];const p=e[0]===e[1];e[0]>e[h-1]&&(e=[...e].reverse(),t=[...t].reverse());const w=VO(t,o,u),x=w.length,b=E=>{if(p&&E<e[0])return t[0];let A=0;if(x>1)for(;A<e.length-2&&!(E<e[A+1]);A++);const R=kc(e[A],e[A+1],E);return w[A](R)};return r?E=>b(es(e[0],e[h-1],E)):b}function qO(e,t){const r=e[e.length-1];for(let o=1;o<=t;o++){const u=kc(0,t,o);e.push(ln(r,1,u))}}function GO(e){const t=[0];return qO(t,e.length-1),t}function YO(e,t){return e.map(r=>r*t)}function XO(e,t){return e.map(()=>t||V3).splice(0,e.length-1)}function Oc({duration:e=300,keyframes:t,times:r,ease:o="easeInOut"}){const u=rO(o)?o.map(dw):dw(o),h={done:!1,value:t[0]},p=YO(r&&r.length===t.length?r:GO(t),e),w=HO(p,t,{ease:Array.isArray(u)?u:XO(t,u)});return{calculatedDuration:e,next:x=>(h.value=w(x),h.done=x>=e,h)}}const WO=e=>e!==null;function Bg(e,{repeat:t,repeatType:r="loop"},o,u=1){const h=e.filter(WO),w=u<0||t&&r!=="loop"&&t%2===1?0:h.length-1;return!w||o===void 0?h[w]:o}const QO={decay:Rm,inertia:Rm,tween:Oc,keyframes:Oc,spring:oh};function n4(e){typeof e.type=="string"&&(e.type=QO[e.type])}class kg{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,r){return this.finished.then(t,r)}}const ZO=e=>e/100;class Pg extends kg{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:r}=this.options;r&&r.updatedAt!==mi.now()&&this.tick(mi.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;n4(t);const{type:r=Oc,repeat:o=0,repeatDelay:u=0,repeatType:h,velocity:p=0}=t;let{keyframes:w}=t;const x=r||Oc;x!==Oc&&typeof w[0]!="number"&&(this.mixKeyframes=eu(ZO,J3(w[0],w[1])),w=[0,100]);const b=x({...t,keyframes:w});h==="mirror"&&(this.mirroredGenerator=x({...t,keyframes:[...w].reverse(),velocity:-p})),b.calculatedDuration===null&&(b.calculatedDuration=Lg(b));const{calculatedDuration:E}=b;this.calculatedDuration=E,this.resolvedDuration=E+u,this.totalDuration=this.resolvedDuration*(o+1)-u,this.generator=b}updateTime(t){const r=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(t,r=!1){const{generator:o,totalDuration:u,mixKeyframes:h,mirroredGenerator:p,resolvedDuration:w,calculatedDuration:x}=this;if(this.startTime===null)return o.next(0);const{delay:b=0,keyframes:E,repeat:A,repeatType:R,repeatDelay:D,type:_,onUpdate:k,finalKeyframe:P}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-u/this.speed,this.startTime)),r?this.currentTime=t:this.updateTime(t);const Y=this.currentTime-b*(this.playbackSpeed>=0?1:-1),j=this.playbackSpeed>=0?Y<0:Y>u;this.currentTime=Math.max(Y,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=u);let U=this.currentTime,F=o;if(A){const G=Math.min(this.currentTime,u)/w;let Q=Math.floor(G),Ee=G%1;!Ee&&G>=1&&(Ee=1),Ee===1&&Q--,Q=Math.min(Q,A+1),Q%2&&(R==="reverse"?(Ee=1-Ee,D&&(Ee-=D/w)):R==="mirror"&&(F=p)),U=es(0,1,Ee)*w}const I=j?{done:!1,value:E[0]}:F.next(U);h&&(I.value=h(I.value));let{done:X}=I;!j&&x!==null&&(X=this.playbackSpeed>=0?this.currentTime>=u:this.currentTime<=0);const z=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&X);return z&&_!==Rm&&(I.value=Bg(E,this.options,P,this.speed)),k&&k(I.value),z&&this.finish(),I}then(t,r){return this.finished.then(t,r)}get duration(){return fr(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+fr(t)}get time(){return fr(this.currentTime)}set time(t){t=Ir(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(mi.now());const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=fr(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=DO,startTime:r}=this.options;this.driver||(this.driver=t(u=>this.tick(u))),this.options.onPlay?.();const o=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=o):this.holdTime!==null?this.startTime=o-this.holdTime:this.startTime||(this.startTime=r??o),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(mi.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function KO(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const lo=e=>e*180/Math.PI,Om=e=>{const t=lo(Math.atan2(e[1],e[0]));return Mm(t)},$O={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Om,rotateZ:Om,skewX:e=>lo(Math.atan(e[1])),skewY:e=>lo(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Mm=e=>(e=e%360,e<0&&(e+=360),e),bw=Om,vw=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),ww=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),JO={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:vw,scaleY:ww,scale:e=>(vw(e)+ww(e))/2,rotateX:e=>Mm(lo(Math.atan2(e[6],e[5]))),rotateY:e=>Mm(lo(Math.atan2(-e[2],e[0]))),rotateZ:bw,rotate:bw,skewX:e=>lo(Math.atan(e[4])),skewY:e=>lo(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Im(e){return e.includes("scale")?1:0}function _m(e,t){if(!e||e==="none")return Im(t);const r=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let o,u;if(r)o=JO,u=r;else{const w=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);o=$O,u=w}if(!u)return Im(t);const h=o[t],p=u[1].split(",").map(t7);return typeof h=="function"?h(p):p[h]}const e7=(e,t)=>{const{transform:r="none"}=getComputedStyle(e);return _m(r,t)};function t7(e){return parseFloat(e.trim())}const Al=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Nl=new Set(Al),xw=e=>e===Sl||e===Fe,n7=new Set(["x","y","z"]),i7=Al.filter(e=>!n7.has(e));function r7(e){const t=[];return i7.forEach(r=>{const o=e.getValue(r);o!==void 0&&(t.push([r,o.get()]),o.set(r.startsWith("scale")?1:0))}),t}const wa={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>_m(t,"x"),y:(e,{transform:t})=>_m(t,"y")};wa.translateX=wa.x;wa.translateY=wa.y;const uo=new Set;let Dm=!1,jm=!1,Lm=!1;function i4(){if(jm){const e=Array.from(uo).filter(o=>o.needsMeasurement),t=new Set(e.map(o=>o.element)),r=new Map;t.forEach(o=>{const u=r7(o);u.length&&(r.set(o,u),o.render())}),e.forEach(o=>o.measureInitialState()),t.forEach(o=>{o.render();const u=r.get(o);u&&u.forEach(([h,p])=>{o.getValue(h)?.set(p)})}),e.forEach(o=>o.measureEndState()),e.forEach(o=>{o.suspendedScrollY!==void 0&&window.scrollTo(0,o.suspendedScrollY)})}jm=!1,Dm=!1,uo.forEach(e=>e.complete(Lm)),uo.clear()}function r4(){uo.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(jm=!0)})}function s7(){Lm=!0,r4(),i4(),Lm=!1}class Ug{constructor(t,r,o,u,h,p=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=o,this.motionValue=u,this.element=h,this.isAsync=p}scheduleResolve(){this.state="scheduled",this.isAsync?(uo.add(this),Dm||(Dm=!0,Qt.read(r4),Qt.resolveKeyframes(i4))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:o,motionValue:u}=this;if(t[0]===null){const h=u?.get(),p=t[t.length-1];if(h!==void 0)t[0]=h;else if(o&&r){const w=o.readValue(r,p);w!=null&&(t[0]=w)}t[0]===void 0&&(t[0]=p),u&&h===void 0&&u.set(t[0])}KO(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),uo.delete(this)}cancel(){this.state==="scheduled"&&(uo.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const a7=e=>e.startsWith("--");function o7(e,t,r){a7(t)?e.style.setProperty(t,r):e.style[t]=r}const l7=Tg(()=>window.ScrollTimeline!==void 0),c7={};function u7(e,t){const r=Tg(e);return()=>c7[t]??r()}const s4=u7(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Nc=([e,t,r,o])=>`cubic-bezier(${e}, ${t}, ${r}, ${o})`,Ew={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Nc([0,.65,.55,1]),circOut:Nc([.55,0,1,.45]),backIn:Nc([.31,.01,.66,-.59]),backOut:Nc([.33,1.53,.69,.99])};function a4(e,t){if(e)return typeof e=="function"?s4()?e4(e,t):"ease-out":H3(e)?Nc(e):Array.isArray(e)?e.map(r=>a4(r,t)||Ew.easeOut):Ew[e]}function d7(e,t,r,{delay:o=0,duration:u=300,repeat:h=0,repeatType:p="loop",ease:w="easeOut",times:x}={},b=void 0){const E={[t]:r};x&&(E.offset=x);const A=a4(w,u);Array.isArray(A)&&(E.easing=A);const R={delay:o,duration:u,easing:Array.isArray(A)?"linear":A,fill:"both",iterations:h+1,direction:p==="reverse"?"alternate":"normal"};return b&&(R.pseudoElement=b),e.animate(E,R)}function o4(e){return typeof e=="function"&&"applyToOptions"in e}function h7({type:e,...t}){return o4(e)&&s4()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class l4 extends kg{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!t)return;const{element:r,name:o,keyframes:u,pseudoElement:h,allowFlatten:p=!1,finalKeyframe:w,onComplete:x}=t;this.isPseudoElement=!!h,this.allowFlatten=p,this.options=t,Ng(typeof t.type!="string");const b=h7(t);this.animation=d7(r,o,u,b,h),b.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!h){const E=Bg(u,this.options,w,this.speed);this.updateMotionValue?this.updateMotionValue(E):o7(r,o,E),this.animation.cancel()}x?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){const t=this.options?.element;!this.isPseudoElement&&t?.isConnected&&this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return fr(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+fr(t)}get time(){return fr(Number(this.animation.currentTime)||0)}set time(t){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=Ir(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(t){this.manualStartTime=this.animation.startTime=t}attachTimeline({timeline:t,observe:r}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&l7()?(this.animation.timeline=t,mr):r(this)}}const c4={anticipate:U3,backInOut:P3,circInOut:F3};function f7(e){return e in c4}function m7(e){typeof e.ease=="string"&&f7(e.ease)&&(e.ease=c4[e.ease])}const Y0=10;class g7 extends l4{constructor(t){m7(t),n4(t),super(t),t.startTime!==void 0&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:r,onUpdate:o,onComplete:u,element:h,...p}=this.options;if(!r)return;if(t!==void 0){r.set(t);return}const w=new Pg({...p,autoplay:!1}),x=Math.max(Y0,mi.now()-this.startTime),b=es(0,Y0,x-Y0);r.setWithVelocity(w.sample(Math.max(0,x-b)).value,w.sample(x).value,b),w.stop()}}const Cw=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Aa.test(e)||e==="0")&&!e.startsWith("url("));function p7(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function y7(e,t,r,o){const u=e[0];if(u===null)return!1;if(t==="display"||t==="visibility")return!0;const h=e[e.length-1],p=Cw(u,t),w=Cw(h,t);return!p||!w?!1:p7(e)||(r==="spring"||o4(r))&&o}function Bm(e){e.duration=0,e.type="keyframes"}const b7=new Set(["opacity","clipPath","filter","transform"]),v7=Tg(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function w7(e){const{motionValue:t,name:r,repeatDelay:o,repeatType:u,damping:h,type:p}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:x,transformTemplate:b}=t.owner.getProps();return v7()&&r&&b7.has(r)&&(r!=="transform"||!b)&&!x&&!o&&u!=="mirror"&&h!==0&&p!=="inertia"}const x7=40;class E7 extends kg{constructor({autoplay:t=!0,delay:r=0,type:o="keyframes",repeat:u=0,repeatDelay:h=0,repeatType:p="loop",keyframes:w,name:x,motionValue:b,element:E,...A}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=mi.now();const R={autoplay:t,delay:r,type:o,repeat:u,repeatDelay:h,repeatType:p,name:x,motionValue:b,element:E,...A},D=E?.KeyframeResolver||Ug;this.keyframeResolver=new D(w,(_,k,P)=>this.onKeyframesResolved(_,k,R,!P),x,b,E),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,r,o,u){this.keyframeResolver=void 0;const{name:h,type:p,velocity:w,delay:x,isHandoff:b,onUpdate:E}=o;this.resolvedAt=mi.now(),y7(t,h,p,w)||((Is.instantAnimations||!x)&&E?.(Bg(t,o,r)),t[0]=t[t.length-1],Bm(o),o.repeat=0);const R={startTime:u?this.resolvedAt?this.resolvedAt-this.createdAt>x7?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...o,keyframes:t},D=!b&&w7(R),_=R.motionValue?.owner?.current,k=D?new g7({...R,element:_}):new Pg(R);k.finished.then(()=>{this.notifyFinished()}).catch(mr),this.pendingTimeline&&(this.stopTimeline=k.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=k}get finished(){return this._animation?this.animation.finished:this._finished}then(t,r){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),s7()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}function u4(e,t,r,o=0,u=1){const h=Array.from(e).sort((b,E)=>b.sortNodePosition(E)).indexOf(t),p=e.size,w=(p-1)*o;return typeof r=="function"?r(h,p):u===1?h*o:w-h*o}const C7=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function S7(e){const t=C7.exec(e);if(!t)return[,];const[,r,o,u]=t;return[`--${r??o}`,u]}function d4(e,t,r=1){const[o,u]=S7(e);if(!o)return;const h=window.getComputedStyle(t).getPropertyValue(o);if(h){const p=h.trim();return M3(p)?parseFloat(p):p}return Ig(u)?d4(u,t,r+1):u}const A7={type:"spring",stiffness:500,damping:25,restSpeed:10},N7=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),T7={type:"keyframes",duration:.8},R7={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},O7=(e,{keyframes:t})=>t.length>2?T7:Nl.has(e)?e.startsWith("scale")?N7(t[1]):A7:R7,M7=e=>e!==null;function I7(e,{repeat:t,repeatType:r="loop"},o){const u=e.filter(M7),h=t&&r!=="loop"&&t%2===1?0:u.length-1;return u[h]}function h4(e,t){if(e?.inherit&&t){const{inherit:r,...o}=e;return{...t,...o}}return e}function zg(e,t){const r=e?.[t]??e?.default??e;return r!==e?h4(r,e):r}function _7({when:e,delay:t,delayChildren:r,staggerChildren:o,staggerDirection:u,repeat:h,repeatType:p,repeatDelay:w,from:x,elapsed:b,...E}){return!!Object.keys(E).length}const Fg=(e,t,r,o={},u,h)=>p=>{const w=zg(o,e)||{},x=w.delay||o.delay||0;let{elapsed:b=0}=o;b=b-Ir(x);const E={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...w,delay:-b,onUpdate:R=>{t.set(R),w.onUpdate&&w.onUpdate(R)},onComplete:()=>{p(),w.onComplete&&w.onComplete()},name:e,motionValue:t,element:h?void 0:u};_7(w)||Object.assign(E,O7(e,E)),E.duration&&(E.duration=Ir(E.duration)),E.repeatDelay&&(E.repeatDelay=Ir(E.repeatDelay)),E.from!==void 0&&(E.keyframes[0]=E.from);let A=!1;if((E.type===!1||E.duration===0&&!E.repeatDelay)&&(Bm(E),E.delay===0&&(A=!0)),(Is.instantAnimations||Is.skipAnimations||u?.shouldSkipAnimations)&&(A=!0,Bm(E),E.delay=0),E.allowFlatten=!w.type&&!w.ease,A&&!h&&t.get()!==void 0){const R=I7(E.keyframes,w);if(R!==void 0){Qt.update(()=>{E.onUpdate(R),E.onComplete()});return}}return w.isSync?new Pg(E):new E7(E)};function Sw(e){const t=[{},{}];return e?.values.forEach((r,o)=>{t[0][o]=r.get(),t[1][o]=r.getVelocity()}),t}function Vg(e,t,r,o){if(typeof t=="function"){const[u,h]=Sw(o);t=t(r!==void 0?r:e.custom,u,h)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[u,h]=Sw(o);t=t(r!==void 0?r:e.custom,u,h)}return t}function dl(e,t,r){const o=e.getProps();return Vg(o,t,r!==void 0?r:o.custom,e)}const f4=new Set(["width","height","top","left","right","bottom",...Al]),Aw=30,D7=e=>!isNaN(parseFloat(e));class j7{constructor(t,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=o=>{const u=mi.now();if(this.updatedAt!==u&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(o),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const h of this.dependents)h.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=mi.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=D7(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new Rg);const o=this.events[t].add(r);return t==="change"?()=>{o(),Qt.read(()=>{this.events.change.getSize()||this.stop()})}:o}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,r,o){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-o}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=mi.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Aw)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,Aw);return D3(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function gl(e,t){return new j7(e,t)}const km=e=>Array.isArray(e);function L7(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,gl(r))}function B7(e){return km(e)?e[e.length-1]||0:e}function k7(e,t){const r=dl(e,t);let{transitionEnd:o={},transition:u={},...h}=r||{};h={...h,...o};for(const p in h){const w=B7(h[p]);L7(e,p,w)}}const ri=e=>!!(e&&e.getVelocity);function P7(e){return!!(ri(e)&&e.add)}function Pm(e,t){const r=e.getValue("willChange");if(P7(r))return r.add(t);if(!r&&Is.WillChange){const o=new Is.WillChange("auto");e.addValue("willChange",o),o.add(t)}}function Hg(e){return e.replace(/([A-Z])/g,t=>`-${t.toLowerCase()}`)}const U7="framerAppearId",m4="data-"+Hg(U7);function g4(e){return e.props[m4]}function z7({protectedKeys:e,needsAnimating:t},r){const o=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,o}function p4(e,t,{delay:r=0,transitionOverride:o,type:u}={}){let{transition:h,transitionEnd:p,...w}=t;const x=e.getDefaultTransition();h=h?h4(h,x):x;const b=h?.reduceMotion;o&&(h=o);const E=[],A=u&&e.animationState&&e.animationState.getState()[u];for(const R in w){const D=e.getValue(R,e.latestValues[R]??null),_=w[R];if(_===void 0||A&&z7(A,R))continue;const k={delay:r,...zg(h||{},R)},P=D.get();if(P!==void 0&&!D.isAnimating&&!Array.isArray(_)&&_===P&&!k.velocity)continue;let Y=!1;if(window.MotionHandoffAnimation){const F=g4(e);if(F){const I=window.MotionHandoffAnimation(F,R,Qt);I!==null&&(k.startTime=I,Y=!0)}}Pm(e,R);const j=b??e.shouldReduceMotion;D.start(Fg(R,D,_,j&&f4.has(R)?{type:!1}:k,e,Y));const U=D.animation;U&&E.push(U)}if(p){const R=()=>Qt.update(()=>{p&&k7(e,p)});E.length?Promise.all(E).then(R):R()}return E}function Um(e,t,r={}){const o=dl(e,t,r.type==="exit"?e.presenceContext?.custom:void 0);let{transition:u=e.getDefaultTransition()||{}}=o||{};r.transitionOverride&&(u=r.transitionOverride);const h=o?()=>Promise.all(p4(e,o,r)):()=>Promise.resolve(),p=e.variantChildren&&e.variantChildren.size?(x=0)=>{const{delayChildren:b=0,staggerChildren:E,staggerDirection:A}=u;return F7(e,t,x,b,E,A,r)}:()=>Promise.resolve(),{when:w}=u;if(w){const[x,b]=w==="beforeChildren"?[h,p]:[p,h];return x().then(()=>b())}else return Promise.all([h(),p(r.delay)])}function F7(e,t,r=0,o=0,u=0,h=1,p){const w=[];for(const x of e.variantChildren)x.notify("AnimationStart",t),w.push(Um(x,t,{...p,delay:r+(typeof o=="function"?0:o)+u4(e.variantChildren,x,o,u,h)}).then(()=>x.notify("AnimationComplete",t)));return Promise.all(w)}function V7(e,t,r={}){e.notify("AnimationStart",t);let o;if(Array.isArray(t)){const u=t.map(h=>Um(e,h,r));o=Promise.all(u)}else if(typeof t=="string")o=Um(e,t,r);else{const u=typeof t=="function"?dl(e,t,r.custom):t;o=Promise.all(p4(e,u,r))}return o.then(()=>{e.notify("AnimationComplete",t)})}const H7={test:e=>e==="auto",parse:e=>e},y4=e=>t=>t.test(e),b4=[Sl,Fe,$r,ba,yO,pO,H7],Nw=e=>b4.find(y4(e));function q7(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||_3(e):!0}const G7=new Set(["brightness","contrast","saturate","opacity"]);function Y7(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[o]=r.match(_g)||[];if(!o)return e;const u=r.replace(o,"");let h=G7.has(t)?1:0;return o!==r&&(h*=100),t+"("+h+u+")"}const X7=/\b([a-z-]*)\(.*?\)/gu,zm={...Aa,getAnimatableNone:e=>{const t=e.match(X7);return t?t.map(Y7).join(" "):e}},Tw={...Sl,transform:Math.round},W7={rotate:ba,rotateX:ba,rotateY:ba,rotateZ:ba,scale:jd,scaleX:jd,scaleY:jd,scaleZ:jd,skew:ba,skewX:ba,skewY:ba,distance:Fe,translateX:Fe,translateY:Fe,translateZ:Fe,x:Fe,y:Fe,z:Fe,perspective:Fe,transformPerspective:Fe,opacity:Pc,originX:fw,originY:fw,originZ:Fe},qg={borderWidth:Fe,borderTopWidth:Fe,borderRightWidth:Fe,borderBottomWidth:Fe,borderLeftWidth:Fe,borderRadius:Fe,borderTopLeftRadius:Fe,borderTopRightRadius:Fe,borderBottomRightRadius:Fe,borderBottomLeftRadius:Fe,width:Fe,maxWidth:Fe,height:Fe,maxHeight:Fe,top:Fe,right:Fe,bottom:Fe,left:Fe,inset:Fe,insetBlock:Fe,insetBlockStart:Fe,insetBlockEnd:Fe,insetInline:Fe,insetInlineStart:Fe,insetInlineEnd:Fe,padding:Fe,paddingTop:Fe,paddingRight:Fe,paddingBottom:Fe,paddingLeft:Fe,paddingBlock:Fe,paddingBlockStart:Fe,paddingBlockEnd:Fe,paddingInline:Fe,paddingInlineStart:Fe,paddingInlineEnd:Fe,margin:Fe,marginTop:Fe,marginRight:Fe,marginBottom:Fe,marginLeft:Fe,marginBlock:Fe,marginBlockStart:Fe,marginBlockEnd:Fe,marginInline:Fe,marginInlineStart:Fe,marginInlineEnd:Fe,fontSize:Fe,backgroundPositionX:Fe,backgroundPositionY:Fe,...W7,zIndex:Tw,fillOpacity:Pc,strokeOpacity:Pc,numOctaves:Tw},Q7={...qg,color:Mn,backgroundColor:Mn,outlineColor:Mn,fill:Mn,stroke:Mn,borderColor:Mn,borderTopColor:Mn,borderRightColor:Mn,borderBottomColor:Mn,borderLeftColor:Mn,filter:zm,WebkitFilter:zm},v4=e=>Q7[e];function w4(e,t){let r=v4(e);return r!==zm&&(r=Aa),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const Z7=new Set(["auto","none","0"]);function K7(e,t,r){let o=0,u;for(;o<e.length&&!u;){const h=e[o];typeof h=="string"&&!Z7.has(h)&&Uc(h).values.length&&(u=e[o]),o++}if(u&&r)for(const h of t)e[h]=w4(r,u)}class $7 extends Ug{constructor(t,r,o,u,h){super(t,r,o,u,h,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:o}=this;if(!r||!r.current)return;super.readKeyframes();for(let E=0;E<t.length;E++){let A=t[E];if(typeof A=="string"&&(A=A.trim(),Ig(A))){const R=d4(A,r.current);R!==void 0&&(t[E]=R),E===t.length-1&&(this.finalKeyframe=A)}}if(this.resolveNoneKeyframes(),!f4.has(o)||t.length!==2)return;const[u,h]=t,p=Nw(u),w=Nw(h),x=hw(u),b=hw(h);if(x!==b&&wa[o]){this.needsMeasurement=!0;return}if(p!==w)if(xw(p)&&xw(w))for(let E=0;E<t.length;E++){const A=t[E];typeof A=="string"&&(t[E]=parseFloat(A))}else wa[o]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,o=[];for(let u=0;u<t.length;u++)(t[u]===null||q7(t[u]))&&o.push(u);o.length&&K7(t,o,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:o}=this;if(!t||!t.current)return;o==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=wa[o](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const u=r[r.length-1];u!==void 0&&t.getValue(o,u).jump(u,!1)}measureEndState(){const{element:t,name:r,unresolvedKeyframes:o}=this;if(!t||!t.current)return;const u=t.getValue(r);u&&u.jump(this.measuredOrigin,!1);const h=o.length-1,p=o[h];o[h]=wa[r](t.measureViewportBox(),window.getComputedStyle(t.current)),p!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=p),this.removedTransforms?.length&&this.removedTransforms.forEach(([w,x])=>{t.getValue(w).set(x)}),this.resolveNoneKeyframes()}}const J7=new Set(["opacity","clipPath","filter","transform"]);function x4(e,t,r){if(e==null)return[];if(e instanceof EventTarget)return[e];if(typeof e=="string"){let o=document;const u=r?.[e]??o.querySelectorAll(e);return u?Array.from(u):[]}return Array.from(e).filter(o=>o!=null)}const E4=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function Fm(e){return I3(e)&&"offsetHeight"in e}const{schedule:Gg}=q3(queueMicrotask,!1),Or={x:!1,y:!1};function C4(){return Or.x||Or.y}function e9(e){return e==="x"||e==="y"?Or[e]?null:(Or[e]=!0,()=>{Or[e]=!1}):Or.x||Or.y?null:(Or.x=Or.y=!0,()=>{Or.x=Or.y=!1})}function S4(e,t){const r=x4(e),o=new AbortController,u={passive:!0,...t,signal:o.signal};return[r,u,()=>o.abort()]}function t9(e){return!(e.pointerType==="touch"||C4())}function n9(e,t,r={}){const[o,u,h]=S4(e,r);return o.forEach(p=>{let w=!1,x=!1,b;const E=()=>{p.removeEventListener("pointerleave",_)},A=P=>{b&&(b(P),b=void 0),E()},R=P=>{w=!1,window.removeEventListener("pointerup",R),window.removeEventListener("pointercancel",R),x&&(x=!1,A(P))},D=()=>{w=!0,window.addEventListener("pointerup",R,u),window.addEventListener("pointercancel",R,u)},_=P=>{if(P.pointerType!=="touch"){if(w){x=!0;return}A(P)}},k=P=>{if(!t9(P))return;x=!1;const Y=t(p,P);typeof Y=="function"&&(b=Y,p.addEventListener("pointerleave",_,u))};p.addEventListener("pointerenter",k,u),p.addEventListener("pointerdown",D,u)}),h}const A4=(e,t)=>t?e===t?!0:A4(e,t.parentElement):!1,Yg=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,i9=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function r9(e){return i9.has(e.tagName)||e.isContentEditable===!0}const s9=new Set(["INPUT","SELECT","TEXTAREA"]);function a9(e){return s9.has(e.tagName)||e.isContentEditable===!0}const qd=new WeakSet;function Rw(e){return t=>{t.key==="Enter"&&e(t)}}function X0(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const o9=(e,t)=>{const r=e.currentTarget;if(!r)return;const o=Rw(()=>{if(qd.has(r))return;X0(r,"down");const u=Rw(()=>{X0(r,"up")}),h=()=>X0(r,"cancel");r.addEventListener("keyup",u,t),r.addEventListener("blur",h,t)});r.addEventListener("keydown",o,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",o),t)};function Ow(e){return Yg(e)&&!C4()}const Mw=new WeakSet;function l9(e,t,r={}){const[o,u,h]=S4(e,r),p=w=>{const x=w.currentTarget;if(!Ow(w)||Mw.has(w))return;qd.add(x),r.stopPropagation&&Mw.add(w);const b=t(x,w),E=(D,_)=>{window.removeEventListener("pointerup",A),window.removeEventListener("pointercancel",R),qd.has(x)&&qd.delete(x),Ow(D)&&typeof b=="function"&&b(D,{success:_})},A=D=>{E(D,x===window||x===document||r.useGlobalTarget||A4(x,D.target))},R=D=>{E(D,!1)};window.addEventListener("pointerup",A,u),window.addEventListener("pointercancel",R,u)};return o.forEach(w=>{(r.useGlobalTarget?window:w).addEventListener("pointerdown",p,u),Fm(w)&&(w.addEventListener("focus",b=>o9(b,u)),!r9(w)&&!w.hasAttribute("tabindex")&&(w.tabIndex=0))}),h}function Xg(e){return I3(e)&&"ownerSVGElement"in e}const Gd=new WeakMap;let Yd;const N4=(e,t,r)=>(o,u)=>u&&u[0]?u[0][e+"Size"]:Xg(o)&&"getBBox"in o?o.getBBox()[t]:o[r],c9=N4("inline","width","offsetWidth"),u9=N4("block","height","offsetHeight");function d9({target:e,borderBoxSize:t}){Gd.get(e)?.forEach(r=>{r(e,{get width(){return c9(e,t)},get height(){return u9(e,t)}})})}function h9(e){e.forEach(d9)}function f9(){typeof ResizeObserver>"u"||(Yd=new ResizeObserver(h9))}function m9(e,t){Yd||f9();const r=x4(e);return r.forEach(o=>{let u=Gd.get(o);u||(u=new Set,Gd.set(o,u)),u.add(t),Yd?.observe(o)}),()=>{r.forEach(o=>{const u=Gd.get(o);u?.delete(t),u?.size||Yd?.unobserve(o)})}}const Xd=new Set;let sl;function g9(){sl=()=>{const e={get width(){return window.innerWidth},get height(){return window.innerHeight}};Xd.forEach(t=>t(e))},window.addEventListener("resize",sl)}function p9(e){return Xd.add(e),sl||g9(),()=>{Xd.delete(e),!Xd.size&&typeof sl=="function"&&(window.removeEventListener("resize",sl),sl=void 0)}}function Iw(e,t){return typeof e=="function"?p9(e):m9(e,t)}function y9(e){return Xg(e)&&e.tagName==="svg"}const b9=[...b4,Mn,Aa],v9=e=>b9.find(y4(e)),_w=()=>({translate:0,scale:1,origin:0,originPoint:0}),al=()=>({x:_w(),y:_w()}),Dw=()=>({min:0,max:0}),Un=()=>({x:Dw(),y:Dw()}),w9=new WeakMap;function Oh(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function zc(e){return typeof e=="string"||Array.isArray(e)}const Wg=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Qg=["initial",...Wg];function Mh(e){return Oh(e.animate)||Qg.some(t=>zc(e[t]))}function T4(e){return!!(Mh(e)||e.variants)}function x9(e,t,r){for(const o in t){const u=t[o],h=r[o];if(ri(u))e.addValue(o,u);else if(ri(h))e.addValue(o,gl(u,{owner:e}));else if(h!==u)if(e.hasValue(o)){const p=e.getValue(o);p.liveStyle===!0?p.jump(u):p.hasAnimated||p.set(u)}else{const p=e.getStaticValue(o);e.addValue(o,gl(p!==void 0?p:u,{owner:e}))}}for(const o in r)t[o]===void 0&&e.removeValue(o);return t}const Vm={current:null},R4={current:!1},E9=typeof window<"u";function C9(){if(R4.current=!0,!!E9)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Vm.current=e.matches;e.addEventListener("change",t),t()}else Vm.current=!1}const jw=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let lh={};function O4(e){lh=e}function S9(){return lh}class A9{scrapeMotionValuesFromProps(t,r,o){return{}}constructor({parent:t,props:r,presenceContext:o,reducedMotionConfig:u,skipAnimations:h,blockInitialAnimation:p,visualState:w},x={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.shouldSkipAnimations=!1,this.values=new Map,this.KeyframeResolver=Ug,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.hasBeenMounted=!1,this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const D=mi.now();this.renderScheduledAt<D&&(this.renderScheduledAt=D,Qt.render(this.render,!1,!0))};const{latestValues:b,renderState:E}=w;this.latestValues=b,this.baseTarget={...b},this.initialValues=r.initial?{...b}:{},this.renderState=E,this.parent=t,this.props=r,this.presenceContext=o,this.depth=t?t.depth+1:0,this.reducedMotionConfig=u,this.skipAnimationsConfig=h,this.options=x,this.blockInitialAnimation=!!p,this.isControllingVariants=Mh(r),this.isVariantNode=T4(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:A,...R}=this.scrapeMotionValuesFromProps(r,{},this);for(const D in R){const _=R[D];b[D]!==void 0&&ri(_)&&_.set(b[D])}}mount(t){if(this.hasBeenMounted)for(const r in this.initialValues)this.values.get(r)?.jump(this.initialValues[r]),this.latestValues[r]=this.initialValues[r];this.current=t,w9.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,o)=>this.bindToMotionValue(o,r)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(R4.current||C9(),this.shouldReduceMotion=Vm.current),this.shouldSkipAnimations=this.skipAnimationsConfig??!1,this.parent?.addChild(this),this.update(this.props,this.presenceContext),this.hasBeenMounted=!0}unmount(){this.projection&&this.projection.unmount(),Sa(this.notifyUpdate),Sa(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const r=this.features[t];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,r){if(this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)(),r.accelerate&&J7.has(t)&&this.current instanceof HTMLElement){const{factory:p,keyframes:w,times:x,ease:b,duration:E}=r.accelerate,A=new l4({element:this.current,name:t,keyframes:w,times:x,ease:b,duration:Ir(E)}),R=p(A);this.valueSubscriptions.set(t,()=>{R(),A.cancel()});return}const o=Nl.has(t);o&&this.onBindTransform&&this.onBindTransform();const u=r.on("change",p=>{this.latestValues[t]=p,this.props.onUpdate&&Qt.preRender(this.notifyUpdate),o&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let h;typeof window<"u"&&window.MotionCheckAppearSync&&(h=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{u(),h&&h(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in lh){const r=lh[t];if(!r)continue;const{isEnabled:o,Feature:u}=r;if(!this.features[t]&&u&&o(this.props)&&(this.features[t]=new u(this)),this.features[t]){const h=this.features[t];h.isMounted?h.update():(h.mount(),h.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Un()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let o=0;o<jw.length;o++){const u=jw[o];this.propEventSubscriptions[u]&&(this.propEventSubscriptions[u](),delete this.propEventSubscriptions[u]);const h="on"+u,p=t[h];p&&(this.propEventSubscriptions[u]=this.on(u,p))}this.prevMotionValues=x9(this,this.scrapeMotionValuesFromProps(t,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const o=this.values.get(t);r!==o&&(o&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let o=this.values.get(t);return o===void 0&&r!==void 0&&(o=gl(r===null?void 0:r,{owner:this}),this.addValue(t,o)),o}readValue(t,r){let o=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return o!=null&&(typeof o=="string"&&(M3(o)||_3(o))?o=parseFloat(o):!v9(o)&&Aa.test(r)&&(o=w4(t,r)),this.setBaseTarget(t,ri(o)?o.get():o)),ri(o)?o.get():o}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){const{initial:r}=this.props;let o;if(typeof r=="string"||typeof r=="object"){const h=Vg(this.props,r,this.presenceContext?.custom);h&&(o=h[t])}if(r&&o!==void 0)return o;const u=this.getBaseTargetFromProps(this.props,t);return u!==void 0&&!ri(u)?u:this.initialValues[t]!==void 0&&o===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new Rg),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}scheduleRenderMicrotask(){Gg.render(this.render)}}class M4 extends A9{constructor(){super(...arguments),this.KeyframeResolver=$7}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){const o=t.style;return o?o[r]:void 0}removeValueFromRenderState(t,{vars:r,style:o}){delete r[t],delete o[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;ri(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}class Ma{constructor(t){this.isMounted=!1,this.node=t}update(){}}function I4({top:e,left:t,right:r,bottom:o}){return{x:{min:t,max:r},y:{min:e,max:o}}}function N9({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function T9(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),o=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:o.y,right:o.x}}function W0(e){return e===void 0||e===1}function Hm({scale:e,scaleX:t,scaleY:r}){return!W0(e)||!W0(t)||!W0(r)}function io(e){return Hm(e)||_4(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function _4(e){return Lw(e.x)||Lw(e.y)}function Lw(e){return e&&e!=="0%"}function ch(e,t,r){const o=e-r,u=t*o;return r+u}function Bw(e,t,r,o,u){return u!==void 0&&(e=ch(e,u,o)),ch(e,r,o)+t}function qm(e,t=0,r=1,o,u){e.min=Bw(e.min,t,r,o,u),e.max=Bw(e.max,t,r,o,u)}function D4(e,{x:t,y:r}){qm(e.x,t.translate,t.scale,t.originPoint),qm(e.y,r.translate,r.scale,r.originPoint)}const kw=.999999999999,Pw=1.0000000000001;function R9(e,t,r,o=!1){const u=r.length;if(!u)return;t.x=t.y=1;let h,p;for(let w=0;w<u;w++){h=r[w],p=h.projectionDelta;const{visualElement:x}=h.options;x&&x.props.style&&x.props.style.display==="contents"||(o&&h.options.layoutScroll&&h.scroll&&h!==h.root&&ll(e,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),p&&(t.x*=p.x.scale,t.y*=p.y.scale,D4(e,p)),o&&io(h.latestValues)&&ll(e,h.latestValues))}t.x<Pw&&t.x>kw&&(t.x=1),t.y<Pw&&t.y>kw&&(t.y=1)}function ol(e,t){e.min=e.min+t,e.max=e.max+t}function Uw(e,t,r,o,u=.5){const h=ln(e.min,e.max,u);qm(e,t,r,h,o)}function ll(e,t){Uw(e.x,t.x,t.scaleX,t.scale,t.originX),Uw(e.y,t.y,t.scaleY,t.scale,t.originY)}function j4(e,t){return I4(T9(e.getBoundingClientRect(),t))}function O9(e,t,r){const o=j4(e,r),{scroll:u}=t;return u&&(ol(o.x,u.offset.x),ol(o.y,u.offset.y)),o}const M9={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},I9=Al.length;function _9(e,t,r){let o="",u=!0;for(let h=0;h<I9;h++){const p=Al[h],w=e[p];if(w===void 0)continue;let x=!0;if(typeof w=="number")x=w===(p.startsWith("scale")?1:0);else{const b=parseFloat(w);x=p.startsWith("scale")?b===1:b===0}if(!x||r){const b=E4(w,qg[p]);if(!x){u=!1;const E=M9[p]||p;o+=`${E}(${b}) `}r&&(t[p]=b)}}return o=o.trim(),r?o=r(t,u?"":o):u&&(o="none"),o}function Zg(e,t,r){const{style:o,vars:u,transformOrigin:h}=e;let p=!1,w=!1;for(const x in t){const b=t[x];if(Nl.has(x)){p=!0;continue}else if(Y3(x)){u[x]=b;continue}else{const E=E4(b,qg[x]);x.startsWith("origin")?(w=!0,h[x]=E):o[x]=E}}if(t.transform||(p||r?o.transform=_9(t,e.transform,r):o.transform&&(o.transform="none")),w){const{originX:x="50%",originY:b="50%",originZ:E=0}=h;o.transformOrigin=`${x} ${b} ${E}`}}function L4(e,{style:t,vars:r},o,u){const h=e.style;let p;for(p in t)h[p]=t[p];u?.applyProjectionStyles(h,o);for(p in r)h.setProperty(p,r[p])}function zw(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Sc={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Fe.test(e))e=parseFloat(e);else return e;const r=zw(e,t.target.x),o=zw(e,t.target.y);return`${r}% ${o}%`}},D9={correct:(e,{treeScale:t,projectionDelta:r})=>{const o=e,u=Aa.parse(e);if(u.length>5)return o;const h=Aa.createTransformer(e),p=typeof u[0]!="number"?1:0,w=r.x.scale*t.x,x=r.y.scale*t.y;u[0+p]/=w,u[1+p]/=x;const b=ln(w,x,.5);return typeof u[2+p]=="number"&&(u[2+p]/=b),typeof u[3+p]=="number"&&(u[3+p]/=b),h(u)}},Gm={borderRadius:{...Sc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Sc,borderTopRightRadius:Sc,borderBottomLeftRadius:Sc,borderBottomRightRadius:Sc,boxShadow:D9};function B4(e,{layout:t,layoutId:r}){return Nl.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!Gm[e]||e==="opacity")}function Kg(e,t,r){const o=e.style,u=t?.style,h={};if(!o)return h;for(const p in o)(ri(o[p])||u&&ri(u[p])||B4(p,e)||r?.getValue(p)?.liveStyle!==void 0)&&(h[p]=o[p]);return h}function j9(e){return window.getComputedStyle(e)}class L9 extends M4{constructor(){super(...arguments),this.type="html",this.renderInstance=L4}readValueFromInstance(t,r){if(Nl.has(r))return this.projection?.isProjecting?Im(r):e7(t,r);{const o=j9(t),u=(Y3(r)?o.getPropertyValue(r):o[r])||0;return typeof u=="string"?u.trim():u}}measureInstanceViewportBox(t,{transformPagePoint:r}){return j4(t,r)}build(t,r,o){Zg(t,r,o.transformTemplate)}scrapeMotionValuesFromProps(t,r,o){return Kg(t,r,o)}}const B9={offset:"stroke-dashoffset",array:"stroke-dasharray"},k9={offset:"strokeDashoffset",array:"strokeDasharray"};function P9(e,t,r=1,o=0,u=!0){e.pathLength=1;const h=u?B9:k9;e[h.offset]=`${-o}`,e[h.array]=`${t} ${r}`}const U9=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function k4(e,{attrX:t,attrY:r,attrScale:o,pathLength:u,pathSpacing:h=1,pathOffset:p=0,...w},x,b,E){if(Zg(e,w,b),x){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:A,style:R}=e;A.transform&&(R.transform=A.transform,delete A.transform),(R.transform||A.transformOrigin)&&(R.transformOrigin=A.transformOrigin??"50% 50%",delete A.transformOrigin),R.transform&&(R.transformBox=E?.transformBox??"fill-box",delete A.transformBox);for(const D of U9)A[D]!==void 0&&(R[D]=A[D],delete A[D]);t!==void 0&&(A.x=t),r!==void 0&&(A.y=r),o!==void 0&&(A.scale=o),u!==void 0&&P9(A,u,h,p,!1)}const P4=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),U4=e=>typeof e=="string"&&e.toLowerCase()==="svg";function z9(e,t,r,o){L4(e,t,void 0,o);for(const u in t.attrs)e.setAttribute(P4.has(u)?u:Hg(u),t.attrs[u])}function z4(e,t,r){const o=Kg(e,t,r);for(const u in e)if(ri(e[u])||ri(t[u])){const h=Al.indexOf(u)!==-1?"attr"+u.charAt(0).toUpperCase()+u.substring(1):u;o[h]=e[u]}return o}class F9 extends M4{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Un}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(Nl.has(r)){const o=v4(r);return o&&o.default||0}return r=P4.has(r)?r:Hg(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,o){return z4(t,r,o)}build(t,r,o){k4(t,r,this.isSVGTag,o.transformTemplate,o.style)}renderInstance(t,r,o,u){z9(t,r,o,u)}mount(t){this.isSVGTag=U4(t.tagName),super.mount(t)}}const V9=Qg.length;function F4(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?F4(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<V9;r++){const o=Qg[r],u=e.props[o];(zc(u)||u===!1)&&(t[o]=u)}return t}function V4(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let o=0;o<r;o++)if(t[o]!==e[o])return!1;return!0}const H9=[...Wg].reverse(),q9=Wg.length;function G9(e){return t=>Promise.all(t.map(({animation:r,options:o})=>V7(e,r,o)))}function Y9(e){let t=G9(e),r=Fw(),o=!0;const u=x=>(b,E)=>{const A=dl(e,E,x==="exit"?e.presenceContext?.custom:void 0);if(A){const{transition:R,transitionEnd:D,..._}=A;b={...b,..._,...D}}return b};function h(x){t=x(e)}function p(x){const{props:b}=e,E=F4(e.parent)||{},A=[],R=new Set;let D={},_=1/0;for(let P=0;P<q9;P++){const Y=H9[P],j=r[Y],U=b[Y]!==void 0?b[Y]:E[Y],F=zc(U),I=Y===x?j.isActive:null;I===!1&&(_=P);let X=U===E[Y]&&U!==b[Y]&&F;if(X&&o&&e.manuallyAnimateOnMount&&(X=!1),j.protectedKeys={...D},!j.isActive&&I===null||!U&&!j.prevProp||Oh(U)||typeof U=="boolean")continue;if(Y==="exit"&&j.isActive&&I!==!0){j.prevResolvedValues&&(D={...D,...j.prevResolvedValues});continue}const z=X9(j.prevProp,U);let G=z||Y===x&&j.isActive&&!X&&F||P>_&&F,Q=!1;const Ee=Array.isArray(U)?U:[U];let ae=Ee.reduce(u(Y),{});I===!1&&(ae={});const{prevResolvedValues:ve={}}=j,me={...ve,...ae},je=ue=>{G=!0,R.has(ue)&&(Q=!0,R.delete(ue)),j.needsAnimating[ue]=!0;const we=e.getValue(ue);we&&(we.liveStyle=!1)};for(const ue in me){const we=ae[ue],Be=ve[ue];if(D.hasOwnProperty(ue))continue;let ye=!1;km(we)&&km(Be)?ye=!V4(we,Be):ye=we!==Be,ye?we!=null?je(ue):R.add(ue):we!==void 0&&R.has(ue)?je(ue):j.protectedKeys[ue]=!0}j.prevProp=U,j.prevResolvedValues=ae,j.isActive&&(D={...D,...ae}),o&&e.blockInitialAnimation&&(G=!1);const ne=X&&z;G&&(!ne||Q)&&A.push(...Ee.map(ue=>{const we={type:Y};if(typeof ue=="string"&&o&&!ne&&e.manuallyAnimateOnMount&&e.parent){const{parent:Be}=e,ye=dl(Be,ue);if(Be.enteringChildren&&ye){const{delayChildren:$}=ye.transition||{};we.delay=u4(Be.enteringChildren,e,$)}}return{animation:ue,options:we}}))}if(R.size){const P={};if(typeof b.initial!="boolean"){const Y=dl(e,Array.isArray(b.initial)?b.initial[0]:b.initial);Y&&Y.transition&&(P.transition=Y.transition)}R.forEach(Y=>{const j=e.getBaseTarget(Y),U=e.getValue(Y);U&&(U.liveStyle=!0),P[Y]=j??null}),A.push({animation:P})}let k=!!A.length;return o&&(b.initial===!1||b.initial===b.animate)&&!e.manuallyAnimateOnMount&&(k=!1),o=!1,k?t(A):Promise.resolve()}function w(x,b){if(r[x].isActive===b)return Promise.resolve();e.variantChildren?.forEach(A=>A.animationState?.setActive(x,b)),r[x].isActive=b;const E=p(x);for(const A in r)r[A].protectedKeys={};return E}return{animateChanges:p,setActive:w,setAnimateFunction:h,getState:()=>r,reset:()=>{r=Fw()}}}function X9(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!V4(t,e):!1}function no(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Fw(){return{animate:no(!0),whileInView:no(),whileHover:no(),whileTap:no(),whileDrag:no(),whileFocus:no(),exit:no()}}function Vw(e,t){e.min=t.min,e.max=t.max}function Rr(e,t){Vw(e.x,t.x),Vw(e.y,t.y)}function Hw(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}const H4=1e-4,W9=1-H4,Q9=1+H4,q4=.01,Z9=0-q4,K9=0+q4;function gi(e){return e.max-e.min}function $9(e,t,r){return Math.abs(e-t)<=r}function qw(e,t,r,o=.5){e.origin=o,e.originPoint=ln(t.min,t.max,e.origin),e.scale=gi(r)/gi(t),e.translate=ln(r.min,r.max,e.origin)-e.originPoint,(e.scale>=W9&&e.scale<=Q9||isNaN(e.scale))&&(e.scale=1),(e.translate>=Z9&&e.translate<=K9||isNaN(e.translate))&&(e.translate=0)}function Mc(e,t,r,o){qw(e.x,t.x,r.x,o?o.originX:void 0),qw(e.y,t.y,r.y,o?o.originY:void 0)}function Gw(e,t,r){e.min=r.min+t.min,e.max=e.min+gi(t)}function J9(e,t,r){Gw(e.x,t.x,r.x),Gw(e.y,t.y,r.y)}function Yw(e,t,r){e.min=t.min-r.min,e.max=e.min+gi(t)}function uh(e,t,r){Yw(e.x,t.x,r.x),Yw(e.y,t.y,r.y)}function Xw(e,t,r,o,u){return e-=t,e=ch(e,1/r,o),u!==void 0&&(e=ch(e,1/u,o)),e}function eM(e,t=0,r=1,o=.5,u,h=e,p=e){if($r.test(t)&&(t=parseFloat(t),t=ln(p.min,p.max,t/100)-p.min),typeof t!="number")return;let w=ln(h.min,h.max,o);e===h&&(w-=t),e.min=Xw(e.min,t,r,w,u),e.max=Xw(e.max,t,r,w,u)}function Ww(e,t,[r,o,u],h,p){eM(e,t[r],t[o],t[u],t.scale,h,p)}const tM=["x","scaleX","originX"],nM=["y","scaleY","originY"];function Qw(e,t,r,o){Ww(e.x,t,tM,r?r.x:void 0,o?o.x:void 0),Ww(e.y,t,nM,r?r.y:void 0,o?o.y:void 0)}function Zw(e){return e.translate===0&&e.scale===1}function G4(e){return Zw(e.x)&&Zw(e.y)}function Kw(e,t){return e.min===t.min&&e.max===t.max}function iM(e,t){return Kw(e.x,t.x)&&Kw(e.y,t.y)}function $w(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function Y4(e,t){return $w(e.x,t.x)&&$w(e.y,t.y)}function Jw(e){return gi(e.x)/gi(e.y)}function ex(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}function Xr(e){return[e("x"),e("y")]}function rM(e,t,r){let o="";const u=e.x.translate/t.x,h=e.y.translate/t.y,p=r?.z||0;if((u||h||p)&&(o=`translate3d(${u}px, ${h}px, ${p}px) `),(t.x!==1||t.y!==1)&&(o+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:b,rotate:E,rotateX:A,rotateY:R,skewX:D,skewY:_}=r;b&&(o=`perspective(${b}px) ${o}`),E&&(o+=`rotate(${E}deg) `),A&&(o+=`rotateX(${A}deg) `),R&&(o+=`rotateY(${R}deg) `),D&&(o+=`skewX(${D}deg) `),_&&(o+=`skewY(${_}deg) `)}const w=e.x.scale*t.x,x=e.y.scale*t.y;return(w!==1||x!==1)&&(o+=`scale(${w}, ${x})`),o||"none"}const X4=["TopLeft","TopRight","BottomLeft","BottomRight"],sM=X4.length,tx=e=>typeof e=="string"?parseFloat(e):e,nx=e=>typeof e=="number"||Fe.test(e);function aM(e,t,r,o,u,h){u?(e.opacity=ln(0,r.opacity??1,oM(o)),e.opacityExit=ln(t.opacity??1,0,lM(o))):h&&(e.opacity=ln(t.opacity??1,r.opacity??1,o));for(let p=0;p<sM;p++){const w=`border${X4[p]}Radius`;let x=ix(t,w),b=ix(r,w);if(x===void 0&&b===void 0)continue;x||(x=0),b||(b=0),x===0||b===0||nx(x)===nx(b)?(e[w]=Math.max(ln(tx(x),tx(b),o),0),($r.test(b)||$r.test(x))&&(e[w]+="%")):e[w]=b}(t.rotate||r.rotate)&&(e.rotate=ln(t.rotate||0,r.rotate||0,o))}function ix(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const oM=W4(0,.5,z3),lM=W4(.5,.95,mr);function W4(e,t,r){return o=>o<e?0:o>t?1:r(kc(e,t,o))}function cM(e,t,r){const o=ri(e)?e:gl(e);return o.start(Fg("",o,t,r)),o.animation}function Fc(e,t,r,o={passive:!0}){return e.addEventListener(t,r,o),()=>e.removeEventListener(t,r)}const uM=(e,t)=>e.depth-t.depth;class dM{constructor(){this.children=[],this.isDirty=!1}add(t){Ag(this.children,t),this.isDirty=!0}remove(t){rh(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(uM),this.isDirty=!1,this.children.forEach(t)}}function hM(e,t){const r=mi.now(),o=({timestamp:u})=>{const h=u-r;h>=t&&(Sa(o),e(h-t))};return Qt.setup(o,!0),()=>Sa(o)}function Wd(e){return ri(e)?e.get():e}class fM{constructor(){this.members=[]}add(t){Ag(this.members,t);for(let r=this.members.length-1;r>=0;r--){const o=this.members[r];if(o===t||o===this.lead||o===this.prevLead)continue;const u=o.instance;u&&u.isConnected===!1&&o.isPresent!==!1&&!o.snapshot&&rh(this.members,o)}t.scheduleRender()}remove(t){if(rh(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(u=>t===u);if(r===0)return!1;let o;for(let u=r;u>=0;u--){const h=this.members[u],p=h.instance;if(h.isPresent!==!1&&(!p||p.isConnected!==!1)){o=h;break}}return o?(this.promote(o),!0):!1}promote(t,r){const o=this.lead;if(t!==o&&(this.prevLead=o,this.lead=t,t.show(),o)){o.instance&&o.scheduleRender(),t.scheduleRender();const u=o.options.layoutDependency,h=t.options.layoutDependency;if(!(u!==void 0&&h!==void 0&&u===h)){const x=o.instance;x&&x.isConnected===!1&&!o.snapshot||(t.resumeFrom=o,r&&(t.resumeFrom.preserveOpacity=!0),o.snapshot&&(t.snapshot=o.snapshot,t.snapshot.latestValues=o.animationValues||o.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0))}const{crossfade:w}=t.options;w===!1&&o.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:o}=t;r.onExitComplete&&r.onExitComplete(),o&&o.options.onExitComplete&&o.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Qd={hasAnimatedSinceResize:!0,hasEverUpdated:!1},Q0=["","X","Y","Z"],mM=1e3;let gM=0;function Z0(e,t,r,o){const{latestValues:u}=t;u[e]&&(r[e]=u[e],t.setStaticValue(e,0),o&&(o[e]=0))}function Q4(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=g4(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:u,layoutId:h}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",Qt,!(u||h))}const{parent:o}=e;o&&!o.hasCheckedOptimisedAppear&&Q4(o)}function Z4({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:o,resetTransform:u}){return class{constructor(p={},w=t?.()){this.id=gM++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(bM),this.nodes.forEach(EM),this.nodes.forEach(CM),this.nodes.forEach(vM)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=p,this.root=w?w.root||w:this,this.path=w?[...w.path,w]:[],this.parent=w,this.depth=w?w.depth+1:0;for(let x=0;x<this.path.length;x++)this.path[x].shouldResetTransform=!0;this.root===this&&(this.nodes=new dM)}addEventListener(p,w){return this.eventHandlers.has(p)||this.eventHandlers.set(p,new Rg),this.eventHandlers.get(p).add(w)}notifyListeners(p,...w){const x=this.eventHandlers.get(p);x&&x.notify(...w)}hasListeners(p){return this.eventHandlers.has(p)}mount(p){if(this.instance)return;this.isSVG=Xg(p)&&!y9(p),this.instance=p;const{layoutId:w,layout:x,visualElement:b}=this.options;if(b&&!b.current&&b.mount(p),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(x||w)&&(this.isLayoutDirty=!0),e){let E,A=0;const R=()=>this.root.updateBlockedByResize=!1;Qt.read(()=>{A=window.innerWidth}),e(p,()=>{const D=window.innerWidth;D!==A&&(A=D,this.root.updateBlockedByResize=!0,E&&E(),E=hM(R,250),Qd.hasAnimatedSinceResize&&(Qd.hasAnimatedSinceResize=!1,this.nodes.forEach(ax)))})}w&&this.root.registerSharedNode(w,this),this.options.animate!==!1&&b&&(w||x)&&this.addEventListener("didUpdate",({delta:E,hasLayoutChanged:A,hasRelativeLayoutChanged:R,layout:D})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const _=this.options.transition||b.getDefaultTransition()||RM,{onLayoutAnimationStart:k,onLayoutAnimationComplete:P}=b.getProps(),Y=!this.targetLayout||!Y4(this.targetLayout,D),j=!A&&R;if(this.options.layoutRoot||this.resumeFrom||j||A&&(Y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const U={...zg(_,"layout"),onPlay:k,onComplete:P};(b.shouldReduceMotion||this.options.layoutRoot)&&(U.delay=0,U.type=!1),this.startAnimation(U),this.setAnimationOrigin(E,j)}else A||ax(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=D})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const p=this.getStack();p&&p.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Sa(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(SM),this.animationId++)}getTransformTemplate(){const{visualElement:p}=this.options;return p&&p.getProps().transformTemplate}willUpdate(p=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Q4(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let E=0;E<this.path.length;E++){const A=this.path[E];A.shouldResetTransform=!0,A.updateScroll("snapshot"),A.options.layoutRoot&&A.willUpdate(!1)}const{layoutId:w,layout:x}=this.options;if(w===void 0&&!x)return;const b=this.getTransformTemplate();this.prevTransformTemplateValue=b?b(this.latestValues,""):void 0,this.updateSnapshot(),p&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(rx);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(sx);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(xM),this.nodes.forEach(pM),this.nodes.forEach(yM)):this.nodes.forEach(sx),this.clearAllSnapshots();const w=mi.now();Jn.delta=es(0,1e3/60,w-Jn.timestamp),Jn.timestamp=w,Jn.isProcessing=!0,F0.update.process(Jn),F0.preRender.process(Jn),F0.render.process(Jn),Jn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Gg.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(wM),this.sharedNodes.forEach(AM)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Qt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Qt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!gi(this.snapshot.measuredBox.x)&&!gi(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let x=0;x<this.path.length;x++)this.path[x].updateScroll();const p=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Un(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:w}=this.options;w&&w.notify("LayoutMeasure",this.layout.layoutBox,p?p.layoutBox:void 0)}updateScroll(p="measure"){let w=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===p&&(w=!1),w&&this.instance){const x=o(this.instance);this.scroll={animationId:this.root.animationId,phase:p,isRoot:x,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:x}}}resetTransform(){if(!u)return;const p=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,w=this.projectionDelta&&!G4(this.projectionDelta),x=this.getTransformTemplate(),b=x?x(this.latestValues,""):void 0,E=b!==this.prevTransformTemplateValue;p&&this.instance&&(w||io(this.latestValues)||E)&&(u(this.instance,b),this.shouldResetTransform=!1,this.scheduleRender())}measure(p=!0){const w=this.measurePageBox();let x=this.removeElementScroll(w);return p&&(x=this.removeTransform(x)),OM(x),{animationId:this.root.animationId,measuredBox:w,layoutBox:x,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:p}=this.options;if(!p)return Un();const w=p.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(MM))){const{scroll:b}=this.root;b&&(ol(w.x,b.offset.x),ol(w.y,b.offset.y))}return w}removeElementScroll(p){const w=Un();if(Rr(w,p),this.scroll?.wasRoot)return w;for(let x=0;x<this.path.length;x++){const b=this.path[x],{scroll:E,options:A}=b;b!==this.root&&E&&A.layoutScroll&&(E.wasRoot&&Rr(w,p),ol(w.x,E.offset.x),ol(w.y,E.offset.y))}return w}applyTransform(p,w=!1){const x=Un();Rr(x,p);for(let b=0;b<this.path.length;b++){const E=this.path[b];!w&&E.options.layoutScroll&&E.scroll&&E!==E.root&&ll(x,{x:-E.scroll.offset.x,y:-E.scroll.offset.y}),io(E.latestValues)&&ll(x,E.latestValues)}return io(this.latestValues)&&ll(x,this.latestValues),x}removeTransform(p){const w=Un();Rr(w,p);for(let x=0;x<this.path.length;x++){const b=this.path[x];if(!b.instance||!io(b.latestValues))continue;Hm(b.latestValues)&&b.updateSnapshot();const E=Un(),A=b.measurePageBox();Rr(E,A),Qw(w,b.latestValues,b.snapshot?b.snapshot.layoutBox:void 0,E)}return io(this.latestValues)&&Qw(w,this.latestValues),w}setTargetDelta(p){this.targetDelta=p,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(p){this.options={...this.options,...p,crossfade:p.crossfade!==void 0?p.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Jn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(p=!1){const w=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=w.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=w.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=w.isSharedProjectionDirty);const x=!!this.resumingFrom||this!==w;if(!(p||x&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:E,layoutId:A}=this.options;if(!this.layout||!(E||A))return;this.resolvedRelativeTargetAt=Jn.timestamp;const R=this.getClosestProjectingParent();R&&this.linkedParentVersion!==R.layoutVersion&&!R.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(R&&R.layout?this.createRelativeTarget(R,this.layout.layoutBox,R.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Un(),this.targetWithTransforms=Un()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),J9(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Rr(this.target,this.layout.layoutBox),D4(this.target,this.targetDelta)):Rr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,R&&!!R.resumingFrom==!!this.resumingFrom&&!R.options.layoutScroll&&R.target&&this.animationProgress!==1?this.createRelativeTarget(R,this.target,R.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Hm(this.parent.latestValues)||_4(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(p,w,x){this.relativeParent=p,this.linkedParentVersion=p.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Un(),this.relativeTargetOrigin=Un(),uh(this.relativeTargetOrigin,w,x),Rr(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const p=this.getLead(),w=!!this.resumingFrom||this!==p;let x=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(x=!1),w&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(x=!1),this.resolvedRelativeTargetAt===Jn.timestamp&&(x=!1),x)return;const{layout:b,layoutId:E}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(b||E))return;Rr(this.layoutCorrected,this.layout.layoutBox);const A=this.treeScale.x,R=this.treeScale.y;R9(this.layoutCorrected,this.treeScale,this.path,w),p.layout&&!p.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(p.target=p.layout.layoutBox,p.targetWithTransforms=Un());const{target:D}=p;if(!D){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Hw(this.prevProjectionDelta.x,this.projectionDelta.x),Hw(this.prevProjectionDelta.y,this.projectionDelta.y)),Mc(this.projectionDelta,this.layoutCorrected,D,this.latestValues),(this.treeScale.x!==A||this.treeScale.y!==R||!ex(this.projectionDelta.x,this.prevProjectionDelta.x)||!ex(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",D))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(p=!0){if(this.options.visualElement?.scheduleRender(),p){const w=this.getStack();w&&w.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=al(),this.projectionDelta=al(),this.projectionDeltaWithTransform=al()}setAnimationOrigin(p,w=!1){const x=this.snapshot,b=x?x.latestValues:{},E={...this.latestValues},A=al();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!w;const R=Un(),D=x?x.source:void 0,_=this.layout?this.layout.source:void 0,k=D!==_,P=this.getStack(),Y=!P||P.members.length<=1,j=!!(k&&!Y&&this.options.crossfade===!0&&!this.path.some(TM));this.animationProgress=0;let U;this.mixTargetDelta=F=>{const I=F/1e3;ox(A.x,p.x,I),ox(A.y,p.y,I),this.setTargetDelta(A),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(uh(R,this.layout.layoutBox,this.relativeParent.layout.layoutBox),NM(this.relativeTarget,this.relativeTargetOrigin,R,I),U&&iM(this.relativeTarget,U)&&(this.isProjectionDirty=!1),U||(U=Un()),Rr(U,this.relativeTarget)),k&&(this.animationValues=E,aM(E,b,this.latestValues,I,j,Y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=I},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(p){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Sa(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Qt.update(()=>{Qd.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=gl(0)),this.currentAnimation=cM(this.motionValue,[0,1e3],{...p,velocity:0,isSync:!0,onUpdate:w=>{this.mixTargetDelta(w),p.onUpdate&&p.onUpdate(w)},onStop:()=>{},onComplete:()=>{p.onComplete&&p.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const p=this.getStack();p&&p.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(mM),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const p=this.getLead();let{targetWithTransforms:w,target:x,layout:b,latestValues:E}=p;if(!(!w||!x||!b)){if(this!==p&&this.layout&&b&&K4(this.options.animationType,this.layout.layoutBox,b.layoutBox)){x=this.target||Un();const A=gi(this.layout.layoutBox.x);x.x.min=p.target.x.min,x.x.max=x.x.min+A;const R=gi(this.layout.layoutBox.y);x.y.min=p.target.y.min,x.y.max=x.y.min+R}Rr(w,x),ll(w,E),Mc(this.projectionDeltaWithTransform,this.layoutCorrected,w,E)}}registerSharedNode(p,w){this.sharedNodes.has(p)||this.sharedNodes.set(p,new fM),this.sharedNodes.get(p).add(w);const b=w.options.initialPromotionConfig;w.promote({transition:b?b.transition:void 0,preserveFollowOpacity:b&&b.shouldPreserveFollowOpacity?b.shouldPreserveFollowOpacity(w):void 0})}isLead(){const p=this.getStack();return p?p.lead===this:!0}getLead(){const{layoutId:p}=this.options;return p?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:p}=this.options;return p?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:p}=this.options;if(p)return this.root.sharedNodes.get(p)}promote({needsReset:p,transition:w,preserveFollowOpacity:x}={}){const b=this.getStack();b&&b.promote(this,x),p&&(this.projectionDelta=void 0,this.needsReset=!0),w&&this.setOptions({transition:w})}relegate(){const p=this.getStack();return p?p.relegate(this):!1}resetSkewAndRotation(){const{visualElement:p}=this.options;if(!p)return;let w=!1;const{latestValues:x}=p;if((x.z||x.rotate||x.rotateX||x.rotateY||x.rotateZ||x.skewX||x.skewY)&&(w=!0),!w)return;const b={};x.z&&Z0("z",p,b,this.animationValues);for(let E=0;E<Q0.length;E++)Z0(`rotate${Q0[E]}`,p,b,this.animationValues),Z0(`skew${Q0[E]}`,p,b,this.animationValues);p.render();for(const E in b)p.setStaticValue(E,b[E]),this.animationValues&&(this.animationValues[E]=b[E]);p.scheduleRender()}applyProjectionStyles(p,w){if(!this.instance||this.isSVG)return;if(!this.isVisible){p.visibility="hidden";return}const x=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,p.visibility="",p.opacity="",p.pointerEvents=Wd(w?.pointerEvents)||"",p.transform=x?x(this.latestValues,""):"none";return}const b=this.getLead();if(!this.projectionDelta||!this.layout||!b.target){this.options.layoutId&&(p.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,p.pointerEvents=Wd(w?.pointerEvents)||""),this.hasProjected&&!io(this.latestValues)&&(p.transform=x?x({},""):"none",this.hasProjected=!1);return}p.visibility="";const E=b.animationValues||b.latestValues;this.applyTransformsToTarget();let A=rM(this.projectionDeltaWithTransform,this.treeScale,E);x&&(A=x(E,A)),p.transform=A;const{x:R,y:D}=this.projectionDelta;p.transformOrigin=`${R.origin*100}% ${D.origin*100}% 0`,b.animationValues?p.opacity=b===this?E.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:E.opacityExit:p.opacity=b===this?E.opacity!==void 0?E.opacity:"":E.opacityExit!==void 0?E.opacityExit:0;for(const _ in Gm){if(E[_]===void 0)continue;const{correct:k,applyTo:P,isCSSVariable:Y}=Gm[_],j=A==="none"?E[_]:k(E[_],b);if(P){const U=P.length;for(let F=0;F<U;F++)p[P[F]]=j}else Y?this.options.visualElement.renderState.vars[_]=j:p[_]=j}this.options.layoutId&&(p.pointerEvents=b===this?Wd(w?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(p=>p.currentAnimation?.stop()),this.root.nodes.forEach(rx),this.root.sharedNodes.clear()}}}function pM(e){e.updateLayout()}function yM(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:o}=e.layout,{animationType:u}=e.options,h=t.source!==e.layout.source;u==="size"?Xr(E=>{const A=h?t.measuredBox[E]:t.layoutBox[E],R=gi(A);A.min=r[E].min,A.max=A.min+R}):K4(u,t.layoutBox,r)&&Xr(E=>{const A=h?t.measuredBox[E]:t.layoutBox[E],R=gi(r[E]);A.max=A.min+R,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[E].max=e.relativeTarget[E].min+R)});const p=al();Mc(p,r,t.layoutBox);const w=al();h?Mc(w,e.applyTransform(o,!0),t.measuredBox):Mc(w,r,t.layoutBox);const x=!G4(p);let b=!1;if(!e.resumeFrom){const E=e.getClosestProjectingParent();if(E&&!E.resumeFrom){const{snapshot:A,layout:R}=E;if(A&&R){const D=Un();uh(D,t.layoutBox,A.layoutBox);const _=Un();uh(_,r,R.layoutBox),Y4(D,_)||(b=!0),E.options.layoutRoot&&(e.relativeTarget=_,e.relativeTargetOrigin=D,e.relativeParent=E)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:w,layoutDelta:p,hasLayoutChanged:x,hasRelativeLayoutChanged:b})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function bM(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function vM(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function wM(e){e.clearSnapshot()}function rx(e){e.clearMeasurements()}function sx(e){e.isLayoutDirty=!1}function xM(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function ax(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function EM(e){e.resolveTargetDelta()}function CM(e){e.calcProjection()}function SM(e){e.resetSkewAndRotation()}function AM(e){e.removeLeadSnapshot()}function ox(e,t,r){e.translate=ln(t.translate,0,r),e.scale=ln(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function lx(e,t,r,o){e.min=ln(t.min,r.min,o),e.max=ln(t.max,r.max,o)}function NM(e,t,r,o){lx(e.x,t.x,r.x,o),lx(e.y,t.y,r.y,o)}function TM(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const RM={duration:.45,ease:[.4,0,.1,1]},cx=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),ux=cx("applewebkit/")&&!cx("chrome/")?Math.round:mr;function dx(e){e.min=ux(e.min),e.max=ux(e.max)}function OM(e){dx(e.x),dx(e.y)}function K4(e,t,r){return e==="position"||e==="preserve-aspect"&&!$9(Jw(t),Jw(r),.2)}function MM(e){return e!==e.root&&e.scroll?.wasRoot}const IM=Z4({attachResizeListener:(e,t)=>Fc(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body?.scrollLeft||0,y:document.documentElement.scrollTop||document.body?.scrollTop||0}),checkIsScrollRoot:()=>!0}),K0={current:void 0},$4=Z4({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!K0.current){const e=new IM({});e.mount(window),e.setOptions({layoutScroll:!0}),K0.current=e}return K0.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),$g=H.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function hx(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function _M(...e){return t=>{let r=!1;const o=e.map(u=>{const h=hx(u,t);return!r&&typeof h=="function"&&(r=!0),h});if(r)return()=>{for(let u=0;u<o.length;u++){const h=o[u];typeof h=="function"?h():hx(e[u],null)}}}}function DM(...e){return H.useCallback(_M(...e),e)}class jM extends H.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent&&this.props.pop!==!1){const o=r.offsetParent,u=Fm(o)&&o.offsetWidth||0,h=Fm(o)&&o.offsetHeight||0,p=this.props.sizeRef.current;p.height=r.offsetHeight||0,p.width=r.offsetWidth||0,p.top=r.offsetTop,p.left=r.offsetLeft,p.right=u-p.width-p.left,p.bottom=h-p.height-p.top}return null}componentDidUpdate(){}render(){return this.props.children}}function LM({children:e,isPresent:t,anchorX:r,anchorY:o,root:u,pop:h}){const p=H.useId(),w=H.useRef(null),x=H.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:b}=H.useContext($g),E=e.props?.ref??e?.ref,A=DM(w,E);return H.useInsertionEffect(()=>{const{width:R,height:D,top:_,left:k,right:P,bottom:Y}=x.current;if(t||h===!1||!w.current||!R||!D)return;const j=r==="left"?`left: ${k}`:`right: ${P}`,U=o==="bottom"?`bottom: ${Y}`:`top: ${_}`;w.current.dataset.motionPopId=p;const F=document.createElement("style");b&&(F.nonce=b);const I=u??document.head;return I.appendChild(F),F.sheet&&F.sheet.insertRule(`
          [data-motion-pop-id="${p}"] {
            position: absolute !important;
            width: ${R}px !important;
            height: ${D}px !important;
            ${j}px !important;
            ${U}px !important;
          }
        `),()=>{I.contains(F)&&I.removeChild(F)}},[t]),y.jsx(jM,{isPresent:t,childRef:w,sizeRef:x,pop:h,children:h===!1?e:H.cloneElement(e,{ref:A})})}const BM=({children:e,initial:t,isPresent:r,onExitComplete:o,custom:u,presenceAffectsLayout:h,mode:p,anchorX:w,anchorY:x,root:b})=>{const E=Sg(kM),A=H.useId();let R=!0,D=H.useMemo(()=>(R=!1,{id:A,initial:t,isPresent:r,custom:u,onExitComplete:_=>{E.set(_,!0);for(const k of E.values())if(!k)return;o&&o()},register:_=>(E.set(_,!1),()=>E.delete(_))}),[r,E,o]);return h&&R&&(D={...D}),H.useMemo(()=>{E.forEach((_,k)=>E.set(k,!1))},[r]),H.useEffect(()=>{!r&&!E.size&&o&&o()},[r]),e=y.jsx(LM,{pop:p==="popLayout",isPresent:r,anchorX:w,anchorY:x,root:b,children:e}),y.jsx(Rh.Provider,{value:D,children:e})};function kM(){return new Map}function J4(e=!0){const t=H.useContext(Rh);if(t===null)return[!0,null];const{isPresent:r,onExitComplete:o,register:u}=t,h=H.useId();H.useEffect(()=>{if(e)return u(h)},[e]);const p=H.useCallback(()=>e&&o&&o(h),[h,o,e]);return!r&&o?[!1,p]:[!0]}const Ld=e=>e.key||"";function fx(e){const t=[];return H.Children.forEach(e,r=>{H.isValidElement(r)&&t.push(r)}),t}const Ih=({children:e,custom:t,initial:r=!0,onExitComplete:o,presenceAffectsLayout:u=!0,mode:h="sync",propagate:p=!1,anchorX:w="left",anchorY:x="top",root:b})=>{const[E,A]=J4(p),R=H.useMemo(()=>fx(e),[e]),D=p&&!E?[]:R.map(Ld),_=H.useRef(!0),k=H.useRef(R),P=Sg(()=>new Map),Y=H.useRef(new Set),[j,U]=H.useState(R),[F,I]=H.useState(R);O3(()=>{_.current=!1,k.current=R;for(let G=0;G<F.length;G++){const Q=Ld(F[G]);D.includes(Q)?(P.delete(Q),Y.current.delete(Q)):P.get(Q)!==!0&&P.set(Q,!1)}},[F,D.length,D.join("-")]);const X=[];if(R!==j){let G=[...R];for(let Q=0;Q<F.length;Q++){const Ee=F[Q],ae=Ld(Ee);D.includes(ae)||(G.splice(Q,0,Ee),X.push(Ee))}return h==="wait"&&X.length&&(G=X),I(fx(G)),U(R),null}const{forceRender:z}=H.useContext(Cg);return y.jsx(y.Fragment,{children:F.map(G=>{const Q=Ld(G),Ee=p&&!E?!1:R===F||D.includes(Q),ae=()=>{if(Y.current.has(Q))return;if(Y.current.add(Q),P.has(Q))P.set(Q,!0);else return;let ve=!0;P.forEach(me=>{me||(ve=!1)}),ve&&(z?.(),I(k.current),p&&A?.(),o&&o())};return y.jsx(BM,{isPresent:Ee,initial:!_.current||r?void 0:!1,custom:t,presenceAffectsLayout:u,mode:h,root:b,onExitComplete:Ee?void 0:ae,anchorX:w,anchorY:x,children:G},Q)})})},eC=H.createContext({strict:!1}),mx={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let gx=!1;function PM(){if(gx)return;const e={};for(const t in mx)e[t]={isEnabled:r=>mx[t].some(o=>!!r[o])};O4(e),gx=!0}function tC(){return PM(),S9()}function UM(e){const t=tC();for(const r in e)t[r]={...t[r],...e[r]};O4(t)}const zM=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","propagate","ignoreStrict","viewport"]);function dh(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||zM.has(e)}let nC=e=>!dh(e);function FM(e){typeof e=="function"&&(nC=t=>t.startsWith("on")?!dh(t):e(t))}try{FM(require("@emotion/is-prop-valid").default)}catch{}function VM(e,t,r){const o={};for(const u in e)u==="values"&&typeof e.values=="object"||(nC(u)||r===!0&&dh(u)||!t&&!dh(u)||e.draggable&&u.startsWith("onDrag"))&&(o[u]=e[u]);return o}const _h=H.createContext({});function HM(e,t){if(Mh(e)){const{initial:r,animate:o}=e;return{initial:r===!1||zc(r)?r:void 0,animate:zc(o)?o:void 0}}return e.inherit!==!1?t:{}}function qM(e){const{initial:t,animate:r}=HM(e,H.useContext(_h));return H.useMemo(()=>({initial:t,animate:r}),[px(t),px(r)])}function px(e){return Array.isArray(e)?e.join(" "):e}const Jg=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function iC(e,t,r){for(const o in t)!ri(t[o])&&!B4(o,r)&&(e[o]=t[o])}function GM({transformTemplate:e},t){return H.useMemo(()=>{const r=Jg();return Zg(r,t,e),Object.assign({},r.vars,r.style)},[t])}function YM(e,t){const r=e.style||{},o={};return iC(o,r,e),Object.assign(o,GM(e,t)),o}function XM(e,t){const r={},o=YM(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,o.userSelect=o.WebkitUserSelect=o.WebkitTouchCallout="none",o.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=o,r}const rC=()=>({...Jg(),attrs:{}});function WM(e,t,r,o){const u=H.useMemo(()=>{const h=rC();return k4(h,t,U4(o),e.transformTemplate,e.style),{...h.attrs,style:{...h.style}}},[t]);if(e.style){const h={};iC(h,e.style,e),u.style={...h,...u.style}}return u}const QM=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function ep(e){return typeof e!="string"||e.includes("-")?!1:!!(QM.indexOf(e)>-1||/[A-Z]/u.test(e))}function ZM(e,t,r,{latestValues:o},u,h=!1,p){const x=(p??ep(e)?WM:XM)(t,o,u,e),b=VM(t,typeof e=="string",h),E=e!==H.Fragment?{...b,...x,ref:r}:{},{children:A}=t,R=H.useMemo(()=>ri(A)?A.get():A,[A]);return H.createElement(e,{...E,children:R})}function KM({scrapeMotionValuesFromProps:e,createRenderState:t},r,o,u){return{latestValues:$M(r,o,u,e),renderState:t()}}function $M(e,t,r,o){const u={},h=o(e,{});for(const R in h)u[R]=Wd(h[R]);let{initial:p,animate:w}=e;const x=Mh(e),b=T4(e);t&&b&&!x&&e.inherit!==!1&&(p===void 0&&(p=t.initial),w===void 0&&(w=t.animate));let E=r?r.initial===!1:!1;E=E||p===!1;const A=E?w:p;if(A&&typeof A!="boolean"&&!Oh(A)){const R=Array.isArray(A)?A:[A];for(let D=0;D<R.length;D++){const _=Vg(e,R[D]);if(_){const{transitionEnd:k,transition:P,...Y}=_;for(const j in Y){let U=Y[j];if(Array.isArray(U)){const F=E?U.length-1:0;U=U[F]}U!==null&&(u[j]=U)}for(const j in k)u[j]=k[j]}}}return u}const sC=e=>(t,r)=>{const o=H.useContext(_h),u=H.useContext(Rh),h=()=>KM(e,t,o,u);return r?h():Sg(h)},JM=sC({scrapeMotionValuesFromProps:Kg,createRenderState:Jg}),eI=sC({scrapeMotionValuesFromProps:z4,createRenderState:rC}),tI=Symbol.for("motionComponentSymbol");function nI(e,t,r){const o=H.useRef(r);H.useInsertionEffect(()=>{o.current=r});const u=H.useRef(null);return H.useCallback(h=>{h&&e.onMount?.(h),t&&(h?t.mount(h):t.unmount());const p=o.current;if(typeof p=="function")if(h){const w=p(h);typeof w=="function"&&(u.current=w)}else u.current?(u.current(),u.current=null):p(h);else p&&(p.current=h)},[t])}const aC=H.createContext({});function il(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function iI(e,t,r,o,u,h){const{visualElement:p}=H.useContext(_h),w=H.useContext(eC),x=H.useContext(Rh),b=H.useContext($g),E=b.reducedMotion,A=b.skipAnimations,R=H.useRef(null),D=H.useRef(!1);o=o||w.renderer,!R.current&&o&&(R.current=o(e,{visualState:t,parent:p,props:r,presenceContext:x,blockInitialAnimation:x?x.initial===!1:!1,reducedMotionConfig:E,skipAnimations:A,isSVG:h}),D.current&&R.current&&(R.current.manuallyAnimateOnMount=!0));const _=R.current,k=H.useContext(aC);_&&!_.projection&&u&&(_.type==="html"||_.type==="svg")&&rI(R.current,r,u,k);const P=H.useRef(!1);H.useInsertionEffect(()=>{_&&P.current&&_.update(r,x)});const Y=r[m4],j=H.useRef(!!Y&&!window.MotionHandoffIsComplete?.(Y)&&window.MotionHasOptimisedAnimation?.(Y));return O3(()=>{D.current=!0,_&&(P.current=!0,window.MotionIsMounted=!0,_.updateFeatures(),_.scheduleRenderMicrotask(),j.current&&_.animationState&&_.animationState.animateChanges())}),H.useEffect(()=>{_&&(!j.current&&_.animationState&&_.animationState.animateChanges(),j.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(Y)}),j.current=!1),_.enteringChildren=void 0)}),_}function rI(e,t,r,o){const{layoutId:u,layout:h,drag:p,dragConstraints:w,layoutScroll:x,layoutRoot:b,layoutCrossfade:E}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:oC(e.parent)),e.projection.setOptions({layoutId:u,layout:h,alwaysMeasureLayout:!!p||w&&il(w),visualElement:e,animationType:typeof h=="string"?h:"both",initialPromotionConfig:o,crossfade:E,layoutScroll:x,layoutRoot:b})}function oC(e){if(e)return e.options.allowProjection!==!1?e.projection:oC(e.parent)}function $0(e,{forwardMotionProps:t=!1,type:r}={},o,u){o&&UM(o);const h=r?r==="svg":ep(e),p=h?eI:JM;function w(b,E){let A;const R={...H.useContext($g),...b,layoutId:sI(b)},{isStatic:D}=R,_=qM(b),k=p(b,D);if(!D&&R3){aI();const P=oI(R);A=P.MeasureLayout,_.visualElement=iI(e,k,R,u,P.ProjectionNode,h)}return y.jsxs(_h.Provider,{value:_,children:[A&&_.visualElement?y.jsx(A,{visualElement:_.visualElement,...R}):null,ZM(e,b,nI(k,_.visualElement,E),k,D,t,h)]})}w.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const x=H.forwardRef(w);return x[tI]=e,x}function sI({layoutId:e}){const t=H.useContext(Cg).id;return t&&e!==void 0?t+"-"+e:e}function aI(e,t){H.useContext(eC).strict}function oI(e){const t=tC(),{drag:r,layout:o}=t;if(!r&&!o)return{};const u={...r,...o};return{MeasureLayout:r?.isEnabled(e)||o?.isEnabled(e)?u.MeasureLayout:void 0,ProjectionNode:u.ProjectionNode}}function lI(e,t){if(typeof Proxy>"u")return $0;const r=new Map,o=(h,p)=>$0(h,p,e,t),u=(h,p)=>o(h,p);return new Proxy(u,{get:(h,p)=>p==="create"?o:(r.has(p)||r.set(p,$0(p,void 0,e,t)),r.get(p))})}const cI=(e,t)=>t.isSVG??ep(e)?new F9(t):new L9(t,{allowProjection:e!==H.Fragment});class uI extends Ma{constructor(t){super(t),t.animationState||(t.animationState=Y9(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Oh(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let dI=0;class hI extends Ma{constructor(){super(...arguments),this.id=dI++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:o}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===o)return;const u=this.node.animationState.setActive("exit",!t);r&&!t&&u.then(()=>{r(this.id)})}mount(){const{register:t,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const fI={animation:{Feature:uI},exit:{Feature:hI}};function iu(e){return{point:{x:e.pageX,y:e.pageY}}}const mI=e=>t=>Yg(t)&&e(t,iu(t));function Ic(e,t,r,o){return Fc(e,t,mI(r),o)}const lC=({current:e})=>e?e.ownerDocument.defaultView:null,yx=(e,t)=>Math.abs(e-t);function gI(e,t){const r=yx(e.x,t.x),o=yx(e.y,t.y);return Math.sqrt(r**2+o**2)}const bx=new Set(["auto","scroll"]);class cC{constructor(t,r,{transformPagePoint:o,contextWindow:u=window,dragSnapToOrigin:h=!1,distanceThreshold:p=3,element:w}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=D=>{this.handleScroll(D.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const D=em(this.lastMoveEventInfo,this.history),_=this.startEvent!==null,k=gI(D.offset,{x:0,y:0})>=this.distanceThreshold;if(!_&&!k)return;const{point:P}=D,{timestamp:Y}=Jn;this.history.push({...P,timestamp:Y});const{onStart:j,onMove:U}=this.handlers;_||(j&&j(this.lastMoveEvent,D),this.startEvent=this.lastMoveEvent),U&&U(this.lastMoveEvent,D)},this.handlePointerMove=(D,_)=>{this.lastMoveEvent=D,this.lastMoveEventInfo=J0(_,this.transformPagePoint),Qt.update(this.updatePoint,!0)},this.handlePointerUp=(D,_)=>{this.end();const{onEnd:k,onSessionEnd:P,resumeAnimation:Y}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&Y&&Y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const j=em(D.type==="pointercancel"?this.lastMoveEventInfo:J0(_,this.transformPagePoint),this.history);this.startEvent&&k&&k(D,j),P&&P(D,j)},!Yg(t))return;this.dragSnapToOrigin=h,this.handlers=r,this.transformPagePoint=o,this.distanceThreshold=p,this.contextWindow=u||window;const x=iu(t),b=J0(x,this.transformPagePoint),{point:E}=b,{timestamp:A}=Jn;this.history=[{...E,timestamp:A}];const{onSessionStart:R}=r;R&&R(t,em(b,this.history)),this.removeListeners=eu(Ic(this.contextWindow,"pointermove",this.handlePointerMove),Ic(this.contextWindow,"pointerup",this.handlePointerUp),Ic(this.contextWindow,"pointercancel",this.handlePointerUp)),w&&this.startScrollTracking(w)}startScrollTracking(t){let r=t.parentElement;for(;r;){const o=getComputedStyle(r);(bx.has(o.overflowX)||bx.has(o.overflowY))&&this.scrollPositions.set(r,{x:r.scrollLeft,y:r.scrollTop}),r=r.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(t){const r=this.scrollPositions.get(t);if(!r)return;const o=t===window,u=o?{x:window.scrollX,y:window.scrollY}:{x:t.scrollLeft,y:t.scrollTop},h={x:u.x-r.x,y:u.y-r.y};h.x===0&&h.y===0||(o?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=h.x,this.lastMoveEventInfo.point.y+=h.y):this.history.length>0&&(this.history[0].x-=h.x,this.history[0].y-=h.y),this.scrollPositions.set(t,u),Qt.update(this.updatePoint,!0))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),Sa(this.updatePoint)}}function J0(e,t){return t?{point:t(e.point)}:e}function vx(e,t){return{x:e.x-t.x,y:e.y-t.y}}function em({point:e},t){return{point:e,delta:vx(e,uC(t)),offset:vx(e,pI(t)),velocity:yI(t,.1)}}function pI(e){return e[0]}function uC(e){return e[e.length-1]}function yI(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,o=null;const u=uC(e);for(;r>=0&&(o=e[r],!(u.timestamp-o.timestamp>Ir(t)));)r--;if(!o)return{x:0,y:0};o===e[0]&&e.length>2&&u.timestamp-o.timestamp>Ir(t)*2&&(o=e[1]);const h=fr(u.timestamp-o.timestamp);if(h===0)return{x:0,y:0};const p={x:(u.x-o.x)/h,y:(u.y-o.y)/h};return p.x===1/0&&(p.x=0),p.y===1/0&&(p.y=0),p}function bI(e,{min:t,max:r},o){return t!==void 0&&e<t?e=o?ln(t,e,o.min):Math.max(e,t):r!==void 0&&e>r&&(e=o?ln(r,e,o.max):Math.min(e,r)),e}function wx(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function vI(e,{top:t,left:r,bottom:o,right:u}){return{x:wx(e.x,r,u),y:wx(e.y,t,o)}}function xx(e,t){let r=t.min-e.min,o=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,o]=[o,r]),{min:r,max:o}}function wI(e,t){return{x:xx(e.x,t.x),y:xx(e.y,t.y)}}function xI(e,t){let r=.5;const o=gi(e),u=gi(t);return u>o?r=kc(t.min,t.max-o,e.min):o>u&&(r=kc(e.min,e.max-u,t.min)),es(0,1,r)}function EI(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const Ym=.35;function CI(e=Ym){return e===!1?e=0:e===!0&&(e=Ym),{x:Ex(e,"left","right"),y:Ex(e,"top","bottom")}}function Ex(e,t,r){return{min:Cx(e,t),max:Cx(e,r)}}function Cx(e,t){return typeof e=="number"?e:e[t]||0}const SI=new WeakMap;class AI{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Un(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:r=!1,distanceThreshold:o}={}){const{presenceContext:u}=this.visualElement;if(u&&u.isPresent===!1)return;const h=A=>{r&&this.snapToCursor(iu(A).point),this.stopAnimation()},p=(A,R)=>{const{drag:D,dragPropagation:_,onDragStart:k}=this.getProps();if(D&&!_&&(this.openDragLock&&this.openDragLock(),this.openDragLock=e9(D),!this.openDragLock))return;this.latestPointerEvent=A,this.latestPanInfo=R,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Xr(Y=>{let j=this.getAxisMotionValue(Y).get()||0;if($r.test(j)){const{projection:U}=this.visualElement;if(U&&U.layout){const F=U.layout.layoutBox[Y];F&&(j=gi(F)*(parseFloat(j)/100))}}this.originPoint[Y]=j}),k&&Qt.update(()=>k(A,R),!1,!0),Pm(this.visualElement,"transform");const{animationState:P}=this.visualElement;P&&P.setActive("whileDrag",!0)},w=(A,R)=>{this.latestPointerEvent=A,this.latestPanInfo=R;const{dragPropagation:D,dragDirectionLock:_,onDirectionLock:k,onDrag:P}=this.getProps();if(!D&&!this.openDragLock)return;const{offset:Y}=R;if(_&&this.currentDirection===null){this.currentDirection=TI(Y),this.currentDirection!==null&&k&&k(this.currentDirection);return}this.updateAxis("x",R.point,Y),this.updateAxis("y",R.point,Y),this.visualElement.render(),P&&Qt.update(()=>P(A,R),!1,!0)},x=(A,R)=>{this.latestPointerEvent=A,this.latestPanInfo=R,this.stop(A,R),this.latestPointerEvent=null,this.latestPanInfo=null},b=()=>{const{dragSnapToOrigin:A}=this.getProps();(A||this.constraints)&&this.startAnimation({x:0,y:0})},{dragSnapToOrigin:E}=this.getProps();this.panSession=new cC(t,{onSessionStart:h,onStart:p,onMove:w,onSessionEnd:x,resumeAnimation:b},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:E,distanceThreshold:o,contextWindow:lC(this.visualElement),element:this.visualElement.current})}stop(t,r){const o=t||this.latestPointerEvent,u=r||this.latestPanInfo,h=this.isDragging;if(this.cancel(),!h||!u||!o)return;const{velocity:p}=u;this.startAnimation(p);const{onDragEnd:w}=this.getProps();w&&Qt.postRender(()=>w(o,u))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:o}=this.getProps();!o&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(t,r,o){const{drag:u}=this.getProps();if(!o||!Bd(t,u,this.currentDirection))return;const h=this.getAxisMotionValue(t);let p=this.originPoint[t]+o[t];this.constraints&&this.constraints[t]&&(p=bI(p,this.constraints[t],this.elastic[t])),h.set(p)}resolveConstraints(){const{dragConstraints:t,dragElastic:r}=this.getProps(),o=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,u=this.constraints;t&&il(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&o?this.constraints=vI(o.layoutBox,t):this.constraints=!1,this.elastic=CI(r),u!==this.constraints&&!il(t)&&o&&this.constraints&&!this.hasMutatedConstraints&&Xr(h=>{this.constraints!==!1&&this.getAxisMotionValue(h)&&(this.constraints[h]=EI(o.layoutBox[h],this.constraints[h]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!il(t))return!1;const o=t.current,{projection:u}=this.visualElement;if(!u||!u.layout)return!1;const h=O9(o,u.root,this.visualElement.getTransformPagePoint());let p=wI(u.layout.layoutBox,h);if(r){const w=r(N9(p));this.hasMutatedConstraints=!!w,w&&(p=I4(w))}return p}startAnimation(t){const{drag:r,dragMomentum:o,dragElastic:u,dragTransition:h,dragSnapToOrigin:p,onDragTransitionEnd:w}=this.getProps(),x=this.constraints||{},b=Xr(E=>{if(!Bd(E,r,this.currentDirection))return;let A=x&&x[E]||{};p&&(A={min:0,max:0});const R=u?200:1e6,D=u?40:1e7,_={type:"inertia",velocity:o?t[E]:0,bounceStiffness:R,bounceDamping:D,timeConstant:750,restDelta:1,restSpeed:10,...h,...A};return this.startAxisValueAnimation(E,_)});return Promise.all(b).then(w)}startAxisValueAnimation(t,r){const o=this.getAxisMotionValue(t);return Pm(this.visualElement,t),o.start(Fg(t,o,0,r,this.visualElement,!1))}stopAnimation(){Xr(t=>this.getAxisMotionValue(t).stop())}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,o=this.visualElement.getProps(),u=o[r];return u||this.visualElement.getValue(t,(o.initial?o.initial[t]:void 0)||0)}snapToCursor(t){Xr(r=>{const{drag:o}=this.getProps();if(!Bd(r,o,this.currentDirection))return;const{projection:u}=this.visualElement,h=this.getAxisMotionValue(r);if(u&&u.layout){const{min:p,max:w}=u.layout.layoutBox[r],x=h.get()||0;h.set(t[r]-ln(p,w,.5)+x)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:o}=this.visualElement;if(!il(r)||!o||!this.constraints)return;this.stopAnimation();const u={x:0,y:0};Xr(p=>{const w=this.getAxisMotionValue(p);if(w&&this.constraints!==!1){const x=w.get();u[p]=xI({min:x,max:x},this.constraints[p])}});const{transformTemplate:h}=this.visualElement.getProps();this.visualElement.current.style.transform=h?h({},""):"none",o.root&&o.root.updateScroll(),o.updateLayout(),this.constraints=!1,this.resolveConstraints(),Xr(p=>{if(!Bd(p,t,null))return;const w=this.getAxisMotionValue(p),{min:x,max:b}=this.constraints[p];w.set(ln(x,b,u[p]))}),this.visualElement.render()}addListeners(){if(!this.visualElement.current)return;SI.set(this.visualElement,this);const t=this.visualElement.current,r=Ic(t,"pointerdown",b=>{const{drag:E,dragListener:A=!0}=this.getProps(),R=b.target,D=R!==t&&a9(R);E&&A&&!D&&this.start(b)});let o;const u=()=>{const{dragConstraints:b}=this.getProps();il(b)&&b.current&&(this.constraints=this.resolveRefConstraints(),o||(o=NI(t,b.current,()=>this.scalePositionWithinConstraints())))},{projection:h}=this.visualElement,p=h.addEventListener("measure",u);h&&!h.layout&&(h.root&&h.root.updateScroll(),h.updateLayout()),Qt.read(u);const w=Fc(window,"resize",()=>this.scalePositionWithinConstraints()),x=h.addEventListener("didUpdate",(({delta:b,hasLayoutChanged:E})=>{this.isDragging&&E&&(Xr(A=>{const R=this.getAxisMotionValue(A);R&&(this.originPoint[A]+=b[A].translate,R.set(R.get()+b[A].translate))}),this.visualElement.render())}));return()=>{w(),r(),p(),x&&x(),o&&o()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:o=!1,dragPropagation:u=!1,dragConstraints:h=!1,dragElastic:p=Ym,dragMomentum:w=!0}=t;return{...t,drag:r,dragDirectionLock:o,dragPropagation:u,dragConstraints:h,dragElastic:p,dragMomentum:w}}}function Sx(e){let t=!0;return()=>{if(t){t=!1;return}e()}}function NI(e,t,r){const o=Iw(e,Sx(r)),u=Iw(t,Sx(r));return()=>{o(),u()}}function Bd(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function TI(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class RI extends Ma{constructor(t){super(t),this.removeGroupControls=mr,this.removeListeners=mr,this.controls=new AI(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||mr}update(){const{dragControls:t}=this.node.getProps(),{dragControls:r}=this.node.prevProps||{};t!==r&&(this.removeGroupControls(),t&&(this.removeGroupControls=t.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const tm=e=>(t,r)=>{e&&Qt.update(()=>e(t,r),!1,!0)};class OI extends Ma{constructor(){super(...arguments),this.removePointerDownListener=mr}onPointerDown(t){this.session=new cC(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:lC(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:o,onPanEnd:u}=this.node.getProps();return{onSessionStart:tm(t),onStart:tm(r),onMove:tm(o),onEnd:(h,p)=>{delete this.session,u&&Qt.postRender(()=>u(h,p))}}}mount(){this.removePointerDownListener=Ic(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let nm=!1;class MI extends H.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:o,layoutId:u}=this.props,{projection:h}=t;h&&(r.group&&r.group.add(h),o&&o.register&&u&&o.register(h),nm&&h.root.didUpdate(),h.addEventListener("animationComplete",()=>{this.safeToRemove()}),h.setOptions({...h.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),Qd.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:o,drag:u,isPresent:h}=this.props,{projection:p}=o;return p&&(p.isPresent=h,t.layoutDependency!==r&&p.setOptions({...p.options,layoutDependency:r}),nm=!0,u||t.layoutDependency!==r||r===void 0||t.isPresent!==h?p.willUpdate():this.safeToRemove(),t.isPresent!==h&&(h?p.promote():p.relegate()||Qt.postRender(()=>{const w=p.getStack();(!w||!w.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Gg.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:o}=this.props,{projection:u}=t;nm=!0,u&&(u.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(u),o&&o.deregister&&o.deregister(u))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function dC(e){const[t,r]=J4(),o=H.useContext(Cg);return y.jsx(MI,{...e,layoutGroup:o,switchLayoutGroup:H.useContext(aC),isPresent:t,safeToRemove:r})}const II={pan:{Feature:OI},drag:{Feature:RI,ProjectionNode:$4,MeasureLayout:dC}};function Ax(e,t,r){const{props:o}=e;e.animationState&&o.whileHover&&e.animationState.setActive("whileHover",r==="Start");const u="onHover"+r,h=o[u];h&&Qt.postRender(()=>h(t,iu(t)))}class _I extends Ma{mount(){const{current:t}=this.node;t&&(this.unmount=n9(t,(r,o)=>(Ax(this.node,o,"Start"),u=>Ax(this.node,u,"End"))))}unmount(){}}class DI extends Ma{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=eu(Fc(this.node.current,"focus",()=>this.onFocus()),Fc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Nx(e,t,r){const{props:o}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&o.whileTap&&e.animationState.setActive("whileTap",r==="Start");const u="onTap"+(r==="End"?"":r),h=o[u];h&&Qt.postRender(()=>h(t,iu(t)))}class jI extends Ma{mount(){const{current:t}=this.node;if(!t)return;const{globalTapTarget:r,propagate:o}=this.node.props;this.unmount=l9(t,(u,h)=>(Nx(this.node,h,"Start"),(p,{success:w})=>Nx(this.node,p,w?"End":"Cancel")),{useGlobalTarget:r,stopPropagation:o?.tap===!1})}unmount(){}}const Xm=new WeakMap,im=new WeakMap,LI=e=>{const t=Xm.get(e.target);t&&t(e)},BI=e=>{e.forEach(LI)};function kI({root:e,...t}){const r=e||document;im.has(r)||im.set(r,{});const o=im.get(r),u=JSON.stringify(t);return o[u]||(o[u]=new IntersectionObserver(BI,{root:e,...t})),o[u]}function PI(e,t,r){const o=kI(t);return Xm.set(e,r),o.observe(e),()=>{Xm.delete(e),o.unobserve(e)}}const UI={some:0,all:1};class zI extends Ma{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:o,amount:u="some",once:h}=t,p={root:r?r.current:void 0,rootMargin:o,threshold:typeof u=="number"?u:UI[u]},w=x=>{const{isIntersecting:b}=x;if(this.isInView===b||(this.isInView=b,h&&!b&&this.hasEnteredView))return;b&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",b);const{onViewportEnter:E,onViewportLeave:A}=this.node.getProps(),R=b?E:A;R&&R(x)};return PI(this.node.current,p,w)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(FI(t,r))&&this.startObserver()}unmount(){}}function FI({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const VI={inView:{Feature:zI},tap:{Feature:jI},focus:{Feature:DI},hover:{Feature:_I}},HI={layout:{ProjectionNode:$4,MeasureLayout:dC}},qI={...fI,...VI,...II,...HI},Mi=lI(qI,cI),rm=[{text:"User Logging In...",icon:y.jsx(yg,{className:"text-orange-500"})},{text:"Browsing Menu...",icon:y.jsx(u3,{className:"text-orange-500"})},{text:"Kitchen Preparing...",icon:y.jsx(h5,{className:"text-orange-500"})},{text:"Order Prepared!",icon:y.jsx(pg,{className:"text-green-500"})},{text:"Scan QR to Pickup",icon:y.jsx(l3,{className:"text-gray-800"})}],GI=()=>{const[e,t]=H.useState(0);return H.useEffect(()=>{const r=setInterval(()=>{t(o=>(o+1)%rm.length)},3e3);return()=>clearInterval(r)},[]),y.jsxs("div",{className:"relative border-gray-800 bg-gray-800 border-[10px] rounded-[2.5rem] h-[500px] w-[250px] shadow-xl overflow-hidden shrink-0",children:[y.jsx("div",{className:"w-24 h-4 bg-gray-800 top-0 left-1/2 -translate-x-1/2 absolute rounded-b-xl z-20"}),y.jsxs("div",{className:"h-full w-full bg-white p-6 flex flex-col items-center justify-center text-center",children:[y.jsx(Ih,{mode:"wait",children:y.jsxs(Mi.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"flex flex-col items-center gap-4",children:[y.jsx("div",{className:"p-4 bg-orange-50 rounded-2xl",children:rm[e].icon}),y.jsx("p",{className:"font-bold text-gray-700 text-sm",children:rm[e].text})]},e)}),y.jsxs("div",{className:"absolute bottom-10 left-6 right-6 space-y-2",children:[y.jsx("div",{className:"h-2 w-full bg-gray-100 rounded"}),y.jsx("div",{className:"h-2 w-2/3 bg-gray-100 rounded"})]})]})]})};function In({label:e,type:t="text",placeholder:r,value:o,onChange:u,name:h,required:p=!1}){return y.jsxs("div",{className:"w-full flex flex-col gap-1.5 mb-4",children:[e&&y.jsx("label",{className:"text-sm font-semibold text-gray-700 ml-1",children:e}),y.jsx("input",{type:t,name:h,value:o,onChange:u,placeholder:r,required:p,className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-orange-500 focus:ring-2 focus:ring-orange-200 outline-none transition-all bg-white/50 backdrop-blur-sm"})]})}const At=({children:e,variant:t="primary",size:r="md",className:o="",...u})=>{const h="inline-flex items-center justify-center font-bold transition-all active:scale-95 disabled:opacity-50 disabled:pointer-events-none",p={primary:"bg-brand-primary hover:bg-brand-secondary text-white shadow-lg shadow-orange-100",secondary:"bg-orange-50 text-brand-primary hover:bg-orange-100",outline:"border-2 border-gray-200 text-gray-600 hover:border-brand-primary hover:text-brand-primary",danger:"bg-red-50 text-red-600 hover:bg-red-100",ghost:"text-gray-500 hover:bg-gray-100 hover:text-gray-800"},w={sm:"px-4 py-2 text-sm rounded-xl",md:"px-6 py-3 rounded-2xl",lg:"px-8 py-4 text-lg rounded-hb"};return y.jsx("button",{className:`${h} ${p[t]} ${w[r]} ${o}`,...u,children:e})},YI=({activeRole:e,setRole:t})=>y.jsxs("div",{className:"relative flex items-center w-64 h-11 bg-gray-100 rounded-full p-1 shadow-inner border border-gray-200",children:[y.jsx(Mi.div,{className:"absolute top-1 bottom-1 left-1 w-[calc(50%-4px)] bg-white rounded-full shadow-md z-0",initial:!1,animate:{x:e===qn.EMPLOYEE?0:"100%"},transition:{type:"spring",stiffness:400,damping:30}}),y.jsx("button",{type:"button",onClick:()=>t(qn.EMPLOYEE),className:`relative z-10 flex-1 text-sm font-bold transition-colors duration-200 ${e===qn.EMPLOYEE?"text-orange-600":"text-gray-500"}`,children:"Employee"}),y.jsx("button",{type:"button",onClick:()=>t(qn.VENDOR),className:`relative z-10 flex-1 text-sm font-bold transition-colors duration-200 ${e===qn.VENDOR?"text-orange-600":"text-gray-500"}`,children:"Vendor"})]});function hC({label:e,value:t,onChange:r,name:o,required:u=!1,children:h,disabled:p=!1}){return y.jsxs("div",{className:"w-full flex flex-col gap-1.5 mb-4",children:[e&&y.jsxs("label",{className:"text-sm font-semibold text-gray-700 ml-1",children:[e," ",u&&y.jsx("span",{className:"text-red-500",children:"*"})]}),y.jsx("select",{name:o,value:t,onChange:r,required:u,disabled:p,className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-orange-500 focus:ring-2 focus:ring-orange-200 outline-none transition-all bg-white/50 backdrop-blur-sm disabled:bg-gray-100 disabled:cursor-not-allowed",children:h})]})}const XI=({onDataChange:e,organizations:t,selectedOrgId:r,suggestedOrg:o})=>y.jsxs(y.Fragment,{children:[y.jsxs(hC,{label:"Organization",name:"organizationId",value:r,onChange:e,required:!0,children:[y.jsx("option",{value:"",children:"Select your organization"}),t.map(u=>y.jsxs("option",{value:u.id,children:[u.name,o?.id===u.id?"  Detected from email":""]},u.id))]}),o&&y.jsxs("div",{className:"mb-3 p-2 bg-green-50 border border-green-200 rounded-lg text-sm text-green-700",children:[y.jsx("span",{className:"font-semibold",children:" Organization detected:"})," ",o.name]}),y.jsx(In,{label:"Employee ID",name:"employeeId",placeholder:"EMP12345",onChange:e,required:!0})]}),WI=({onDataChange:e,organizations:t,selectedOrgId:r})=>y.jsxs(y.Fragment,{children:[y.jsxs(hC,{label:"Organization",name:"organizationId",value:r,onChange:e,required:!0,children:[y.jsx("option",{value:"",children:"Select organization to partner with"}),t.map(o=>y.jsx("option",{value:o.id,children:o.name},o.id))]}),y.jsx(In,{label:"Shop Name",name:"shopName",placeholder:"Healthy Bites",onChange:e,required:!0}),y.jsx(In,{label:"GST Number",name:"gstNumber",placeholder:"22AAAAA0000A1Z5",onChange:e,required:!0})]}),hh={register:async e=>await De.post("/auth/register",e),login:async e=>await De.post("/auth/login",e),verifyAccount:async(e,t)=>await De.post(`/auth/verify?identifier=${e}&otp=${t}`),resendOtp:async(e,t)=>await De.post(`/auth/resend-otp?identifier=${e}&type=${t}`)},QI={getAllOrganizations:async()=>await De.get("/organization/public"),getOrganizationById:async e=>await De.get(`/organization/${e}`)},ZI=({onSwitchToLogin:e,onBack:t})=>{const r=Ki(),[o,u]=H.useState("ROLE_EMPLOYEE"),[h,p]=H.useState(!1),[w,x]=H.useState(null),[b,E]=H.useState([]),[A,R]=H.useState(null),[D,_]=H.useState({fullName:"",email:"",password:"",phoneNumber:"",organizationId:""});H.useEffect(()=>{(async()=>{try{const j=await QI.getAllOrganizations();j&&j.length>0&&E(j)}catch(j){console.error("Failed to fetch organizations:",j)}})()},[]);const k=Y=>{const{name:j,value:U}=Y.target;if(_({...D,[j]:U}),j==="email"&&U.includes("@")){const F=U.substring(U.indexOf("@")+1).toLowerCase(),I=b.find(X=>X.domain&&X.domain.toLowerCase()===F);I?(R(I),_(X=>({...X,organizationId:I.id}))):R(null)}},P=async Y=>{if(Y.preventDefault(),p(!0),x(null),!D.email&&!D.phoneNumber){x("Either email or phone number must be provided"),p(!1);return}const j={...D,role:o};try{await hh.register(j);const U=D.email||D.phoneNumber;r("/verify",{state:{identifier:U}})}catch(U){x(U.response?.data?.message||"Registration failed")}finally{p(!1)}};return y.jsxs("div",{className:"w-full max-w-md",children:[y.jsxs("div",{className:"flex items-center justify-between mb-6",children:[y.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-full",children:y.jsx(xl,{size:20,className:"text-gray-600"})}),y.jsx(YI,{activeRole:o,setRole:u})]}),y.jsxs("div",{className:"mb-6 flex flex-col items-center",children:[y.jsx("img",{src:"/logo.svg",alt:"BiteDash",className:"h-16 w-16 mb-3"}),y.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Create Account"}),y.jsxs("p",{className:"text-gray-500 mt-1 text-center",children:["Join BiteDash as a ",o==="ROLE_EMPLOYEE"?"Employee":"Vendor","."]})]}),w&&y.jsx("div",{className:"mb-4 p-3 bg-red-50 text-red-700 text-sm rounded-md",children:w}),y.jsxs("form",{onSubmit:P,className:"space-y-3",children:[y.jsx(In,{label:"Full Name",name:"fullName",placeholder:"John Doe",value:D.fullName,onChange:k,required:!0}),y.jsxs("div",{className:"space-y-2",children:[y.jsx(In,{label:"Email Address",name:"email",type:"email",placeholder:"john@company.com",value:D.email,onChange:k}),y.jsx("p",{className:"text-xs text-gray-500 text-center font-semibold",children:"OR"}),y.jsx(In,{label:"Phone Number",name:"phoneNumber",placeholder:"9876543210",value:D.phoneNumber,onChange:k}),y.jsx("p",{className:"text-xs text-gray-500 italic ml-1",children:"* At least one contact method (email or phone) is required"})]}),y.jsx(In,{label:"Password",name:"password",type:"password",placeholder:"",value:D.password,onChange:k,required:!0}),y.jsx(Ih,{mode:"wait",children:y.jsx(Mi.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},children:o==="ROLE_EMPLOYEE"?y.jsx(XI,{onDataChange:k,organizations:b,selectedOrgId:D.organizationId,suggestedOrg:A}):y.jsx(WI,{onDataChange:k,organizations:b,selectedOrgId:D.organizationId})},o)}),y.jsx("div",{className:"pt-4",children:y.jsx(At,{type:"submit",className:"w-full",children:h?"Creating Account...":"Register Now"})})]}),y.jsxs("p",{className:"mt-6 text-center text-gray-600",children:["Already have an account?"," ",y.jsx("button",{onClick:e,className:"text-orange-600 font-bold hover:underline",children:"Sign In"})]})]})},KI=({onSwitchToRegister:e,onBack:t,onUnverified:r})=>{const{saveLoginDetails:o}=_s(),u=Ki(),[h,p]=H.useState({userIdentifier:"",password:""}),[w,x]=H.useState(!1),[b,E]=H.useState(null),A=D=>{p({...h,[D.target.name]:D.target.value}),b&&E(null)},R=async D=>{D.preventDefault(),x(!0),E(null);try{const _=await hh.login(h),{user:k,token:P}=_;switch(o(k,P),ze.success(th.LOGIN_SUCCESS),k.role){case qn.SUPER_ADMIN:u("/admin/dashboard");break;case qn.ORG_ADMIN:u("/org-admin/dashboard");break;case qn.VENDOR:u("/vendor/dashboard");break;case qn.EMPLOYEE:u("/employee/home");break;default:u("/")}}catch(_){if(console.log(_),(typeof _=="string"?_:String(_)).toLowerCase().includes("not verified")||_===go.ACC_NOT_VERIFIED)ze.error("Account not verified yet. Redirecting..."),r(h.userIdentifier);else{const Y=_||go.INVALID_CREDENTIALS;E(Y),ze.error(Y)}}finally{x(!1)}};return y.jsxs("div",{className:"w-full",children:[y.jsxs("button",{onClick:t,className:"flex items-center text-gray-500 hover:text-brand-primary mb-6 group transition-colors",children:[y.jsx(xl,{size:18,className:"mr-2 group-hover:-translate-x-1 transition-transform"}),y.jsx("span",{className:"text-sm font-medium",children:"Back to Home"})]}),y.jsxs("div",{className:"mb-8 flex flex-col items-center",children:[y.jsx("img",{src:"/logo.svg",alt:"BiteDash",className:"h-20 w-20 mb-4"}),y.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Welcome Back"}),y.jsx("p",{className:"text-gray-500 mt-2 text-center",children:"Enter your details to access your BiteDash account."})]}),b&&y.jsx("div",{className:"mb-4 p-3 bg-red-50 text-red-700 text-sm rounded-md border border-red-200",children:b}),y.jsxs("form",{onSubmit:R,className:"space-y-4",children:[y.jsx(In,{label:"Business Email or Phone Number",name:"userIdentifier",type:"text",placeholder:"name@company.com or 7867546787",value:h.userIdentifier,onChange:A,required:!0}),y.jsx(In,{label:"Password",name:"password",type:"password",placeholder:"",value:h.password,onChange:A,required:!0}),y.jsx("div",{className:"flex justify-end",children:y.jsx("button",{type:"button",className:"text-sm font-semibold text-brand-primary hover:text-brand-secondary",children:"Forgot Password?"})}),y.jsx(At,{type:"submit",variant:"primary",className:"w-full h-14",disabled:w,children:w?"Authenticating...":"Sign In"})]}),y.jsx("div",{className:"mt-8 text-center",children:y.jsxs("p",{className:"text-gray-600",children:["Don't have an account?"," ",y.jsx("button",{onClick:e,className:"text-brand-primary font-bold hover:underline",children:"Create one for free"})]})})]})},$I=({identifier:e,onSuccess:t,onBack:r})=>{const[o,u]=H.useState(e?.includes("@")?"EMAIL":"SMS"),[h,p]=H.useState(e||""),[w,x]=H.useState(""),[b,E]=H.useState(!1),[A,R]=H.useState(!1),D=async k=>{k.preventDefault(),E(!0);try{await hh.verifyAccount(h,w),ze.success("Account verified! You can now login."),t()}catch(P){ze.error(P||"Invalid verification code.")}finally{E(!1)}},_=async()=>{R(!0);try{await hh.resendOtp(h,o),ze.success(`Verification code sent to ${h}`)}catch{ze.error("Failed to resend code.")}finally{R(!1)}};return y.jsxs("div",{className:"w-full",children:[y.jsxs("button",{onClick:r,className:"flex items-center text-gray-500 hover:text-orange-600 mb-6 group transition-colors",children:[y.jsx(xl,{size:18,className:"mr-2 group-hover:-translate-x-1 transition-transform"}),y.jsx("span",{className:"text-sm font-medium",children:"Back to Registration"})]}),y.jsxs("div",{className:"mb-8",children:[y.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Verify Account"}),y.jsxs("p",{className:"text-gray-500 mt-2",children:["Please enter the 6-digit code sent to your ",o.toLowerCase(),"."]})]}),y.jsxs("div",{className:"relative flex bg-gray-100 p-1 rounded-full mb-8",children:[y.jsx(Mi.div,{className:"absolute inset-y-1 left-1 bg-white rounded-full shadow-sm w-[48%]",animate:{x:o==="EMAIL"?"0%":"104%"},transition:{type:"spring",stiffness:300,damping:30}}),y.jsxs("button",{type:"button",onClick:()=>u("EMAIL"),className:`relative z-10 flex-1 py-2 text-sm font-bold flex items-center justify-center transition-colors ${o==="EMAIL"?"text-orange-600":"text-gray-500"}`,children:[y.jsx(A5,{size:16,className:"mr-2"})," Email"]}),y.jsxs("button",{type:"button",onClick:()=>u("SMS"),className:`relative z-10 flex-1 py-2 text-sm font-bold flex items-center justify-center transition-colors ${o==="SMS"?"text-orange-600":"text-gray-500"}`,children:[y.jsx(k5,{size:16,className:"mr-2"})," Phone"]})]}),y.jsxs("form",{onSubmit:D,className:"space-y-4",children:[y.jsx(In,{label:o==="EMAIL"?"Business Email":"Phone Number",value:h,onChange:k=>p(k.target.value),placeholder:o==="EMAIL"?"name@company.com":"+91 98765...",required:!0}),y.jsx(In,{label:"Verification Code",value:w,onChange:k=>x(k.target.value.replace(/\D/g,"")),placeholder:"     ",maxLength:6,className:"text-center text-2xl tracking-[0.5em] font-bold",required:!0}),y.jsx("div",{className:"pt-2",children:y.jsx(At,{type:"submit",className:"w-full h-14",disabled:b,children:b?"Verifying...":"Verify Code"})})]}),y.jsx("div",{className:"mt-8 text-center",children:y.jsxs("button",{type:"button",onClick:_,disabled:A,className:"flex items-center justify-center w-full text-orange-600 font-bold hover:underline disabled:opacity-50",children:[y.jsx(F5,{size:16,className:`mr-2 ${A?"animate-spin":""}`}),A?"Resending...":"Didn't receive code? Resend"]})})]})},JI=({onAction:e})=>{const t=[{icon:y.jsx(gR,{className:"text-brand-primary",size:18}),text:"Zero Wait"},{icon:y.jsx(cR,{className:"text-brand-primary",size:18}),text:"Multi-Vendor"},{icon:y.jsx(d3,{className:"text-brand-primary",size:18}),text:"Secure Pay"}];return y.jsx("div",{className:"flex flex-col text-left space-y-4 sm:space-y-5",children:y.jsxs(Mi.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"space-y-4 sm:space-y-5",children:[y.jsx("span",{className:"inline-block bg-cream-100 text-brand-primary px-3 py-1 sm:px-4 sm:py-1.5 rounded-full text-xs sm:text-sm font-semibold tracking-wide uppercase",children:"Corporate Dining"}),y.jsxs("h1",{className:"text-3xl sm:text-4xl lg:text-5xl font-extrabold text-gray-900 leading-tight",children:["Fuel your ",y.jsx("span",{className:"text-brand-primary",children:"Workday"})," with one tap"]}),y.jsx("p",{className:"text-sm sm:text-base lg:text-lg text-gray-600 leading-relaxed",children:"Modern workplace dining solution for employees and vendors."}),y.jsx("div",{className:"flex flex-wrap gap-2 sm:gap-3",children:t.map((r,o)=>y.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 bg-white shadow-sm border border-gray-100 px-2.5 py-1.5 sm:px-3 sm:py-2 rounded-lg",children:[r.icon,y.jsx("span",{className:"text-xs sm:text-sm font-medium text-gray-700",children:r.text})]},o))}),y.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-3 sm:gap-4 pt-2",children:[y.jsx("button",{onClick:e,className:"bg-brand-primary hover:bg-brand-secondary text-white px-6 py-3 sm:px-8 sm:py-4 rounded-xl font-bold text-base sm:text-lg shadow-lg shadow-cream-200 transition-all active:scale-95 min-h-[44px] touch-manipulation",children:"Get Started Now"}),y.jsx("button",{onClick:e,className:"bg-white border-2 border-gray-200 hover:border-brand-primary hover:text-brand-primary text-gray-700 px-6 py-3 sm:px-8 sm:py-4 rounded-xl font-bold text-base sm:text-lg transition-all min-h-[44px] touch-manipulation",children:"View Demo"})]})]})})},sm={initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.2,ease:"easeInOut"}},e_={initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3}},t_=()=>{const[e,t]=H.useState(Cn.HOME),[r,o]=H.useState(""),u=Ki();H.useEffect(()=>{const p=localStorage.getItem(Zr.TOKEN),w=localStorage.getItem(Zr.USER);if(p&&w&&window.location.pathname==="/")try{const x=JSON.parse(w),E={[qn.SUPER_ADMIN]:"/admin/dashboard",[qn.ORG_ADMIN]:"/org-admin/dashboard",[qn.VENDOR]:"/vendor/dashboard",[qn.EMPLOYEE]:"/home"}[x.role]||"/";u(E,{replace:!0})}catch{localStorage.clear()}},[u]);const h=p=>{o(p),t(Cn.ACC_VERIFY)};return y.jsxs("div",{className:"min-h-screen w-full bg-gradient-to-br from-cream-50 via-white to-cream-100 flex flex-col safe-area-insets",children:[y.jsxs("nav",{className:"flex justify-between items-center p-4 sm:p-6 bg-transparent w-full z-50 flex-shrink-0",children:[y.jsxs(Mi.div,{initial:{opacity:0},animate:{opacity:1},className:"flex items-center gap-3 cursor-pointer",onClick:()=>t(Cn.HOME),children:[y.jsx("img",{src:"/logo.svg",alt:"BiteDash",className:"h-10 w-10 sm:h-12 sm:w-12"}),y.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-brand-primary",children:"BiteDash"})]}),y.jsxs("div",{className:"flex items-center space-x-3 sm:space-x-6",children:[y.jsx("button",{onClick:()=>t(Cn.LOGIN),className:"text-gray-700 font-semibold hover:text-brand-primary transition-colors text-sm sm:text-base min-h-[44px] px-3 touch-manipulation",children:"Login"}),y.jsxs("button",{onClick:()=>t(Cn.REGISTER),className:"bg-brand-primary hover:bg-brand-secondary text-white px-4 py-2 sm:px-6 sm:py-2.5 rounded-full font-bold shadow-lg shadow-cream-200 transition-all active:scale-95 text-sm sm:text-base min-h-[44px] touch-manipulation",children:[y.jsx("span",{className:"hidden sm:inline",children:"Join Now"}),y.jsx("span",{className:"sm:hidden",children:"Join"})]})]})]}),y.jsxs("div",{className:"container mx-auto flex flex-col lg:flex-row items-center justify-between flex-1 px-4 sm:px-6 py-4 sm:py-8 lg:py-0 gap-6 lg:gap-12 overflow-y-auto lg:overflow-hidden",children:[y.jsx("div",{className:"hidden lg:flex lg:w-1/2 justify-center items-center h-full",children:y.jsx(GI,{})}),y.jsx("div",{className:"w-full lg:w-1/2 flex justify-center lg:justify-start",children:y.jsx("div",{className:"w-full max-w-md bg-white/40 backdrop-blur-sm p-4 sm:p-6 rounded-2xl sm:rounded-3xl",children:y.jsxs(Ih,{mode:"wait",children:[e===Cn.HOME&&y.jsx(Mi.div,{...e_,children:y.jsx(JI,{onAction:()=>t(Cn.REGISTER)})},Cn.HOME),e===Cn.REGISTER&&y.jsx(Mi.div,{...sm,children:y.jsx(ZI,{onSwitchToLogin:()=>t(Cn.LOGIN),onBack:()=>t(Cn.HOME),onSuccess:h})},Cn.REGISTER),e===Cn.ACC_VERIFY&&y.jsx(Mi.div,{...sm,children:y.jsx($I,{identifier:r,onSuccess:()=>t(Cn.LOGIN),onBack:()=>t(Cn.REGISTER)})},Cn.ACC_VERIFY),e===Cn.LOGIN&&y.jsx(Mi.div,{...sm,children:y.jsx(KI,{onSwitchToRegister:()=>t(Cn.REGISTER),onBack:()=>t(Cn.HOME),onUnverified:p=>{o(p),t(Cn.ACC_VERIFY)}})},Cn.LOGIN)]})})})]})]})},_c={getDashboardStats:async()=>await De.get(`${Yr.ORG_SERVICE}/admin/stats`),getAllOrganizations:async()=>await De.get(`${Yr.ORG_SERVICE}/public`),getOrganizationById:async e=>await De.get(`${Yr.ORG_SERVICE}/${e}`),createOrganization:async e=>await De.post(`${Yr.ORG_SERVICE}`,e),createOrgAdmin:async e=>await De.post(`${Yr.IDENTITY_AUTH}/register/org-admin`,e),createCity:async e=>await De.post(`${Yr.VENDOR_SERVICE}/admin/cities`,e),getPendingApprovals:async()=>await De.get(`${Yr.IDENTITY_AUTH}/admin/pending-approvals`),updateUserStatus:async(e,t)=>await De.put(`${Yr.IDENTITY_AUTH}/admin/users/${e}/status`,{status:t}),getPlatformRevenueStats:async(e=null,t=null)=>{const r=new URLSearchParams;if(e){let u;e instanceof Date?u=e.toISOString():typeof e=="string"?u=e:(console.warn("Invalid startDate format:",e),u=null),u&&r.append("startDate",u)}if(t){let u;t instanceof Date?u=t.toISOString():typeof t=="string"?u=t:(console.warn("Invalid endDate format:",t),u=null),u&&r.append("endDate",u)}const o=r.toString()?`?${r.toString()}`:"";return await De.get(`/revenue/platform/stats${o}`)},getDailyRevenue:async(e=30)=>{if(typeof e=="number")return await De.get(`/revenue/platform/daily?days=${e}`);if(e&&typeof e=="object"){const t=new URLSearchParams;if(e.startDate){let r;e.startDate instanceof Date?r=e.startDate.toISOString():typeof e.startDate=="string"?r=e.startDate:console.warn("Invalid startDate format:",e.startDate),r&&t.append("startDate",r)}if(e.endDate){let r;e.endDate instanceof Date?r=e.endDate.toISOString():typeof e.endDate=="string"?r=e.endDate:console.warn("Invalid endDate format:",e.endDate),r&&t.append("endDate",r)}if(t.toString())return await De.get(`/revenue/platform/daily?${t.toString()}`)}return await De.get("/revenue/platform/daily?days=30")}};function n_({revenueStats:e,loading:t=!1}){if(t)return y.jsx("div",{className:"bg-white p-8 rounded-3xl border border-gray-100 shadow-sm",children:y.jsxs("div",{className:"animate-pulse space-y-4",children:[y.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/2"}),y.jsx("div",{className:"h-64 bg-gray-200 rounded"})]})});if(!e||!e.revenueByType)return y.jsxs("div",{className:"bg-white p-8 rounded-3xl border border-gray-100 shadow-sm",children:[y.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"Platform Revenue Breakdown"}),y.jsx("p",{className:"text-gray-400 text-center py-12",children:"No revenue data available"})]});const{totalRevenue:r=0,commissionRevenue:o=0,gatewayMarkupRevenue:u=0,promotionRevenue:h=0}=e,p=_=>r===0?0:(_/r*100).toFixed(1),w=[{label:"Order Commission",amount:o,percentage:p(o),color:"#f97316",icon:y.jsx(a3,{size:20})},{label:"Gateway Markup",amount:u,percentage:p(u),color:"#3b82f6",icon:y.jsx(o5,{size:20})},{label:"Promotion Revenue",amount:h,percentage:p(h),color:"#8b5cf6",icon:y.jsx(R5,{size:20})}],x=80,b=25,E=100,A=2*Math.PI*x;let R=0;const D=w.map(_=>{const P=parseFloat(_.percentage)/100*A,Y={..._,strokeDasharray:`${P} ${A}`,strokeDashoffset:-R};return R+=P,Y});return y.jsxs("div",{className:"bg-white p-8 rounded-3xl border border-gray-100 shadow-sm",children:[y.jsxs("div",{className:"flex items-center justify-between mb-6",children:[y.jsxs("div",{children:[y.jsxs("h3",{className:"text-lg font-bold text-gray-800 flex items-center gap-2",children:[y.jsx(ih,{className:"text-brand-primary",size:24}),"Platform Revenue Breakdown"]}),y.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Total earnings across all sources"})]}),y.jsxs("div",{className:"text-right",children:[y.jsx("p",{className:"text-sm text-gray-500",children:"Total Revenue"}),y.jsxs("p",{className:"text-3xl font-black text-brand-primary",children:["",r.toLocaleString("en-IN",{maximumFractionDigits:2})]})]})]}),y.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[y.jsx("div",{className:"flex items-center justify-center",children:y.jsx("div",{className:"relative",children:y.jsxs("svg",{width:"200",height:"200",viewBox:"0 0 200 200",children:[y.jsx("circle",{cx:E,cy:E,r:x,fill:"none",stroke:"#f3f4f6",strokeWidth:b}),D.map((_,k)=>y.jsx("circle",{cx:E,cy:E,r:x,fill:"none",stroke:_.color,strokeWidth:b,strokeDasharray:_.strokeDasharray,strokeDashoffset:_.strokeDashoffset,strokeLinecap:"round",transform:`rotate(-90 ${E} ${E})`,className:"transition-all duration-300"},k)),y.jsx("text",{x:E,y:E-10,textAnchor:"middle",className:"text-xs fill-gray-500 font-medium",children:"Revenue"}),y.jsx("text",{x:E,y:E+10,textAnchor:"middle",className:"text-lg fill-gray-800 font-bold",children:"100%"})]})})}),y.jsxs("div",{className:"space-y-4",children:[w.map((_,k)=>y.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-2xl hover:bg-gray-100 transition-colors",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:_.color}}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("div",{style:{color:_.color},children:_.icon}),y.jsx("span",{className:"font-semibold text-gray-800",children:_.label})]})]}),y.jsxs("div",{className:"text-right",children:[y.jsxs("p",{className:"font-bold text-gray-900",children:["",_.amount.toLocaleString("en-IN",{maximumFractionDigits:2})]}),y.jsxs("p",{className:"text-sm text-gray-500 font-medium",children:[_.percentage,"%"]})]})]},k)),y.jsxs("div",{className:"mt-6 p-4 bg-orange-50 border border-orange-100 rounded-2xl",children:[y.jsxs("div",{className:"flex items-center gap-2 text-orange-900 mb-2",children:[y.jsx(ih,{size:18}),y.jsx("span",{className:"font-bold text-sm",children:"Revenue Insights"})]}),y.jsxs("p",{className:"text-xs text-orange-800 leading-relaxed",children:[o>u?"Order commissions are the primary revenue driver.":"Gateway markups contribute significantly to platform earnings.",h>0&&" Promotions are generating additional revenue."]})]})]})]})]})}const i_=()=>{const{data:e=[],isLoading:t}=si({queryKey:["organizations"],queryFn:_c.getAllOrganizations,retry:1,refetchOnWindowFocus:!1}),{data:r,isLoading:o,error:u}=si({queryKey:["superAdminStats"],queryFn:_c.getDashboardStats,retry:1,refetchOnWindowFocus:!1}),{data:h,isLoading:p,error:w}=si({queryKey:["platformRevenueStats"],queryFn:()=>_c.getPlatformRevenueStats(),retry:1,refetchOnWindowFocus:!1}),x=t||o,b=on.useMemo(()=>({totalOrganizations:r?.totalOrganizations||e.length||0,totalLocations:r?.totalLocations||0,pendingVendors:r?.pendingVendors||0}),[r,e]);return x?y.jsxs("div",{className:"h-96 flex flex-col items-center justify-center gap-4 text-gray-400",children:[y.jsx(Gn,{className:"animate-spin text-brand-primary",size:40}),y.jsx("p",{className:"font-bold animate-pulse",children:"Loading System Data..."})]}):((u||w)&&console.error("Dashboard errors:",{statsError:u,revenueError:w}),y.jsxs("div",{className:"space-y-8",children:[y.jsx("div",{className:"flex justify-between items-end",children:y.jsxs("div",{children:[y.jsx("h1",{className:"text-4xl font-black text-gray-900 tracking-tight",children:"Super Admin"}),y.jsx("p",{className:"text-gray-500 font-medium",children:"Manage global organizations and system configurations."})]})}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[y.jsx(am,{icon:y.jsx(Jr,{}),label:"Total Orgs",value:b.totalOrganizations,color:"text-orange-500"}),y.jsx(am,{icon:y.jsx(Rs,{}),label:"Active Locations",value:b.totalLocations,color:"text-blue-500"}),y.jsx(am,{icon:y.jsx(h3,{}),label:"Pending Vendors",value:b.pendingVendors,color:"text-purple-500"})]}),y.jsx(n_,{revenueStats:h,loading:p}),y.jsx("div",{className:"bg-white rounded-3xl shadow-sm border border-gray-100 overflow-hidden",children:y.jsxs("table",{className:"w-full text-left",children:[y.jsx("thead",{className:"bg-gray-50 border-b border-gray-100",children:y.jsxs("tr",{children:[y.jsx("th",{className:"p-6 font-bold text-gray-600",children:"Organization Name"}),y.jsx("th",{className:"p-6 font-bold text-gray-600",children:"ID"}),y.jsx("th",{className:"p-6 font-bold text-gray-600",children:"Actions"})]})}),y.jsx("tbody",{children:e.map(E=>y.jsxs("tr",{className:"border-b border-gray-50 hover:bg-gray-50/50 transition-colors",children:[y.jsx("td",{className:"p-6 font-semibold text-gray-800",children:E.name}),y.jsx("td",{className:"p-6 text-gray-400 text-sm font-mono",children:E.id}),y.jsxs("td",{className:"p-6 flex gap-2",children:[y.jsx(At,{variant:"secondary",size:"sm",children:"Manage"}),y.jsx(At,{variant:"ghost",size:"sm",children:"Settings"})]})]},E.id))})]})})]}))},am=({icon:e,label:t,value:r,color:o})=>y.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-gray-100 shadow-sm flex items-center gap-5",children:[y.jsx("div",{className:`p-4 rounded-2xl bg-gray-50 ${o}`,children:e}),y.jsxs("div",{children:[y.jsx("p",{className:"text-sm font-bold text-gray-400 uppercase tracking-wider",children:t}),y.jsx("p",{className:"text-2xl font-black text-gray-900",children:r})]})]}),r_=()=>{const[e,t]=H.useState(!1),[r,o]=H.useState({name:"",domain:"",adminEmail:"",adminPassword:""}),{data:u=[],isLoading:h,isError:p,refetch:w}=si({queryKey:["organizations"],queryFn:_c.getAllOrganizations,staleTime:300*1e3}),x=async b=>{b.preventDefault();const E=ze.loading("Setting up organization...");try{await _c.createOrganization({name:r.name,domain:r.domain,fullName:r.name,email:r.adminEmail,password:r.adminPassword,role:"ROLE_ORG_ADMIN"}),t(!1),w(),ze.success(th.ORG_CREATED,{id:E}),o({name:"",domain:"",adminEmail:"",adminPassword:""})}catch(A){ze.error(A?.response?.data?.message||go.ACTION_FAILED,{id:E})}};return y.jsxs("div",{className:"space-y-8",children:[y.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[y.jsxs("div",{children:[y.jsx("h1",{className:"text-4xl font-black text-gray-900 tracking-tight",children:"Corporate Clients"}),y.jsx("p",{className:"text-gray-500 mt-1",children:"Manage organizations and their administrative access."})]}),y.jsxs("button",{onClick:()=>t(!0),className:"bg-brand-primary hover:bg-brand-secondary text-white px-6 py-4 rounded-2xl font-bold flex items-center justify-center gap-2 shadow-lg shadow-orange-100 transition-all active:scale-95",children:[y.jsx(gr,{size:20})," Add New Organization"]})]}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:y.jsx("div",{className:`${ym.CARD_STYLE} p-6`,children:y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx("div",{className:"p-3 bg-orange-50 text-brand-primary rounded-2xl",children:y.jsx(Jr,{size:24})}),y.jsxs("div",{children:[y.jsx("p",{className:"text-sm text-gray-500 font-bold uppercase tracking-wider",children:"Total Entities"}),y.jsx("p",{className:"text-3xl font-black text-gray-900",children:u.length})]})]})})}),y.jsxs("div",{className:`${ym.CARD_STYLE} overflow-hidden`,children:[y.jsxs("div",{className:"p-6 border-b border-gray-100 flex items-center justify-between bg-white",children:[y.jsx("h3",{className:"font-bold text-gray-800 text-lg",children:"Active Organizations"}),y.jsxs("div",{className:"relative",children:[y.jsx(u3,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),y.jsx("input",{type:"text",placeholder:"Search domains...",className:"pl-10 pr-4 py-2 bg-gray-50 rounded-xl border-none text-sm focus:ring-2 focus:ring-brand-primary/20 outline-none"})]})]}),y.jsx("div",{className:"overflow-x-auto",children:y.jsxs("table",{className:"w-full text-left",children:[y.jsx("thead",{className:"bg-gray-50 text-gray-400 text-xs font-black uppercase tracking-widest",children:y.jsxs("tr",{children:[y.jsx("th",{className:"px-8 py-5",children:"Organization"}),y.jsx("th",{className:"px-8 py-5",children:"Domain"}),y.jsx("th",{className:"px-8 py-5 text-right",children:"Status"})]})}),y.jsx("tbody",{className:"divide-y divide-gray-50",children:h?y.jsx("tr",{children:y.jsx("td",{colSpan:"4",className:"p-20 text-center",children:y.jsxs("div",{className:"flex flex-col items-center gap-2 text-gray-400",children:[y.jsx(Gn,{className:"animate-spin"}),"Loading organizations..."]})})}):p?y.jsx("tr",{children:y.jsx("td",{colSpan:"4",className:"p-20 text-center text-red-500 font-bold",children:go.FETCH_FAILED})}):u.map(b=>y.jsxs("tr",{className:"hover:bg-orange-50/30 transition-colors group",children:[y.jsx("td",{className:"px-8 py-5",children:y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:"w-10 h-10 bg-gray-100 rounded-xl flex items-center justify-center font-bold text-gray-500 group-hover:bg-brand-primary group-hover:text-white transition-colors",children:b.name.charAt(0)}),y.jsx("span",{className:"font-bold text-gray-800",children:b.name})]})}),y.jsx("td",{className:"px-8 py-5 text-gray-500",children:y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx(m5,{size:14})," ",b.domain]})}),y.jsx("td",{className:"px-8 py-5 text-right",children:y.jsx("span",{className:"px-3 py-1 bg-green-50 text-green-600 rounded-full text-[10px] font-black uppercase tracking-widest",children:"Active"})})]},b.id))})]})})]}),e&&y.jsx("div",{className:"fixed inset-0 bg-gray-900/60 backdrop-blur-md flex items-center justify-center z-[100] p-4",children:y.jsxs("div",{className:"bg-white w-full max-w-xl rounded-hb p-10 shadow-2xl relative animate-in fade-in zoom-in duration-200",children:[y.jsx("button",{onClick:()=>t(!1),className:"absolute top-6 right-6 text-gray-400 hover:text-gray-900",children:""}),y.jsxs("div",{className:"mb-8",children:[y.jsx("h3",{className:"text-3xl font-black text-gray-900 tracking-tight",children:"New Org Setup"}),y.jsx("p",{className:"text-gray-500",children:"Create a secure corporate realm and administrative account."})]}),y.jsxs("form",{onSubmit:x,className:"space-y-6",children:[y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"text-xs font-black uppercase text-gray-400 ml-1",children:"Company Name"}),y.jsx("input",{className:"w-full p-4 rounded-2xl bg-gray-50 border-none focus:ring-2 focus:ring-brand-primary outline-none transition-all",placeholder:"e.g. Acme Corp",onChange:b=>o({...r,name:b.target.value}),required:!0})]}),y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"text-xs font-black uppercase text-gray-400 ml-1",children:"Corporate Domain"}),y.jsx("input",{className:"w-full p-4 rounded-2xl bg-gray-50 border-none focus:ring-2 focus:ring-brand-primary outline-none transition-all",placeholder:"acme.com",onChange:b=>o({...r,domain:b.target.value}),required:!0})]})]}),y.jsxs("div",{className:"pt-4 border-t border-gray-100 mt-6",children:[y.jsxs("div",{className:"flex items-center gap-2 mb-4 text-brand-primary font-bold",children:[y.jsx(d3,{size:18})," Primary Administrator"]}),y.jsxs("div",{className:"space-y-4",children:[y.jsx("input",{type:"email",className:"w-full p-4 rounded-2xl bg-gray-50 border-none focus:ring-2 focus:ring-brand-primary outline-none transition-all",placeholder:"admin@domain.com",onChange:b=>o({...r,adminEmail:b.target.value}),required:!0}),y.jsx("input",{type:"password",className:"w-full p-4 rounded-2xl bg-gray-50 border-none focus:ring-2 focus:ring-brand-primary outline-none transition-all",placeholder:"Secure Password",onChange:b=>o({...r,adminPassword:b.target.value}),required:!0})]})]}),y.jsxs("div",{className:"flex gap-4 pt-6",children:[y.jsx("button",{type:"button",onClick:()=>t(!1),className:"flex-1 p-4 text-gray-500 font-bold hover:bg-gray-50 rounded-2xl transition-all",children:"Cancel"}),y.jsx("button",{type:"submit",className:"flex-1 p-4 bg-brand-primary text-white rounded-2xl font-bold shadow-lg shadow-orange-100 hover:bg-brand-secondary transition-all",children:"Launch Organization"})]})]})]})})]})},ti={getDashboardStats:async()=>await De.get("/organisation/admin/stats"),getPendingApprovals:async()=>await De.get(`${Yr.IDENTITY_AUTH}/admin/pending-approvals`),updateUserStatus:async(e,t)=>await De.put(`${Yr.IDENTITY_AUTH}/admin/users/${e}/status`,{status:t}),getAllLocations:async e=>await De.get(`/organisation/locations/org/${e}`),createLocation:async e=>await De.post("/organisation/locations",e),updateLocation:async(e,t)=>await De.put(`/organisation/locations/${e}`,t),deleteLocation:async e=>await De.delete(`/organisation/locations/${e}`),getOfficesByLocation:async e=>await De.get(`/organisation/offices/location/${e}`),createOffice:async e=>await De.post("/organisation/offices",e),updateOffice:async(e,t)=>await De.put(`/organisation/offices/${e}`,t),deleteOffice:async e=>await De.delete(`/organisation/offices/${e}`),getCafeteriasByOffice:async e=>await De.get(`/organisation/cafeterias/office/${e}`),createCafeteria:async e=>await De.post("/organisation/cafeterias",e),toggleCafeteriaStatus:async(e,t)=>await De.put(`/organisation/cafeterias/${e}/status`,null,{params:{active:t}}),updateCafeteria:async(e,t)=>await De.put(`/organisation/cafeterias/${e}`,t),deleteCafeteria:async e=>await De.delete(`/organisation/cafeterias/${e}`)},s_=({children:e,title:t,subtitle:r,extra:o,className:u=""})=>y.jsxs("div",{className:`${ym.CARD_STYLE} ${u}`,children:[(t||o)&&y.jsxs("div",{className:"p-6 border-b border-gray-100 flex items-center justify-between bg-white",children:[y.jsxs("div",{children:[t&&y.jsx("h3",{className:"font-bold text-gray-800 text-lg",children:t}),r&&y.jsx("p",{className:"text-sm text-gray-400 font-medium",children:r})]}),o&&y.jsx("div",{children:o})]}),y.jsx("div",{className:"p-6",children:e})]}),a_=()=>{const[e,t]=H.useState([]),[r,o]=H.useState("ALL"),[u,h]=H.useState(!0),p=async()=>{try{h(!0);const b=await ti.getPendingApprovals();t(b)}catch(b){ze.error(b||go.FETCH_FAILED)}finally{h(!1)}};H.useEffect(()=>{p()},[]);const w=async(b,E)=>{const A=E===Sd.ACTIVE?"approving":"rejecting",R=ze.loading(`Please wait, ${A} user...`);try{await ti.updateUserStatus(b,E),t(D=>D.filter(_=>_.id!==b)),ze.success(E===Sd.ACTIVE?th.USER_APPROVED:th.USER_REJECTED,{id:R})}catch(D){ze.error(D||go.ACTION_FAILED,{id:R})}},x=r==="ALL"?e:e.filter(b=>b.role===`ROLE_${r}`);return y.jsxs("div",{className:"space-y-8",children:[y.jsxs("header",{children:[y.jsx("h1",{className:"text-4xl font-black text-gray-900 tracking-tight",children:"Approvals Required"}),y.jsx("p",{className:"text-gray-500 mt-2",children:"Verify and manage access for Employees and Vendors."})]}),y.jsx("div",{className:"flex gap-4",children:["ALL","EMPLOYEE","VENDOR"].map(b=>y.jsx(At,{variant:r===b?"primary":"secondary",size:"sm",onClick:()=>o(b),children:b},b))}),u?y.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-gray-400",children:[y.jsx(Gn,{className:"animate-spin mb-4",size:40}),y.jsx("p",{className:"font-medium",children:"Fetching pending requests..."})]}):y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[x.map(b=>y.jsxs(s_,{className:"hover:shadow-md transition-shadow",children:[y.jsxs("div",{className:"flex justify-between items-start mb-4",children:[y.jsx("div",{className:`p-3 rounded-2xl ${b.role==="ROLE_VENDOR"?"bg-purple-50 text-purple-600":"bg-blue-50 text-blue-600"}`,children:b.role==="ROLE_VENDOR"?y.jsx(fl,{size:24}):y.jsx(h3,{size:24})}),y.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-gray-400",children:b.role.split("_")[1]})]}),y.jsx("h3",{className:"font-bold text-gray-900",children:b.username}),y.jsx("p",{className:"text-sm text-gray-500 mb-6",children:b.email}),y.jsxs("div",{className:"flex gap-3",children:[y.jsxs(At,{variant:"secondary",className:"flex-1 text-green-600 bg-green-50 hover:bg-green-100",onClick:()=>w(b.id,Sd.ACTIVE),children:[y.jsx(Zc,{size:18,className:"mr-2"})," Approve"]}),y.jsx(At,{variant:"danger",className:"px-4",onClick:()=>w(b.id,Sd.BLOCKED),children:y.jsx(s3,{size:18})})]})]},b.id)),x.length===0&&y.jsxs("div",{className:"col-span-full py-20 text-center text-gray-400 font-medium bg-gray-50 rounded-hb border-2 border-dashed border-gray-200",children:["No pending ",r.toLowerCase()," requests found."]})]})]})},o_=()=>{const e=Ki(),{user:t}=_s();if(!t||t.role!==qn.ORG_ADMIN)return y.jsx("div",{className:"h-96 flex items-center justify-center",children:y.jsx("p",{className:"text-red-500 font-semibold",children:"Access Denied: Organization Admin role required"})});const r=t.organizationId,{data:o,isLoading:u,error:h}=si({queryKey:["dashboardStats"],queryFn:ti.getDashboardStats,retry:1,refetchOnWindowFocus:!1,enabled:!!r}),{data:p=[],isLoading:w}=si({queryKey:["locations",r],queryFn:()=>ti.getAllLocations(r),enabled:!!r,retry:1,refetchOnWindowFocus:!1}),x=u||w,b=on.useMemo(()=>({locations:o?.locations||0,offices:o?.offices||0,cafeterias:o?.cafeterias||0}),[o]);return r?x?y.jsxs("div",{className:"h-96 flex flex-col items-center justify-center gap-4 text-gray-400",children:[y.jsx(Gn,{className:"animate-spin text-brand-primary",size:40}),y.jsx("p",{className:"font-bold animate-pulse",children:"Loading Dashboard..."})]}):(h&&console.error("Stats error:",h),y.jsxs("div",{className:"space-y-8",children:[y.jsxs("div",{className:"flex justify-between items-end",children:[y.jsxs("div",{children:[y.jsx("h1",{className:"text-4xl font-black text-gray-900 tracking-tight",children:"Organization Dashboard"}),y.jsx("p",{className:"text-gray-500 font-medium mt-2",children:"Manage your organization's locations, offices, and cafeterias."})]}),y.jsxs(At,{variant:"primary",onClick:()=>e("/org-admin/locations"),children:[y.jsx(gr,{className:"mr-2",size:20})," Add Location"]})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[y.jsx(om,{icon:y.jsx(Rs,{}),label:"Locations",value:b.locations,color:"text-blue-500",bgColor:"bg-blue-50"}),y.jsx(om,{icon:y.jsx(Jr,{}),label:"Offices",value:b.offices,color:"text-purple-500",bgColor:"bg-purple-50"}),y.jsx(om,{icon:y.jsx(Ea,{}),label:"Cafeterias",value:b.cafeterias,color:"text-orange-500",bgColor:"bg-orange-50"})]}),y.jsxs("div",{className:"bg-white rounded-3xl shadow-sm border border-gray-100 p-6",children:[y.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[y.jsx("div",{className:"p-3 rounded-2xl bg-brand-primary/10",children:y.jsx(ih,{className:"text-brand-primary",size:24})}),y.jsxs("div",{children:[y.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Quick Actions"}),y.jsx("p",{className:"text-sm text-gray-500",children:"Common tasks for managing your organization"})]})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[y.jsx(Tx,{icon:y.jsx(Rs,{}),title:"Add Location",description:"Create a new location/city",onClick:()=>e("/org-admin/locations")}),y.jsx(Tx,{icon:y.jsx(Jr,{}),title:"View Locations",description:"Manage offices and cafeterias",onClick:()=>e("/org-admin/locations")})]})]}),y.jsxs("div",{className:"bg-white rounded-3xl shadow-sm border border-gray-100 overflow-hidden",children:[y.jsxs("div",{className:"p-6 border-b border-gray-100",children:[y.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Your Locations"}),y.jsx("p",{className:"text-sm text-gray-500 mt-1",children:p.length===0?"No locations yet. Create your first location to get started.":`Managing ${p.length} location${p.length!==1?"s":""}`})]}),p.length>0?y.jsxs("table",{className:"w-full text-left",children:[y.jsx("thead",{className:"bg-gray-50 border-b border-gray-100",children:y.jsxs("tr",{children:[y.jsx("th",{className:"p-6 font-bold text-gray-600",children:"City"}),y.jsx("th",{className:"p-6 font-bold text-gray-600",children:"State"}),y.jsx("th",{className:"p-6 font-bold text-gray-600",children:"Offices"}),y.jsx("th",{className:"p-6 font-bold text-gray-600",children:"Cafeterias"}),y.jsx("th",{className:"p-6 font-bold text-gray-600",children:"Actions"})]})}),y.jsx("tbody",{children:p.map(E=>y.jsxs("tr",{className:"border-b border-gray-50 hover:bg-gray-50/50 transition-colors",children:[y.jsx("td",{className:"p-6 font-semibold text-gray-800",children:E.cityName}),y.jsx("td",{className:"p-6 text-gray-600",children:E.state||"N/A"}),y.jsx("td",{className:"p-6 text-gray-400 text-sm",children:E.officeCount||0}),y.jsx("td",{className:"p-6 text-gray-400 text-sm",children:E.cafeteriaCount||0}),y.jsxs("td",{className:"p-6 flex gap-2",children:[y.jsx(At,{variant:"secondary",size:"sm",onClick:()=>e(`/org-admin/locations/${E.id}`),children:"View"}),y.jsx(At,{variant:"ghost",size:"sm",onClick:()=>e("/org-admin/locations"),children:"Edit"})]})]},E.id))})]}):y.jsxs("div",{className:"p-20 text-center",children:[y.jsx(Rs,{className:"mx-auto text-gray-300 mb-4",size:64}),y.jsx("h3",{className:"text-xl font-bold text-gray-600 mb-2",children:"No Locations Yet"}),y.jsx("p",{className:"text-gray-400 mb-6",children:"Start by creating your first location to organize your offices and cafeterias."}),y.jsxs(At,{variant:"primary",onClick:()=>e("/org-admin/locations"),children:[y.jsx(gr,{className:"mr-2",size:20})," Create First Location"]})]})]})]})):y.jsxs("div",{className:"h-96 flex flex-col items-center justify-center gap-4",children:[y.jsx("p",{className:"text-red-500 font-semibold",children:"Error: Organization ID not found in user profile"}),y.jsx("p",{className:"text-gray-500 text-sm",children:"Please contact support or log in again."})]})},om=({icon:e,label:t,value:r,color:o,bgColor:u,clickable:h,onClick:p})=>y.jsxs("div",{className:`bg-white p-6 rounded-3xl border border-gray-100 shadow-sm flex items-center gap-5 ${h?"cursor-pointer hover:shadow-md transition-shadow":""}`,onClick:h?p:void 0,children:[y.jsx("div",{className:`p-4 rounded-2xl ${u} ${o}`,children:e}),y.jsxs("div",{children:[y.jsx("p",{className:"text-sm font-bold text-gray-400 uppercase tracking-wider",children:t}),y.jsx("p",{className:"text-3xl font-black text-gray-900",children:r})]})]}),Tx=({icon:e,title:t,description:r,onClick:o})=>y.jsxs("button",{onClick:o,className:"flex items-start gap-4 p-4 rounded-2xl border-2 border-gray-100 hover:border-brand-primary hover:bg-brand-primary/5 transition-all text-left group",children:[y.jsx("div",{className:"p-3 rounded-xl bg-gray-50 text-gray-400 group-hover:bg-brand-primary group-hover:text-white transition-colors",children:on.cloneElement(e,{size:20})}),y.jsxs("div",{className:"flex-1",children:[y.jsx("h3",{className:"font-bold text-gray-900 mb-1",children:t}),y.jsx("p",{className:"text-sm text-gray-500",children:r})]})]});function po({isOpen:e,onClose:t,children:r,title:o}){return y.jsx(Ih,{children:e&&y.jsxs(y.Fragment,{children:[y.jsx(Mi.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:t,className:"fixed inset-0 bg-black/40 backdrop-blur-sm z-[100]"}),y.jsx("div",{className:"fixed inset-0 z-[101] flex items-center justify-center p-4 sm:p-6 md:p-8",children:y.jsxs(Mi.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},transition:{type:"spring",duration:.3},className:"relative w-full max-w-md max-h-[90vh] bg-white rounded-3xl shadow-2xl flex flex-col overflow-hidden",children:[y.jsxs("div",{className:"flex-shrink-0 px-6 sm:px-8 pt-6 sm:pt-8 pb-4 border-b border-gray-100 bg-white",children:[o&&y.jsx("h2",{className:"text-2xl font-bold text-gray-800 pr-8",children:o}),y.jsx("button",{onClick:t,className:"absolute top-4 sm:top-6 right-4 sm:right-6 p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-xl transition-all","aria-label":"Close modal",children:y.jsx(bg,{size:20})})]}),y.jsx("div",{className:"flex-1 overflow-y-auto px-6 sm:px-8 py-6",children:r})]})})]})})}const l_=()=>{const e=Ki(),t=Ta(),[r,o]=H.useState(!1),[u,h]=H.useState(null),[p,w]=H.useState({cityName:"",state:""}),b=JSON.parse(localStorage.getItem("hb_user")||"{}").organizationId,{data:E=[],isLoading:A}=si({queryKey:["locations",b],queryFn:()=>ti.getAllLocations(b),enabled:!!b,retry:1,refetchOnWindowFocus:!1}),R=ni({mutationFn:ti.createLocation,onSuccess:()=>{t.invalidateQueries(["locations"]),o(!1),j(),ze.success("Location created successfully!")},onError:F=>{ze.error(F?.response?.data?.message||"Failed to create location")}}),D=ni({mutationFn:({id:F,data:I})=>ti.updateLocation(F,I),onSuccess:()=>{t.invalidateQueries(["locations"]),o(!1),j(),ze.success("Location updated successfully!")},onError:F=>{ze.error(F?.response?.data?.message||"Failed to update location")}}),_=ni({mutationFn:ti.deleteLocation,onSuccess:()=>{t.invalidateQueries(["locations"]),ze.success("Location deleted successfully!")},onError:F=>{ze.error(F?.response?.data?.message||"Failed to delete location")}}),k=F=>{F.preventDefault();const I=ze.loading(u?"Updating location...":"Creating location...");u?D.mutate({id:u.id,data:p},{onSettled:()=>ze.dismiss(I)}):R.mutate(p,{onSettled:()=>ze.dismiss(I)})},P=F=>{h(F),w({cityName:F.cityName||"",state:F.state||""}),o(!0)},Y=F=>{window.confirm("Are you sure you want to delete this location? This will also delete all associated offices and cafeterias.")&&_.mutate(F)},j=()=>{w({cityName:"",state:""}),h(null)},U=()=>{o(!1),j()};return A?y.jsxs("div",{className:"h-96 flex flex-col items-center justify-center gap-4 text-gray-400",children:[y.jsx(Gn,{className:"animate-spin text-brand-primary",size:40}),y.jsx("p",{className:"font-bold animate-pulse",children:"Loading Locations..."})]}):y.jsxs("div",{className:"space-y-8",children:[y.jsxs("div",{className:"flex justify-between items-end",children:[y.jsxs("div",{children:[y.jsx("h1",{className:"text-4xl font-black text-gray-900 tracking-tight",children:"Location Management"}),y.jsx("p",{className:"text-gray-500 font-medium mt-2",children:"Manage locations where your organization operates"})]}),y.jsxs(At,{variant:"primary",onClick:()=>o(!0),children:[y.jsx(gr,{className:"mr-2",size:20})," Add Location"]})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[y.jsx(lm,{icon:y.jsx(Rs,{}),label:"Total Locations",value:E.length,color:"text-blue-500",bgColor:"bg-blue-50"}),y.jsx(lm,{icon:y.jsx(Jr,{}),label:"Total Offices",value:E.reduce((F,I)=>F+(I.officeCount||0),0),color:"text-purple-500",bgColor:"bg-purple-50"}),y.jsx(lm,{icon:y.jsx(Ea,{}),label:"Total Cafeterias",value:E.reduce((F,I)=>F+(I.cafeteriaCount||0),0),color:"text-orange-500",bgColor:"bg-orange-50"})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[E.map(F=>y.jsx(c_,{location:F,onEdit:P,onDelete:Y,onViewDetails:()=>e(`/org-admin/locations/${F.id}`)},F.id)),E.length===0&&y.jsxs("div",{className:"col-span-full py-20 text-center",children:[y.jsx(Rs,{className:"mx-auto text-gray-300 mb-4",size:64}),y.jsx("h3",{className:"text-xl font-bold text-gray-600 mb-2",children:"No Locations Yet"}),y.jsx("p",{className:"text-gray-400 mb-6",children:"Create your first location to start organizing offices and cafeterias."}),y.jsxs(At,{variant:"primary",onClick:()=>o(!0),children:[y.jsx(gr,{className:"mr-2",size:20})," Create First Location"]})]})]}),y.jsx(po,{isOpen:r,onClose:U,title:u?"Edit Location":"Create New Location",children:y.jsxs("form",{onSubmit:k,className:"space-y-5",children:[y.jsx(In,{label:"City Name",name:"cityName",value:p.cityName,onChange:F=>w({...p,cityName:F.target.value}),placeholder:"e.g., Bangalore",required:!0}),y.jsx(In,{label:"State/Province",name:"state",value:p.state,onChange:F=>w({...p,state:F.target.value}),placeholder:"e.g., Karnataka",required:!0}),y.jsxs("div",{className:"flex gap-3 pt-6 border-t border-gray-100 -mx-6 sm:-mx-8 px-6 sm:px-8 -mb-6 pb-6 bg-gray-50 sticky bottom-0",children:[y.jsx(At,{type:"submit",variant:"primary",className:"flex-1",disabled:R.isLoading||D.isLoading,children:u?"Update Location":"Create Location"}),y.jsx(At,{type:"button",variant:"secondary",onClick:U,children:"Cancel"})]})]})})]})},lm=({icon:e,label:t,value:r,color:o,bgColor:u})=>y.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-gray-100 shadow-sm flex items-center gap-5",children:[y.jsx("div",{className:`p-4 rounded-2xl ${u} ${o}`,children:e}),y.jsxs("div",{children:[y.jsx("p",{className:"text-sm font-bold text-gray-400 uppercase tracking-wider",children:t}),y.jsx("p",{className:"text-3xl font-black text-gray-900",children:r})]})]}),c_=({location:e,onEdit:t,onDelete:r,onViewDetails:o})=>y.jsx("div",{className:"bg-white rounded-3xl border border-gray-100 shadow-sm hover:shadow-md transition-shadow overflow-hidden",children:y.jsxs("div",{className:"p-6",children:[y.jsxs("div",{className:"flex items-start justify-between mb-4",children:[y.jsx("div",{className:"p-3 rounded-2xl bg-blue-50 text-blue-600",children:y.jsx(Rs,{size:24})}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx("button",{onClick:()=>t(e),className:"p-2 hover:bg-gray-100 rounded-xl transition-colors text-gray-400 hover:text-gray-600",children:y.jsx(Sm,{size:16})}),y.jsx("button",{onClick:()=>r(e.id),className:"p-2 hover:bg-red-50 rounded-xl transition-colors text-gray-400 hover:text-red-600",children:y.jsx(ml,{size:16})})]})]}),y.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-1",children:e.cityName}),y.jsx("p",{className:"text-sm text-gray-500 mb-4",children:e.state||"No state specified"}),y.jsxs("div",{className:"flex gap-4 mb-6 pt-4 border-t border-gray-100",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx(Jr,{size:16,className:"text-gray-400"}),y.jsxs("span",{className:"text-sm font-semibold text-gray-600",children:[e.officeCount||0," ",(e.officeCount||0)===1?"Office":"Offices"]})]}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx(Ea,{size:16,className:"text-gray-400"}),y.jsxs("span",{className:"text-sm font-semibold text-gray-600",children:[e.cafeteriaCount||0," ",(e.cafeteriaCount||0)===1?"Cafeteria":"Cafeterias"]})]})]}),y.jsxs(At,{variant:"secondary",className:"w-full group",onClick:o,children:["View Details",y.jsx($T,{size:18,className:"ml-auto group-hover:translate-x-1 transition-transform"})]})]})}),u_=()=>{const{locationId:e}=rE(),t=Ki(),r=Ta(),[o,u]=H.useState(!1),[h,p]=H.useState(!1),[w,x]=H.useState(null),[b,E]=H.useState(null),[A,R]=H.useState(null),[D,_]=H.useState({officeName:"",address:""}),[k,P]=H.useState({name:"",floorNumber:""}),{data:Y=[],isLoading:j}=si({queryKey:["offices",e],queryFn:()=>ti.getOfficesByLocation(e),enabled:!!e,retry:1}),{data:U=[],isLoading:F}=si({queryKey:["cafeterias",A],queryFn:()=>ti.getCafeteriasByOffice(A),enabled:!!A,retry:1}),I=ni({mutationFn:we=>ti.createOffice(we),onSuccess:()=>{r.invalidateQueries(["offices",e]),u(!1),re(),ze.success("Office created successfully!")},onError:we=>{ze.error(we?.response?.data?.message||"Failed to create office")}}),X=ni({mutationFn:({id:we,data:Be})=>ti.updateOffice(we,Be),onSuccess:()=>{r.invalidateQueries(["offices",e]),u(!1),re(),ze.success("Office updated successfully!")},onError:we=>{ze.error(we?.response?.data?.message||"Failed to update office")}}),z=ni({mutationFn:ti.deleteOffice,onSuccess:()=>{r.invalidateQueries(["offices",e]),ze.success("Office deleted successfully!")},onError:we=>{ze.error(we?.response?.data?.message||"Failed to delete office")}}),G=ni({mutationFn:we=>ti.createCafeteria(we),onSuccess:()=>{r.invalidateQueries(["cafeterias",A]),p(!1),ue(),ze.success("Cafeteria created successfully!")},onError:we=>{ze.error(we?.response?.data?.message||"Failed to create cafeteria")}}),Q=ni({mutationFn:({id:we,data:Be})=>ti.updateCafeteria(we,Be),onSuccess:()=>{r.invalidateQueries(["cafeterias",A]),p(!1),ue(),ze.success("Cafeteria updated successfully!")},onError:we=>{ze.error(we?.response?.data?.message||"Failed to update cafeteria")}}),Ee=ni({mutationFn:ti.deleteCafeteria,onSuccess:()=>{r.invalidateQueries(["cafeterias",A]),ze.success("Cafeteria deleted successfully!")},onError:we=>{ze.error(we?.response?.data?.message||"Failed to delete cafeteria")}}),ae=we=>{we.preventDefault();const Be={locationId:parseInt(e),...D};w?X.mutate({id:w.id,data:Be}):I.mutate(Be)},ve=we=>{we.preventDefault();const Be={officeId:parseInt(A),name:k.name,floorNumber:parseInt(k.floorNumber)};b?Q.mutate({id:b.id,data:Be}):G.mutate(Be)},me=we=>{x(we),_({officeName:we.officeName||"",address:we.address||""}),u(!0)},je=we=>{E(we),P({name:we.name,floorNumber:we.floorNumber?.toString()||""}),p(!0)},ne=we=>{R(we),p(!0)},re=()=>{_({officeName:"",address:""}),x(null)},ue=()=>{P({name:"",floorNumber:""}),E(null)};return j?y.jsxs("div",{className:"h-96 flex flex-col items-center justify-center gap-4 text-gray-400",children:[y.jsx(Gn,{className:"animate-spin text-brand-primary",size:40}),y.jsx("p",{className:"font-bold animate-pulse",children:"Loading Location Details..."})]}):y.jsxs("div",{className:"space-y-8",children:[y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx(At,{variant:"ghost",onClick:()=>t("/org-admin/locations"),className:"!p-3",children:y.jsx(xl,{size:20})}),y.jsxs("div",{className:"flex-1",children:[y.jsx("h1",{className:"text-4xl font-black text-gray-900 tracking-tight",children:"Location Details"}),y.jsx("p",{className:"text-gray-500 font-medium mt-2",children:"Manage offices and cafeterias for this location"})]}),y.jsxs(At,{variant:"primary",onClick:()=>u(!0),children:[y.jsx(gr,{className:"mr-2",size:20})," Add Office"]})]}),y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx(Jr,{className:"text-purple-500",size:28}),y.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Offices"})]}),Y.length===0?y.jsxs("div",{className:"bg-white rounded-3xl border border-gray-100 p-20 text-center",children:[y.jsx(Jr,{className:"mx-auto text-gray-300 mb-4",size:64}),y.jsx("h3",{className:"text-xl font-bold text-gray-600 mb-2",children:"No Offices Yet"}),y.jsx("p",{className:"text-gray-400 mb-6",children:"Add your first office building to start creating cafeterias."}),y.jsxs(At,{variant:"primary",onClick:()=>u(!0),children:[y.jsx(gr,{className:"mr-2",size:20})," Create First Office"]})]}):y.jsx("div",{className:"space-y-6",children:Y.map(we=>y.jsx(d_,{office:we,onEdit:me,onDelete:()=>{window.confirm("Delete this office and all its cafeterias?")&&z.mutate(we.id)},onAddCafeteria:()=>ne(we.id),onViewCafeterias:()=>R(we.id),cafeterias:A===we.id?U:[],isLoadingCafeterias:A===we.id&&F,onEditCafeteria:je,onDeleteCafeteria:Be=>{window.confirm("Delete this cafeteria?")&&Ee.mutate(Be)}},we.id))})]}),y.jsx(po,{isOpen:o,onClose:()=>{u(!1),re()},title:w?"Edit Office":"Create New Office",children:y.jsxs("form",{onSubmit:ae,className:"space-y-5",children:[y.jsx(In,{label:"Office Name",name:"officeName",value:D.officeName,onChange:we=>_({...D,officeName:we.target.value}),placeholder:"e.g., Building A",required:!0}),y.jsx(In,{label:"Address",name:"address",value:D.address,onChange:we=>_({...D,address:we.target.value}),placeholder:"e.g., 123 Tech Street, Whitefield",required:!0}),y.jsxs("div",{className:"flex gap-3 pt-6 border-t border-gray-100 -mx-6 sm:-mx-8 px-6 sm:px-8 -mb-6 pb-6 bg-gray-50 sticky bottom-0",children:[y.jsx(At,{type:"submit",variant:"primary",className:"flex-1",children:w?"Update Office":"Create Office"}),y.jsx(At,{type:"button",variant:"secondary",onClick:()=>{u(!1),re()},children:"Cancel"})]})]})}),y.jsx(po,{isOpen:h,onClose:()=>{p(!1),ue()},title:b?"Edit Cafeteria":"Create New Cafeteria",children:y.jsxs("form",{onSubmit:ve,className:"space-y-5",children:[y.jsx(In,{label:"Cafeteria Name",name:"name",value:k.name,onChange:we=>P({...k,name:we.target.value}),placeholder:"e.g., Main Food Court",required:!0}),y.jsx(In,{label:"Floor Number",type:"number",name:"floorNumber",value:k.floorNumber,onChange:we=>P({...k,floorNumber:we.target.value}),placeholder:"e.g., 2",required:!0}),y.jsxs("div",{className:"flex gap-3 pt-6 border-t border-gray-100 -mx-6 sm:-mx-8 px-6 sm:px-8 -mb-6 pb-6 bg-gray-50 sticky bottom-0",children:[y.jsx(At,{type:"submit",variant:"primary",className:"flex-1",children:b?"Update Cafeteria":"Create Cafeteria"}),y.jsx(At,{type:"button",variant:"secondary",onClick:()=>{p(!1),ue()},children:"Cancel"})]})]})})]})},d_=({office:e,onEdit:t,onDelete:r,onAddCafeteria:o,onViewCafeterias:u,cafeterias:h,isLoadingCafeterias:p,onEditCafeteria:w,onDeleteCafeteria:x})=>{const[b,E]=on.useState(!1);return y.jsx("div",{className:"bg-white rounded-3xl border border-gray-100 shadow-sm overflow-hidden",children:y.jsxs("div",{className:"p-6",children:[y.jsxs("div",{className:"flex items-start justify-between mb-4",children:[y.jsx("div",{className:"flex-1",children:y.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[y.jsx("div",{className:"p-3 rounded-2xl bg-purple-50 text-purple-600",children:y.jsx(Jr,{size:24})}),y.jsxs("div",{children:[y.jsx("h3",{className:"text-xl font-bold text-gray-900",children:e.officeName}),y.jsx("p",{className:"text-sm text-gray-500",children:e.address})]})]})}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx("button",{onClick:()=>t(e),className:"p-2 hover:bg-gray-100 rounded-xl transition-colors text-gray-400 hover:text-gray-600",children:y.jsx(Sm,{size:16})}),y.jsx("button",{onClick:r,className:"p-2 hover:bg-red-50 rounded-xl transition-colors text-gray-400 hover:text-red-600",children:y.jsx(ml,{size:16})})]})]}),y.jsxs("div",{className:"flex gap-3",children:[y.jsxs(At,{variant:"secondary",size:"sm",onClick:()=>{E(!b),b||u()},children:[y.jsx(Ea,{size:16,className:"mr-2"}),b?"Hide":"View"," Cafeterias (",e.cafeteriaCount||0,")"]}),y.jsxs(At,{variant:"primary",size:"sm",onClick:o,children:[y.jsx(gr,{size:16,className:"mr-2"})," Add Cafeteria"]})]}),b&&y.jsx("div",{className:"mt-6 pt-6 border-t border-gray-100 space-y-3",children:p?y.jsxs("div",{className:"text-center py-8 text-gray-400",children:[y.jsx(Gn,{className:"animate-spin mx-auto mb-2",size:24}),y.jsx("p",{className:"text-sm",children:"Loading cafeterias..."})]}):h.length===0?y.jsxs("div",{className:"text-center py-8 text-gray-400",children:[y.jsx(Ea,{className:"mx-auto mb-2",size:32}),y.jsx("p",{className:"text-sm",children:"No cafeterias in this office yet"})]}):h.map(A=>y.jsxs("div",{className:"flex items-center justify-between p-4 rounded-2xl bg-orange-50 border border-orange-100",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx(Ea,{size:20,className:"text-orange-500"}),y.jsxs("div",{children:[y.jsx("p",{className:"font-semibold text-gray-900",children:A.name}),y.jsxs("p",{className:"text-sm text-gray-500",children:["Floor ",A.floorNumber]})]})]}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx("button",{onClick:()=>w(A),className:"p-2 hover:bg-orange-100 rounded-xl transition-colors text-gray-400 hover:text-gray-600",children:y.jsx(Sm,{size:14})}),y.jsx("button",{onClick:()=>x(A.id),className:"p-2 hover:bg-red-100 rounded-xl transition-colors text-gray-400 hover:text-red-600",children:y.jsx(ml,{size:14})})]})]},A.id))})]})})},h_=()=>{const{user:e}=_s(),t=[{label:"Total Orders",value:"0",icon:Y5,color:"text-blue-600"},{label:"Menu Items",value:"0",icon:Ca,color:"text-green-600"},{label:"Revenue",value:"0",icon:a3,color:"text-purple-600"},{label:"Growth",value:"0%",icon:ih,color:"text-orange-600"}];return y.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:y.jsxs("div",{className:"max-w-7xl mx-auto",children:[y.jsxs("div",{className:"mb-8",children:[y.jsxs("h1",{className:"text-3xl font-bold text-gray-900",children:["Welcome back, ",e?.username||"Vendor","!"]}),y.jsx("p",{className:"text-gray-600 mt-2",children:"Here's what's happening with your business today."})]}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:t.map((r,o)=>y.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow",children:y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{children:[y.jsx("p",{className:"text-sm text-gray-600 mb-1",children:r.label}),y.jsx("p",{className:"text-2xl font-bold text-gray-900",children:r.value})]}),y.jsx("div",{className:`p-3 rounded-lg bg-gray-50 ${r.color}`,children:y.jsx(r.icon,{size:24})})]})},o))}),y.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-12 text-center",children:y.jsxs("div",{className:"max-w-md mx-auto",children:[y.jsx("div",{className:"w-20 h-20 bg-brand-primary/10 rounded-full flex items-center justify-center mx-auto mb-4",children:y.jsx(Ca,{className:"text-brand-primary",size:40})}),y.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Vendor Dashboard Coming Soon"}),y.jsx("p",{className:"text-gray-600 mb-6",children:"We're working on building an amazing dashboard experience for vendors. Features like order management, menu management, and analytics will be available soon!"}),y.jsxs("div",{className:"flex gap-4 justify-center",children:[y.jsx("a",{href:"/vendor/menu",className:"px-6 py-2 bg-brand-primary text-white rounded-lg hover:bg-brand-secondary transition-colors",children:"Manage Menu"}),y.jsx("a",{href:"/vendor/orders",className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"View Orders"})]})]})})]})})},Wr={getMyMenuItems:async e=>await De.get(`/menu/vendor/${e}`),getMenuItemById:async e=>await De.get(`/menu/items/${e}`),createMenuItem:async e=>await De.post("/menu/items",e),updateMenuItem:async(e,t)=>await De.put(`/menu/items/${e}`,t),deleteMenuItem:async e=>await De.delete(`/menu/items/${e}`),getMyCategories:async(e,t=!1)=>await De.get(`/menu/categories/vendor/${e}?includeItems=${t}`),createCategory:async e=>await De.post("/menu/categories",e),updateCategory:async(e,t)=>await De.put(`/menu/categories/${e}`,t),deleteCategory:async e=>await De.delete(`/menu/categories/${e}`),getMyOrders:async e=>await De.get(`/orders/vendor/${e}`),updateOrderStatus:async(e,t,r=null)=>{const o=new URLSearchParams({status:t});return r&&o.append("remarks",r),await De.put(`/orders/${e}/status?${o}`)},getOrderById:async e=>await De.get(`/orders/${e}`),getOrderByQRCode:async e=>await De.get(`/orders/qr/${e}`),getOrderHistory:async e=>await De.get(`/orders/${e}/history`),getMyRating:async e=>await De.get(`/orders/vendor/${e}/rating`)};var f_=Object.defineProperty,fh=Object.getOwnPropertySymbols,fC=Object.prototype.hasOwnProperty,mC=Object.prototype.propertyIsEnumerable,Rx=(e,t,r)=>t in e?f_(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Wm=(e,t)=>{for(var r in t||(t={}))fC.call(t,r)&&Rx(e,r,t[r]);if(fh)for(var r of fh(t))mC.call(t,r)&&Rx(e,r,t[r]);return e},Qm=(e,t)=>{var r={};for(var o in e)fC.call(e,o)&&t.indexOf(o)<0&&(r[o]=e[o]);if(e!=null&&fh)for(var o of fh(e))t.indexOf(o)<0&&mC.call(e,o)&&(r[o]=e[o]);return r};var yo;(e=>{const t=class dt{constructor(x,b,E,A){if(this.version=x,this.errorCorrectionLevel=b,this.modules=[],this.isFunction=[],x<dt.MIN_VERSION||x>dt.MAX_VERSION)throw new RangeError("Version value out of range");if(A<-1||A>7)throw new RangeError("Mask value out of range");this.size=x*4+17;let R=[];for(let _=0;_<this.size;_++)R.push(!1);for(let _=0;_<this.size;_++)this.modules.push(R.slice()),this.isFunction.push(R.slice());this.drawFunctionPatterns();const D=this.addEccAndInterleave(E);if(this.drawCodewords(D),A==-1){let _=1e9;for(let k=0;k<8;k++){this.applyMask(k),this.drawFormatBits(k);const P=this.getPenaltyScore();P<_&&(A=k,_=P),this.applyMask(k)}}u(0<=A&&A<=7),this.mask=A,this.applyMask(A),this.drawFormatBits(A),this.isFunction=[]}static encodeText(x,b){const E=e.QrSegment.makeSegments(x);return dt.encodeSegments(E,b)}static encodeBinary(x,b){const E=e.QrSegment.makeBytes(x);return dt.encodeSegments([E],b)}static encodeSegments(x,b,E=1,A=40,R=-1,D=!0){if(!(dt.MIN_VERSION<=E&&E<=A&&A<=dt.MAX_VERSION)||R<-1||R>7)throw new RangeError("Invalid value");let _,k;for(_=E;;_++){const U=dt.getNumDataCodewords(_,b)*8,F=p.getTotalBits(x,_);if(F<=U){k=F;break}if(_>=A)throw new RangeError("Data too long")}for(const U of[dt.Ecc.MEDIUM,dt.Ecc.QUARTILE,dt.Ecc.HIGH])D&&k<=dt.getNumDataCodewords(_,U)*8&&(b=U);let P=[];for(const U of x){r(U.mode.modeBits,4,P),r(U.numChars,U.mode.numCharCountBits(_),P);for(const F of U.getData())P.push(F)}u(P.length==k);const Y=dt.getNumDataCodewords(_,b)*8;u(P.length<=Y),r(0,Math.min(4,Y-P.length),P),r(0,(8-P.length%8)%8,P),u(P.length%8==0);for(let U=236;P.length<Y;U^=253)r(U,8,P);let j=[];for(;j.length*8<P.length;)j.push(0);return P.forEach((U,F)=>j[F>>>3]|=U<<7-(F&7)),new dt(_,b,j,R)}getModule(x,b){return 0<=x&&x<this.size&&0<=b&&b<this.size&&this.modules[b][x]}getModules(){return this.modules}drawFunctionPatterns(){for(let E=0;E<this.size;E++)this.setFunctionModule(6,E,E%2==0),this.setFunctionModule(E,6,E%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const x=this.getAlignmentPatternPositions(),b=x.length;for(let E=0;E<b;E++)for(let A=0;A<b;A++)E==0&&A==0||E==0&&A==b-1||E==b-1&&A==0||this.drawAlignmentPattern(x[E],x[A]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(x){const b=this.errorCorrectionLevel.formatBits<<3|x;let E=b;for(let R=0;R<10;R++)E=E<<1^(E>>>9)*1335;const A=(b<<10|E)^21522;u(A>>>15==0);for(let R=0;R<=5;R++)this.setFunctionModule(8,R,o(A,R));this.setFunctionModule(8,7,o(A,6)),this.setFunctionModule(8,8,o(A,7)),this.setFunctionModule(7,8,o(A,8));for(let R=9;R<15;R++)this.setFunctionModule(14-R,8,o(A,R));for(let R=0;R<8;R++)this.setFunctionModule(this.size-1-R,8,o(A,R));for(let R=8;R<15;R++)this.setFunctionModule(8,this.size-15+R,o(A,R));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let x=this.version;for(let E=0;E<12;E++)x=x<<1^(x>>>11)*7973;const b=this.version<<12|x;u(b>>>18==0);for(let E=0;E<18;E++){const A=o(b,E),R=this.size-11+E%3,D=Math.floor(E/3);this.setFunctionModule(R,D,A),this.setFunctionModule(D,R,A)}}drawFinderPattern(x,b){for(let E=-4;E<=4;E++)for(let A=-4;A<=4;A++){const R=Math.max(Math.abs(A),Math.abs(E)),D=x+A,_=b+E;0<=D&&D<this.size&&0<=_&&_<this.size&&this.setFunctionModule(D,_,R!=2&&R!=4)}}drawAlignmentPattern(x,b){for(let E=-2;E<=2;E++)for(let A=-2;A<=2;A++)this.setFunctionModule(x+A,b+E,Math.max(Math.abs(A),Math.abs(E))!=1)}setFunctionModule(x,b,E){this.modules[b][x]=E,this.isFunction[b][x]=!0}addEccAndInterleave(x){const b=this.version,E=this.errorCorrectionLevel;if(x.length!=dt.getNumDataCodewords(b,E))throw new RangeError("Invalid argument");const A=dt.NUM_ERROR_CORRECTION_BLOCKS[E.ordinal][b],R=dt.ECC_CODEWORDS_PER_BLOCK[E.ordinal][b],D=Math.floor(dt.getNumRawDataModules(b)/8),_=A-D%A,k=Math.floor(D/A);let P=[];const Y=dt.reedSolomonComputeDivisor(R);for(let U=0,F=0;U<A;U++){let I=x.slice(F,F+k-R+(U<_?0:1));F+=I.length;const X=dt.reedSolomonComputeRemainder(I,Y);U<_&&I.push(0),P.push(I.concat(X))}let j=[];for(let U=0;U<P[0].length;U++)P.forEach((F,I)=>{(U!=k-R||I>=_)&&j.push(F[U])});return u(j.length==D),j}drawCodewords(x){if(x.length!=Math.floor(dt.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let b=0;for(let E=this.size-1;E>=1;E-=2){E==6&&(E=5);for(let A=0;A<this.size;A++)for(let R=0;R<2;R++){const D=E-R,k=(E+1&2)==0?this.size-1-A:A;!this.isFunction[k][D]&&b<x.length*8&&(this.modules[k][D]=o(x[b>>>3],7-(b&7)),b++)}}u(b==x.length*8)}applyMask(x){if(x<0||x>7)throw new RangeError("Mask value out of range");for(let b=0;b<this.size;b++)for(let E=0;E<this.size;E++){let A;switch(x){case 0:A=(E+b)%2==0;break;case 1:A=b%2==0;break;case 2:A=E%3==0;break;case 3:A=(E+b)%3==0;break;case 4:A=(Math.floor(E/3)+Math.floor(b/2))%2==0;break;case 5:A=E*b%2+E*b%3==0;break;case 6:A=(E*b%2+E*b%3)%2==0;break;case 7:A=((E+b)%2+E*b%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[b][E]&&A&&(this.modules[b][E]=!this.modules[b][E])}}getPenaltyScore(){let x=0;for(let R=0;R<this.size;R++){let D=!1,_=0,k=[0,0,0,0,0,0,0];for(let P=0;P<this.size;P++)this.modules[R][P]==D?(_++,_==5?x+=dt.PENALTY_N1:_>5&&x++):(this.finderPenaltyAddHistory(_,k),D||(x+=this.finderPenaltyCountPatterns(k)*dt.PENALTY_N3),D=this.modules[R][P],_=1);x+=this.finderPenaltyTerminateAndCount(D,_,k)*dt.PENALTY_N3}for(let R=0;R<this.size;R++){let D=!1,_=0,k=[0,0,0,0,0,0,0];for(let P=0;P<this.size;P++)this.modules[P][R]==D?(_++,_==5?x+=dt.PENALTY_N1:_>5&&x++):(this.finderPenaltyAddHistory(_,k),D||(x+=this.finderPenaltyCountPatterns(k)*dt.PENALTY_N3),D=this.modules[P][R],_=1);x+=this.finderPenaltyTerminateAndCount(D,_,k)*dt.PENALTY_N3}for(let R=0;R<this.size-1;R++)for(let D=0;D<this.size-1;D++){const _=this.modules[R][D];_==this.modules[R][D+1]&&_==this.modules[R+1][D]&&_==this.modules[R+1][D+1]&&(x+=dt.PENALTY_N2)}let b=0;for(const R of this.modules)b=R.reduce((D,_)=>D+(_?1:0),b);const E=this.size*this.size,A=Math.ceil(Math.abs(b*20-E*10)/E)-1;return u(0<=A&&A<=9),x+=A*dt.PENALTY_N4,u(0<=x&&x<=2568888),x}getAlignmentPatternPositions(){if(this.version==1)return[];{const x=Math.floor(this.version/7)+2,b=this.version==32?26:Math.ceil((this.version*4+4)/(x*2-2))*2;let E=[6];for(let A=this.size-7;E.length<x;A-=b)E.splice(1,0,A);return E}}static getNumRawDataModules(x){if(x<dt.MIN_VERSION||x>dt.MAX_VERSION)throw new RangeError("Version number out of range");let b=(16*x+128)*x+64;if(x>=2){const E=Math.floor(x/7)+2;b-=(25*E-10)*E-55,x>=7&&(b-=36)}return u(208<=b&&b<=29648),b}static getNumDataCodewords(x,b){return Math.floor(dt.getNumRawDataModules(x)/8)-dt.ECC_CODEWORDS_PER_BLOCK[b.ordinal][x]*dt.NUM_ERROR_CORRECTION_BLOCKS[b.ordinal][x]}static reedSolomonComputeDivisor(x){if(x<1||x>255)throw new RangeError("Degree out of range");let b=[];for(let A=0;A<x-1;A++)b.push(0);b.push(1);let E=1;for(let A=0;A<x;A++){for(let R=0;R<b.length;R++)b[R]=dt.reedSolomonMultiply(b[R],E),R+1<b.length&&(b[R]^=b[R+1]);E=dt.reedSolomonMultiply(E,2)}return b}static reedSolomonComputeRemainder(x,b){let E=b.map(A=>0);for(const A of x){const R=A^E.shift();E.push(0),b.forEach((D,_)=>E[_]^=dt.reedSolomonMultiply(D,R))}return E}static reedSolomonMultiply(x,b){if(x>>>8||b>>>8)throw new RangeError("Byte out of range");let E=0;for(let A=7;A>=0;A--)E=E<<1^(E>>>7)*285,E^=(b>>>A&1)*x;return u(E>>>8==0),E}finderPenaltyCountPatterns(x){const b=x[1];u(b<=this.size*3);const E=b>0&&x[2]==b&&x[3]==b*3&&x[4]==b&&x[5]==b;return(E&&x[0]>=b*4&&x[6]>=b?1:0)+(E&&x[6]>=b*4&&x[0]>=b?1:0)}finderPenaltyTerminateAndCount(x,b,E){return x&&(this.finderPenaltyAddHistory(b,E),b=0),b+=this.size,this.finderPenaltyAddHistory(b,E),this.finderPenaltyCountPatterns(E)}finderPenaltyAddHistory(x,b){b[0]==0&&(x+=this.size),b.pop(),b.unshift(x)}};t.MIN_VERSION=1,t.MAX_VERSION=40,t.PENALTY_N1=3,t.PENALTY_N2=3,t.PENALTY_N3=40,t.PENALTY_N4=10,t.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],t.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e.QrCode=t;function r(w,x,b){if(x<0||x>31||w>>>x)throw new RangeError("Value out of range");for(let E=x-1;E>=0;E--)b.push(w>>>E&1)}function o(w,x){return(w>>>x&1)!=0}function u(w){if(!w)throw new Error("Assertion error")}const h=class gn{constructor(x,b,E){if(this.mode=x,this.numChars=b,this.bitData=E,b<0)throw new RangeError("Invalid argument");this.bitData=E.slice()}static makeBytes(x){let b=[];for(const E of x)r(E,8,b);return new gn(gn.Mode.BYTE,x.length,b)}static makeNumeric(x){if(!gn.isNumeric(x))throw new RangeError("String contains non-numeric characters");let b=[];for(let E=0;E<x.length;){const A=Math.min(x.length-E,3);r(parseInt(x.substring(E,E+A),10),A*3+1,b),E+=A}return new gn(gn.Mode.NUMERIC,x.length,b)}static makeAlphanumeric(x){if(!gn.isAlphanumeric(x))throw new RangeError("String contains unencodable characters in alphanumeric mode");let b=[],E;for(E=0;E+2<=x.length;E+=2){let A=gn.ALPHANUMERIC_CHARSET.indexOf(x.charAt(E))*45;A+=gn.ALPHANUMERIC_CHARSET.indexOf(x.charAt(E+1)),r(A,11,b)}return E<x.length&&r(gn.ALPHANUMERIC_CHARSET.indexOf(x.charAt(E)),6,b),new gn(gn.Mode.ALPHANUMERIC,x.length,b)}static makeSegments(x){return x==""?[]:gn.isNumeric(x)?[gn.makeNumeric(x)]:gn.isAlphanumeric(x)?[gn.makeAlphanumeric(x)]:[gn.makeBytes(gn.toUtf8ByteArray(x))]}static makeEci(x){let b=[];if(x<0)throw new RangeError("ECI assignment value out of range");if(x<128)r(x,8,b);else if(x<16384)r(2,2,b),r(x,14,b);else if(x<1e6)r(6,3,b),r(x,21,b);else throw new RangeError("ECI assignment value out of range");return new gn(gn.Mode.ECI,0,b)}static isNumeric(x){return gn.NUMERIC_REGEX.test(x)}static isAlphanumeric(x){return gn.ALPHANUMERIC_REGEX.test(x)}getData(){return this.bitData.slice()}static getTotalBits(x,b){let E=0;for(const A of x){const R=A.mode.numCharCountBits(b);if(A.numChars>=1<<R)return 1/0;E+=4+R+A.bitData.length}return E}static toUtf8ByteArray(x){x=encodeURI(x);let b=[];for(let E=0;E<x.length;E++)x.charAt(E)!="%"?b.push(x.charCodeAt(E)):(b.push(parseInt(x.substring(E+1,E+3),16)),E+=2);return b}};h.NUMERIC_REGEX=/^[0-9]*$/,h.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,h.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let p=h;e.QrSegment=h})(yo||(yo={}));(e=>{(t=>{const r=class{constructor(u,h){this.ordinal=u,this.formatBits=h}};r.LOW=new r(0,1),r.MEDIUM=new r(1,0),r.QUARTILE=new r(2,3),r.HIGH=new r(3,2),t.Ecc=r})(e.QrCode||(e.QrCode={}))})(yo||(yo={}));(e=>{(t=>{const r=class{constructor(u,h){this.modeBits=u,this.numBitsCharCount=h}numCharCountBits(u){return this.numBitsCharCount[Math.floor((u+7)/17)]}};r.NUMERIC=new r(1,[10,12,14]),r.ALPHANUMERIC=new r(2,[9,11,13]),r.BYTE=new r(4,[8,16,16]),r.KANJI=new r(8,[8,10,12]),r.ECI=new r(7,[0,0,0]),t.Mode=r})(e.QrSegment||(e.QrSegment={}))})(yo||(yo={}));var cl=yo;var m_={L:cl.QrCode.Ecc.LOW,M:cl.QrCode.Ecc.MEDIUM,Q:cl.QrCode.Ecc.QUARTILE,H:cl.QrCode.Ecc.HIGH},gC=128,pC="L",yC="#FFFFFF",bC="#000000",vC=!1,wC=1,g_=4,p_=0,y_=.1;function xC(e,t=0){const r=[];return e.forEach(function(o,u){let h=null;o.forEach(function(p,w){if(!p&&h!==null){r.push(`M${h+t} ${u+t}h${w-h}v1H${h+t}z`),h=null;return}if(w===o.length-1){if(!p)return;h===null?r.push(`M${w+t},${u+t} h1v1H${w+t}z`):r.push(`M${h+t},${u+t} h${w+1-h}v1H${h+t}z`);return}p&&h===null&&(h=w)})}),r.join("")}function EC(e,t){return e.slice().map((r,o)=>o<t.y||o>=t.y+t.h?r:r.map((u,h)=>h<t.x||h>=t.x+t.w?u:!1))}function b_(e,t,r,o){if(o==null)return null;const u=e.length+r*2,h=Math.floor(t*y_),p=u/t,w=(o.width||h)*p,x=(o.height||h)*p,b=o.x==null?e.length/2-w/2:o.x*p,E=o.y==null?e.length/2-x/2:o.y*p,A=o.opacity==null?1:o.opacity;let R=null;if(o.excavate){let _=Math.floor(b),k=Math.floor(E),P=Math.ceil(w+b-_),Y=Math.ceil(x+E-k);R={x:_,y:k,w:P,h:Y}}const D=o.crossOrigin;return{x:b,y:E,h:x,w,excavation:R,opacity:A,crossOrigin:D}}function v_(e,t){return t!=null?Math.max(Math.floor(t),0):e?g_:p_}function CC({value:e,level:t,minVersion:r,includeMargin:o,marginSize:u,imageSettings:h,size:p,boostLevel:w}){let x=on.useMemo(()=>{const _=(Array.isArray(e)?e:[e]).reduce((k,P)=>(k.push(...cl.QrSegment.makeSegments(P)),k),[]);return cl.QrCode.encodeSegments(_,m_[t],r,void 0,void 0,w)},[e,t,r,w]);const{cells:b,margin:E,numCells:A,calculatedImageSettings:R}=on.useMemo(()=>{let D=x.getModules();const _=v_(o,u),k=D.length+_*2,P=b_(D,p,_,h);return{cells:D,margin:_,numCells:k,calculatedImageSettings:P}},[x,p,h,o,u]);return{qrcode:x,margin:E,cells:b,numCells:A,calculatedImageSettings:R}}var w_=(function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0})(),x_=on.forwardRef(function(t,r){const o=t,{value:u,size:h=gC,level:p=pC,bgColor:w=yC,fgColor:x=bC,includeMargin:b=vC,minVersion:E=wC,boostLevel:A,marginSize:R,imageSettings:D}=o,k=Qm(o,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:P}=k,Y=Qm(k,["style"]),j=D?.src,U=on.useRef(null),F=on.useRef(null),I=on.useCallback(je=>{U.current=je,typeof r=="function"?r(je):r&&(r.current=je)},[r]),[X,z]=on.useState(!1),{margin:G,cells:Q,numCells:Ee,calculatedImageSettings:ae}=CC({value:u,level:p,minVersion:E,boostLevel:A,includeMargin:b,marginSize:R,imageSettings:D,size:h});on.useEffect(()=>{if(U.current!=null){const je=U.current,ne=je.getContext("2d");if(!ne)return;let re=Q;const ue=F.current,we=ae!=null&&ue!==null&&ue.complete&&ue.naturalHeight!==0&&ue.naturalWidth!==0;we&&ae.excavation!=null&&(re=EC(Q,ae.excavation));const Be=window.devicePixelRatio||1;je.height=je.width=h*Be;const ye=h/Ee*Be;ne.scale(ye,ye),ne.fillStyle=w,ne.fillRect(0,0,Ee,Ee),ne.fillStyle=x,w_?ne.fill(new Path2D(xC(re,G))):Q.forEach(function($,ge){$.forEach(function(Me,_e){Me&&ne.fillRect(_e+G,ge+G,1,1)})}),ae&&(ne.globalAlpha=ae.opacity),we&&ne.drawImage(ue,ae.x+G,ae.y+G,ae.w,ae.h)}}),on.useEffect(()=>{z(!1)},[j]);const ve=Wm({height:h,width:h},P);let me=null;return j!=null&&(me=on.createElement("img",{src:j,key:j,style:{display:"none"},onLoad:()=>{z(!0)},ref:F,crossOrigin:ae?.crossOrigin})),on.createElement(on.Fragment,null,on.createElement("canvas",Wm({style:ve,height:h,width:h,ref:I,role:"img"},Y)),me)});x_.displayName="QRCodeCanvas";var SC=on.forwardRef(function(t,r){const o=t,{value:u,size:h=gC,level:p=pC,bgColor:w=yC,fgColor:x=bC,includeMargin:b=vC,minVersion:E=wC,boostLevel:A,title:R,marginSize:D,imageSettings:_}=o,k=Qm(o,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:P,cells:Y,numCells:j,calculatedImageSettings:U}=CC({value:u,level:p,minVersion:E,boostLevel:A,includeMargin:b,marginSize:D,imageSettings:_,size:h});let F=Y,I=null;_!=null&&U!=null&&(U.excavation!=null&&(F=EC(Y,U.excavation)),I=on.createElement("image",{href:_.src,height:U.h,width:U.w,x:U.x+P,y:U.y+P,preserveAspectRatio:"none",opacity:U.opacity,crossOrigin:U.crossOrigin}));const X=xC(F,P);return on.createElement("svg",Wm({height:h,width:h,viewBox:`0 0 ${j} ${j}`,ref:r,role:"img"},k),!!R&&on.createElement("title",null,R),on.createElement("path",{fill:w,d:`M0,0 h${j}v${j}H0z`,shapeRendering:"crispEdges"}),on.createElement("path",{fill:x,d:X,shapeRendering:"crispEdges"}),I)});SC.displayName="QRCodeSVG";function E_({qrCodeData:e,orderNumber:t,size:r=200}){const o=()=>{const u=document.getElementById("qr-code-svg"),h=new XMLSerializer().serializeToString(u),p=document.createElement("canvas"),w=p.getContext("2d"),x=new Image;x.onload=()=>{p.width=r,p.height=r,w.drawImage(x,0,0);const b=p.toDataURL("image/png"),E=document.createElement("a");E.download=`order-${t}-qr.png`,E.href=b,E.click()},x.src="data:image/svg+xml;base64,"+btoa(h)};return e?y.jsxs("div",{className:"flex flex-col items-center gap-4 p-6 bg-white border border-gray-200 rounded-2xl shadow-sm",children:[y.jsx("div",{className:"p-4 bg-white rounded-xl border-2 border-gray-100",children:y.jsx(SC,{id:"qr-code-svg",value:e,size:r,level:"H",includeMargin:!0,className:"rounded-lg"})}),t&&y.jsxs("div",{className:"text-center",children:[y.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Order Number"}),y.jsx("p",{className:"text-lg font-bold text-gray-800",children:t})]}),y.jsxs("button",{onClick:o,className:"flex items-center gap-2 px-4 py-2 text-sm font-medium text-brand-primary bg-orange-50 hover:bg-orange-100 rounded-xl transition-colors",children:[y.jsx(u5,{size:16}),"Download QR Code"]}),y.jsx("p",{className:"text-xs text-gray-500 text-center max-w-xs",children:"Show this QR code to the vendor for order verification"})]}):y.jsx("div",{className:"flex items-center justify-center p-8 bg-gray-50 rounded-2xl",children:y.jsx("p",{className:"text-gray-500",children:"QR code not available"})})}const C_=()=>{const{user:e}=_s(),t=Ta(),{isConnected:r}=Eg(),[o,u]=H.useState("ALL"),[h,p]=H.useState({}),[w,x]=H.useState(null),[b,E]=H.useState(!1),[A,R]=H.useState(!0),{data:D,isLoading:_,error:k,refetch:P}=si({queryKey:["vendor-orders",e?.id],queryFn:async()=>await Wr.getMyOrders(e.id),enabled:!!e?.id,refetchInterval:A?5e3:!1,retry:1}),Y=ni({mutationFn:async({orderId:ae,status:ve,remarks:me})=>await Wr.updateOrderStatus(ae,ve,me),onSuccess:()=>{ze.success("Order status updated!"),t.invalidateQueries(["vendor-orders"])},onError:ae=>{ze.error(ae||"Failed to update order status")}}),j=ae=>{p(ve=>({...ve,[ae]:!ve[ae]}))},U=(ae,ve)=>{window.confirm(`Update order status to ${ve}?`)&&Y.mutate({orderId:ae,status:ve})},F=ae=>{x(ae),E(!0)},I=ae=>new Date(ae).toLocaleString("en-IN",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),X=ae=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:2}).format(ae||0),z=ae=>{const ve={PENDING:{label:"New",icon:Lc,color:"bg-yellow-100 text-yellow-700 border-yellow-200",nextStatus:"PREPARING",nextLabel:"Start Preparing"},PREPARING:{label:"Preparing",icon:n3,color:"bg-blue-100 text-blue-700 border-blue-200",nextStatus:"READY",nextLabel:"Mark as Ready"},READY:{label:"Ready",icon:Ca,color:"bg-green-100 text-green-700 border-green-200",nextStatus:"DELIVERED",nextLabel:"Mark as Delivered"},DELIVERED:{label:"Delivered",icon:pg,color:"bg-gray-100 text-gray-700 border-gray-200",nextStatus:null,nextLabel:null}};return ve[ae]||ve.PENDING},G=[{key:"ALL",label:"All Orders"},{key:"PENDING",label:"New"},{key:"PREPARING",label:"Preparing"},{key:"READY",label:"Ready"},{key:"DELIVERED",label:"Delivered"}],Q=D?.filter(ae=>o==="ALL"?!0:ae.status===o)||[],Ee=ae=>ae==="ALL"?D?.length||0:D?.filter(ve=>ve.status===ae).length||0;return H.useEffect(()=>{r&&console.log("[LiveOrders] WebSocket connected - real-time updates enabled")},[r]),H.useEffect(()=>{const ae=()=>{!document.hidden&&r&&P()};return document.addEventListener("visibilitychange",ae),()=>document.removeEventListener("visibilitychange",ae)},[r,P]),_?y.jsx("div",{className:"flex items-center justify-center min-h-screen",children:y.jsxs("div",{className:"text-center",children:[y.jsx(Gn,{className:"animate-spin text-brand-primary mx-auto mb-4",size:48}),y.jsx("p",{className:"text-gray-600",children:"Loading orders..."})]})}):k?y.jsx("div",{className:"min-h-screen bg-surface-bg p-6",children:y.jsx("div",{className:"max-w-7xl mx-auto",children:y.jsxs("div",{className:"text-center py-12",children:[y.jsx(Ah,{className:"text-red-500 mx-auto mb-4",size:48}),y.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Failed to Load Orders"}),y.jsx("p",{className:"text-gray-600 mb-4",children:k}),y.jsx("button",{onClick:()=>P(),className:"px-6 py-2 bg-brand-primary text-white rounded-xl hover:bg-brand-secondary transition-colors",children:"Try Again"})]})})}):!D||D.length===0?y.jsx("div",{className:"min-h-screen bg-surface-bg p-6",children:y.jsxs("div",{className:"max-w-7xl mx-auto",children:[y.jsxs("div",{className:"mb-8",children:[y.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Live Orders"}),y.jsx("p",{className:"text-gray-600 mt-2",children:"Real-time order management and tracking"})]}),y.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-12 text-center",children:y.jsxs("div",{className:"max-w-md mx-auto",children:[y.jsx("div",{className:"w-20 h-20 bg-brand-primary/10 rounded-full flex items-center justify-center mx-auto mb-4",children:y.jsx(Jb,{className:"text-brand-primary",size:40})}),y.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"No Orders Yet"}),y.jsx("p",{className:"text-gray-600",children:"When you receive orders, they'll appear here for real-time tracking and management."})]})})]})}):y.jsxs("div",{className:"min-h-screen bg-surface-bg pb-6",children:[y.jsx("div",{className:"bg-white border-b border-gray-200 sticky top-0 z-10",children:y.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-4",children:[y.jsxs("div",{className:"flex items-center justify-between mb-4",children:[y.jsxs("div",{children:[y.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Live Orders"}),y.jsxs("p",{className:"text-gray-600 text-sm mt-1",children:[D.length," total ",D.length===1?"order":"orders"]})]}),y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx("div",{className:"flex items-center gap-2 text-sm",children:r?y.jsxs(y.Fragment,{children:[y.jsx(g3,{className:"text-green-500",size:16}),y.jsx("span",{className:"text-green-600 font-medium",children:"Live"})]}):y.jsxs(y.Fragment,{children:[y.jsx(m3,{className:"text-gray-400",size:16}),y.jsx("span",{className:"text-gray-500 font-medium",children:"Offline"})]})}),y.jsxs("label",{className:"flex items-center cursor-pointer",children:[y.jsx("input",{type:"checkbox",checked:A,onChange:ae=>R(ae.target.checked),className:"sr-only peer"}),y.jsx("div",{className:"relative w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-orange-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-brand-primary"}),y.jsx("span",{className:"ml-3 text-sm font-medium text-gray-700",children:"Auto-refresh"})]}),y.jsx("button",{onClick:()=>P(),className:"p-2 hover:bg-gray-100 rounded-xl transition-colors",title:"Refresh orders",children:y.jsx(c3,{className:"text-gray-600",size:20})})]})]}),y.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:G.map(ae=>y.jsxs("button",{onClick:()=>u(ae.key),className:`px-4 py-2 rounded-xl font-semibold whitespace-nowrap transition-colors ${o===ae.key?"bg-brand-primary text-white":"bg-white text-gray-700 border border-gray-200 hover:border-brand-primary"}`,children:[ae.label," (",Ee(ae.key),")"]},ae.key))})]})}),y.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-6",children:Q.length===0?y.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-12 text-center",children:[y.jsx(Jb,{className:"text-gray-400 mx-auto mb-4",size:48}),y.jsxs("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:["No ",o!=="ALL"?o.toLowerCase():""," orders"]}),y.jsx("p",{className:"text-gray-600",children:o!=="ALL"?`You don't have any ${o.toLowerCase()} orders at the moment.`:"All orders have been completed."})]}):y.jsx("div",{className:"space-y-4",children:Q.sort((ae,ve)=>new Date(ve.createdAt)-new Date(ae.createdAt)).map(ae=>{const ve=z(ae.status),me=ve.icon,je=h[ae.id];return y.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden hover:shadow-md transition-shadow",children:[y.jsxs("div",{className:"p-6",children:[y.jsxs("div",{className:"flex items-start justify-between mb-4",children:[y.jsxs("div",{className:"flex items-start",children:[y.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center mr-4 ${ve.color}`,children:y.jsx(me,{size:24})}),y.jsxs("div",{children:[y.jsxs("h3",{className:"font-bold text-gray-900 text-lg mb-1",children:["Order #",ae.orderNumber]}),y.jsxs("div",{className:"flex items-center text-sm text-gray-500 gap-3",children:[y.jsxs("div",{className:"flex items-center gap-1",children:[y.jsx(Lc,{size:14}),I(ae.createdAt)]}),ae.userId&&y.jsxs("div",{className:"flex items-center gap-1",children:[y.jsx(yg,{size:14}),"Customer ID: ",ae.userId]})]})]})]}),y.jsxs("div",{className:"text-right",children:[y.jsxs("div",{className:"flex items-center text-xl font-bold text-gray-900 mb-2",children:[y.jsx(Wi,{size:20}),ae.totalAmount?.toFixed(2)]}),y.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-xs font-semibold border ${ve.color}`,children:ve.label})]})]}),y.jsxs("div",{className:"flex gap-3",children:[y.jsx("button",{onClick:()=>j(ae.id),className:"flex-1 py-2 px-4 border-2 border-gray-200 text-gray-700 font-semibold rounded-xl hover:border-brand-primary hover:text-brand-primary transition-colors flex items-center justify-center",children:je?y.jsxs(y.Fragment,{children:["Hide Items ",y.jsx(r3,{className:"ml-2",size:16})]}):y.jsxs(y.Fragment,{children:["View Items ",y.jsx(i3,{className:"ml-2",size:16})]})}),y.jsxs("button",{onClick:()=>F(ae),className:"py-2 px-4 border-2 border-brand-primary text-brand-primary font-semibold rounded-xl hover:bg-orange-50 transition-colors flex items-center",children:[y.jsx(l3,{className:"mr-2",size:16}),"QR Code"]}),ve.nextStatus&&y.jsxs("button",{onClick:()=>U(ae.id,ve.nextStatus),disabled:Y.isPending,className:"py-2 px-4 bg-brand-primary text-white font-semibold rounded-xl hover:bg-brand-secondary transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:[Y.isPending?y.jsx(Gn,{className:"animate-spin mr-2",size:16}):null,ve.nextLabel]})]})]}),je&&y.jsxs("div",{className:"border-t border-gray-200 bg-gray-50 p-6",children:[y.jsx("h4",{className:"font-bold text-gray-900 mb-4",children:"Order Items"}),y.jsx("div",{className:"space-y-3",children:ae.orderItems?.map((ne,re)=>y.jsxs("div",{className:"bg-white rounded-xl p-4 flex items-center justify-between",children:[y.jsxs("div",{className:"flex-1",children:[y.jsx("p",{className:"font-semibold text-gray-900",children:ne.menuItemName||"Menu Item"}),y.jsxs("p",{className:"text-sm text-gray-500",children:["Quantity: ",ne.quantity]})]}),y.jsxs("div",{className:"text-right",children:[y.jsxs("p",{className:"text-sm text-gray-500 mb-1",children:[X(ne.price),"  ",ne.quantity]}),y.jsxs("div",{className:"flex items-center text-lg font-bold text-gray-900",children:[y.jsx(Wi,{size:18}),(ne.price*ne.quantity).toFixed(2)]})]})]},re))}),ae.rating&&y.jsxs("div",{className:"mt-4 p-4 bg-yellow-50 rounded-xl border border-yellow-200",children:[y.jsxs("p",{className:"text-sm font-semibold text-yellow-700 mb-1",children:["Customer Rating:  ",ae.rating]}),ae.feedback&&y.jsx("p",{className:"text-sm text-yellow-600",children:ae.feedback})]})]})]},ae.id)})})}),y.jsx(po,{isOpen:b,onClose:()=>{E(!1),x(null)},title:"Order QR Code",children:w&&y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{className:"bg-gray-50 rounded-xl p-4",children:[y.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Order Number"}),y.jsx("p",{className:"text-xl font-bold text-gray-900",children:w.orderNumber})]}),y.jsx(E_,{qrCodeData:w.qrCodeData,orderNumber:w.orderNumber,size:250}),y.jsx("p",{className:"text-xs text-gray-500 text-center",children:"Customer will present this QR code for order verification"})]})})]})},S_=()=>{const{user:e}=_s(),t=Ta(),[r,o]=H.useState("grid"),[u,h]=H.useState(!1),[p,w]=H.useState(!1),[x,b]=H.useState(null),[E,A]=H.useState(null),[R,D]=H.useState(null),[_,k]=H.useState({name:"",description:"",price:"",categoryId:"",available:!0}),[P,Y]=H.useState({name:"",description:""}),{data:j,isLoading:U,error:F}=si({queryKey:["vendor-menu-items",e?.id],queryFn:async()=>await Wr.getMyMenuItems(e.id),enabled:!!e?.id,retry:1}),{data:I,isLoading:X}=si({queryKey:["vendor-categories",e?.id],queryFn:async()=>await Wr.getMyCategories(e.id,!1),enabled:!!e?.id,retry:1}),z=ni({mutationFn:async ye=>x?await Wr.updateMenuItem(x.id,ye):await Wr.createMenuItem(ye),onSuccess:()=>{ze.success(x?"Menu item updated!":"Menu item created!"),t.invalidateQueries(["vendor-menu-items"]),ve()},onError:ye=>{ze.error(ye||"Failed to save menu item")}}),G=ni({mutationFn:async ye=>await Wr.deleteMenuItem(ye),onSuccess:()=>{ze.success("Menu item deleted"),t.invalidateQueries(["vendor-menu-items"])},onError:ye=>{ze.error(ye||"Failed to delete menu item")}}),Q=ni({mutationFn:async ye=>E?await Wr.updateCategory(E.id,ye):await Wr.createCategory(ye),onSuccess:()=>{ze.success(E?"Category updated!":"Category created!"),t.invalidateQueries(["vendor-categories"]),je()},onError:ye=>{ze.error(ye||"Failed to save category")}}),Ee=ni({mutationFn:async({itemId:ye,available:$})=>{const ge=j.find(Me=>Me.id===ye);return await Wr.updateMenuItem(ye,{...ge,available:$})},onSuccess:()=>{t.invalidateQueries(["vendor-menu-items"])},onError:ye=>{ze.error(ye||"Failed to update availability")}}),ae=(ye=null)=>{ye?(b(ye),k({name:ye.name,description:ye.description||"",price:ye.price.toString(),categoryId:ye.categoryId?.toString()||"",available:ye.available})):(b(null),k({name:"",description:"",price:"",categoryId:R?.toString()||"",available:!0})),h(!0)},ve=()=>{h(!1),b(null),k({name:"",description:"",price:"",categoryId:"",available:!0})},me=(ye=null)=>{ye?(A(ye),Y({name:ye.name,description:ye.description||""})):(A(null),Y({name:"",description:""})),w(!0)},je=()=>{w(!1),A(null),Y({name:"",description:""})},ne=ye=>{ye.preventDefault();const $={name:_.name,description:_.description||null,price:parseFloat(_.price),categoryId:_.categoryId?parseInt(_.categoryId):null,available:_.available};z.mutate($)},re=ye=>{ye.preventDefault(),Q.mutate(P)},ue=ye=>{window.confirm(`Are you sure you want to delete "${ye.name}"?`)&&G.mutate(ye.id)},we=ye=>{Ee.mutate({itemId:ye.id,available:!ye.available})},Be=R?j?.filter(ye=>ye.categoryId===R):j;return U||X?y.jsx("div",{className:"flex items-center justify-center min-h-screen",children:y.jsxs("div",{className:"text-center",children:[y.jsx(Gn,{className:"animate-spin text-brand-primary mx-auto mb-4",size:48}),y.jsx("p",{className:"text-gray-600",children:"Loading menu..."})]})}):F?y.jsx("div",{className:"min-h-screen bg-surface-bg p-6",children:y.jsx("div",{className:"max-w-7xl mx-auto",children:y.jsxs("div",{className:"text-center py-12",children:[y.jsx(Ah,{className:"text-red-500 mx-auto mb-4",size:48}),y.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Failed to Load Menu"}),y.jsx("p",{className:"text-gray-600",children:F})]})})}):y.jsxs("div",{className:"min-h-screen bg-surface-bg pb-6",children:[y.jsx("div",{className:"bg-white border-b border-gray-200",children:y.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-6",children:[y.jsxs("div",{className:"flex items-center justify-between mb-4",children:[y.jsxs("div",{children:[y.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Menu Management"}),y.jsx("p",{className:"text-gray-600 mt-2",children:"Manage your menu items, pricing, and availability"})]}),y.jsxs("div",{className:"flex gap-3",children:[y.jsxs("button",{onClick:()=>me(),className:"px-4 py-2 border-2 border-brand-primary text-brand-primary font-semibold rounded-xl hover:bg-orange-50 transition-colors flex items-center",children:[y.jsx($5,{className:"mr-2",size:20}),"Add Category"]}),y.jsxs("button",{onClick:()=>ae(),className:"px-4 py-2 bg-brand-primary text-white font-semibold rounded-xl hover:bg-brand-secondary transition-colors flex items-center",children:[y.jsx(gr,{className:"mr-2",size:20}),"Add Menu Item"]})]})]}),y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{className:"flex gap-2 overflow-x-auto pb-2",children:[y.jsxs("button",{onClick:()=>D(null),className:`px-4 py-2 rounded-xl font-semibold whitespace-nowrap transition-colors ${R===null?"bg-brand-primary text-white":"bg-white text-gray-700 border border-gray-200 hover:border-brand-primary"}`,children:["All (",j?.length||0,")"]}),I?.map(ye=>y.jsxs("button",{onClick:()=>D(ye.id),className:`px-4 py-2 rounded-xl font-semibold whitespace-nowrap transition-colors ${R===ye.id?"bg-brand-primary text-white":"bg-white text-gray-700 border border-gray-200 hover:border-brand-primary"}`,children:[ye.name," (",j?.filter($=>$.categoryId===ye.id).length||0,")"]},ye.id))]}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx("button",{onClick:()=>o("grid"),className:`p-2 rounded-xl transition-colors ${r==="grid"?"bg-brand-primary text-white":"bg-white text-gray-700 border border-gray-200 hover:border-brand-primary"}`,children:y.jsx(p5,{size:20})}),y.jsx("button",{onClick:()=>o("list"),className:`p-2 rounded-xl transition-colors ${r==="list"?"bg-brand-primary text-white":"bg-white text-gray-700 border border-gray-200 hover:border-brand-primary"}`,children:y.jsx(w5,{size:20})})]})]})]})}),y.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-6",children:!Be||Be.length===0?y.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-12 text-center",children:y.jsxs("div",{className:"max-w-md mx-auto",children:[y.jsx("div",{className:"w-20 h-20 bg-brand-primary/10 rounded-full flex items-center justify-center mx-auto mb-4",children:y.jsx(Ea,{className:"text-brand-primary",size:40})}),y.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:R?"No Items in This Category":"No Menu Items Yet"}),y.jsx("p",{className:"text-gray-600 mb-6",children:R?"Add menu items to this category to get started.":"Start adding your menu items to showcase your offerings to customers."}),y.jsx("button",{onClick:()=>ae(),className:"px-6 py-3 bg-brand-primary text-white font-semibold rounded-xl hover:bg-brand-secondary transition-colors",children:"Add Menu Item"})]})}):r==="grid"?y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Be.map(ye=>{const $=I?.find(ge=>ge.id===ye.categoryId);return y.jsxs("div",{className:`bg-white rounded-2xl shadow-sm border-2 p-4 transition-all ${ye.available?"border-gray-200 hover:border-brand-primary":"border-gray-300 opacity-60"}`,children:[y.jsx("div",{className:"flex justify-between items-start mb-3",children:y.jsxs("div",{className:"flex-1",children:[y.jsx("h3",{className:"font-bold text-gray-900 mb-1",children:ye.name}),ye.description&&y.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:ye.description}),$&&y.jsx("span",{className:"inline-block mt-2 px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded-lg",children:$.name})]})}),y.jsxs("div",{className:"flex items-center justify-between mb-3",children:[y.jsxs("div",{className:"flex items-center text-brand-primary font-bold text-xl",children:[y.jsx(Wi,{size:20}),ye.price.toFixed(2)]}),y.jsx("button",{onClick:()=>we(ye),className:"flex items-center gap-1 text-sm font-semibold",title:ye.available?"Mark as unavailable":"Mark as available",children:ye.available?y.jsxs(y.Fragment,{children:[y.jsx(nv,{className:"text-green-500",size:24}),y.jsx("span",{className:"text-green-600",children:"Available"})]}):y.jsxs(y.Fragment,{children:[y.jsx(tv,{className:"text-gray-400",size:24}),y.jsx("span",{className:"text-gray-500",children:"Unavailable"})]})})]}),y.jsxs("div",{className:"flex gap-2",children:[y.jsxs("button",{onClick:()=>ae(ye),className:"flex-1 py-2 px-3 border-2 border-gray-200 text-gray-700 font-semibold rounded-xl hover:border-brand-primary hover:text-brand-primary transition-colors flex items-center justify-center",children:[y.jsx(ev,{size:16,className:"mr-1"}),"Edit"]}),y.jsx("button",{onClick:()=>ue(ye),className:"py-2 px-3 border-2 border-red-200 text-red-600 font-semibold rounded-xl hover:bg-red-50 transition-colors",title:"Delete item",children:y.jsx(ml,{size:16})})]})]},ye.id)})}):y.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden",children:y.jsxs("table",{className:"w-full",children:[y.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:y.jsxs("tr",{children:[y.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase",children:"Name"}),y.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase",children:"Category"}),y.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase",children:"Price"}),y.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase",children:"Status"}),y.jsx("th",{className:"px-6 py-3 text-right text-xs font-semibold text-gray-600 uppercase",children:"Actions"})]})}),y.jsx("tbody",{className:"divide-y divide-gray-200",children:Be.map(ye=>{const $=I?.find(ge=>ge.id===ye.categoryId);return y.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[y.jsx("td",{className:"px-6 py-4",children:y.jsxs("div",{children:[y.jsx("p",{className:"font-semibold text-gray-900",children:ye.name}),ye.description&&y.jsx("p",{className:"text-sm text-gray-500 line-clamp-1",children:ye.description})]})}),y.jsx("td",{className:"px-6 py-4",children:$&&y.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-sm rounded-lg",children:$.name})}),y.jsx("td",{className:"px-6 py-4",children:y.jsxs("div",{className:"flex items-center font-bold text-brand-primary",children:[y.jsx(Wi,{size:16}),ye.price.toFixed(2)]})}),y.jsx("td",{className:"px-6 py-4",children:y.jsx("button",{onClick:()=>we(ye),className:"flex items-center gap-1",children:ye.available?y.jsxs(y.Fragment,{children:[y.jsx(nv,{className:"text-green-500",size:20}),y.jsx("span",{className:"text-sm font-semibold text-green-600",children:"Available"})]}):y.jsxs(y.Fragment,{children:[y.jsx(tv,{className:"text-gray-400",size:20}),y.jsx("span",{className:"text-sm font-semibold text-gray-500",children:"Unavailable"})]})})}),y.jsx("td",{className:"px-6 py-4",children:y.jsxs("div",{className:"flex gap-2 justify-end",children:[y.jsx("button",{onClick:()=>ae(ye),className:"p-2 text-brand-primary hover:bg-orange-50 rounded-lg transition-colors",title:"Edit item",children:y.jsx(ev,{size:18})}),y.jsx("button",{onClick:()=>ue(ye),className:"p-2 text-red-500 hover:bg-red-50 rounded-lg transition-colors",title:"Delete item",children:y.jsx(ml,{size:18})})]})})]},ye.id)})})]})})}),y.jsx(po,{isOpen:u,onClose:ve,title:x?"Edit Menu Item":"Add Menu Item",children:y.jsxs("form",{onSubmit:ne,className:"space-y-4",children:[y.jsx(In,{label:"Item Name",type:"text",placeholder:"e.g., Veggie Burger",value:_.name,onChange:ye=>k({..._,name:ye.target.value}),required:!0}),y.jsxs("div",{children:[y.jsx("label",{className:"text-sm font-semibold text-gray-700 ml-1 mb-1.5 block",children:"Description (Optional)"}),y.jsx("textarea",{placeholder:"Describe your menu item...",value:_.description,onChange:ye=>k({..._,description:ye.target.value}),rows:3,className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-orange-500 focus:ring-2 focus:ring-orange-200 outline-none transition-all bg-white/50 backdrop-blur-sm resize-none"})]}),y.jsx(In,{label:"Price ()",type:"number",placeholder:"0.00",value:_.price,onChange:ye=>k({..._,price:ye.target.value}),required:!0,min:"0",step:"0.01"}),y.jsxs("div",{children:[y.jsx("label",{className:"text-sm font-semibold text-gray-700 ml-1 mb-1.5 block",children:"Category"}),y.jsxs("select",{value:_.categoryId,onChange:ye=>k({..._,categoryId:ye.target.value}),className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-orange-500 focus:ring-2 focus:ring-orange-200 outline-none transition-all bg-white/50 backdrop-blur-sm",children:[y.jsx("option",{value:"",children:"No Category"}),I?.map(ye=>y.jsx("option",{value:ye.id,children:ye.name},ye.id))]})]}),y.jsxs("div",{className:"flex items-center",children:[y.jsx("input",{type:"checkbox",id:"available",checked:_.available,onChange:ye=>k({..._,available:ye.target.checked}),className:"w-4 h-4 text-brand-primary border-gray-300 rounded focus:ring-brand-primary"}),y.jsx("label",{htmlFor:"available",className:"ml-2 text-sm font-semibold text-gray-700",children:"Available for ordering"})]}),y.jsx("button",{type:"submit",disabled:z.isPending,className:"w-full py-3 bg-brand-primary text-white font-bold rounded-xl hover:bg-brand-secondary transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:z.isPending?y.jsxs(y.Fragment,{children:[y.jsx(Gn,{className:"animate-spin mr-2",size:20}),"Saving..."]}):x?"Update Item":"Create Item"})]})}),y.jsx(po,{isOpen:p,onClose:je,title:E?"Edit Category":"Add Category",children:y.jsxs("form",{onSubmit:re,className:"space-y-4",children:[y.jsx(In,{label:"Category Name",type:"text",placeholder:"e.g., Burgers, Drinks, Desserts",value:P.name,onChange:ye=>Y({...P,name:ye.target.value}),required:!0}),y.jsxs("div",{children:[y.jsx("label",{className:"text-sm font-semibold text-gray-700 ml-1 mb-1.5 block",children:"Description (Optional)"}),y.jsx("textarea",{placeholder:"Describe this category...",value:P.description,onChange:ye=>Y({...P,description:ye.target.value}),rows:2,className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-orange-500 focus:ring-2 focus:ring-orange-200 outline-none transition-all bg-white/50 backdrop-blur-sm resize-none"})]}),y.jsx("button",{type:"submit",disabled:Q.isPending,className:"w-full py-3 bg-brand-primary text-white font-bold rounded-xl hover:bg-brand-secondary transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:Q.isPending?y.jsxs(y.Fragment,{children:[y.jsx(Gn,{className:"animate-spin mr-2",size:20}),"Saving..."]}):E?"Update Category":"Create Category"})]})})]})};var ke;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(ke||(ke={}));var Ox=new Map([[ke.QR_CODE,"QR_CODE"],[ke.AZTEC,"AZTEC"],[ke.CODABAR,"CODABAR"],[ke.CODE_39,"CODE_39"],[ke.CODE_93,"CODE_93"],[ke.CODE_128,"CODE_128"],[ke.DATA_MATRIX,"DATA_MATRIX"],[ke.MAXICODE,"MAXICODE"],[ke.ITF,"ITF"],[ke.EAN_13,"EAN_13"],[ke.EAN_8,"EAN_8"],[ke.PDF_417,"PDF_417"],[ke.RSS_14,"RSS_14"],[ke.RSS_EXPANDED,"RSS_EXPANDED"],[ke.UPC_A,"UPC_A"],[ke.UPC_E,"UPC_E"],[ke.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),Mx;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})(Mx||(Mx={}));function A_(e){return Object.values(ke).includes(e)}var Na;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(Na||(Na={}));var Mr=(function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[Na.SCAN_TYPE_CAMERA,Na.SCAN_TYPE_FILE],e})(),AC=(function(){function e(t,r){this.format=t,this.formatName=r}return e.prototype.toString=function(){return this.formatName},e.create=function(t){if(!Ox.has(t))throw"".concat(t," not in html5QrcodeSupportedFormatsTextMap");return new e(t,Ox.get(t))},e})(),Ix=(function(){function e(){}return e.createFromText=function(t){var r={text:t};return{decodedText:t,result:r}},e.createFromQrcodeResult=function(t){return{decodedText:t.text,result:t}},e})(),Zm;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(Zm||(Zm={}));var NC=(function(){function e(){}return e.createFrom=function(t){return{errorMessage:t,type:Zm.UNKWOWN_ERROR}},e})(),TC=(function(){function e(t){this.verbose=t}return e.prototype.log=function(t){this.verbose&&console.log(t)},e.prototype.warn=function(t){this.verbose&&console.warn(t)},e.prototype.logError=function(t,r){(this.verbose||r===!0)&&console.error(t)},e.prototype.logErrors=function(t){if(t.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(t)},e})();function Qr(e){return typeof e>"u"||e===null}function N_(e,t,r){return e>r?r:e<t?t:e}var ul=(function(){function e(){}return e.codeParseError=function(t){return"QR code parse error, error = ".concat(t)},e.errorGettingUserMedia=function(t){return"Error getting userMedia, error = ".concat(t)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e})(),Pt=(function(){function e(){}return e.scanningStatus=function(){return"Scanning"},e.idleStatus=function(){return"Idle"},e.errorStatus=function(){return"Error"},e.permissionStatus=function(){return"Permission"},e.noCameraFoundErrorStatus=function(){return"No Cameras"},e.lastMatch=function(t){return"Last Match: ".concat(t)},e.codeScannerTitle=function(){return"Code Scanner"},e.cameraPermissionTitle=function(){return"Request Camera Permissions"},e.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},e.noCameraFound=function(){return"No camera found"},e.scanButtonStopScanningText=function(){return"Stop Scanning"},e.scanButtonStartScanningText=function(){return"Start Scanning"},e.torchOnButton=function(){return"Switch On Torch"},e.torchOffButton=function(){return"Switch Off Torch"},e.torchOnFailedMessage=function(){return"Failed to turn on torch"},e.torchOffFailedMessage=function(){return"Failed to turn off torch"},e.scanButtonScanningStarting=function(){return"Launching Camera..."},e.textIfCameraScanSelected=function(){return"Scan an Image File"},e.textIfFileScanSelected=function(){return"Scan using camera directly"},e.selectCamera=function(){return"Select Camera"},e.fileSelectionChooseImage=function(){return"Choose Image"},e.fileSelectionChooseAnother=function(){return"Choose Another"},e.fileSelectionNoImageSelected=function(){return"No image choosen"},e.anonymousCameraPrefix=function(){return"Anonymous Camera"},e.dragAndDropMessage=function(){return"Or drop an image to scan"},e.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},e.zoom=function(){return"zoom"},e.loadingImage=function(){return"Loading image..."},e.cameraScanAltText=function(){return"Camera based scan"},e.fileScanAltText=function(){return"Fule based scan"},e})(),_x=(function(){function e(){}return e.poweredBy=function(){return"Powered by "},e.reportIssues=function(){return"Report issues"},e})(),RC=(function(){function e(){}return e.isMediaStreamConstraintsValid=function(t,r){if(typeof t!="object"){var o=typeof t;return r.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(o,"."),!0),!1}for(var u=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],h=new Set(u),p=Object.keys(t),w=0,x=p;w<x.length;w++){var b=x[w];if(h.has(b))return r.logError("".concat(b," is not supported videoConstaints."),!0),!1}return!0},e})(),Tc={exports:{}},T_=Tc.exports,Dx;function R_(){return Dx||(Dx=1,(function(e,t){(function(r,o){o(t)})(T_,(function(r){function o(L){return L==null}var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(L,i){L.__proto__=i}||function(L,i){for(var a in i)i.hasOwnProperty(a)&&(L[a]=i[a])};function h(L,i){u(L,i);function a(){this.constructor=L}L.prototype=i===null?Object.create(i):(a.prototype=i.prototype,new a)}function p(L,i){var a=Object.setPrototypeOf;a?a(L,i):L.__proto__=i}function w(L,i){i===void 0&&(i=L.constructor);var a=Error.captureStackTrace;a&&a(L,i)}var x=(function(L){h(i,L);function i(a){var l=this.constructor,d=L.call(this,a)||this;return Object.defineProperty(d,"name",{value:l.name,enumerable:!1}),p(d,l.prototype),w(d),d}return i})(Error);class b extends x{constructor(i=void 0){super(i),this.message=i}getKind(){return this.constructor.kind}}b.kind="Exception";class E extends b{}E.kind="ArgumentException";class A extends b{}A.kind="IllegalArgumentException";class R{constructor(i){if(this.binarizer=i,i===null)throw new A("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(i,a){return this.binarizer.getBlackRow(i,a)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(i,a,l,d){const f=this.binarizer.getLuminanceSource().crop(i,a,l,d);return new R(this.binarizer.createBinarizer(f))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const i=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new R(this.binarizer.createBinarizer(i))}rotateCounterClockwise45(){const i=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new R(this.binarizer.createBinarizer(i))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class D extends b{static getChecksumInstance(){return new D}}D.kind="ChecksumException";class _{constructor(i){this.source=i}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class k{static arraycopy(i,a,l,d,f){for(;f--;)l[d++]=i[a++]}static currentTimeMillis(){return Date.now()}}class P extends b{}P.kind="IndexOutOfBoundsException";class Y extends P{constructor(i=void 0,a=void 0){super(a),this.index=i,this.message=a}}Y.kind="ArrayIndexOutOfBoundsException";class j{static fill(i,a){for(let l=0,d=i.length;l<d;l++)i[l]=a}static fillWithin(i,a,l,d){j.rangeCheck(i.length,a,l);for(let f=a;f<l;f++)i[f]=d}static rangeCheck(i,a,l){if(a>l)throw new A("fromIndex("+a+") > toIndex("+l+")");if(a<0)throw new Y(a);if(l>i)throw new Y(l)}static asList(...i){return i}static create(i,a,l){return Array.from({length:i}).map(f=>Array.from({length:a}).fill(l))}static createInt32Array(i,a,l){return Array.from({length:i}).map(f=>Int32Array.from({length:a}).fill(l))}static equals(i,a){if(!i||!a||!i.length||!a.length||i.length!==a.length)return!1;for(let l=0,d=i.length;l<d;l++)if(i[l]!==a[l])return!1;return!0}static hashCode(i){if(i===null)return 0;let a=1;for(const l of i)a=31*a+l;return a}static fillUint8Array(i,a){for(let l=0;l!==i.length;l++)i[l]=a}static copyOf(i,a){return i.slice(0,a)}static copyOfUint8Array(i,a){if(i.length<=a){const l=new Uint8Array(a);return l.set(i),l}return i.slice(0,a)}static copyOfRange(i,a,l){const d=l-a,f=new Int32Array(d);return k.arraycopy(i,a,f,0,d),f}static binarySearch(i,a,l){l===void 0&&(l=j.numberComparator);let d=0,f=i.length-1;for(;d<=f;){const g=f+d>>1,v=l(a,i[g]);if(v>0)d=g+1;else if(v<0)f=g-1;else return g}return-d-1}static numberComparator(i,a){return i-a}}class U{static numberOfTrailingZeros(i){let a;if(i===0)return 32;let l=31;return a=i<<16,a!==0&&(l-=16,i=a),a=i<<8,a!==0&&(l-=8,i=a),a=i<<4,a!==0&&(l-=4,i=a),a=i<<2,a!==0&&(l-=2,i=a),l-(i<<1>>>31)}static numberOfLeadingZeros(i){if(i===0)return 32;let a=1;return i>>>16||(a+=16,i<<=16),i>>>24||(a+=8,i<<=8),i>>>28||(a+=4,i<<=4),i>>>30||(a+=2,i<<=2),a-=i>>>31,a}static toHexString(i){return i.toString(16)}static toBinaryString(i){return String(parseInt(String(i),2))}static bitCount(i){return i=i-(i>>>1&1431655765),i=(i&858993459)+(i>>>2&858993459),i=i+(i>>>4)&252645135,i=i+(i>>>8),i=i+(i>>>16),i&63}static truncDivision(i,a){return Math.trunc(i/a)}static parseInt(i,a=void 0){return parseInt(i,a)}}U.MIN_VALUE_32_BITS=-2147483648,U.MAX_VALUE=Number.MAX_SAFE_INTEGER;class F{constructor(i,a){i===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=i,a==null?this.bits=F.makeArray(i):this.bits=a)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(i){if(i>this.bits.length*32){const a=F.makeArray(i);k.arraycopy(this.bits,0,a,0,this.bits.length),this.bits=a}}get(i){return(this.bits[Math.floor(i/32)]&1<<(i&31))!==0}set(i){this.bits[Math.floor(i/32)]|=1<<(i&31)}flip(i){this.bits[Math.floor(i/32)]^=1<<(i&31)}getNextSet(i){const a=this.size;if(i>=a)return a;const l=this.bits;let d=Math.floor(i/32),f=l[d];f&=~((1<<(i&31))-1);const g=l.length;for(;f===0;){if(++d===g)return a;f=l[d]}const v=d*32+U.numberOfTrailingZeros(f);return v>a?a:v}getNextUnset(i){const a=this.size;if(i>=a)return a;const l=this.bits;let d=Math.floor(i/32),f=~l[d];f&=~((1<<(i&31))-1);const g=l.length;for(;f===0;){if(++d===g)return a;f=~l[d]}const v=d*32+U.numberOfTrailingZeros(f);return v>a?a:v}setBulk(i,a){this.bits[Math.floor(i/32)]=a}setRange(i,a){if(a<i||i<0||a>this.size)throw new A;if(a===i)return;a--;const l=Math.floor(i/32),d=Math.floor(a/32),f=this.bits;for(let g=l;g<=d;g++){const v=g>l?0:i&31,T=(2<<(g<d?31:a&31))-(1<<v);f[g]|=T}}clear(){const i=this.bits.length,a=this.bits;for(let l=0;l<i;l++)a[l]=0}isRange(i,a,l){if(a<i||i<0||a>this.size)throw new A;if(a===i)return!0;a--;const d=Math.floor(i/32),f=Math.floor(a/32),g=this.bits;for(let v=d;v<=f;v++){const S=v>d?0:i&31,O=(2<<(v<f?31:a&31))-(1<<S)&4294967295;if((g[v]&O)!==(l?O:0))return!1}return!0}appendBit(i){this.ensureCapacity(this.size+1),i&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(i,a){if(a<0||a>32)throw new A("Num bits must be between 0 and 32");this.ensureCapacity(this.size+a);for(let l=a;l>0;l--)this.appendBit((i>>l-1&1)===1)}appendBitArray(i){const a=i.size;this.ensureCapacity(this.size+a);for(let l=0;l<a;l++)this.appendBit(i.get(l))}xor(i){if(this.size!==i.size)throw new A("Sizes don't match");const a=this.bits;for(let l=0,d=a.length;l<d;l++)a[l]^=i.bits[l]}toBytes(i,a,l,d){for(let f=0;f<d;f++){let g=0;for(let v=0;v<8;v++)this.get(i)&&(g|=1<<7-v),i++;a[l+f]=g}}getBitArray(){return this.bits}reverse(){const i=new Int32Array(this.bits.length),a=Math.floor((this.size-1)/32),l=a+1,d=this.bits;for(let f=0;f<l;f++){let g=d[f];g=g>>1&1431655765|(g&1431655765)<<1,g=g>>2&858993459|(g&858993459)<<2,g=g>>4&252645135|(g&252645135)<<4,g=g>>8&16711935|(g&16711935)<<8,g=g>>16&65535|(g&65535)<<16,i[a-f]=g}if(this.size!==l*32){const f=l*32-this.size;let g=i[0]>>>f;for(let v=1;v<l;v++){const S=i[v];g|=S<<32-f,i[v-1]=g,g=S>>>f}i[l-1]=g}this.bits=i}static makeArray(i){return new Int32Array(Math.floor((i+31)/32))}equals(i){if(!(i instanceof F))return!1;const a=i;return this.size===a.size&&j.equals(this.bits,a.bits)}hashCode(){return 31*this.size+j.hashCode(this.bits)}toString(){let i="";for(let a=0,l=this.size;a<l;a++)(a&7)===0&&(i+=" "),i+=this.get(a)?"X":".";return i}clone(){return new F(this.size,this.bits.slice())}}var I;(function(L){L[L.OTHER=0]="OTHER",L[L.PURE_BARCODE=1]="PURE_BARCODE",L[L.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",L[L.TRY_HARDER=3]="TRY_HARDER",L[L.CHARACTER_SET=4]="CHARACTER_SET",L[L.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",L[L.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",L[L.ASSUME_GS1=7]="ASSUME_GS1",L[L.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",L[L.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",L[L.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(I||(I={}));var X=I;class z extends b{static getFormatInstance(){return new z}}z.kind="FormatException";var G;(function(L){L[L.Cp437=0]="Cp437",L[L.ISO8859_1=1]="ISO8859_1",L[L.ISO8859_2=2]="ISO8859_2",L[L.ISO8859_3=3]="ISO8859_3",L[L.ISO8859_4=4]="ISO8859_4",L[L.ISO8859_5=5]="ISO8859_5",L[L.ISO8859_6=6]="ISO8859_6",L[L.ISO8859_7=7]="ISO8859_7",L[L.ISO8859_8=8]="ISO8859_8",L[L.ISO8859_9=9]="ISO8859_9",L[L.ISO8859_10=10]="ISO8859_10",L[L.ISO8859_11=11]="ISO8859_11",L[L.ISO8859_13=12]="ISO8859_13",L[L.ISO8859_14=13]="ISO8859_14",L[L.ISO8859_15=14]="ISO8859_15",L[L.ISO8859_16=15]="ISO8859_16",L[L.SJIS=16]="SJIS",L[L.Cp1250=17]="Cp1250",L[L.Cp1251=18]="Cp1251",L[L.Cp1252=19]="Cp1252",L[L.Cp1256=20]="Cp1256",L[L.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",L[L.UTF8=22]="UTF8",L[L.ASCII=23]="ASCII",L[L.Big5=24]="Big5",L[L.GB18030=25]="GB18030",L[L.EUC_KR=26]="EUC_KR"})(G||(G={}));class Q{constructor(i,a,l,...d){this.valueIdentifier=i,this.name=l,typeof a=="number"?this.values=Int32Array.from([a]):this.values=a,this.otherEncodingNames=d,Q.VALUE_IDENTIFIER_TO_ECI.set(i,this),Q.NAME_TO_ECI.set(l,this);const f=this.values;for(let g=0,v=f.length;g!==v;g++){const S=f[g];Q.VALUES_TO_ECI.set(S,this)}for(const g of d)Q.NAME_TO_ECI.set(g,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(i){if(i<0||i>=900)throw new z("incorect value");const a=Q.VALUES_TO_ECI.get(i);if(a===void 0)throw new z("incorect value");return a}static getCharacterSetECIByName(i){const a=Q.NAME_TO_ECI.get(i);if(a===void 0)throw new z("incorect value");return a}equals(i){if(!(i instanceof Q))return!1;const a=i;return this.getName()===a.getName()}}Q.VALUE_IDENTIFIER_TO_ECI=new Map,Q.VALUES_TO_ECI=new Map,Q.NAME_TO_ECI=new Map,Q.Cp437=new Q(G.Cp437,Int32Array.from([0,2]),"Cp437"),Q.ISO8859_1=new Q(G.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),Q.ISO8859_2=new Q(G.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),Q.ISO8859_3=new Q(G.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),Q.ISO8859_4=new Q(G.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),Q.ISO8859_5=new Q(G.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),Q.ISO8859_6=new Q(G.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),Q.ISO8859_7=new Q(G.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),Q.ISO8859_8=new Q(G.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),Q.ISO8859_9=new Q(G.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),Q.ISO8859_10=new Q(G.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),Q.ISO8859_11=new Q(G.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),Q.ISO8859_13=new Q(G.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),Q.ISO8859_14=new Q(G.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),Q.ISO8859_15=new Q(G.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),Q.ISO8859_16=new Q(G.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),Q.SJIS=new Q(G.SJIS,20,"SJIS","Shift_JIS"),Q.Cp1250=new Q(G.Cp1250,21,"Cp1250","windows-1250"),Q.Cp1251=new Q(G.Cp1251,22,"Cp1251","windows-1251"),Q.Cp1252=new Q(G.Cp1252,23,"Cp1252","windows-1252"),Q.Cp1256=new Q(G.Cp1256,24,"Cp1256","windows-1256"),Q.UnicodeBigUnmarked=new Q(G.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),Q.UTF8=new Q(G.UTF8,26,"UTF8","UTF-8"),Q.ASCII=new Q(G.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),Q.Big5=new Q(G.Big5,28,"Big5"),Q.GB18030=new Q(G.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),Q.EUC_KR=new Q(G.EUC_KR,30,"EUC_KR","EUC-KR");class Ee extends b{}Ee.kind="UnsupportedOperationException";class ae{static decode(i,a){const l=this.encodingName(a);return this.customDecoder?this.customDecoder(i,l):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(l)?this.decodeFallback(i,l):new TextDecoder(l).decode(i)}static shouldDecodeOnFallback(i){return!ae.isBrowser()&&i==="ISO-8859-1"}static encode(i,a){const l=this.encodingName(a);return this.customEncoder?this.customEncoder(i,l):typeof TextEncoder>"u"?this.encodeFallback(i):new TextEncoder().encode(i)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(i){return typeof i=="string"?i:i.getName()}static encodingCharacterSet(i){return i instanceof Q?i:Q.getCharacterSetECIByName(i)}static decodeFallback(i,a){const l=this.encodingCharacterSet(a);if(ae.isDecodeFallbackSupported(l)){let d="";for(let f=0,g=i.length;f<g;f++){let v=i[f].toString(16);v.length<2&&(v="0"+v),d+="%"+v}return decodeURIComponent(d)}if(l.equals(Q.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(i.buffer));throw new Ee(`Encoding ${this.encodingName(a)} not supported by fallback.`)}static isDecodeFallbackSupported(i){return i.equals(Q.UTF8)||i.equals(Q.ISO8859_1)||i.equals(Q.ASCII)}static encodeFallback(i){const l=btoa(unescape(encodeURIComponent(i))).split(""),d=[];for(let f=0;f<l.length;f++)d.push(l[f].charCodeAt(0));return new Uint8Array(d)}}class ve{static castAsNonUtf8Char(i,a=null){const l=a?a.getName():this.ISO88591;return ae.decode(new Uint8Array([i]),l)}static guessEncoding(i,a){if(a!=null&&a.get(X.CHARACTER_SET)!==void 0)return a.get(X.CHARACTER_SET).toString();const l=i.length;let d=!0,f=!0,g=!0,v=0,S=0,T=0,O=0,B=0,V=0,Z=0,J=0,ee=0,se=0,he=0;const Re=i.length>3&&i[0]===239&&i[1]===187&&i[2]===191;for(let Te=0;Te<l&&(d||f||g);Te++){const Ne=i[Te]&255;g&&(v>0?(Ne&128)===0?g=!1:v--:(Ne&128)!==0&&((Ne&64)===0?g=!1:(v++,(Ne&32)===0?S++:(v++,(Ne&16)===0?T++:(v++,(Ne&8)===0?O++:g=!1))))),d&&(Ne>127&&Ne<160?d=!1:Ne>159&&(Ne<192||Ne===215||Ne===247)&&he++),f&&(B>0?Ne<64||Ne===127||Ne>252?f=!1:B--:Ne===128||Ne===160||Ne>239?f=!1:Ne>160&&Ne<224?(V++,J=0,Z++,Z>ee&&(ee=Z)):Ne>127?(B++,Z=0,J++,J>se&&(se=J)):(Z=0,J=0))}return g&&v>0&&(g=!1),f&&B>0&&(f=!1),g&&(Re||S+T+O>0)?ve.UTF8:f&&(ve.ASSUME_SHIFT_JIS||ee>=3||se>=3)?ve.SHIFT_JIS:d&&f?ee===2&&V===2||he*10>=l?ve.SHIFT_JIS:ve.ISO88591:d?ve.ISO88591:f?ve.SHIFT_JIS:g?ve.UTF8:ve.PLATFORM_DEFAULT_ENCODING}static format(i,...a){let l=-1;function d(g,v,S,T,O,B){if(g==="%%")return"%";if(a[++l]===void 0)return;g=T?parseInt(T.substr(1)):void 0;let V=O?parseInt(O.substr(1)):void 0,Z;switch(B){case"s":Z=a[l];break;case"c":Z=a[l][0];break;case"f":Z=parseFloat(a[l]).toFixed(g);break;case"p":Z=parseFloat(a[l]).toPrecision(g);break;case"e":Z=parseFloat(a[l]).toExponential(g);break;case"x":Z=parseInt(a[l]).toString(V||16);break;case"d":Z=parseFloat(parseInt(a[l],V||10).toPrecision(g)).toFixed(0);break}Z=typeof Z=="object"?JSON.stringify(Z):(+Z).toString(V);let J=parseInt(S),ee=S&&S[0]+""=="0"?"0":" ";for(;Z.length<J;)Z=v!==void 0?Z+ee:ee+Z;return Z}let f=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return i.replace(f,d)}static getBytes(i,a){return ae.encode(i,a)}static getCharCode(i,a=0){return i.charCodeAt(a)}static getCharAt(i){return String.fromCharCode(i)}}ve.SHIFT_JIS=Q.SJIS.getName(),ve.GB2312="GB2312",ve.ISO88591=Q.ISO8859_1.getName(),ve.EUC_JP="EUC_JP",ve.UTF8=Q.UTF8.getName(),ve.PLATFORM_DEFAULT_ENCODING=ve.UTF8,ve.ASSUME_SHIFT_JIS=!1;class me{constructor(i=""){this.value=i}enableDecoding(i){return this.encoding=i,this}append(i){return typeof i=="string"?this.value+=i.toString():this.encoding?this.value+=ve.castAsNonUtf8Char(i,this.encoding):this.value+=String.fromCharCode(i),this}appendChars(i,a,l){for(let d=a;a<a+l;d++)this.append(i[d]);return this}length(){return this.value.length}charAt(i){return this.value.charAt(i)}deleteCharAt(i){this.value=this.value.substr(0,i)+this.value.substring(i+1)}setCharAt(i,a){this.value=this.value.substr(0,i)+a+this.value.substr(i+1)}substring(i,a){return this.value.substring(i,a)}setLengthToZero(){this.value=""}toString(){return this.value}insert(i,a){this.value=this.value.substr(0,i)+a+this.value.substr(i+a.length)}}class je{constructor(i,a,l,d){if(this.width=i,this.height=a,this.rowSize=l,this.bits=d,a==null&&(a=i),this.height=a,i<1||a<1)throw new A("Both dimensions must be greater than 0");l==null&&(l=Math.floor((i+31)/32)),this.rowSize=l,d==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(i){const a=i.length,l=i[0].length,d=new je(l,a);for(let f=0;f<a;f++){const g=i[f];for(let v=0;v<l;v++)g[v]&&d.set(v,f)}return d}static parseFromString(i,a,l){if(i===null)throw new A("stringRepresentation cannot be null");const d=new Array(i.length);let f=0,g=0,v=-1,S=0,T=0;for(;T<i.length;)if(i.charAt(T)===`
`||i.charAt(T)==="\r"){if(f>g){if(v===-1)v=f-g;else if(f-g!==v)throw new A("row lengths do not match");g=f,S++}T++}else if(i.substring(T,T+a.length)===a)T+=a.length,d[f]=!0,f++;else if(i.substring(T,T+l.length)===l)T+=l.length,d[f]=!1,f++;else throw new A("illegal character encountered: "+i.substring(T));if(f>g){if(v===-1)v=f-g;else if(f-g!==v)throw new A("row lengths do not match");S++}const O=new je(v,S);for(let B=0;B<f;B++)d[B]&&O.set(Math.floor(B%v),Math.floor(B/v));return O}get(i,a){const l=a*this.rowSize+Math.floor(i/32);return(this.bits[l]>>>(i&31)&1)!==0}set(i,a){const l=a*this.rowSize+Math.floor(i/32);this.bits[l]|=1<<(i&31)&4294967295}unset(i,a){const l=a*this.rowSize+Math.floor(i/32);this.bits[l]&=~(1<<(i&31)&4294967295)}flip(i,a){const l=a*this.rowSize+Math.floor(i/32);this.bits[l]^=1<<(i&31)&4294967295}xor(i){if(this.width!==i.getWidth()||this.height!==i.getHeight()||this.rowSize!==i.getRowSize())throw new A("input matrix dimensions do not match");const a=new F(Math.floor(this.width/32)+1),l=this.rowSize,d=this.bits;for(let f=0,g=this.height;f<g;f++){const v=f*l,S=i.getRow(f,a).getBitArray();for(let T=0;T<l;T++)d[v+T]^=S[T]}}clear(){const i=this.bits,a=i.length;for(let l=0;l<a;l++)i[l]=0}setRegion(i,a,l,d){if(a<0||i<0)throw new A("Left and top must be nonnegative");if(d<1||l<1)throw new A("Height and width must be at least 1");const f=i+l,g=a+d;if(g>this.height||f>this.width)throw new A("The region must fit inside the matrix");const v=this.rowSize,S=this.bits;for(let T=a;T<g;T++){const O=T*v;for(let B=i;B<f;B++)S[O+Math.floor(B/32)]|=1<<(B&31)&4294967295}}getRow(i,a){a==null||a.getSize()<this.width?a=new F(this.width):a.clear();const l=this.rowSize,d=this.bits,f=i*l;for(let g=0;g<l;g++)a.setBulk(g*32,d[f+g]);return a}setRow(i,a){k.arraycopy(a.getBitArray(),0,this.bits,i*this.rowSize,this.rowSize)}rotate180(){const i=this.getWidth(),a=this.getHeight();let l=new F(i),d=new F(i);for(let f=0,g=Math.floor((a+1)/2);f<g;f++)l=this.getRow(f,l),d=this.getRow(a-1-f,d),l.reverse(),d.reverse(),this.setRow(f,d),this.setRow(a-1-f,l)}getEnclosingRectangle(){const i=this.width,a=this.height,l=this.rowSize,d=this.bits;let f=i,g=a,v=-1,S=-1;for(let T=0;T<a;T++)for(let O=0;O<l;O++){const B=d[T*l+O];if(B!==0){if(T<g&&(g=T),T>S&&(S=T),O*32<f){let V=0;for(;(B<<31-V&4294967295)===0;)V++;O*32+V<f&&(f=O*32+V)}if(O*32+31>v){let V=31;for(;!(B>>>V);)V--;O*32+V>v&&(v=O*32+V)}}}return v<f||S<g?null:Int32Array.from([f,g,v-f+1,S-g+1])}getTopLeftOnBit(){const i=this.rowSize,a=this.bits;let l=0;for(;l<a.length&&a[l]===0;)l++;if(l===a.length)return null;const d=l/i;let f=l%i*32;const g=a[l];let v=0;for(;(g<<31-v&4294967295)===0;)v++;return f+=v,Int32Array.from([f,d])}getBottomRightOnBit(){const i=this.rowSize,a=this.bits;let l=a.length-1;for(;l>=0&&a[l]===0;)l--;if(l<0)return null;const d=Math.floor(l/i);let f=Math.floor(l%i)*32;const g=a[l];let v=31;for(;!(g>>>v);)v--;return f+=v,Int32Array.from([f,d])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(i){if(!(i instanceof je))return!1;const a=i;return this.width===a.width&&this.height===a.height&&this.rowSize===a.rowSize&&j.equals(this.bits,a.bits)}hashCode(){let i=this.width;return i=31*i+this.width,i=31*i+this.height,i=31*i+this.rowSize,i=31*i+j.hashCode(this.bits),i}toString(i="X ",a="  ",l=`
`){return this.buildToString(i,a,l)}buildToString(i,a,l){let d=new me;for(let f=0,g=this.height;f<g;f++){for(let v=0,S=this.width;v<S;v++)d.append(this.get(v,f)?i:a);d.append(l)}return d.toString()}clone(){return new je(this.width,this.height,this.rowSize,this.bits.slice())}}class ne extends b{static getNotFoundInstance(){return new ne}}ne.kind="NotFoundException";class re extends _{constructor(i){super(i),this.luminances=re.EMPTY,this.buckets=new Int32Array(re.LUMINANCE_BUCKETS)}getBlackRow(i,a){const l=this.getLuminanceSource(),d=l.getWidth();a==null||a.getSize()<d?a=new F(d):a.clear(),this.initArrays(d);const f=l.getRow(i,this.luminances),g=this.buckets;for(let S=0;S<d;S++)g[(f[S]&255)>>re.LUMINANCE_SHIFT]++;const v=re.estimateBlackPoint(g);if(d<3)for(let S=0;S<d;S++)(f[S]&255)<v&&a.set(S);else{let S=f[0]&255,T=f[1]&255;for(let O=1;O<d-1;O++){const B=f[O+1]&255;(T*4-S-B)/2<v&&a.set(O),S=T,T=B}}return a}getBlackMatrix(){const i=this.getLuminanceSource(),a=i.getWidth(),l=i.getHeight(),d=new je(a,l);this.initArrays(a);const f=this.buckets;for(let S=1;S<5;S++){const T=Math.floor(l*S/5),O=i.getRow(T,this.luminances),B=Math.floor(a*4/5);for(let V=Math.floor(a/5);V<B;V++){const Z=O[V]&255;f[Z>>re.LUMINANCE_SHIFT]++}}const g=re.estimateBlackPoint(f),v=i.getMatrix();for(let S=0;S<l;S++){const T=S*a;for(let O=0;O<a;O++)(v[T+O]&255)<g&&d.set(O,S)}return d}createBinarizer(i){return new re(i)}initArrays(i){this.luminances.length<i&&(this.luminances=new Uint8ClampedArray(i));const a=this.buckets;for(let l=0;l<re.LUMINANCE_BUCKETS;l++)a[l]=0}static estimateBlackPoint(i){const a=i.length;let l=0,d=0,f=0;for(let O=0;O<a;O++)i[O]>f&&(d=O,f=i[O]),i[O]>l&&(l=i[O]);let g=0,v=0;for(let O=0;O<a;O++){const B=O-d,V=i[O]*B*B;V>v&&(g=O,v=V)}if(d>g){const O=d;d=g,g=O}if(g-d<=a/16)throw new ne;let S=g-1,T=-1;for(let O=g-1;O>d;O--){const B=O-d,V=B*B*(g-O)*(l-i[O]);V>T&&(S=O,T=V)}return S<<re.LUMINANCE_SHIFT}}re.LUMINANCE_BITS=5,re.LUMINANCE_SHIFT=8-re.LUMINANCE_BITS,re.LUMINANCE_BUCKETS=1<<re.LUMINANCE_BITS,re.EMPTY=Uint8ClampedArray.from([0]);class ue extends re{constructor(i){super(i),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const i=this.getLuminanceSource(),a=i.getWidth(),l=i.getHeight();if(a>=ue.MINIMUM_DIMENSION&&l>=ue.MINIMUM_DIMENSION){const d=i.getMatrix();let f=a>>ue.BLOCK_SIZE_POWER;(a&ue.BLOCK_SIZE_MASK)!==0&&f++;let g=l>>ue.BLOCK_SIZE_POWER;(l&ue.BLOCK_SIZE_MASK)!==0&&g++;const v=ue.calculateBlackPoints(d,f,g,a,l),S=new je(a,l);ue.calculateThresholdForBlock(d,f,g,a,l,v,S),this.matrix=S}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(i){return new ue(i)}static calculateThresholdForBlock(i,a,l,d,f,g,v){const S=f-ue.BLOCK_SIZE,T=d-ue.BLOCK_SIZE;for(let O=0;O<l;O++){let B=O<<ue.BLOCK_SIZE_POWER;B>S&&(B=S);const V=ue.cap(O,2,l-3);for(let Z=0;Z<a;Z++){let J=Z<<ue.BLOCK_SIZE_POWER;J>T&&(J=T);const ee=ue.cap(Z,2,a-3);let se=0;for(let Re=-2;Re<=2;Re++){const Te=g[V+Re];se+=Te[ee-2]+Te[ee-1]+Te[ee]+Te[ee+1]+Te[ee+2]}const he=se/25;ue.thresholdBlock(i,J,B,he,d,v)}}}static cap(i,a,l){return i<a?a:i>l?l:i}static thresholdBlock(i,a,l,d,f,g){for(let v=0,S=l*f+a;v<ue.BLOCK_SIZE;v++,S+=f)for(let T=0;T<ue.BLOCK_SIZE;T++)(i[S+T]&255)<=d&&g.set(a+T,l+v)}static calculateBlackPoints(i,a,l,d,f){const g=f-ue.BLOCK_SIZE,v=d-ue.BLOCK_SIZE,S=new Array(l);for(let T=0;T<l;T++){S[T]=new Int32Array(a);let O=T<<ue.BLOCK_SIZE_POWER;O>g&&(O=g);for(let B=0;B<a;B++){let V=B<<ue.BLOCK_SIZE_POWER;V>v&&(V=v);let Z=0,J=255,ee=0;for(let he=0,Re=O*d+V;he<ue.BLOCK_SIZE;he++,Re+=d){for(let Te=0;Te<ue.BLOCK_SIZE;Te++){const Ne=i[Re+Te]&255;Z+=Ne,Ne<J&&(J=Ne),Ne>ee&&(ee=Ne)}if(ee-J>ue.MIN_DYNAMIC_RANGE)for(he++,Re+=d;he<ue.BLOCK_SIZE;he++,Re+=d)for(let Te=0;Te<ue.BLOCK_SIZE;Te++)Z+=i[Re+Te]&255}let se=Z>>ue.BLOCK_SIZE_POWER*2;if(ee-J<=ue.MIN_DYNAMIC_RANGE&&(se=J/2,T>0&&B>0)){const he=(S[T-1][B]+2*S[T][B-1]+S[T-1][B-1])/4;J<he&&(se=he)}S[T][B]=se}}return S}}ue.BLOCK_SIZE_POWER=3,ue.BLOCK_SIZE=1<<ue.BLOCK_SIZE_POWER,ue.BLOCK_SIZE_MASK=ue.BLOCK_SIZE-1,ue.MINIMUM_DIMENSION=ue.BLOCK_SIZE*5,ue.MIN_DYNAMIC_RANGE=24;class we{constructor(i,a){this.width=i,this.height=a}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(i,a,l,d){throw new Ee("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new Ee("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new Ee("This luminance source does not support rotation by 45 degrees.")}toString(){const i=new Uint8ClampedArray(this.width);let a=new me;for(let l=0;l<this.height;l++){const d=this.getRow(l,i);for(let f=0;f<this.width;f++){const g=d[f]&255;let v;g<64?v="#":g<128?v="+":g<192?v=".":v=" ",a.append(v)}a.append(`
`)}return a.toString()}}class Be extends we{constructor(i){super(i.getWidth(),i.getHeight()),this.delegate=i}getRow(i,a){const l=this.delegate.getRow(i,a),d=this.getWidth();for(let f=0;f<d;f++)l[f]=255-(l[f]&255);return l}getMatrix(){const i=this.delegate.getMatrix(),a=this.getWidth()*this.getHeight(),l=new Uint8ClampedArray(a);for(let d=0;d<a;d++)l[d]=255-(i[d]&255);return l}isCropSupported(){return this.delegate.isCropSupported()}crop(i,a,l,d){return new Be(this.delegate.crop(i,a,l,d))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new Be(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new Be(this.delegate.rotateCounterClockwise45())}}class ye extends we{constructor(i){super(i.width,i.height),this.canvas=i,this.tempCanvasElement=null,this.buffer=ye.makeBufferFromCanvasImageData(i)}static makeBufferFromCanvasImageData(i){const a=i.getContext("2d").getImageData(0,0,i.width,i.height);return ye.toGrayscaleBuffer(a.data,i.width,i.height)}static toGrayscaleBuffer(i,a,l){const d=new Uint8ClampedArray(a*l);for(let f=0,g=0,v=i.length;f<v;f+=4,g++){let S;if(i[f+3]===0)S=255;else{const O=i[f],B=i[f+1],V=i[f+2];S=306*O+601*B+117*V+512>>10}d[g]=S}return d}getRow(i,a){if(i<0||i>=this.getHeight())throw new A("Requested row is outside the image: "+i);const l=this.getWidth(),d=i*l;return a===null?a=this.buffer.slice(d,d+l):(a.length<l&&(a=new Uint8ClampedArray(l)),a.set(this.buffer.slice(d,d+l))),a}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(i,a,l,d){return super.crop(i,a,l,d),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const i=this.canvas.ownerDocument.createElement("canvas");i.width=this.canvas.width,i.height=this.canvas.height,this.tempCanvasElement=i}return this.tempCanvasElement}rotate(i){const a=this.getTempCanvasElement(),l=a.getContext("2d"),d=i*ye.DEGREE_TO_RADIANS,f=this.canvas.width,g=this.canvas.height,v=Math.ceil(Math.abs(Math.cos(d))*f+Math.abs(Math.sin(d))*g),S=Math.ceil(Math.abs(Math.sin(d))*f+Math.abs(Math.cos(d))*g);return a.width=v,a.height=S,l.translate(v/2,S/2),l.rotate(d),l.drawImage(this.canvas,f/-2,g/-2),this.buffer=ye.makeBufferFromCanvasImageData(a),this}invert(){return new Be(this)}}ye.DEGREE_TO_RADIANS=Math.PI/180;class ${constructor(i,a,l){this.deviceId=i,this.label=a,this.kind="videoinput",this.groupId=l||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var ge=(globalThis||globalThis||self||window||void 0)&&(globalThis||globalThis||self||window||void 0).__awaiter||function(L,i,a,l){function d(f){return f instanceof a?f:new a(function(g){g(f)})}return new(a||(a=Promise))(function(f,g){function v(O){try{T(l.next(O))}catch(B){g(B)}}function S(O){try{T(l.throw(O))}catch(B){g(B)}}function T(O){O.done?f(O.value):d(O.value).then(v,S)}T((l=l.apply(L,i||[])).next())})};class Me{constructor(i,a=500,l){this.reader=i,this.timeBetweenScansMillis=a,this._hints=l,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(i){this._timeBetweenDecodingAttempts=i<0?0:i}set hints(i){this._hints=i||null}get hints(){return this._hints}listVideoInputDevices(){return ge(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const i=yield navigator.mediaDevices.enumerateDevices(),a=[];for(const l of i){const d=l.kind==="video"?"videoinput":l.kind;if(d!=="videoinput")continue;const f=l.deviceId||l.id,g=l.label||`Video device ${a.length+1}`,v=l.groupId,S={deviceId:f,label:g,kind:d,groupId:v};a.push(S)}return a})}getVideoInputDevices(){return ge(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(a=>new $(a.deviceId,a.label))})}findDeviceById(i){return ge(this,void 0,void 0,function*(){const a=yield this.listVideoInputDevices();return a?a.find(l=>l.deviceId===i):null})}decodeFromInputVideoDevice(i,a){return ge(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(i,a)})}decodeOnceFromVideoDevice(i,a){return ge(this,void 0,void 0,function*(){this.reset();let l;i?l={deviceId:{exact:i}}:l={facingMode:"environment"};const d={video:l};return yield this.decodeOnceFromConstraints(d,a)})}decodeOnceFromConstraints(i,a){return ge(this,void 0,void 0,function*(){const l=yield navigator.mediaDevices.getUserMedia(i);return yield this.decodeOnceFromStream(l,a)})}decodeOnceFromStream(i,a){return ge(this,void 0,void 0,function*(){this.reset();const l=yield this.attachStreamToVideo(i,a);return yield this.decodeOnce(l)})}decodeFromInputVideoDeviceContinuously(i,a,l){return ge(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(i,a,l)})}decodeFromVideoDevice(i,a,l){return ge(this,void 0,void 0,function*(){let d;i?d={deviceId:{exact:i}}:d={facingMode:"environment"};const f={video:d};return yield this.decodeFromConstraints(f,a,l)})}decodeFromConstraints(i,a,l){return ge(this,void 0,void 0,function*(){const d=yield navigator.mediaDevices.getUserMedia(i);return yield this.decodeFromStream(d,a,l)})}decodeFromStream(i,a,l){return ge(this,void 0,void 0,function*(){this.reset();const d=yield this.attachStreamToVideo(i,a);return yield this.decodeContinuously(d,l)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(i,a){return ge(this,void 0,void 0,function*(){const l=this.prepareVideoElement(a);return this.addVideoSource(l,i),this.videoElement=l,this.stream=i,yield this.playVideoOnLoadAsync(l),l})}playVideoOnLoadAsync(i){return new Promise((a,l)=>this.playVideoOnLoad(i,()=>a()))}playVideoOnLoad(i,a){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(i),i.addEventListener("ended",this.videoEndedListener),i.addEventListener("canplay",this.videoCanPlayListener),i.addEventListener("playing",a),this.tryPlayVideo(i)}isVideoPlaying(i){return i.currentTime>0&&!i.paused&&!i.ended&&i.readyState>2}tryPlayVideo(i){return ge(this,void 0,void 0,function*(){if(this.isVideoPlaying(i)){console.warn("Trying to play video that is already playing.");return}try{yield i.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(i,a){const l=document.getElementById(i);if(!l)throw new E(`element with id '${i}' not found`);if(l.nodeName.toLowerCase()!==a.toLowerCase())throw new E(`element with id '${i}' must be an ${a} element`);return l}decodeFromImage(i,a){if(!i&&!a)throw new E("either imageElement with a src set or an url must be provided");return a&&!i?this.decodeFromImageUrl(a):this.decodeFromImageElement(i)}decodeFromVideo(i,a){if(!i&&!a)throw new E("Either an element with a src set or an URL must be provided");return a&&!i?this.decodeFromVideoUrl(a):this.decodeFromVideoElement(i)}decodeFromVideoContinuously(i,a,l){if(i===void 0&&a===void 0)throw new E("Either an element with a src set or an URL must be provided");return a&&!i?this.decodeFromVideoUrlContinuously(a,l):this.decodeFromVideoElementContinuously(i,l)}decodeFromImageElement(i){if(!i)throw new E("An image element must be provided.");this.reset();const a=this.prepareImageElement(i);this.imageElement=a;let l;return this.isImageLoaded(a)?l=this.decodeOnce(a,!1,!0):l=this._decodeOnLoadImage(a),l}decodeFromVideoElement(i){const a=this._decodeFromVideoElementSetup(i);return this._decodeOnLoadVideo(a)}decodeFromVideoElementContinuously(i,a){const l=this._decodeFromVideoElementSetup(i);return this._decodeOnLoadVideoContinuously(l,a)}_decodeFromVideoElementSetup(i){if(!i)throw new E("A video element must be provided.");this.reset();const a=this.prepareVideoElement(i);return this.videoElement=a,a}decodeFromImageUrl(i){if(!i)throw new E("An URL must be provided.");this.reset();const a=this.prepareImageElement();this.imageElement=a;const l=this._decodeOnLoadImage(a);return a.src=i,l}decodeFromVideoUrl(i){if(!i)throw new E("An URL must be provided.");this.reset();const a=this.prepareVideoElement(),l=this.decodeFromVideoElement(a);return a.src=i,l}decodeFromVideoUrlContinuously(i,a){if(!i)throw new E("An URL must be provided.");this.reset();const l=this.prepareVideoElement(),d=this.decodeFromVideoElementContinuously(l,a);return l.src=i,d}_decodeOnLoadImage(i){return new Promise((a,l)=>{this.imageLoadedListener=()=>this.decodeOnce(i,!1,!0).then(a,l),i.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(i){return ge(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(i),yield this.decodeOnce(i)})}_decodeOnLoadVideoContinuously(i,a){return ge(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(i),this.decodeContinuously(i,a)})}isImageLoaded(i){return!(!i.complete||i.naturalWidth===0)}prepareImageElement(i){let a;return typeof i>"u"&&(a=document.createElement("img"),a.width=200,a.height=200),typeof i=="string"&&(a=this.getMediaElement(i,"img")),i instanceof HTMLImageElement&&(a=i),a}prepareVideoElement(i){let a;return!i&&typeof document<"u"&&(a=document.createElement("video"),a.width=200,a.height=200),typeof i=="string"&&(a=this.getMediaElement(i,"video")),i instanceof HTMLVideoElement&&(a=i),a.setAttribute("autoplay","true"),a.setAttribute("muted","true"),a.setAttribute("playsinline","true"),a}decodeOnce(i,a=!0,l=!0){this._stopAsyncDecode=!1;const d=(f,g)=>{if(this._stopAsyncDecode){g(new ne("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const v=this.decode(i);f(v)}catch(v){const S=a&&v instanceof ne,O=(v instanceof D||v instanceof z)&&l;if(S||O)return setTimeout(d,this._timeBetweenDecodingAttempts,f,g);g(v)}};return new Promise((f,g)=>d(f,g))}decodeContinuously(i,a){this._stopContinuousDecode=!1;const l=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const d=this.decode(i);a(d,null),setTimeout(l,this.timeBetweenScansMillis)}catch(d){a(null,d);const f=d instanceof D||d instanceof z,g=d instanceof ne;(f||g)&&setTimeout(l,this._timeBetweenDecodingAttempts)}};l()}decode(i){const a=this.createBinaryBitmap(i);return this.decodeBitmap(a)}_isHTMLVideoElement(i){return i.videoWidth!==0}drawFrameOnCanvas(i,a,l){a||(a={sx:0,sy:0,sWidth:i.videoWidth,sHeight:i.videoHeight,dx:0,dy:0,dWidth:i.videoWidth,dHeight:i.videoHeight}),l||(l=this.captureCanvasContext),l.drawImage(i,a.sx,a.sy,a.sWidth,a.sHeight,a.dx,a.dy,a.dWidth,a.dHeight)}drawImageOnCanvas(i,a,l=this.captureCanvasContext){a||(a={sx:0,sy:0,sWidth:i.naturalWidth,sHeight:i.naturalHeight,dx:0,dy:0,dWidth:i.naturalWidth,dHeight:i.naturalHeight}),l||(l=this.captureCanvasContext),l.drawImage(i,a.sx,a.sy,a.sWidth,a.sHeight,a.dx,a.dy,a.dWidth,a.dHeight)}createBinaryBitmap(i){this.getCaptureCanvasContext(i),this._isHTMLVideoElement(i)?this.drawFrameOnCanvas(i):this.drawImageOnCanvas(i);const a=this.getCaptureCanvas(i),l=new ye(a),d=new ue(l);return new R(d)}getCaptureCanvasContext(i){if(!this.captureCanvasContext){const l=this.getCaptureCanvas(i).getContext("2d");this.captureCanvasContext=l}return this.captureCanvasContext}getCaptureCanvas(i){if(!this.captureCanvas){const a=this.createCaptureCanvas(i);this.captureCanvas=a}return this.captureCanvas}decodeBitmap(i){return this.reader.decode(i,this._hints)}createCaptureCanvas(i){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const a=document.createElement("canvas");let l,d;return typeof i<"u"&&(i instanceof HTMLVideoElement?(l=i.videoWidth,d=i.videoHeight):i instanceof HTMLImageElement&&(l=i.naturalWidth||i.width,d=i.naturalHeight||i.height)),a.style.width=l+"px",a.style.height=d+"px",a.width=l,a.height=d,a}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(i=>i.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(i,a){try{i.srcObject=a}catch{i.src=URL.createObjectURL(a)}}cleanVideoSource(i){try{i.srcObject=null}catch{i.src=""}this.videoElement.removeAttribute("src")}}class _e{constructor(i,a,l=a==null?0:8*a.length,d,f,g=k.currentTimeMillis()){this.text=i,this.rawBytes=a,this.numBits=l,this.resultPoints=d,this.format=f,this.timestamp=g,this.text=i,this.rawBytes=a,l==null?this.numBits=a==null?0:8*a.length:this.numBits=l,this.resultPoints=d,this.format=f,this.resultMetadata=null,g==null?this.timestamp=k.currentTimeMillis():this.timestamp=g}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(i,a){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(i,a)}putAllMetadata(i){i!==null&&(this.resultMetadata===null?this.resultMetadata=i:this.resultMetadata=new Map(i))}addResultPoints(i){const a=this.resultPoints;if(a===null)this.resultPoints=i;else if(i!==null&&i.length>0){const l=new Array(a.length+i.length);k.arraycopy(a,0,l,0,a.length),k.arraycopy(i,0,l,a.length,i.length),this.resultPoints=l}}getTimestamp(){return this.timestamp}toString(){return this.text}}var Ze;(function(L){L[L.AZTEC=0]="AZTEC",L[L.CODABAR=1]="CODABAR",L[L.CODE_39=2]="CODE_39",L[L.CODE_93=3]="CODE_93",L[L.CODE_128=4]="CODE_128",L[L.DATA_MATRIX=5]="DATA_MATRIX",L[L.EAN_8=6]="EAN_8",L[L.EAN_13=7]="EAN_13",L[L.ITF=8]="ITF",L[L.MAXICODE=9]="MAXICODE",L[L.PDF_417=10]="PDF_417",L[L.QR_CODE=11]="QR_CODE",L[L.RSS_14=12]="RSS_14",L[L.RSS_EXPANDED=13]="RSS_EXPANDED",L[L.UPC_A=14]="UPC_A",L[L.UPC_E=15]="UPC_E",L[L.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Ze||(Ze={}));var Ie=Ze,yt;(function(L){L[L.OTHER=0]="OTHER",L[L.ORIENTATION=1]="ORIENTATION",L[L.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",L[L.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",L[L.ISSUE_NUMBER=4]="ISSUE_NUMBER",L[L.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",L[L.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",L[L.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",L[L.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",L[L.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",L[L.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(yt||(yt={}));var bt=yt;class Ht{constructor(i,a,l,d,f=-1,g=-1){this.rawBytes=i,this.text=a,this.byteSegments=l,this.ecLevel=d,this.structuredAppendSequenceNumber=f,this.structuredAppendParity=g,this.numBits=i==null?0:8*i.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(i){this.numBits=i}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(i){this.errorsCorrected=i}getErasures(){return this.erasures}setErasures(i){this.erasures=i}getOther(){return this.other}setOther(i){this.other=i}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class br{exp(i){return this.expTable[i]}log(i){if(i===0)throw new A;return this.logTable[i]}static addOrSubtract(i,a){return i^a}}class _n{constructor(i,a){if(a.length===0)throw new A;this.field=i;const l=a.length;if(l>1&&a[0]===0){let d=1;for(;d<l&&a[d]===0;)d++;d===l?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(l-d),k.arraycopy(a,d,this.coefficients,0,this.coefficients.length))}else this.coefficients=a}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(i){return this.coefficients[this.coefficients.length-1-i]}evaluateAt(i){if(i===0)return this.getCoefficient(0);const a=this.coefficients;let l;if(i===1){l=0;for(let g=0,v=a.length;g!==v;g++){const S=a[g];l=br.addOrSubtract(l,S)}return l}l=a[0];const d=a.length,f=this.field;for(let g=1;g<d;g++)l=br.addOrSubtract(f.multiply(i,l),a[g]);return l}addOrSubtract(i){if(!this.field.equals(i.field))throw new A("GenericGFPolys do not have same GenericGF field");if(this.isZero())return i;if(i.isZero())return this;let a=this.coefficients,l=i.coefficients;if(a.length>l.length){const g=a;a=l,l=g}let d=new Int32Array(l.length);const f=l.length-a.length;k.arraycopy(l,0,d,0,f);for(let g=f;g<l.length;g++)d[g]=br.addOrSubtract(a[g-f],l[g]);return new _n(this.field,d)}multiply(i){if(!this.field.equals(i.field))throw new A("GenericGFPolys do not have same GenericGF field");if(this.isZero()||i.isZero())return this.field.getZero();const a=this.coefficients,l=a.length,d=i.coefficients,f=d.length,g=new Int32Array(l+f-1),v=this.field;for(let S=0;S<l;S++){const T=a[S];for(let O=0;O<f;O++)g[S+O]=br.addOrSubtract(g[S+O],v.multiply(T,d[O]))}return new _n(v,g)}multiplyScalar(i){if(i===0)return this.field.getZero();if(i===1)return this;const a=this.coefficients.length,l=this.field,d=new Int32Array(a),f=this.coefficients;for(let g=0;g<a;g++)d[g]=l.multiply(f[g],i);return new _n(l,d)}multiplyByMonomial(i,a){if(i<0)throw new A;if(a===0)return this.field.getZero();const l=this.coefficients,d=l.length,f=new Int32Array(d+i),g=this.field;for(let v=0;v<d;v++)f[v]=g.multiply(l[v],a);return new _n(g,f)}divide(i){if(!this.field.equals(i.field))throw new A("GenericGFPolys do not have same GenericGF field");if(i.isZero())throw new A("Divide by 0");const a=this.field;let l=a.getZero(),d=this;const f=i.getCoefficient(i.getDegree()),g=a.inverse(f);for(;d.getDegree()>=i.getDegree()&&!d.isZero();){const v=d.getDegree()-i.getDegree(),S=a.multiply(d.getCoefficient(d.getDegree()),g),T=i.multiplyByMonomial(v,S),O=a.buildMonomial(v,S);l=l.addOrSubtract(O),d=d.addOrSubtract(T)}return[l,d]}toString(){let i="";for(let a=this.getDegree();a>=0;a--){let l=this.getCoefficient(a);if(l!==0){if(l<0?(i+=" - ",l=-l):i.length>0&&(i+=" + "),a===0||l!==1){const d=this.field.log(l);d===0?i+="1":d===1?i+="a":(i+="a^",i+=d)}a!==0&&(a===1?i+="x":(i+="x^",i+=a))}}return i}}class Ds extends b{}Ds.kind="ArithmeticException";class vt extends br{constructor(i,a,l){super(),this.primitive=i,this.size=a,this.generatorBase=l;const d=new Int32Array(a);let f=1;for(let v=0;v<a;v++)d[v]=f,f*=2,f>=a&&(f^=i,f&=a-1);this.expTable=d;const g=new Int32Array(a);for(let v=0;v<a-1;v++)g[d[v]]=v;this.logTable=g,this.zero=new _n(this,Int32Array.from([0])),this.one=new _n(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(i,a){if(i<0)throw new A;if(a===0)return this.zero;const l=new Int32Array(i+1);return l[0]=a,new _n(this,l)}inverse(i){if(i===0)throw new Ds;return this.expTable[this.size-this.logTable[i]-1]}multiply(i,a){return i===0||a===0?0:this.expTable[(this.logTable[i]+this.logTable[a])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+U.toHexString(this.primitive)+","+this.size+")"}equals(i){return i===this}}vt.AZTEC_DATA_12=new vt(4201,4096,1),vt.AZTEC_DATA_10=new vt(1033,1024,1),vt.AZTEC_DATA_6=new vt(67,64,1),vt.AZTEC_PARAM=new vt(19,16,1),vt.QR_CODE_FIELD_256=new vt(285,256,0),vt.DATA_MATRIX_FIELD_256=new vt(301,256,1),vt.AZTEC_DATA_8=vt.DATA_MATRIX_FIELD_256,vt.MAXICODE_FIELD_64=vt.AZTEC_DATA_6;class yi extends b{}yi.kind="ReedSolomonException";class bi extends b{}bi.kind="IllegalStateException";class ns{constructor(i){this.field=i}decode(i,a){const l=this.field,d=new _n(l,i),f=new Int32Array(a);let g=!0;for(let Z=0;Z<a;Z++){const J=d.evaluateAt(l.exp(Z+l.getGeneratorBase()));f[f.length-1-Z]=J,J!==0&&(g=!1)}if(g)return;const v=new _n(l,f),S=this.runEuclideanAlgorithm(l.buildMonomial(a,1),v,a),T=S[0],O=S[1],B=this.findErrorLocations(T),V=this.findErrorMagnitudes(O,B);for(let Z=0;Z<B.length;Z++){const J=i.length-1-l.log(B[Z]);if(J<0)throw new yi("Bad error location");i[J]=vt.addOrSubtract(i[J],V[Z])}}runEuclideanAlgorithm(i,a,l){if(i.getDegree()<a.getDegree()){const Z=i;i=a,a=Z}const d=this.field;let f=i,g=a,v=d.getZero(),S=d.getOne();for(;g.getDegree()>=(l/2|0);){let Z=f,J=v;if(f=g,v=S,f.isZero())throw new yi("r_{i-1} was zero");g=Z;let ee=d.getZero();const se=f.getCoefficient(f.getDegree()),he=d.inverse(se);for(;g.getDegree()>=f.getDegree()&&!g.isZero();){const Re=g.getDegree()-f.getDegree(),Te=d.multiply(g.getCoefficient(g.getDegree()),he);ee=ee.addOrSubtract(d.buildMonomial(Re,Te)),g=g.addOrSubtract(f.multiplyByMonomial(Re,Te))}if(S=ee.multiply(v).addOrSubtract(J),g.getDegree()>=f.getDegree())throw new bi("Division algorithm failed to reduce polynomial?")}const T=S.getCoefficient(0);if(T===0)throw new yi("sigmaTilde(0) was zero");const O=d.inverse(T),B=S.multiplyScalar(O),V=g.multiplyScalar(O);return[B,V]}findErrorLocations(i){const a=i.getDegree();if(a===1)return Int32Array.from([i.getCoefficient(1)]);const l=new Int32Array(a);let d=0;const f=this.field;for(let g=1;g<f.getSize()&&d<a;g++)i.evaluateAt(g)===0&&(l[d]=f.inverse(g),d++);if(d!==a)throw new yi("Error locator degree does not match number of roots");return l}findErrorMagnitudes(i,a){const l=a.length,d=new Int32Array(l),f=this.field;for(let g=0;g<l;g++){const v=f.inverse(a[g]);let S=1;for(let T=0;T<l;T++)if(g!==T){const O=f.multiply(a[T],v),B=(O&1)===0?O|1:O&-2;S=f.multiply(S,B)}d[g]=f.multiply(i.evaluateAt(v),f.inverse(S)),f.getGeneratorBase()!==0&&(d[g]=f.multiply(d[g],v))}return d}}var Dn;(function(L){L[L.UPPER=0]="UPPER",L[L.LOWER=1]="LOWER",L[L.MIXED=2]="MIXED",L[L.DIGIT=3]="DIGIT",L[L.PUNCT=4]="PUNCT",L[L.BINARY=5]="BINARY"})(Dn||(Dn={}));class Dt{decode(i){this.ddata=i;let a=i.getBits(),l=this.extractBits(a),d=this.correctBits(l),f=Dt.convertBoolArrayToByteArray(d),g=Dt.getEncodedData(d),v=new Ht(f,g,null,null);return v.setNumBits(d.length),v}static highLevelDecode(i){return this.getEncodedData(i)}static getEncodedData(i){let a=i.length,l=Dn.UPPER,d=Dn.UPPER,f="",g=0;for(;g<a;)if(d===Dn.BINARY){if(a-g<5)break;let v=Dt.readCode(i,g,5);if(g+=5,v===0){if(a-g<11)break;v=Dt.readCode(i,g,11)+31,g+=11}for(let S=0;S<v;S++){if(a-g<8){g=a;break}const T=Dt.readCode(i,g,8);f+=ve.castAsNonUtf8Char(T),g+=8}d=l}else{let v=d===Dn.DIGIT?4:5;if(a-g<v)break;let S=Dt.readCode(i,g,v);g+=v;let T=Dt.getCharacter(d,S);T.startsWith("CTRL_")?(l=d,d=Dt.getTable(T.charAt(5)),T.charAt(6)==="L"&&(l=d)):(f+=T,d=l)}return f}static getTable(i){switch(i){case"L":return Dn.LOWER;case"P":return Dn.PUNCT;case"M":return Dn.MIXED;case"D":return Dn.DIGIT;case"B":return Dn.BINARY;default:return Dn.UPPER}}static getCharacter(i,a){switch(i){case Dn.UPPER:return Dt.UPPER_TABLE[a];case Dn.LOWER:return Dt.LOWER_TABLE[a];case Dn.MIXED:return Dt.MIXED_TABLE[a];case Dn.PUNCT:return Dt.PUNCT_TABLE[a];case Dn.DIGIT:return Dt.DIGIT_TABLE[a];default:throw new bi("Bad table")}}correctBits(i){let a,l;this.ddata.getNbLayers()<=2?(l=6,a=vt.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(l=8,a=vt.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(l=10,a=vt.AZTEC_DATA_10):(l=12,a=vt.AZTEC_DATA_12);let d=this.ddata.getNbDatablocks(),f=i.length/l;if(f<d)throw new z;let g=i.length%l,v=new Int32Array(f);for(let V=0;V<f;V++,g+=l)v[V]=Dt.readCode(i,g,l);try{new ns(a).decode(v,f-d)}catch(V){throw new z(V)}let S=(1<<l)-1,T=0;for(let V=0;V<d;V++){let Z=v[V];if(Z===0||Z===S)throw new z;(Z===1||Z===S-1)&&T++}let O=new Array(d*l-T),B=0;for(let V=0;V<d;V++){let Z=v[V];if(Z===1||Z===S-1)O.fill(Z>1,B,B+l-1),B+=l-1;else for(let J=l-1;J>=0;--J)O[B++]=(Z&1<<J)!==0}return O}extractBits(i){let a=this.ddata.isCompact(),l=this.ddata.getNbLayers(),d=(a?11:14)+l*4,f=new Int32Array(d),g=new Array(this.totalBitsInLayer(l,a));if(a)for(let v=0;v<f.length;v++)f[v]=v;else{let v=d+1+2*U.truncDivision(U.truncDivision(d,2)-1,15),S=d/2,T=U.truncDivision(v,2);for(let O=0;O<S;O++){let B=O+U.truncDivision(O,15);f[S-O-1]=T-B-1,f[S+O]=T+B+1}}for(let v=0,S=0;v<l;v++){let T=(l-v)*4+(a?9:12),O=v*2,B=d-1-O;for(let V=0;V<T;V++){let Z=V*2;for(let J=0;J<2;J++)g[S+Z+J]=i.get(f[O+J],f[O+V]),g[S+2*T+Z+J]=i.get(f[O+V],f[B-J]),g[S+4*T+Z+J]=i.get(f[B-J],f[B-V]),g[S+6*T+Z+J]=i.get(f[B-V],f[O+J])}S+=T*8}return g}static readCode(i,a,l){let d=0;for(let f=a;f<a+l;f++)d<<=1,i[f]&&(d|=1);return d}static readByte(i,a){let l=i.length-a;return l>=8?Dt.readCode(i,a,8):Dt.readCode(i,a,l)<<8-l}static convertBoolArrayToByteArray(i){let a=new Uint8Array((i.length+7)/8);for(let l=0;l<a.length;l++)a[l]=Dt.readByte(i,8*l);return a}totalBitsInLayer(i,a){return((a?88:112)+16*i)*i}}Dt.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],Dt.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],Dt.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],Dt.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],Dt.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class ot{constructor(){}static round(i){return i===NaN?0:i<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:i>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:i+(i<0?-.5:.5)|0}static distance(i,a,l,d){const f=i-l,g=a-d;return Math.sqrt(f*f+g*g)}static sum(i){let a=0;for(let l=0,d=i.length;l!==d;l++){const f=i[l];a+=f}return a}}class js{static floatToIntBits(i){return i}}js.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Pe{constructor(i,a){this.x=i,this.y=a}getX(){return this.x}getY(){return this.y}equals(i){if(i instanceof Pe){const a=i;return this.x===a.x&&this.y===a.y}return!1}hashCode(){return 31*js.floatToIntBits(this.x)+js.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(i){const a=this.distance(i[0],i[1]),l=this.distance(i[1],i[2]),d=this.distance(i[0],i[2]);let f,g,v;if(l>=a&&l>=d?(g=i[0],f=i[1],v=i[2]):d>=l&&d>=a?(g=i[1],f=i[0],v=i[2]):(g=i[2],f=i[0],v=i[1]),this.crossProductZ(f,g,v)<0){const S=f;f=v,v=S}i[0]=f,i[1]=g,i[2]=v}static distance(i,a){return ot.distance(i.x,i.y,a.x,a.y)}static crossProductZ(i,a,l){const d=a.x,f=a.y;return(l.x-d)*(i.y-f)-(l.y-f)*(i.x-d)}}class bo{constructor(i,a){this.bits=i,this.points=a}getBits(){return this.bits}getPoints(){return this.points}}class ru extends bo{constructor(i,a,l,d,f){super(i,a),this.compact=l,this.nbDatablocks=d,this.nbLayers=f}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class sn{constructor(i,a,l,d){this.image=i,this.height=i.getHeight(),this.width=i.getWidth(),a==null&&(a=sn.INIT_SIZE),l==null&&(l=i.getWidth()/2|0),d==null&&(d=i.getHeight()/2|0);const f=a/2|0;if(this.leftInit=l-f,this.rightInit=l+f,this.upInit=d-f,this.downInit=d+f,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new ne}detect(){let i=this.leftInit,a=this.rightInit,l=this.upInit,d=this.downInit,f=!1,g=!0,v=!1,S=!1,T=!1,O=!1,B=!1;const V=this.width,Z=this.height;for(;g;){g=!1;let J=!0;for(;(J||!S)&&a<V;)J=this.containsBlackPoint(l,d,a,!1),J?(a++,g=!0,S=!0):S||a++;if(a>=V){f=!0;break}let ee=!0;for(;(ee||!T)&&d<Z;)ee=this.containsBlackPoint(i,a,d,!0),ee?(d++,g=!0,T=!0):T||d++;if(d>=Z){f=!0;break}let se=!0;for(;(se||!O)&&i>=0;)se=this.containsBlackPoint(l,d,i,!1),se?(i--,g=!0,O=!0):O||i--;if(i<0){f=!0;break}let he=!0;for(;(he||!B)&&l>=0;)he=this.containsBlackPoint(i,a,l,!0),he?(l--,g=!0,B=!0):B||l--;if(l<0){f=!0;break}g&&(v=!0)}if(!f&&v){const J=a-i;let ee=null;for(let Te=1;ee===null&&Te<J;Te++)ee=this.getBlackPointOnSegment(i,d-Te,i+Te,d);if(ee==null)throw new ne;let se=null;for(let Te=1;se===null&&Te<J;Te++)se=this.getBlackPointOnSegment(i,l+Te,i+Te,l);if(se==null)throw new ne;let he=null;for(let Te=1;he===null&&Te<J;Te++)he=this.getBlackPointOnSegment(a,l+Te,a-Te,l);if(he==null)throw new ne;let Re=null;for(let Te=1;Re===null&&Te<J;Te++)Re=this.getBlackPointOnSegment(a,d-Te,a-Te,d);if(Re==null)throw new ne;return this.centerEdges(Re,ee,he,se)}else throw new ne}getBlackPointOnSegment(i,a,l,d){const f=ot.round(ot.distance(i,a,l,d)),g=(l-i)/f,v=(d-a)/f,S=this.image;for(let T=0;T<f;T++){const O=ot.round(i+T*g),B=ot.round(a+T*v);if(S.get(O,B))return new Pe(O,B)}return null}centerEdges(i,a,l,d){const f=i.getX(),g=i.getY(),v=a.getX(),S=a.getY(),T=l.getX(),O=l.getY(),B=d.getX(),V=d.getY(),Z=sn.CORR;return f<this.width/2?[new Pe(B-Z,V+Z),new Pe(v+Z,S+Z),new Pe(T-Z,O-Z),new Pe(f+Z,g-Z)]:[new Pe(B+Z,V+Z),new Pe(v+Z,S-Z),new Pe(T-Z,O+Z),new Pe(f-Z,g-Z)]}containsBlackPoint(i,a,l,d){const f=this.image;if(d){for(let g=i;g<=a;g++)if(f.get(g,l))return!0}else for(let g=i;g<=a;g++)if(f.get(l,g))return!0;return!1}}sn.INIT_SIZE=10,sn.CORR=1;class Tl{static checkAndNudgePoints(i,a){const l=i.getWidth(),d=i.getHeight();let f=!0;for(let g=0;g<a.length&&f;g+=2){const v=Math.floor(a[g]),S=Math.floor(a[g+1]);if(v<-1||v>l||S<-1||S>d)throw new ne;f=!1,v===-1?(a[g]=0,f=!0):v===l&&(a[g]=l-1,f=!0),S===-1?(a[g+1]=0,f=!0):S===d&&(a[g+1]=d-1,f=!0)}f=!0;for(let g=a.length-2;g>=0&&f;g-=2){const v=Math.floor(a[g]),S=Math.floor(a[g+1]);if(v<-1||v>l||S<-1||S>d)throw new ne;f=!1,v===-1?(a[g]=0,f=!0):v===l&&(a[g]=l-1,f=!0),S===-1?(a[g+1]=0,f=!0):S===d&&(a[g+1]=d-1,f=!0)}}}class vi{constructor(i,a,l,d,f,g,v,S,T){this.a11=i,this.a21=a,this.a31=l,this.a12=d,this.a22=f,this.a32=g,this.a13=v,this.a23=S,this.a33=T}static quadrilateralToQuadrilateral(i,a,l,d,f,g,v,S,T,O,B,V,Z,J,ee,se){const he=vi.quadrilateralToSquare(i,a,l,d,f,g,v,S);return vi.squareToQuadrilateral(T,O,B,V,Z,J,ee,se).times(he)}transformPoints(i){const a=i.length,l=this.a11,d=this.a12,f=this.a13,g=this.a21,v=this.a22,S=this.a23,T=this.a31,O=this.a32,B=this.a33;for(let V=0;V<a;V+=2){const Z=i[V],J=i[V+1],ee=f*Z+S*J+B;i[V]=(l*Z+g*J+T)/ee,i[V+1]=(d*Z+v*J+O)/ee}}transformPointsWithValues(i,a){const l=this.a11,d=this.a12,f=this.a13,g=this.a21,v=this.a22,S=this.a23,T=this.a31,O=this.a32,B=this.a33,V=i.length;for(let Z=0;Z<V;Z++){const J=i[Z],ee=a[Z],se=f*J+S*ee+B;i[Z]=(l*J+g*ee+T)/se,a[Z]=(d*J+v*ee+O)/se}}static squareToQuadrilateral(i,a,l,d,f,g,v,S){const T=i-l+f-v,O=a-d+g-S;if(T===0&&O===0)return new vi(l-i,f-l,i,d-a,g-d,a,0,0,1);{const B=l-f,V=v-f,Z=d-g,J=S-g,ee=B*J-V*Z,se=(T*J-V*O)/ee,he=(B*O-T*Z)/ee;return new vi(l-i+se*l,v-i+he*v,i,d-a+se*d,S-a+he*S,a,se,he,1)}}static quadrilateralToSquare(i,a,l,d,f,g,v,S){return vi.squareToQuadrilateral(i,a,l,d,f,g,v,S).buildAdjoint()}buildAdjoint(){return new vi(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(i){return new vi(this.a11*i.a11+this.a21*i.a12+this.a31*i.a13,this.a11*i.a21+this.a21*i.a22+this.a31*i.a23,this.a11*i.a31+this.a21*i.a32+this.a31*i.a33,this.a12*i.a11+this.a22*i.a12+this.a32*i.a13,this.a12*i.a21+this.a22*i.a22+this.a32*i.a23,this.a12*i.a31+this.a22*i.a32+this.a32*i.a33,this.a13*i.a11+this.a23*i.a12+this.a33*i.a13,this.a13*i.a21+this.a23*i.a22+this.a33*i.a23,this.a13*i.a31+this.a23*i.a32+this.a33*i.a33)}}class Rl extends Tl{sampleGrid(i,a,l,d,f,g,v,S,T,O,B,V,Z,J,ee,se,he,Re,Te){const Ne=vi.quadrilateralToQuadrilateral(d,f,g,v,S,T,O,B,V,Z,J,ee,se,he,Re,Te);return this.sampleGridWithTransform(i,a,l,Ne)}sampleGridWithTransform(i,a,l,d){if(a<=0||l<=0)throw new ne;const f=new je(a,l),g=new Float32Array(2*a);for(let v=0;v<l;v++){const S=g.length,T=v+.5;for(let O=0;O<S;O+=2)g[O]=O/2+.5,g[O+1]=T;d.transformPoints(g),Tl.checkAndNudgePoints(i,g);try{for(let O=0;O<S;O+=2)i.get(Math.floor(g[O]),Math.floor(g[O+1]))&&f.set(O/2,v)}catch{throw new ne}}return f}}class Di{static setGridSampler(i){Di.gridSampler=i}static getInstance(){return Di.gridSampler}}Di.gridSampler=new Rl;class Yn{constructor(i,a){this.x=i,this.y=a}toResultPoint(){return new Pe(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Ol{constructor(i){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=i}detect(){return this.detectMirror(!1)}detectMirror(i){let a=this.getMatrixCenter(),l=this.getBullsEyeCorners(a);if(i){let g=l[0];l[0]=l[2],l[2]=g}this.extractParameters(l);let d=this.sampleGrid(this.image,l[this.shift%4],l[(this.shift+1)%4],l[(this.shift+2)%4],l[(this.shift+3)%4]),f=this.getMatrixCornerPoints(l);return new ru(d,f,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(i){if(!this.isValidPoint(i[0])||!this.isValidPoint(i[1])||!this.isValidPoint(i[2])||!this.isValidPoint(i[3]))throw new ne;let a=2*this.nbCenterLayers,l=new Int32Array([this.sampleLine(i[0],i[1],a),this.sampleLine(i[1],i[2],a),this.sampleLine(i[2],i[3],a),this.sampleLine(i[3],i[0],a)]);this.shift=this.getRotation(l,a);let d=0;for(let g=0;g<4;g++){let v=l[(this.shift+g)%4];this.compact?(d<<=7,d+=v>>1&127):(d<<=10,d+=(v>>2&992)+(v>>1&31))}let f=this.getCorrectedParameterData(d,this.compact);this.compact?(this.nbLayers=(f>>6)+1,this.nbDataBlocks=(f&63)+1):(this.nbLayers=(f>>11)+1,this.nbDataBlocks=(f&2047)+1)}getRotation(i,a){let l=0;i.forEach((d,f,g)=>{let v=(d>>a-2<<1)+(d&1);l=(l<<3)+v}),l=((l&1)<<11)+(l>>1);for(let d=0;d<4;d++)if(U.bitCount(l^this.EXPECTED_CORNER_BITS[d])<=2)return d;throw new ne}getCorrectedParameterData(i,a){let l,d;a?(l=7,d=2):(l=10,d=4);let f=l-d,g=new Int32Array(l);for(let S=l-1;S>=0;--S)g[S]=i&15,i>>=4;try{new ns(vt.AZTEC_PARAM).decode(g,f)}catch{throw new ne}let v=0;for(let S=0;S<d;S++)v=(v<<4)+g[S];return v}getBullsEyeCorners(i){let a=i,l=i,d=i,f=i,g=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let B=this.getFirstDifferent(a,g,1,-1),V=this.getFirstDifferent(l,g,1,1),Z=this.getFirstDifferent(d,g,-1,1),J=this.getFirstDifferent(f,g,-1,-1);if(this.nbCenterLayers>2){let ee=this.distancePoint(J,B)*this.nbCenterLayers/(this.distancePoint(f,a)*(this.nbCenterLayers+2));if(ee<.75||ee>1.25||!this.isWhiteOrBlackRectangle(B,V,Z,J))break}a=B,l=V,d=Z,f=J,g=!g}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new ne;this.compact=this.nbCenterLayers===5;let v=new Pe(a.getX()+.5,a.getY()-.5),S=new Pe(l.getX()+.5,l.getY()+.5),T=new Pe(d.getX()-.5,d.getY()+.5),O=new Pe(f.getX()-.5,f.getY()-.5);return this.expandSquare([v,S,T,O],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let i,a,l,d;try{let v=new sn(this.image).detect();i=v[0],a=v[1],l=v[2],d=v[3]}catch{let S=this.image.getWidth()/2,T=this.image.getHeight()/2;i=this.getFirstDifferent(new Yn(S+7,T-7),!1,1,-1).toResultPoint(),a=this.getFirstDifferent(new Yn(S+7,T+7),!1,1,1).toResultPoint(),l=this.getFirstDifferent(new Yn(S-7,T+7),!1,-1,1).toResultPoint(),d=this.getFirstDifferent(new Yn(S-7,T-7),!1,-1,-1).toResultPoint()}let f=ot.round((i.getX()+d.getX()+a.getX()+l.getX())/4),g=ot.round((i.getY()+d.getY()+a.getY()+l.getY())/4);try{let v=new sn(this.image,15,f,g).detect();i=v[0],a=v[1],l=v[2],d=v[3]}catch{i=this.getFirstDifferent(new Yn(f+7,g-7),!1,1,-1).toResultPoint(),a=this.getFirstDifferent(new Yn(f+7,g+7),!1,1,1).toResultPoint(),l=this.getFirstDifferent(new Yn(f-7,g+7),!1,-1,1).toResultPoint(),d=this.getFirstDifferent(new Yn(f-7,g-7),!1,-1,-1).toResultPoint()}return f=ot.round((i.getX()+d.getX()+a.getX()+l.getX())/4),g=ot.round((i.getY()+d.getY()+a.getY()+l.getY())/4),new Yn(f,g)}getMatrixCornerPoints(i){return this.expandSquare(i,2*this.nbCenterLayers,this.getDimension())}sampleGrid(i,a,l,d,f){let g=Di.getInstance(),v=this.getDimension(),S=v/2-this.nbCenterLayers,T=v/2+this.nbCenterLayers;return g.sampleGrid(i,v,v,S,S,T,S,T,T,S,T,a.getX(),a.getY(),l.getX(),l.getY(),d.getX(),d.getY(),f.getX(),f.getY())}sampleLine(i,a,l){let d=0,f=this.distanceResultPoint(i,a),g=f/l,v=i.getX(),S=i.getY(),T=g*(a.getX()-i.getX())/f,O=g*(a.getY()-i.getY())/f;for(let B=0;B<l;B++)this.image.get(ot.round(v+B*T),ot.round(S+B*O))&&(d|=1<<l-B-1);return d}isWhiteOrBlackRectangle(i,a,l,d){let f=3;i=new Yn(i.getX()-f,i.getY()+f),a=new Yn(a.getX()-f,a.getY()-f),l=new Yn(l.getX()+f,l.getY()-f),d=new Yn(d.getX()+f,d.getY()+f);let g=this.getColor(d,i);if(g===0)return!1;let v=this.getColor(i,a);return v!==g||(v=this.getColor(a,l),v!==g)?!1:(v=this.getColor(l,d),v===g)}getColor(i,a){let l=this.distancePoint(i,a),d=(a.getX()-i.getX())/l,f=(a.getY()-i.getY())/l,g=0,v=i.getX(),S=i.getY(),T=this.image.get(i.getX(),i.getY()),O=Math.ceil(l);for(let V=0;V<O;V++)v+=d,S+=f,this.image.get(ot.round(v),ot.round(S))!==T&&g++;let B=g/l;return B>.1&&B<.9?0:B<=.1===T?1:-1}getFirstDifferent(i,a,l,d){let f=i.getX()+l,g=i.getY()+d;for(;this.isValid(f,g)&&this.image.get(f,g)===a;)f+=l,g+=d;for(f-=l,g-=d;this.isValid(f,g)&&this.image.get(f,g)===a;)f+=l;for(f-=l;this.isValid(f,g)&&this.image.get(f,g)===a;)g+=d;return g-=d,new Yn(f,g)}expandSquare(i,a,l){let d=l/(2*a),f=i[0].getX()-i[2].getX(),g=i[0].getY()-i[2].getY(),v=(i[0].getX()+i[2].getX())/2,S=(i[0].getY()+i[2].getY())/2,T=new Pe(v+d*f,S+d*g),O=new Pe(v-d*f,S-d*g);f=i[1].getX()-i[3].getX(),g=i[1].getY()-i[3].getY(),v=(i[1].getX()+i[3].getX())/2,S=(i[1].getY()+i[3].getY())/2;let B=new Pe(v+d*f,S+d*g),V=new Pe(v-d*f,S-d*g);return[T,B,O,V]}isValid(i,a){return i>=0&&i<this.image.getWidth()&&a>0&&a<this.image.getHeight()}isValidPoint(i){let a=ot.round(i.getX()),l=ot.round(i.getY());return this.isValid(a,l)}distancePoint(i,a){return ot.distance(i.getX(),i.getY(),a.getX(),a.getY())}distanceResultPoint(i,a){return ot.distance(i.getX(),i.getY(),a.getX(),a.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(U.truncDivision(this.nbLayers-4,8)+1)+15}}class vo{decode(i,a=null){let l=null,d=new Ol(i.getBlackMatrix()),f=null,g=null;try{let O=d.detectMirror(!1);f=O.getPoints(),this.reportFoundResultPoints(a,f),g=new Dt().decode(O)}catch(O){l=O}if(g==null)try{let O=d.detectMirror(!0);f=O.getPoints(),this.reportFoundResultPoints(a,f),g=new Dt().decode(O)}catch(O){throw l??O}let v=new _e(g.getText(),g.getRawBytes(),g.getNumBits(),f,Ie.AZTEC,k.currentTimeMillis()),S=g.getByteSegments();S!=null&&v.putMetadata(bt.BYTE_SEGMENTS,S);let T=g.getECLevel();return T!=null&&v.putMetadata(bt.ERROR_CORRECTION_LEVEL,T),v}reportFoundResultPoints(i,a){if(i!=null){let l=i.get(X.NEED_RESULT_POINT_CALLBACK);l!=null&&a.forEach((d,f,g)=>{l.foundPossibleResultPoint(d)})}}reset(){}}class Dh extends Me{constructor(i=500){super(new vo,i)}}class Wt{decode(i,a){try{return this.doDecode(i,a)}catch{if(a&&a.get(X.TRY_HARDER)===!0&&i.isRotateSupported()){const f=i.rotateCounterClockwise(),g=this.doDecode(f,a),v=g.getResultMetadata();let S=270;v!==null&&v.get(bt.ORIENTATION)===!0&&(S=S+v.get(bt.ORIENTATION)%360),g.putMetadata(bt.ORIENTATION,S);const T=g.getResultPoints();if(T!==null){const O=f.getHeight();for(let B=0;B<T.length;B++)T[B]=new Pe(O-T[B].getY()-1,T[B].getX())}return g}else throw new ne}}reset(){}doDecode(i,a){const l=i.getWidth(),d=i.getHeight();let f=new F(l);const g=a&&a.get(X.TRY_HARDER)===!0,v=Math.max(1,d>>(g?8:5));let S;g?S=d:S=15;const T=Math.trunc(d/2);for(let O=0;O<S;O++){const B=Math.trunc((O+1)/2),V=(O&1)===0,Z=T+v*(V?B:-B);if(Z<0||Z>=d)break;try{f=i.getBlackRow(Z,f)}catch{continue}for(let J=0;J<2;J++){if(J===1&&(f.reverse(),a&&a.get(X.NEED_RESULT_POINT_CALLBACK)===!0)){const ee=new Map;a.forEach((se,he)=>ee.set(he,se)),ee.delete(X.NEED_RESULT_POINT_CALLBACK),a=ee}try{const ee=this.decodeRow(Z,f,a);if(J===1){ee.putMetadata(bt.ORIENTATION,180);const se=ee.getResultPoints();se!==null&&(se[0]=new Pe(l-se[0].getX()-1,se[0].getY()),se[1]=new Pe(l-se[1].getX()-1,se[1].getY()))}return ee}catch{}}}throw new ne}static recordPattern(i,a,l){const d=l.length;for(let T=0;T<d;T++)l[T]=0;const f=i.getSize();if(a>=f)throw new ne;let g=!i.get(a),v=0,S=a;for(;S<f;){if(i.get(S)!==g)l[v]++;else{if(++v===d)break;l[v]=1,g=!g}S++}if(!(v===d||v===d-1&&S===f))throw new ne}static recordPatternInReverse(i,a,l){let d=l.length,f=i.get(a);for(;a>0&&d>=0;)i.get(--a)!==f&&(d--,f=!f);if(d>=0)throw new ne;Wt.recordPattern(i,a+1,l)}static patternMatchVariance(i,a,l){const d=i.length;let f=0,g=0;for(let T=0;T<d;T++)f+=i[T],g+=a[T];if(f<g)return Number.POSITIVE_INFINITY;const v=f/g;l*=v;let S=0;for(let T=0;T<d;T++){const O=i[T],B=a[T]*v,V=O>B?O-B:B-O;if(V>l)return Number.POSITIVE_INFINITY;S+=V}return S/f}}class Oe extends Wt{static findStartPattern(i){const a=i.getSize(),l=i.getNextSet(0);let d=0,f=Int32Array.from([0,0,0,0,0,0]),g=l,v=!1;const S=6;for(let T=l;T<a;T++)if(i.get(T)!==v)f[d]++;else{if(d===S-1){let O=Oe.MAX_AVG_VARIANCE,B=-1;for(let V=Oe.CODE_START_A;V<=Oe.CODE_START_C;V++){const Z=Wt.patternMatchVariance(f,Oe.CODE_PATTERNS[V],Oe.MAX_INDIVIDUAL_VARIANCE);Z<O&&(O=Z,B=V)}if(B>=0&&i.isRange(Math.max(0,g-(T-g)/2),g,!1))return Int32Array.from([g,T,B]);g+=f[0]+f[1],f=f.slice(2,f.length-1),f[d-1]=0,f[d]=0,d--}else d++;f[d]=1,v=!v}throw new ne}static decodeCode(i,a,l){Wt.recordPattern(i,l,a);let d=Oe.MAX_AVG_VARIANCE,f=-1;for(let g=0;g<Oe.CODE_PATTERNS.length;g++){const v=Oe.CODE_PATTERNS[g],S=this.patternMatchVariance(a,v,Oe.MAX_INDIVIDUAL_VARIANCE);S<d&&(d=S,f=g)}if(f>=0)return f;throw new ne}decodeRow(i,a,l){const d=l&&l.get(X.ASSUME_GS1)===!0,f=Oe.findStartPattern(a),g=f[2];let v=0;const S=new Uint8Array(20);S[v++]=g;let T;switch(g){case Oe.CODE_START_A:T=Oe.CODE_CODE_A;break;case Oe.CODE_START_B:T=Oe.CODE_CODE_B;break;case Oe.CODE_START_C:T=Oe.CODE_CODE_C;break;default:throw new z}let O=!1,B=!1,V="",Z=f[0],J=f[1];const ee=Int32Array.from([0,0,0,0,0,0]);let se=0,he=0,Re=g,Te=0,Ne=!0,st=!1,Je=!1;for(;!O;){const cs=B;switch(B=!1,se=he,he=Oe.decodeCode(a,ee,J),S[v++]=he,he!==Oe.CODE_STOP&&(Ne=!0),he!==Oe.CODE_STOP&&(Te++,Re+=Te*he),Z=J,J+=ee.reduce((vu,Fl)=>vu+Fl,0),he){case Oe.CODE_START_A:case Oe.CODE_START_B:case Oe.CODE_START_C:throw new z}switch(T){case Oe.CODE_CODE_A:if(he<64)Je===st?V+=String.fromCharCode(32+he):V+=String.fromCharCode(32+he+128),Je=!1;else if(he<96)Je===st?V+=String.fromCharCode(he-64):V+=String.fromCharCode(he+64),Je=!1;else switch(he!==Oe.CODE_STOP&&(Ne=!1),he){case Oe.CODE_FNC_1:d&&(V.length===0?V+="]C1":V+="");break;case Oe.CODE_FNC_2:case Oe.CODE_FNC_3:break;case Oe.CODE_FNC_4_A:!st&&Je?(st=!0,Je=!1):st&&Je?(st=!1,Je=!1):Je=!0;break;case Oe.CODE_SHIFT:B=!0,T=Oe.CODE_CODE_B;break;case Oe.CODE_CODE_B:T=Oe.CODE_CODE_B;break;case Oe.CODE_CODE_C:T=Oe.CODE_CODE_C;break;case Oe.CODE_STOP:O=!0;break}break;case Oe.CODE_CODE_B:if(he<96)Je===st?V+=String.fromCharCode(32+he):V+=String.fromCharCode(32+he+128),Je=!1;else switch(he!==Oe.CODE_STOP&&(Ne=!1),he){case Oe.CODE_FNC_1:d&&(V.length===0?V+="]C1":V+="");break;case Oe.CODE_FNC_2:case Oe.CODE_FNC_3:break;case Oe.CODE_FNC_4_B:!st&&Je?(st=!0,Je=!1):st&&Je?(st=!1,Je=!1):Je=!0;break;case Oe.CODE_SHIFT:B=!0,T=Oe.CODE_CODE_A;break;case Oe.CODE_CODE_A:T=Oe.CODE_CODE_A;break;case Oe.CODE_CODE_C:T=Oe.CODE_CODE_C;break;case Oe.CODE_STOP:O=!0;break}break;case Oe.CODE_CODE_C:if(he<100)he<10&&(V+="0"),V+=he;else switch(he!==Oe.CODE_STOP&&(Ne=!1),he){case Oe.CODE_FNC_1:d&&(V.length===0?V+="]C1":V+="");break;case Oe.CODE_CODE_A:T=Oe.CODE_CODE_A;break;case Oe.CODE_CODE_B:T=Oe.CODE_CODE_B;break;case Oe.CODE_STOP:O=!0;break}break}cs&&(T=T===Oe.CODE_CODE_A?Oe.CODE_CODE_B:Oe.CODE_CODE_A)}const hn=J-Z;if(J=a.getNextUnset(J),!a.isRange(J,Math.min(a.getSize(),J+(J-Z)/2),!1))throw new ne;if(Re-=Te*se,Re%103!==se)throw new D;const Ci=V.length;if(Ci===0)throw new ne;Ci>0&&Ne&&(T===Oe.CODE_CODE_C?V=V.substring(0,Ci-2):V=V.substring(0,Ci-1));const Wn=(f[1]+f[0])/2,_t=Z+hn/2,kn=S.length,di=new Uint8Array(kn);for(let cs=0;cs<kn;cs++)di[cs]=S[cs];const Ws=[new Pe(Wn,i),new Pe(_t,i)];return new _e(V,di,0,Ws,Ie.CODE_128,new Date().getTime())}}Oe.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],Oe.MAX_AVG_VARIANCE=.25,Oe.MAX_INDIVIDUAL_VARIANCE=.7,Oe.CODE_SHIFT=98,Oe.CODE_CODE_C=99,Oe.CODE_CODE_B=100,Oe.CODE_CODE_A=101,Oe.CODE_FNC_1=102,Oe.CODE_FNC_2=97,Oe.CODE_FNC_3=96,Oe.CODE_FNC_4_A=101,Oe.CODE_FNC_4_B=100,Oe.CODE_START_A=103,Oe.CODE_START_B=104,Oe.CODE_START_C=105,Oe.CODE_STOP=106;class Ut extends Wt{constructor(i=!1,a=!1){super(),this.usingCheckDigit=i,this.extendedMode=a,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(i,a,l){let d=this.counters;d.fill(0),this.decodeRowResult="";let f=Ut.findAsteriskPattern(a,d),g=a.getNextSet(f[1]),v=a.getSize(),S,T;do{Ut.recordPattern(a,g,d);let ee=Ut.toNarrowWidePattern(d);if(ee<0)throw new ne;S=Ut.patternToChar(ee),this.decodeRowResult+=S,T=g;for(let se of d)g+=se;g=a.getNextSet(g)}while(S!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let O=0;for(let ee of d)O+=ee;let B=g-T-O;if(g!==v&&B*2<O)throw new ne;if(this.usingCheckDigit){let ee=this.decodeRowResult.length-1,se=0;for(let he=0;he<ee;he++)se+=Ut.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(he));if(this.decodeRowResult.charAt(ee)!==Ut.ALPHABET_STRING.charAt(se%43))throw new D;this.decodeRowResult=this.decodeRowResult.substring(0,ee)}if(this.decodeRowResult.length===0)throw new ne;let V;this.extendedMode?V=Ut.decodeExtended(this.decodeRowResult):V=this.decodeRowResult;let Z=(f[1]+f[0])/2,J=T+O/2;return new _e(V,null,0,[new Pe(Z,i),new Pe(J,i)],Ie.CODE_39,new Date().getTime())}static findAsteriskPattern(i,a){let l=i.getSize(),d=i.getNextSet(0),f=0,g=d,v=!1,S=a.length;for(let T=d;T<l;T++)if(i.get(T)!==v)a[f]++;else{if(f===S-1){if(this.toNarrowWidePattern(a)===Ut.ASTERISK_ENCODING&&i.isRange(Math.max(0,g-Math.floor((T-g)/2)),g,!1))return[g,T];g+=a[0]+a[1],a.copyWithin(0,2,2+f-1),a[f-1]=0,a[f]=0,f--}else f++;a[f]=1,v=!v}throw new ne}static toNarrowWidePattern(i){let a=i.length,l=0,d;do{let f=2147483647;for(let S of i)S<f&&S>l&&(f=S);l=f,d=0;let g=0,v=0;for(let S=0;S<a;S++){let T=i[S];T>l&&(v|=1<<a-1-S,d++,g+=T)}if(d===3){for(let S=0;S<a&&d>0;S++){let T=i[S];if(T>l&&(d--,T*2>=g))return-1}return v}}while(d>3);return-1}static patternToChar(i){for(let a=0;a<Ut.CHARACTER_ENCODINGS.length;a++)if(Ut.CHARACTER_ENCODINGS[a]===i)return Ut.ALPHABET_STRING.charAt(a);if(i===Ut.ASTERISK_ENCODING)return"*";throw new ne}static decodeExtended(i){let a=i.length,l="";for(let d=0;d<a;d++){let f=i.charAt(d);if(f==="+"||f==="$"||f==="%"||f==="/"){let g=i.charAt(d+1),v="\0";switch(f){case"+":if(g>="A"&&g<="Z")v=String.fromCharCode(g.charCodeAt(0)+32);else throw new z;break;case"$":if(g>="A"&&g<="Z")v=String.fromCharCode(g.charCodeAt(0)-64);else throw new z;break;case"%":if(g>="A"&&g<="E")v=String.fromCharCode(g.charCodeAt(0)-38);else if(g>="F"&&g<="J")v=String.fromCharCode(g.charCodeAt(0)-11);else if(g>="K"&&g<="O")v=String.fromCharCode(g.charCodeAt(0)+16);else if(g>="P"&&g<="T")v=String.fromCharCode(g.charCodeAt(0)+43);else if(g==="U")v="\0";else if(g==="V")v="@";else if(g==="W")v="`";else if(g==="X"||g==="Y"||g==="Z")v="";else throw new z;break;case"/":if(g>="A"&&g<="O")v=String.fromCharCode(g.charCodeAt(0)-32);else if(g==="Z")v=":";else throw new z;break}l+=v,d++}else l+=f}return l}}Ut.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",Ut.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],Ut.ASTERISK_ENCODING=148;class nt extends Wt{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(i,a,l){let d=this.decodeStart(a),f=this.decodeEnd(a),g=new me;nt.decodeMiddle(a,d[1],f[0],g);let v=g.toString(),S=null;l!=null&&(S=l.get(X.ALLOWED_LENGTHS)),S==null&&(S=nt.DEFAULT_ALLOWED_LENGTHS);let T=v.length,O=!1,B=0;for(let J of S){if(T===J){O=!0;break}J>B&&(B=J)}if(!O&&T>B&&(O=!0),!O)throw new z;const V=[new Pe(d[1],i),new Pe(f[0],i)];return new _e(v,null,0,V,Ie.ITF,new Date().getTime())}static decodeMiddle(i,a,l,d){let f=new Int32Array(10),g=new Int32Array(5),v=new Int32Array(5);for(f.fill(0),g.fill(0),v.fill(0);a<l;){Wt.recordPattern(i,a,f);for(let T=0;T<5;T++){let O=2*T;g[T]=f[O],v[T]=f[O+1]}let S=nt.decodeDigit(g);d.append(S.toString()),S=this.decodeDigit(v),d.append(S.toString()),f.forEach(function(T){a+=T})}}decodeStart(i){let a=nt.skipWhiteSpace(i),l=nt.findGuardPattern(i,a,nt.START_PATTERN);return this.narrowLineWidth=(l[1]-l[0])/4,this.validateQuietZone(i,l[0]),l}validateQuietZone(i,a){let l=this.narrowLineWidth*10;l=l<a?l:a;for(let d=a-1;l>0&&d>=0&&!i.get(d);d--)l--;if(l!==0)throw new ne}static skipWhiteSpace(i){const a=i.getSize(),l=i.getNextSet(0);if(l===a)throw new ne;return l}decodeEnd(i){i.reverse();try{let a=nt.skipWhiteSpace(i),l;try{l=nt.findGuardPattern(i,a,nt.END_PATTERN_REVERSED[0])}catch(f){f instanceof ne&&(l=nt.findGuardPattern(i,a,nt.END_PATTERN_REVERSED[1]))}this.validateQuietZone(i,l[0]);let d=l[0];return l[0]=i.getSize()-l[1],l[1]=i.getSize()-d,l}finally{i.reverse()}}static findGuardPattern(i,a,l){let d=l.length,f=new Int32Array(d),g=i.getSize(),v=!1,S=0,T=a;f.fill(0);for(let O=a;O<g;O++)if(i.get(O)!==v)f[S]++;else{if(S===d-1){if(Wt.patternMatchVariance(f,l,nt.MAX_INDIVIDUAL_VARIANCE)<nt.MAX_AVG_VARIANCE)return[T,O];T+=f[0]+f[1],k.arraycopy(f,2,f,0,S-1),f[S-1]=0,f[S]=0,S--}else S++;f[S]=1,v=!v}throw new ne}static decodeDigit(i){let a=nt.MAX_AVG_VARIANCE,l=-1,d=nt.PATTERNS.length;for(let f=0;f<d;f++){let g=nt.PATTERNS[f],v=Wt.patternMatchVariance(i,g,nt.MAX_INDIVIDUAL_VARIANCE);v<a?(a=v,l=f):v===a&&(l=-1)}if(l>=0)return l%10;throw new ne}}nt.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],nt.MAX_AVG_VARIANCE=.38,nt.MAX_INDIVIDUAL_VARIANCE=.5,nt.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],nt.START_PATTERN=Int32Array.from([1,1,1,1]),nt.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class en extends Wt{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(i){let a=!1,l,d=0,f=Int32Array.from([0,0,0]);for(;!a;){f=Int32Array.from([0,0,0]),l=en.findGuardPattern(i,d,!1,this.START_END_PATTERN,f);let g=l[0];d=l[1];let v=g-(d-g);v>=0&&(a=i.isRange(v,g,!1))}return l}static checkChecksum(i){return en.checkStandardUPCEANChecksum(i)}static checkStandardUPCEANChecksum(i){let a=i.length;if(a===0)return!1;let l=parseInt(i.charAt(a-1),10);return en.getStandardUPCEANChecksum(i.substring(0,a-1))===l}static getStandardUPCEANChecksum(i){let a=i.length,l=0;for(let d=a-1;d>=0;d-=2){let f=i.charAt(d).charCodeAt(0)-48;if(f<0||f>9)throw new z;l+=f}l*=3;for(let d=a-2;d>=0;d-=2){let f=i.charAt(d).charCodeAt(0)-48;if(f<0||f>9)throw new z;l+=f}return(1e3-l)%10}static decodeEnd(i,a){return en.findGuardPattern(i,a,!1,en.START_END_PATTERN,new Int32Array(en.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(i,a,l,d){return this.findGuardPattern(i,a,l,d,new Int32Array(d.length))}static findGuardPattern(i,a,l,d,f){let g=i.getSize();a=l?i.getNextUnset(a):i.getNextSet(a);let v=0,S=a,T=d.length,O=l;for(let B=a;B<g;B++)if(i.get(B)!==O)f[v]++;else{if(v===T-1){if(Wt.patternMatchVariance(f,d,en.MAX_INDIVIDUAL_VARIANCE)<en.MAX_AVG_VARIANCE)return Int32Array.from([S,B]);S+=f[0]+f[1];let V=f.slice(2,f.length-1);for(let Z=0;Z<v-1;Z++)f[Z]=V[Z];f[v-1]=0,f[v]=0,v--}else v++;f[v]=1,O=!O}throw new ne}static decodeDigit(i,a,l,d){this.recordPattern(i,l,a);let f=this.MAX_AVG_VARIANCE,g=-1,v=d.length;for(let S=0;S<v;S++){let T=d[S],O=Wt.patternMatchVariance(a,T,en.MAX_INDIVIDUAL_VARIANCE);O<f&&(f=O,g=S)}if(g>=0)return g;throw new ne}}en.MAX_AVG_VARIANCE=.48,en.MAX_INDIVIDUAL_VARIANCE=.7,en.START_END_PATTERN=Int32Array.from([1,1,1]),en.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),en.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),en.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Ia{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(i,a,l){let d=this.decodeRowStringBuffer,f=this.decodeMiddle(a,l,d),g=d.toString(),v=Ia.parseExtensionString(g),S=[new Pe((l[0]+l[1])/2,i),new Pe(f,i)],T=new _e(g,null,0,S,Ie.UPC_EAN_EXTENSION,new Date().getTime());return v!=null&&T.putAllMetadata(v),T}decodeMiddle(i,a,l){let d=this.decodeMiddleCounters;d[0]=0,d[1]=0,d[2]=0,d[3]=0;let f=i.getSize(),g=a[1],v=0;for(let T=0;T<5&&g<f;T++){let O=en.decodeDigit(i,d,g,en.L_AND_G_PATTERNS);l+=String.fromCharCode(48+O%10);for(let B of d)g+=B;O>=10&&(v|=1<<4-T),T!==4&&(g=i.getNextSet(g),g=i.getNextUnset(g))}if(l.length!==5)throw new ne;let S=this.determineCheckDigit(v);if(Ia.extensionChecksum(l.toString())!==S)throw new ne;return g}static extensionChecksum(i){let a=i.length,l=0;for(let d=a-2;d>=0;d-=2)l+=i.charAt(d).charCodeAt(0)-48;l*=3;for(let d=a-1;d>=0;d-=2)l+=i.charAt(d).charCodeAt(0)-48;return l*=3,l%10}determineCheckDigit(i){for(let a=0;a<10;a++)if(i===this.CHECK_DIGIT_ENCODINGS[a])return a;throw new ne}static parseExtensionString(i){if(i.length!==5)return null;let a=Ia.parseExtension5String(i);return a==null?null:new Map([[bt.SUGGESTED_PRICE,a]])}static parseExtension5String(i){let a;switch(i.charAt(0)){case"0":a="";break;case"5":a="$";break;case"9":switch(i){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}a="";break;default:a="";break}let l=parseInt(i.substring(1)),d=(l/100).toString(),f=l%100,g=f<10?"0"+f:f.toString();return a+d+"."+g}}class Ml{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(i,a,l){let d=this.decodeRowStringBuffer,f=this.decodeMiddle(a,l,d),g=d.toString(),v=Ml.parseExtensionString(g),S=[new Pe((l[0]+l[1])/2,i),new Pe(f,i)],T=new _e(g,null,0,S,Ie.UPC_EAN_EXTENSION,new Date().getTime());return v!=null&&T.putAllMetadata(v),T}decodeMiddle(i,a,l){let d=this.decodeMiddleCounters;d[0]=0,d[1]=0,d[2]=0,d[3]=0;let f=i.getSize(),g=a[1],v=0;for(let S=0;S<2&&g<f;S++){let T=en.decodeDigit(i,d,g,en.L_AND_G_PATTERNS);l+=String.fromCharCode(48+T%10);for(let O of d)g+=O;T>=10&&(v|=1<<1-S),S!==1&&(g=i.getNextSet(g),g=i.getNextUnset(g))}if(l.length!==2)throw new ne;if(parseInt(l.toString())%4!==v)throw new ne;return g}static parseExtensionString(i){return i.length!==2?null:new Map([[bt.ISSUE_NUMBER,parseInt(i)]])}}class _a{static decodeRow(i,a,l){let d=en.findGuardPattern(a,l,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Ia().decodeRow(i,a,d)}catch{return new Ml().decodeRow(i,a,d)}}}_a.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class ht extends en{constructor(){super(),this.decodeRowStringBuffer="",ht.L_AND_G_PATTERNS=ht.L_PATTERNS.map(i=>Int32Array.from(i));for(let i=10;i<20;i++){let a=ht.L_PATTERNS[i-10],l=new Int32Array(a.length);for(let d=0;d<a.length;d++)l[d]=a[a.length-d-1];ht.L_AND_G_PATTERNS[i]=l}}decodeRow(i,a,l){let d=ht.findStartGuardPattern(a),f=l==null?null:l.get(X.NEED_RESULT_POINT_CALLBACK);if(f!=null){const Ne=new Pe((d[0]+d[1])/2,i);f.foundPossibleResultPoint(Ne)}let g=this.decodeMiddle(a,d,this.decodeRowStringBuffer),v=g.rowOffset,S=g.resultString;if(f!=null){const Ne=new Pe(v,i);f.foundPossibleResultPoint(Ne)}let T=this.decodeEnd(a,v);if(f!=null){const Ne=new Pe((T[0]+T[1])/2,i);f.foundPossibleResultPoint(Ne)}let O=T[1],B=O+(O-T[0]);if(B>=a.getSize()||!a.isRange(O,B,!1))throw new ne;let V=S.toString();if(V.length<8)throw new z;if(!ht.checkChecksum(V))throw new D;let Z=(d[1]+d[0])/2,J=(T[1]+T[0])/2,ee=this.getBarcodeFormat(),se=[new Pe(Z,i),new Pe(J,i)],he=new _e(V,null,0,se,ee,new Date().getTime()),Re=0;try{let Ne=_a.decodeRow(i,a,T[1]);he.putMetadata(bt.UPC_EAN_EXTENSION,Ne.getText()),he.putAllMetadata(Ne.getResultMetadata()),he.addResultPoints(Ne.getResultPoints()),Re=Ne.getText().length}catch{}let Te=l==null?null:l.get(X.ALLOWED_EAN_EXTENSIONS);if(Te!=null){let Ne=!1;for(let st in Te)if(Re.toString()===st){Ne=!0;break}if(!Ne)throw new ne}return he}decodeEnd(i,a){return ht.findGuardPattern(i,a,!1,ht.START_END_PATTERN,new Int32Array(ht.START_END_PATTERN.length).fill(0))}static checkChecksum(i){return ht.checkStandardUPCEANChecksum(i)}static checkStandardUPCEANChecksum(i){let a=i.length;if(a===0)return!1;let l=parseInt(i.charAt(a-1),10);return ht.getStandardUPCEANChecksum(i.substring(0,a-1))===l}static getStandardUPCEANChecksum(i){let a=i.length,l=0;for(let d=a-1;d>=0;d-=2){let f=i.charAt(d).charCodeAt(0)-48;if(f<0||f>9)throw new z;l+=f}l*=3;for(let d=a-2;d>=0;d-=2){let f=i.charAt(d).charCodeAt(0)-48;if(f<0||f>9)throw new z;l+=f}return(1e3-l)%10}}class $i extends ht{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(i,a,l){let d=this.decodeMiddleCounters;d[0]=0,d[1]=0,d[2]=0,d[3]=0;let f=i.getSize(),g=a[1],v=0;for(let T=0;T<6&&g<f;T++){let O=ht.decodeDigit(i,d,g,ht.L_AND_G_PATTERNS);l+=String.fromCharCode(48+O%10);for(let B of d)g+=B;O>=10&&(v|=1<<5-T)}l=$i.determineFirstDigit(l,v),g=ht.findGuardPattern(i,g,!0,ht.MIDDLE_PATTERN,new Int32Array(ht.MIDDLE_PATTERN.length).fill(0))[1];for(let T=0;T<6&&g<f;T++){let O=ht.decodeDigit(i,d,g,ht.L_PATTERNS);l+=String.fromCharCode(48+O);for(let B of d)g+=B}return{rowOffset:g,resultString:l}}getBarcodeFormat(){return Ie.EAN_13}static determineFirstDigit(i,a){for(let l=0;l<10;l++)if(a===this.FIRST_DIGIT_ENCODINGS[l])return i=String.fromCharCode(48+l)+i,i;throw new ne}}$i.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class jr extends ht{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(i,a,l){const d=this.decodeMiddleCounters;d[0]=0,d[1]=0,d[2]=0,d[3]=0;let f=i.getSize(),g=a[1];for(let S=0;S<4&&g<f;S++){let T=ht.decodeDigit(i,d,g,ht.L_PATTERNS);l+=String.fromCharCode(48+T);for(let O of d)g+=O}g=ht.findGuardPattern(i,g,!0,ht.MIDDLE_PATTERN,new Int32Array(ht.MIDDLE_PATTERN.length).fill(0))[1];for(let S=0;S<4&&g<f;S++){let T=ht.decodeDigit(i,d,g,ht.L_PATTERNS);l+=String.fromCharCode(48+T);for(let O of d)g+=O}return{rowOffset:g,resultString:l}}getBarcodeFormat(){return Ie.EAN_8}}class Da extends ht{constructor(){super(...arguments),this.ean13Reader=new $i}getBarcodeFormat(){return Ie.UPC_A}decode(i,a){return this.maybeReturnResult(this.ean13Reader.decode(i))}decodeRow(i,a,l){return this.maybeReturnResult(this.ean13Reader.decodeRow(i,a,l))}decodeMiddle(i,a,l){return this.ean13Reader.decodeMiddle(i,a,l)}maybeReturnResult(i){let a=i.getText();if(a.charAt(0)==="0"){let l=new _e(a.substring(1),null,null,i.getResultPoints(),Ie.UPC_A);return i.getResultMetadata()!=null&&l.putAllMetadata(i.getResultMetadata()),l}else throw new ne}reset(){this.ean13Reader.reset()}}class Xn extends ht{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(i,a,l){const d=this.decodeMiddleCounters.map(T=>T);d[0]=0,d[1]=0,d[2]=0,d[3]=0;const f=i.getSize();let g=a[1],v=0;for(let T=0;T<6&&g<f;T++){const O=Xn.decodeDigit(i,d,g,Xn.L_AND_G_PATTERNS);l+=String.fromCharCode(48+O%10);for(let B of d)g+=B;O>=10&&(v|=1<<5-T)}let S=Xn.determineNumSysAndCheckDigit(l,v);return{rowOffset:g,resultString:S}}decodeEnd(i,a){return Xn.findGuardPatternWithoutCounters(i,a,!0,Xn.MIDDLE_END_PATTERN)}checkChecksum(i){return ht.checkChecksum(Xn.convertUPCEtoUPCA(i))}static determineNumSysAndCheckDigit(i,a){for(let l=0;l<=1;l++)for(let d=0;d<10;d++)if(a===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[l][d]){let f=String.fromCharCode(48+l),g=String.fromCharCode(48+d);return f+i+g}throw ne.getNotFoundInstance()}getBarcodeFormat(){return Ie.UPC_E}static convertUPCEtoUPCA(i){const a=i.slice(1,7).split("").map(f=>f.charCodeAt(0)),l=new me;l.append(i.charAt(0));let d=a[5];switch(d){case 0:case 1:case 2:l.appendChars(a,0,2),l.append(d),l.append("0000"),l.appendChars(a,2,3);break;case 3:l.appendChars(a,0,3),l.append("00000"),l.appendChars(a,3,2);break;case 4:l.appendChars(a,0,4),l.append("00000"),l.append(a[4]);break;default:l.appendChars(a,0,5),l.append("0000"),l.append(d);break}return i.length>=8&&l.append(i.charAt(7)),l.toString()}}Xn.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Xn.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Il extends Wt{constructor(i){super();let a=i==null?null:i.get(X.POSSIBLE_FORMATS),l=[];o(a)?(l.push(new $i),l.push(new Da),l.push(new jr),l.push(new Xn)):(a.indexOf(Ie.EAN_13)>-1&&l.push(new $i),a.indexOf(Ie.UPC_A)>-1&&l.push(new Da),a.indexOf(Ie.EAN_8)>-1&&l.push(new jr),a.indexOf(Ie.UPC_E)>-1&&l.push(new Xn)),this.readers=l}decodeRow(i,a,l){for(let d of this.readers)try{const f=d.decodeRow(i,a,l),g=f.getBarcodeFormat()===Ie.EAN_13&&f.getText().charAt(0)==="0",v=l==null?null:l.get(X.POSSIBLE_FORMATS),S=v==null||v.includes(Ie.UPC_A);if(g&&S){const T=f.getRawBytes(),O=new _e(f.getText().substring(1),T,T?T.length:null,f.getResultPoints(),Ie.UPC_A);return O.putAllMetadata(f.getResultMetadata()),O}return f}catch{}throw new ne}reset(){for(let i of this.readers)i.reset()}}class jn extends Wt{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(i,a){for(let l=0;l<a.length;l++)if(Wt.patternMatchVariance(i,a[l],jn.MAX_INDIVIDUAL_VARIANCE)<jn.MAX_AVG_VARIANCE)return l;throw new ne}static count(i){return ot.sum(new Int32Array(i))}static increment(i,a){let l=0,d=a[0];for(let f=1;f<i.length;f++)a[f]>d&&(d=a[f],l=f);i[l]++}static decrement(i,a){let l=0,d=a[0];for(let f=1;f<i.length;f++)a[f]<d&&(d=a[f],l=f);i[l]--}static isFinderPattern(i){let a=i[0]+i[1],l=a+i[2]+i[3],d=a/l;if(d>=jn.MIN_FINDER_PATTERN_RATIO&&d<=jn.MAX_FINDER_PATTERN_RATIO){let f=Number.MAX_SAFE_INTEGER,g=Number.MIN_SAFE_INTEGER;for(let v of i)v>g&&(g=v),v<f&&(f=v);return g<10*f}return!1}}jn.MAX_AVG_VARIANCE=.2,jn.MAX_INDIVIDUAL_VARIANCE=.45,jn.MIN_FINDER_PATTERN_RATIO=9.5/12,jn.MAX_FINDER_PATTERN_RATIO=12.5/14;class Lr{constructor(i,a){this.value=i,this.checksumPortion=a}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(i){if(!(i instanceof Lr))return!1;const a=i;return this.value===a.value&&this.checksumPortion===a.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class Br{constructor(i,a,l,d,f){this.value=i,this.startEnd=a,this.value=i,this.startEnd=a,this.resultPoints=new Array,this.resultPoints.push(new Pe(l,f)),this.resultPoints.push(new Pe(d,f))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(i){if(!(i instanceof Br))return!1;const a=i;return this.value===a.value}hashCode(){return this.value}}class Ji{constructor(){}static getRSSvalue(i,a,l){let d=0;for(let S of i)d+=S;let f=0,g=0,v=i.length;for(let S=0;S<v-1;S++){let T;for(T=1,g|=1<<S;T<i[S];T++,g&=~(1<<S)){let O=Ji.combins(d-T-1,v-S-2);if(l&&g===0&&d-T-(v-S-1)>=v-S-1&&(O-=Ji.combins(d-T-(v-S),v-S-2)),v-S-1>1){let B=0;for(let V=d-T-(v-S-2);V>a;V--)B+=Ji.combins(d-T-V-1,v-S-3);O-=B*(v-1-S)}else d-T>a&&O--;f+=O}d-=T}return f}static combins(i,a){let l,d;i-a>a?(d=a,l=i-a):(d=i-a,l=a);let f=1,g=1;for(let v=i;v>l;v--)f*=v,g<=d&&(f/=g,g++);for(;g<=d;)f/=g,g++;return f}}class su{static buildBitArray(i){let a=i.length*2-1;i[i.length-1].getRightChar()==null&&(a-=1);let l=12*a,d=new F(l),f=0,v=i[0].getRightChar().getValue();for(let S=11;S>=0;--S)(v&1<<S)!=0&&d.set(f),f++;for(let S=1;S<i.length;++S){let T=i[S],O=T.getLeftChar().getValue();for(let B=11;B>=0;--B)(O&1<<B)!=0&&d.set(f),f++;if(T.getRightChar()!=null){let B=T.getRightChar().getValue();for(let V=11;V>=0;--V)(B&1<<V)!=0&&d.set(f),f++}}return d}}class kr{constructor(i,a){a?this.decodedInformation=null:(this.finished=i,this.decodedInformation=a)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class wo{constructor(i){this.newPosition=i}getNewPosition(){return this.newPosition}}class Vn extends wo{constructor(i,a){super(i),this.value=a}getValue(){return this.value}isFNC1(){return this.value===Vn.FNC1}}Vn.FNC1="$";class vr extends wo{constructor(i,a,l){super(i),l?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=a}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class ai extends wo{constructor(i,a,l){if(super(i),a<0||a>10||l<0||l>10)throw new z;this.firstDigit=a,this.secondDigit=l}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===ai.FNC1}isSecondDigitFNC1(){return this.secondDigit===ai.FNC1}isAnyFNC1(){return this.firstDigit===ai.FNC1||this.secondDigit===ai.FNC1}}ai.FNC1=10;class Le{constructor(){}static parseFieldsInGeneralPurpose(i){if(!i)return null;if(i.length<2)throw new ne;let a=i.substring(0,2);for(let f of Le.TWO_DIGIT_DATA_LENGTH)if(f[0]===a)return f[1]===Le.VARIABLE_LENGTH?Le.processVariableAI(2,f[2],i):Le.processFixedAI(2,f[1],i);if(i.length<3)throw new ne;let l=i.substring(0,3);for(let f of Le.THREE_DIGIT_DATA_LENGTH)if(f[0]===l)return f[1]===Le.VARIABLE_LENGTH?Le.processVariableAI(3,f[2],i):Le.processFixedAI(3,f[1],i);for(let f of Le.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(f[0]===l)return f[1]===Le.VARIABLE_LENGTH?Le.processVariableAI(4,f[2],i):Le.processFixedAI(4,f[1],i);if(i.length<4)throw new ne;let d=i.substring(0,4);for(let f of Le.FOUR_DIGIT_DATA_LENGTH)if(f[0]===d)return f[1]===Le.VARIABLE_LENGTH?Le.processVariableAI(4,f[2],i):Le.processFixedAI(4,f[1],i);throw new ne}static processFixedAI(i,a,l){if(l.length<i)throw new ne;let d=l.substring(0,i);if(l.length<i+a)throw new ne;let f=l.substring(i,i+a),g=l.substring(i+a),v="("+d+")"+f,S=Le.parseFieldsInGeneralPurpose(g);return S==null?v:v+S}static processVariableAI(i,a,l){let d=l.substring(0,i),f;l.length<i+a?f=l.length:f=i+a;let g=l.substring(i,f),v=l.substring(f),S="("+d+")"+g,T=Le.parseFieldsInGeneralPurpose(v);return T==null?S:S+T}}Le.VARIABLE_LENGTH=[],Le.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",Le.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",Le.VARIABLE_LENGTH,20],["22",Le.VARIABLE_LENGTH,29],["30",Le.VARIABLE_LENGTH,8],["37",Le.VARIABLE_LENGTH,8],["90",Le.VARIABLE_LENGTH,30],["91",Le.VARIABLE_LENGTH,30],["92",Le.VARIABLE_LENGTH,30],["93",Le.VARIABLE_LENGTH,30],["94",Le.VARIABLE_LENGTH,30],["95",Le.VARIABLE_LENGTH,30],["96",Le.VARIABLE_LENGTH,30],["97",Le.VARIABLE_LENGTH,3],["98",Le.VARIABLE_LENGTH,30],["99",Le.VARIABLE_LENGTH,30]],Le.THREE_DIGIT_DATA_LENGTH=[["240",Le.VARIABLE_LENGTH,30],["241",Le.VARIABLE_LENGTH,30],["242",Le.VARIABLE_LENGTH,6],["250",Le.VARIABLE_LENGTH,30],["251",Le.VARIABLE_LENGTH,30],["253",Le.VARIABLE_LENGTH,17],["254",Le.VARIABLE_LENGTH,20],["400",Le.VARIABLE_LENGTH,30],["401",Le.VARIABLE_LENGTH,30],["402",17],["403",Le.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",Le.VARIABLE_LENGTH,20],["421",Le.VARIABLE_LENGTH,15],["422",3],["423",Le.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],Le.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",Le.VARIABLE_LENGTH,15],["391",Le.VARIABLE_LENGTH,18],["392",Le.VARIABLE_LENGTH,15],["393",Le.VARIABLE_LENGTH,18],["703",Le.VARIABLE_LENGTH,30]],Le.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",Le.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",Le.VARIABLE_LENGTH,20],["8003",Le.VARIABLE_LENGTH,30],["8004",Le.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",Le.VARIABLE_LENGTH,30],["8008",Le.VARIABLE_LENGTH,12],["8018",18],["8020",Le.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",Le.VARIABLE_LENGTH,70],["8200",Le.VARIABLE_LENGTH,70]];class oi{constructor(i){this.buffer=new me,this.information=i}decodeAllCodes(i,a){let l=a,d=null;do{let f=this.decodeGeneralPurposeField(l,d),g=Le.parseFieldsInGeneralPurpose(f.getNewString());if(g!=null&&i.append(g),f.isRemaining()?d=""+f.getRemainingValue():d=null,l===f.getNewPosition())break;l=f.getNewPosition()}while(!0);return i.toString()}isStillNumeric(i){if(i+7>this.information.getSize())return i+4<=this.information.getSize();for(let a=i;a<i+3;++a)if(this.information.get(a))return!0;return this.information.get(i+3)}decodeNumeric(i){if(i+7>this.information.getSize()){let f=this.extractNumericValueFromBitArray(i,4);return f===0?new ai(this.information.getSize(),ai.FNC1,ai.FNC1):new ai(this.information.getSize(),f-1,ai.FNC1)}let a=this.extractNumericValueFromBitArray(i,7),l=(a-8)/11,d=(a-8)%11;return new ai(i+7,l,d)}extractNumericValueFromBitArray(i,a){return oi.extractNumericValueFromBitArray(this.information,i,a)}static extractNumericValueFromBitArray(i,a,l){let d=0;for(let f=0;f<l;++f)i.get(a+f)&&(d|=1<<l-f-1);return d}decodeGeneralPurposeField(i,a){this.buffer.setLengthToZero(),a!=null&&this.buffer.append(a),this.current.setPosition(i);let l=this.parseBlocks();return l!=null&&l.isRemaining()?new vr(this.current.getPosition(),this.buffer.toString(),l.getRemainingValue()):new vr(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let i,a;do{let l=this.current.getPosition();if(this.current.isAlpha()?(a=this.parseAlphaBlock(),i=a.isFinished()):this.current.isIsoIec646()?(a=this.parseIsoIec646Block(),i=a.isFinished()):(a=this.parseNumericBlock(),i=a.isFinished()),!(l!==this.current.getPosition())&&!i)break}while(!i);return a.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let i=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(i.getNewPosition()),i.isFirstDigitFNC1()){let a;return i.isSecondDigitFNC1()?a=new vr(this.current.getPosition(),this.buffer.toString()):a=new vr(this.current.getPosition(),this.buffer.toString(),i.getSecondDigit()),new kr(!0,a)}if(this.buffer.append(i.getFirstDigit()),i.isSecondDigitFNC1()){let a=new vr(this.current.getPosition(),this.buffer.toString());return new kr(!0,a)}this.buffer.append(i.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new kr(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let i=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(i.getNewPosition()),i.isFNC1()){let a=new vr(this.current.getPosition(),this.buffer.toString());return new kr(!0,a)}this.buffer.append(i.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new kr(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let i=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(i.getNewPosition()),i.isFNC1()){let a=new vr(this.current.getPosition(),this.buffer.toString());return new kr(!0,a)}this.buffer.append(i.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new kr(!1)}isStillIsoIec646(i){if(i+5>this.information.getSize())return!1;let a=this.extractNumericValueFromBitArray(i,5);if(a>=5&&a<16)return!0;if(i+7>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(i,7);if(l>=64&&l<116)return!0;if(i+8>this.information.getSize())return!1;let d=this.extractNumericValueFromBitArray(i,8);return d>=232&&d<253}decodeIsoIec646(i){let a=this.extractNumericValueFromBitArray(i,5);if(a===15)return new Vn(i+5,Vn.FNC1);if(a>=5&&a<15)return new Vn(i+5,"0"+(a-5));let l=this.extractNumericValueFromBitArray(i,7);if(l>=64&&l<90)return new Vn(i+7,""+(l+1));if(l>=90&&l<116)return new Vn(i+7,""+(l+7));let d=this.extractNumericValueFromBitArray(i,8),f;switch(d){case 232:f="!";break;case 233:f='"';break;case 234:f="%";break;case 235:f="&";break;case 236:f="'";break;case 237:f="(";break;case 238:f=")";break;case 239:f="*";break;case 240:f="+";break;case 241:f=",";break;case 242:f="-";break;case 243:f=".";break;case 244:f="/";break;case 245:f=":";break;case 246:f=";";break;case 247:f="<";break;case 248:f="=";break;case 249:f=">";break;case 250:f="?";break;case 251:f="_";break;case 252:f=" ";break;default:throw new z}return new Vn(i+8,f)}isStillAlpha(i){if(i+5>this.information.getSize())return!1;let a=this.extractNumericValueFromBitArray(i,5);if(a>=5&&a<16)return!0;if(i+6>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(i,6);return l>=16&&l<63}decodeAlphanumeric(i){let a=this.extractNumericValueFromBitArray(i,5);if(a===15)return new Vn(i+5,Vn.FNC1);if(a>=5&&a<15)return new Vn(i+5,"0"+(a-5));let l=this.extractNumericValueFromBitArray(i,6);if(l>=32&&l<58)return new Vn(i+6,""+(l+33));let d;switch(l){case 58:d="*";break;case 59:d=",";break;case 60:d="-";break;case 61:d=".";break;case 62:d="/";break;default:throw new bi("Decoding invalid alphanumeric value: "+l)}return new Vn(i+6,d)}isAlphaTo646ToAlphaLatch(i){if(i+1>this.information.getSize())return!1;for(let a=0;a<5&&a+i<this.information.getSize();++a)if(a===2){if(!this.information.get(i+2))return!1}else if(this.information.get(i+a))return!1;return!0}isAlphaOr646ToNumericLatch(i){if(i+3>this.information.getSize())return!1;for(let a=i;a<i+3;++a)if(this.information.get(a))return!1;return!0}isNumericToAlphaNumericLatch(i){if(i+1>this.information.getSize())return!1;for(let a=0;a<4&&a+i<this.information.getSize();++a)if(this.information.get(i+a))return!1;return!0}}class bn{constructor(i){this.information=i,this.generalDecoder=new oi(i)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class jt extends bn{constructor(i){super(i)}encodeCompressedGtin(i,a){i.append("(01)");let l=i.length();i.append("9"),this.encodeCompressedGtinWithoutAI(i,a,l)}encodeCompressedGtinWithoutAI(i,a,l){for(let d=0;d<4;++d){let f=this.getGeneralDecoder().extractNumericValueFromBitArray(a+10*d,10);f/100===0&&i.append("0"),f/10===0&&i.append("0"),i.append(f)}jt.appendCheckDigit(i,l)}static appendCheckDigit(i,a){let l=0;for(let d=0;d<13;d++){let f=i.charAt(d+a).charCodeAt(0)-48;l+=(d&1)===0?3*f:f}l=10-l%10,l===10&&(l=0),i.append(l)}}jt.GTIN_SIZE=40;class ji extends jt{constructor(i){super(i)}parseInformation(){let i=new me;i.append("(01)");let a=i.length(),l=this.getGeneralDecoder().extractNumericValueFromBitArray(ji.HEADER_SIZE,4);return i.append(l),this.encodeCompressedGtinWithoutAI(i,ji.HEADER_SIZE+4,a),this.getGeneralDecoder().decodeAllCodes(i,ji.HEADER_SIZE+44)}}ji.HEADER_SIZE=4;class Ls extends bn{constructor(i){super(i)}parseInformation(){let i=new me;return this.getGeneralDecoder().decodeAllCodes(i,Ls.HEADER_SIZE)}}Ls.HEADER_SIZE=5;class xo extends jt{constructor(i){super(i)}encodeCompressedWeight(i,a,l){let d=this.getGeneralDecoder().extractNumericValueFromBitArray(a,l);this.addWeightCode(i,d);let f=this.checkWeight(d),g=1e5;for(let v=0;v<5;++v)f/g===0&&i.append("0"),g/=10;i.append(f)}}class er extends xo{constructor(i){super(i)}parseInformation(){if(this.getInformation().getSize()!=er.HEADER_SIZE+xo.GTIN_SIZE+er.WEIGHT_SIZE)throw new ne;let i=new me;return this.encodeCompressedGtin(i,er.HEADER_SIZE),this.encodeCompressedWeight(i,er.HEADER_SIZE+xo.GTIN_SIZE,er.WEIGHT_SIZE),i.toString()}}er.HEADER_SIZE=5,er.WEIGHT_SIZE=15;class au extends er{constructor(i){super(i)}addWeightCode(i,a){i.append("(3103)")}checkWeight(i){return i}}class ja extends er{constructor(i){super(i)}addWeightCode(i,a){a<1e4?i.append("(3202)"):i.append("(3203)")}checkWeight(i){return i<1e4?i:i-1e4}}class wi extends jt{constructor(i){super(i)}parseInformation(){if(this.getInformation().getSize()<wi.HEADER_SIZE+jt.GTIN_SIZE)throw new ne;let i=new me;this.encodeCompressedGtin(i,wi.HEADER_SIZE);let a=this.getGeneralDecoder().extractNumericValueFromBitArray(wi.HEADER_SIZE+jt.GTIN_SIZE,wi.LAST_DIGIT_SIZE);i.append("(392"),i.append(a),i.append(")");let l=this.getGeneralDecoder().decodeGeneralPurposeField(wi.HEADER_SIZE+jt.GTIN_SIZE+wi.LAST_DIGIT_SIZE,null);return i.append(l.getNewString()),i.toString()}}wi.HEADER_SIZE=8,wi.LAST_DIGIT_SIZE=2;class un extends jt{constructor(i){super(i)}parseInformation(){if(this.getInformation().getSize()<un.HEADER_SIZE+jt.GTIN_SIZE)throw new ne;let i=new me;this.encodeCompressedGtin(i,un.HEADER_SIZE);let a=this.getGeneralDecoder().extractNumericValueFromBitArray(un.HEADER_SIZE+jt.GTIN_SIZE,un.LAST_DIGIT_SIZE);i.append("(393"),i.append(a),i.append(")");let l=this.getGeneralDecoder().extractNumericValueFromBitArray(un.HEADER_SIZE+jt.GTIN_SIZE+un.LAST_DIGIT_SIZE,un.FIRST_THREE_DIGITS_SIZE);l/100==0&&i.append("0"),l/10==0&&i.append("0"),i.append(l);let d=this.getGeneralDecoder().decodeGeneralPurposeField(un.HEADER_SIZE+jt.GTIN_SIZE+un.LAST_DIGIT_SIZE+un.FIRST_THREE_DIGITS_SIZE,null);return i.append(d.getNewString()),i.toString()}}un.HEADER_SIZE=8,un.LAST_DIGIT_SIZE=2,un.FIRST_THREE_DIGITS_SIZE=10;class Nt extends xo{constructor(i,a,l){super(i),this.dateCode=l,this.firstAIdigits=a}parseInformation(){if(this.getInformation().getSize()!=Nt.HEADER_SIZE+Nt.GTIN_SIZE+Nt.WEIGHT_SIZE+Nt.DATE_SIZE)throw new ne;let i=new me;return this.encodeCompressedGtin(i,Nt.HEADER_SIZE),this.encodeCompressedWeight(i,Nt.HEADER_SIZE+Nt.GTIN_SIZE,Nt.WEIGHT_SIZE),this.encodeCompressedDate(i,Nt.HEADER_SIZE+Nt.GTIN_SIZE+Nt.WEIGHT_SIZE),i.toString()}encodeCompressedDate(i,a){let l=this.getGeneralDecoder().extractNumericValueFromBitArray(a,Nt.DATE_SIZE);if(l==38400)return;i.append("("),i.append(this.dateCode),i.append(")");let d=l%32;l/=32;let f=l%12+1;l/=12;let g=l;g/10==0&&i.append("0"),i.append(g),f/10==0&&i.append("0"),i.append(f),d/10==0&&i.append("0"),i.append(d)}addWeightCode(i,a){i.append("("),i.append(this.firstAIdigits),i.append(a/1e5),i.append(")")}checkWeight(i){return i%1e5}}Nt.HEADER_SIZE=8,Nt.WEIGHT_SIZE=20,Nt.DATE_SIZE=16;function Bs(L){try{if(L.get(1))return new ji(L);if(!L.get(2))return new Ls(L);switch(oi.extractNumericValueFromBitArray(L,1,4)){case 4:return new au(L);case 5:return new ja(L)}switch(oi.extractNumericValueFromBitArray(L,1,5)){case 12:return new wi(L);case 13:return new un(L)}switch(oi.extractNumericValueFromBitArray(L,1,7)){case 56:return new Nt(L,"310","11");case 57:return new Nt(L,"320","11");case 58:return new Nt(L,"310","13");case 59:return new Nt(L,"320","13");case 60:return new Nt(L,"310","15");case 61:return new Nt(L,"320","15");case 62:return new Nt(L,"310","17");case 63:return new Nt(L,"320","17")}}catch(i){throw console.log(i),new bi("unknown decoder: "+L)}}class li{constructor(i,a,l,d){this.leftchar=i,this.rightchar=a,this.finderpattern=l,this.maybeLast=d}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(i,a){return i instanceof li?li.equalsOrNull(i.leftchar,a.leftchar)&&li.equalsOrNull(i.rightchar,a.rightchar)&&li.equalsOrNull(i.finderpattern,a.finderpattern):!1}static equalsOrNull(i,a){return i===null?a===null:li.equals(i,a)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class dn{constructor(i,a,l){this.pairs=i,this.rowNumber=a,this.wasReversed=l}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(i){return this.checkEqualitity(this,i)}toString(){return"{ "+this.pairs+" }"}equals(i,a){return i instanceof dn?this.checkEqualitity(i,a)&&i.wasReversed===a.wasReversed:!1}checkEqualitity(i,a){if(!i||!a)return;let l;return i.forEach((d,f)=>{a.forEach(g=>{d.getLeftChar().getValue()===g.getLeftChar().getValue()&&d.getRightChar().getValue()===g.getRightChar().getValue()&&d.getFinderPatter().getValue()===g.getFinderPatter().getValue()&&(l=!0)})}),l}}class Ae extends jn{constructor(i){super(...arguments),this.pairs=new Array(Ae.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=i===!0}decodeRow(i,a,l){this.pairs.length=0,this.startFromEven=!1;try{return Ae.constructResult(this.decodeRow2pairs(i,a))}catch(d){this.verbose&&console.log(d)}return this.pairs.length=0,this.startFromEven=!0,Ae.constructResult(this.decodeRow2pairs(i,a))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(i,a){let l=!1;for(;!l;)try{this.pairs.push(this.retrieveNextPair(a,this.pairs,i))}catch(f){if(f instanceof ne){if(!this.pairs.length)throw new ne;l=!0}}if(this.checkChecksum())return this.pairs;let d;if(this.rows.length?d=!0:d=!1,this.storeRow(i,!1),d){let f=this.checkRowsBoolean(!1);if(f!=null||(f=this.checkRowsBoolean(!0),f!=null))return f}throw new ne}checkRowsBoolean(i){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,i&&(this.rows=this.rows.reverse());let a=null;try{a=this.checkRows(new Array,0)}catch(l){this.verbose&&console.log(l)}return i&&(this.rows=this.rows.reverse()),a}checkRows(i,a){for(let l=a;l<this.rows.length;l++){let d=this.rows[l];this.pairs.length=0;for(let g of i)this.pairs.push(g.getPairs());if(this.pairs.push(d.getPairs()),!Ae.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let f=new Array(i);f.push(d);try{return this.checkRows(f,l+1)}catch(g){this.verbose&&console.log(g)}}throw new ne}static isValidSequence(i){for(let a of Ae.FINDER_PATTERN_SEQUENCES){if(i.length>a.length)continue;let l=!0;for(let d=0;d<i.length;d++)if(i[d].getFinderPattern().getValue()!=a[d]){l=!1;break}if(l)return!0}return!1}storeRow(i,a){let l=0,d=!1,f=!1;for(;l<this.rows.length;){let g=this.rows[l];if(g.getRowNumber()>i){f=g.isEquivalent(this.pairs);break}d=g.isEquivalent(this.pairs),l++}f||d||Ae.isPartialRow(this.pairs,this.rows)||(this.rows.push(l,new dn(this.pairs,i,a)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(i,a){for(let l of a)if(l.getPairs().length!==i.length){for(let d of l.getPairs())for(let f of i)if(li.equals(d,f))break}}static isPartialRow(i,a){for(let l of a){let d=!0;for(let f of i){let g=!1;for(let v of l.getPairs())if(f.equals(v)){g=!0;break}if(!g){d=!1;break}}if(d)return!0}return!1}getRows(){return this.rows}static constructResult(i){let a=su.buildBitArray(i),d=Bs(a).parseInformation(),f=i[0].getFinderPattern().getResultPoints(),g=i[i.length-1].getFinderPattern().getResultPoints(),v=[f[0],f[1],g[0],g[1]];return new _e(d,null,null,v,Ie.RSS_EXPANDED,null)}checkChecksum(){let i=this.pairs.get(0),a=i.getLeftChar(),l=i.getRightChar();if(l==null)return!1;let d=l.getChecksumPortion(),f=2;for(let v=1;v<this.pairs.size();++v){let S=this.pairs.get(v);d+=S.getLeftChar().getChecksumPortion(),f++;let T=S.getRightChar();T!=null&&(d+=T.getChecksumPortion(),f++)}return d%=211,211*(f-4)+d==a.getValue()}static getNextSecondBar(i,a){let l;return i.get(a)?(l=i.getNextUnset(a),l=i.getNextSet(l)):(l=i.getNextSet(a),l=i.getNextUnset(l)),l}retrieveNextPair(i,a,l){let d=a.length%2==0;this.startFromEven&&(d=!d);let f,g=!0,v=-1;do this.findNextPair(i,a,v),f=this.parseFoundFinderPattern(i,l,d),f==null?v=Ae.getNextSecondBar(i,this.startEnd[0]):g=!1;while(g);let S=this.decodeDataCharacter(i,f,d,!0);if(!this.isEmptyPair(a)&&a[a.length-1].mustBeLast())throw new ne;let T;try{T=this.decodeDataCharacter(i,f,d,!1)}catch(O){T=null,this.verbose&&console.log(O)}return new li(S,T,f,!0)}isEmptyPair(i){return i.length===0}findNextPair(i,a,l){let d=this.getDecodeFinderCounters();d[0]=0,d[1]=0,d[2]=0,d[3]=0;let f=i.getSize(),g;l>=0?g=l:this.isEmptyPair(a)?g=0:g=a[a.length-1].getFinderPattern().getStartEnd()[1];let v=a.length%2!=0;this.startFromEven&&(v=!v);let S=!1;for(;g<f&&(S=!i.get(g),!!S);)g++;let T=0,O=g;for(let B=g;B<f;B++)if(i.get(B)!=S)d[T]++;else{if(T==3){if(v&&Ae.reverseCounters(d),Ae.isFinderPattern(d)){this.startEnd[0]=O,this.startEnd[1]=B;return}v&&Ae.reverseCounters(d),O+=d[0]+d[1],d[0]=d[2],d[1]=d[3],d[2]=0,d[3]=0,T--}else T++;d[T]=1,S=!S}throw new ne}static reverseCounters(i){let a=i.length;for(let l=0;l<a/2;++l){let d=i[l];i[l]=i[a-l-1],i[a-l-1]=d}}parseFoundFinderPattern(i,a,l){let d,f,g;if(l){let T=this.startEnd[0]-1;for(;T>=0&&!i.get(T);)T--;T++,d=this.startEnd[0]-T,f=T,g=this.startEnd[1]}else f=this.startEnd[0],g=i.getNextUnset(this.startEnd[1]+1),d=g-this.startEnd[1];let v=this.getDecodeFinderCounters();k.arraycopy(v,0,v,1,v.length-1),v[0]=d;let S;try{S=this.parseFinderValue(v,Ae.FINDER_PATTERNS)}catch{return null}return new Br(S,[f,g],f,g,a)}decodeDataCharacter(i,a,l,d){let f=this.getDataCharacterCounters();for(let _t=0;_t<f.length;_t++)f[_t]=0;if(d)Ae.recordPatternInReverse(i,a.getStartEnd()[0],f);else{Ae.recordPattern(i,a.getStartEnd()[1],f);for(let _t=0,kn=f.length-1;_t<kn;_t++,kn--){let di=f[_t];f[_t]=f[kn],f[kn]=di}}let g=17,v=ot.sum(new Int32Array(f))/g,S=(a.getStartEnd()[1]-a.getStartEnd()[0])/15;if(Math.abs(v-S)/S>.3)throw new ne;let T=this.getOddCounts(),O=this.getEvenCounts(),B=this.getOddRoundingErrors(),V=this.getEvenRoundingErrors();for(let _t=0;_t<f.length;_t++){let kn=1*f[_t]/v,di=kn+.5;if(di<1){if(kn<.3)throw new ne;di=1}else if(di>8){if(kn>8.7)throw new ne;di=8}let Ws=_t/2;(_t&1)==0?(T[Ws]=di,B[Ws]=kn-di):(O[Ws]=di,V[Ws]=kn-di)}this.adjustOddEvenCounts(g);let Z=4*a.getValue()+(l?0:2)+(d?0:1)-1,J=0,ee=0;for(let _t=T.length-1;_t>=0;_t--){if(Ae.isNotA1left(a,l,d)){let kn=Ae.WEIGHTS[Z][2*_t];ee+=T[_t]*kn}J+=T[_t]}let se=0;for(let _t=O.length-1;_t>=0;_t--)if(Ae.isNotA1left(a,l,d)){let kn=Ae.WEIGHTS[Z][2*_t+1];se+=O[_t]*kn}let he=ee+se;if((J&1)!=0||J>13||J<4)throw new ne;let Re=(13-J)/2,Te=Ae.SYMBOL_WIDEST[Re],Ne=9-Te,st=Ji.getRSSvalue(T,Te,!0),Je=Ji.getRSSvalue(O,Ne,!1),hn=Ae.EVEN_TOTAL_SUBSET[Re],Ci=Ae.GSUM[Re],Wn=st*hn+Je+Ci;return new Lr(Wn,he)}static isNotA1left(i,a,l){return!(i.getValue()==0&&a&&l)}adjustOddEvenCounts(i){let a=ot.sum(new Int32Array(this.getOddCounts())),l=ot.sum(new Int32Array(this.getEvenCounts())),d=!1,f=!1;a>13?f=!0:a<4&&(d=!0);let g=!1,v=!1;l>13?v=!0:l<4&&(g=!0);let S=a+l-i,T=(a&1)==1,O=(l&1)==0;if(S==1)if(T){if(O)throw new ne;f=!0}else{if(!O)throw new ne;v=!0}else if(S==-1)if(T){if(O)throw new ne;d=!0}else{if(!O)throw new ne;g=!0}else if(S==0){if(T){if(!O)throw new ne;a<l?(d=!0,v=!0):(f=!0,g=!0)}else if(O)throw new ne}else throw new ne;if(d){if(f)throw new ne;Ae.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(f&&Ae.decrement(this.getOddCounts(),this.getOddRoundingErrors()),g){if(v)throw new ne;Ae.increment(this.getEvenCounts(),this.getOddRoundingErrors())}v&&Ae.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Ae.SYMBOL_WIDEST=[7,5,4,3,1],Ae.EVEN_TOTAL_SUBSET=[4,20,52,104,204],Ae.GSUM=[0,348,1388,2948,3988],Ae.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],Ae.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],Ae.FINDER_PAT_A=0,Ae.FINDER_PAT_B=1,Ae.FINDER_PAT_C=2,Ae.FINDER_PAT_D=3,Ae.FINDER_PAT_E=4,Ae.FINDER_PAT_F=5,Ae.FINDER_PATTERN_SEQUENCES=[[Ae.FINDER_PAT_A,Ae.FINDER_PAT_A],[Ae.FINDER_PAT_A,Ae.FINDER_PAT_B,Ae.FINDER_PAT_B],[Ae.FINDER_PAT_A,Ae.FINDER_PAT_C,Ae.FINDER_PAT_B,Ae.FINDER_PAT_D],[Ae.FINDER_PAT_A,Ae.FINDER_PAT_E,Ae.FINDER_PAT_B,Ae.FINDER_PAT_D,Ae.FINDER_PAT_C],[Ae.FINDER_PAT_A,Ae.FINDER_PAT_E,Ae.FINDER_PAT_B,Ae.FINDER_PAT_D,Ae.FINDER_PAT_D,Ae.FINDER_PAT_F],[Ae.FINDER_PAT_A,Ae.FINDER_PAT_E,Ae.FINDER_PAT_B,Ae.FINDER_PAT_D,Ae.FINDER_PAT_E,Ae.FINDER_PAT_F,Ae.FINDER_PAT_F],[Ae.FINDER_PAT_A,Ae.FINDER_PAT_A,Ae.FINDER_PAT_B,Ae.FINDER_PAT_B,Ae.FINDER_PAT_C,Ae.FINDER_PAT_C,Ae.FINDER_PAT_D,Ae.FINDER_PAT_D],[Ae.FINDER_PAT_A,Ae.FINDER_PAT_A,Ae.FINDER_PAT_B,Ae.FINDER_PAT_B,Ae.FINDER_PAT_C,Ae.FINDER_PAT_C,Ae.FINDER_PAT_D,Ae.FINDER_PAT_E,Ae.FINDER_PAT_E],[Ae.FINDER_PAT_A,Ae.FINDER_PAT_A,Ae.FINDER_PAT_B,Ae.FINDER_PAT_B,Ae.FINDER_PAT_C,Ae.FINDER_PAT_C,Ae.FINDER_PAT_D,Ae.FINDER_PAT_E,Ae.FINDER_PAT_F,Ae.FINDER_PAT_F],[Ae.FINDER_PAT_A,Ae.FINDER_PAT_A,Ae.FINDER_PAT_B,Ae.FINDER_PAT_B,Ae.FINDER_PAT_C,Ae.FINDER_PAT_D,Ae.FINDER_PAT_D,Ae.FINDER_PAT_E,Ae.FINDER_PAT_E,Ae.FINDER_PAT_F,Ae.FINDER_PAT_F]],Ae.MAX_PAIRS=11;class ou extends Lr{constructor(i,a,l){super(i,a),this.count=0,this.finderPattern=l}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class Mt extends jn{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(i,a,l){const d=this.decodePair(a,!1,i,l);Mt.addOrTally(this.possibleLeftPairs,d),a.reverse();let f=this.decodePair(a,!0,i,l);Mt.addOrTally(this.possibleRightPairs,f),a.reverse();for(let g of this.possibleLeftPairs)if(g.getCount()>1){for(let v of this.possibleRightPairs)if(v.getCount()>1&&Mt.checkChecksum(g,v))return Mt.constructResult(g,v)}throw new ne}static addOrTally(i,a){if(a==null)return;let l=!1;for(let d of i)if(d.getValue()===a.getValue()){d.incrementCount(),l=!0;break}l||i.push(a)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(i,a){let l=4537077*i.getValue()+a.getValue(),d=new String(l).toString(),f=new me;for(let T=13-d.length;T>0;T--)f.append("0");f.append(d);let g=0;for(let T=0;T<13;T++){let O=f.charAt(T).charCodeAt(0)-48;g+=(T&1)===0?3*O:O}g=10-g%10,g===10&&(g=0),f.append(g.toString());let v=i.getFinderPattern().getResultPoints(),S=a.getFinderPattern().getResultPoints();return new _e(f.toString(),null,0,[v[0],v[1],S[0],S[1]],Ie.RSS_14,new Date().getTime())}static checkChecksum(i,a){let l=(i.getChecksumPortion()+16*a.getChecksumPortion())%79,d=9*i.getFinderPattern().getValue()+a.getFinderPattern().getValue();return d>72&&d--,d>8&&d--,l===d}decodePair(i,a,l,d){try{let f=this.findFinderPattern(i,a),g=this.parseFoundFinderPattern(i,l,a,f),v=d==null?null:d.get(X.NEED_RESULT_POINT_CALLBACK);if(v!=null){let O=(f[0]+f[1])/2;a&&(O=i.getSize()-1-O),v.foundPossibleResultPoint(new Pe(O,l))}let S=this.decodeDataCharacter(i,g,!0),T=this.decodeDataCharacter(i,g,!1);return new ou(1597*S.getValue()+T.getValue(),S.getChecksumPortion()+4*T.getChecksumPortion(),g)}catch{return null}}decodeDataCharacter(i,a,l){let d=this.getDataCharacterCounters();for(let se=0;se<d.length;se++)d[se]=0;if(l)Wt.recordPatternInReverse(i,a.getStartEnd()[0],d);else{Wt.recordPattern(i,a.getStartEnd()[1]+1,d);for(let se=0,he=d.length-1;se<he;se++,he--){let Re=d[se];d[se]=d[he],d[he]=Re}}let f=l?16:15,g=ot.sum(new Int32Array(d))/f,v=this.getOddCounts(),S=this.getEvenCounts(),T=this.getOddRoundingErrors(),O=this.getEvenRoundingErrors();for(let se=0;se<d.length;se++){let he=d[se]/g,Re=Math.floor(he+.5);Re<1?Re=1:Re>8&&(Re=8);let Te=Math.floor(se/2);(se&1)===0?(v[Te]=Re,T[Te]=he-Re):(S[Te]=Re,O[Te]=he-Re)}this.adjustOddEvenCounts(l,f);let B=0,V=0;for(let se=v.length-1;se>=0;se--)V*=9,V+=v[se],B+=v[se];let Z=0,J=0;for(let se=S.length-1;se>=0;se--)Z*=9,Z+=S[se],J+=S[se];let ee=V+3*Z;if(l){if((B&1)!==0||B>12||B<4)throw new ne;let se=(12-B)/2,he=Mt.OUTSIDE_ODD_WIDEST[se],Re=9-he,Te=Ji.getRSSvalue(v,he,!1),Ne=Ji.getRSSvalue(S,Re,!0),st=Mt.OUTSIDE_EVEN_TOTAL_SUBSET[se],Je=Mt.OUTSIDE_GSUM[se];return new Lr(Te*st+Ne+Je,ee)}else{if((J&1)!==0||J>10||J<4)throw new ne;let se=(10-J)/2,he=Mt.INSIDE_ODD_WIDEST[se],Re=9-he,Te=Ji.getRSSvalue(v,he,!0),Ne=Ji.getRSSvalue(S,Re,!1),st=Mt.INSIDE_ODD_TOTAL_SUBSET[se],Je=Mt.INSIDE_GSUM[se];return new Lr(Ne*st+Te+Je,ee)}}findFinderPattern(i,a){let l=this.getDecodeFinderCounters();l[0]=0,l[1]=0,l[2]=0,l[3]=0;let d=i.getSize(),f=!1,g=0;for(;g<d&&(f=!i.get(g),a!==f);)g++;let v=0,S=g;for(let T=g;T<d;T++)if(i.get(T)!==f)l[v]++;else{if(v===3){if(jn.isFinderPattern(l))return[S,T];S+=l[0]+l[1],l[0]=l[2],l[1]=l[3],l[2]=0,l[3]=0,v--}else v++;l[v]=1,f=!f}throw new ne}parseFoundFinderPattern(i,a,l,d){let f=i.get(d[0]),g=d[0]-1;for(;g>=0&&f!==i.get(g);)g--;g++;const v=d[0]-g,S=this.getDecodeFinderCounters(),T=new Int32Array(S.length);k.arraycopy(S,0,T,1,S.length-1),T[0]=v;const O=this.parseFinderValue(T,Mt.FINDER_PATTERNS);let B=g,V=d[1];return l&&(B=i.getSize()-1-B,V=i.getSize()-1-V),new Br(O,[g,d[1]],B,V,a)}adjustOddEvenCounts(i,a){let l=ot.sum(new Int32Array(this.getOddCounts())),d=ot.sum(new Int32Array(this.getEvenCounts())),f=!1,g=!1,v=!1,S=!1;i?(l>12?g=!0:l<4&&(f=!0),d>12?S=!0:d<4&&(v=!0)):(l>11?g=!0:l<5&&(f=!0),d>10?S=!0:d<4&&(v=!0));let T=l+d-a,O=(l&1)===(i?1:0),B=(d&1)===1;if(T===1)if(O){if(B)throw new ne;g=!0}else{if(!B)throw new ne;S=!0}else if(T===-1)if(O){if(B)throw new ne;f=!0}else{if(!B)throw new ne;v=!0}else if(T===0){if(O){if(!B)throw new ne;l<d?(f=!0,S=!0):(g=!0,v=!0)}else if(B)throw new ne}else throw new ne;if(f){if(g)throw new ne;jn.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(g&&jn.decrement(this.getOddCounts(),this.getOddRoundingErrors()),v){if(S)throw new ne;jn.increment(this.getEvenCounts(),this.getOddRoundingErrors())}S&&jn.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Mt.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],Mt.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],Mt.OUTSIDE_GSUM=[0,161,961,2015,2715],Mt.INSIDE_GSUM=[0,336,1036,1516],Mt.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],Mt.INSIDE_ODD_WIDEST=[2,4,6,8],Mt.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Li extends Wt{constructor(i,a){super(),this.readers=[],this.verbose=a===!0;const l=i?i.get(X.POSSIBLE_FORMATS):null,d=i&&i.get(X.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;l?((l.includes(Ie.EAN_13)||l.includes(Ie.UPC_A)||l.includes(Ie.EAN_8)||l.includes(Ie.UPC_E))&&this.readers.push(new Il(i)),l.includes(Ie.CODE_39)&&this.readers.push(new Ut(d)),l.includes(Ie.CODE_128)&&this.readers.push(new Oe),l.includes(Ie.ITF)&&this.readers.push(new nt),l.includes(Ie.RSS_14)&&this.readers.push(new Mt),l.includes(Ie.RSS_EXPANDED)&&this.readers.push(new Ae(this.verbose))):(this.readers.push(new Il(i)),this.readers.push(new Ut),this.readers.push(new Il(i)),this.readers.push(new Oe),this.readers.push(new nt),this.readers.push(new Mt),this.readers.push(new Ae(this.verbose)))}decodeRow(i,a,l){for(let d=0;d<this.readers.length;d++)try{return this.readers[d].decodeRow(i,a,l)}catch{}throw new ne}reset(){this.readers.forEach(i=>i.reset())}}class jh extends Me{constructor(i=500,a){super(new Li(a),i,a)}}class xt{constructor(i,a,l){this.ecCodewords=i,this.ecBlocks=[a],l&&this.ecBlocks.push(l)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class wt{constructor(i,a){this.count=i,this.dataCodewords=a}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class lt{constructor(i,a,l,d,f,g){this.versionNumber=i,this.symbolSizeRows=a,this.symbolSizeColumns=l,this.dataRegionSizeRows=d,this.dataRegionSizeColumns=f,this.ecBlocks=g;let v=0;const S=g.getECCodewords(),T=g.getECBlocks();for(let O of T)v+=O.getCount()*(O.getDataCodewords()+S);this.totalCodewords=v}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(i,a){if((i&1)!==0||(a&1)!==0)throw new z;for(let l of lt.VERSIONS)if(l.symbolSizeRows===i&&l.symbolSizeColumns===a)return l;throw new z}toString(){return""+this.versionNumber}static buildVersions(){return[new lt(1,10,10,8,8,new xt(5,new wt(1,3))),new lt(2,12,12,10,10,new xt(7,new wt(1,5))),new lt(3,14,14,12,12,new xt(10,new wt(1,8))),new lt(4,16,16,14,14,new xt(12,new wt(1,12))),new lt(5,18,18,16,16,new xt(14,new wt(1,18))),new lt(6,20,20,18,18,new xt(18,new wt(1,22))),new lt(7,22,22,20,20,new xt(20,new wt(1,30))),new lt(8,24,24,22,22,new xt(24,new wt(1,36))),new lt(9,26,26,24,24,new xt(28,new wt(1,44))),new lt(10,32,32,14,14,new xt(36,new wt(1,62))),new lt(11,36,36,16,16,new xt(42,new wt(1,86))),new lt(12,40,40,18,18,new xt(48,new wt(1,114))),new lt(13,44,44,20,20,new xt(56,new wt(1,144))),new lt(14,48,48,22,22,new xt(68,new wt(1,174))),new lt(15,52,52,24,24,new xt(42,new wt(2,102))),new lt(16,64,64,14,14,new xt(56,new wt(2,140))),new lt(17,72,72,16,16,new xt(36,new wt(4,92))),new lt(18,80,80,18,18,new xt(48,new wt(4,114))),new lt(19,88,88,20,20,new xt(56,new wt(4,144))),new lt(20,96,96,22,22,new xt(68,new wt(4,174))),new lt(21,104,104,24,24,new xt(56,new wt(6,136))),new lt(22,120,120,18,18,new xt(68,new wt(6,175))),new lt(23,132,132,20,20,new xt(62,new wt(8,163))),new lt(24,144,144,22,22,new xt(62,new wt(8,156),new wt(2,155))),new lt(25,8,18,6,16,new xt(7,new wt(1,5))),new lt(26,8,32,6,14,new xt(11,new wt(1,10))),new lt(27,12,26,10,24,new xt(14,new wt(1,16))),new lt(28,12,36,10,16,new xt(18,new wt(1,22))),new lt(29,16,36,14,16,new xt(24,new wt(1,32))),new lt(30,16,48,14,22,new xt(28,new wt(1,49)))]}}lt.VERSIONS=lt.buildVersions();class ks{constructor(i){const a=i.getHeight();if(a<8||a>144||(a&1)!==0)throw new z;this.version=ks.readVersion(i),this.mappingBitMatrix=this.extractDataRegion(i),this.readMappingMatrix=new je(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(i){const a=i.getHeight(),l=i.getWidth();return lt.getVersionForDimensions(a,l)}readCodewords(){const i=new Int8Array(this.version.getTotalCodewords());let a=0,l=4,d=0;const f=this.mappingBitMatrix.getHeight(),g=this.mappingBitMatrix.getWidth();let v=!1,S=!1,T=!1,O=!1;do if(l===f&&d===0&&!v)i[a++]=this.readCorner1(f,g)&255,l-=2,d+=2,v=!0;else if(l===f-2&&d===0&&(g&3)!==0&&!S)i[a++]=this.readCorner2(f,g)&255,l-=2,d+=2,S=!0;else if(l===f+4&&d===2&&(g&7)===0&&!T)i[a++]=this.readCorner3(f,g)&255,l-=2,d+=2,T=!0;else if(l===f-2&&d===0&&(g&7)===4&&!O)i[a++]=this.readCorner4(f,g)&255,l-=2,d+=2,O=!0;else{do l<f&&d>=0&&!this.readMappingMatrix.get(d,l)&&(i[a++]=this.readUtah(l,d,f,g)&255),l-=2,d+=2;while(l>=0&&d<g);l+=1,d+=3;do l>=0&&d<g&&!this.readMappingMatrix.get(d,l)&&(i[a++]=this.readUtah(l,d,f,g)&255),l+=2,d-=2;while(l<f&&d>=0);l+=3,d+=1}while(l<f||d<g);if(a!==this.version.getTotalCodewords())throw new z;return i}readModule(i,a,l,d){return i<0&&(i+=l,a+=4-(l+4&7)),a<0&&(a+=d,i+=4-(d+4&7)),this.readMappingMatrix.set(a,i),this.mappingBitMatrix.get(a,i)}readUtah(i,a,l,d){let f=0;return this.readModule(i-2,a-2,l,d)&&(f|=1),f<<=1,this.readModule(i-2,a-1,l,d)&&(f|=1),f<<=1,this.readModule(i-1,a-2,l,d)&&(f|=1),f<<=1,this.readModule(i-1,a-1,l,d)&&(f|=1),f<<=1,this.readModule(i-1,a,l,d)&&(f|=1),f<<=1,this.readModule(i,a-2,l,d)&&(f|=1),f<<=1,this.readModule(i,a-1,l,d)&&(f|=1),f<<=1,this.readModule(i,a,l,d)&&(f|=1),f}readCorner1(i,a){let l=0;return this.readModule(i-1,0,i,a)&&(l|=1),l<<=1,this.readModule(i-1,1,i,a)&&(l|=1),l<<=1,this.readModule(i-1,2,i,a)&&(l|=1),l<<=1,this.readModule(0,a-2,i,a)&&(l|=1),l<<=1,this.readModule(0,a-1,i,a)&&(l|=1),l<<=1,this.readModule(1,a-1,i,a)&&(l|=1),l<<=1,this.readModule(2,a-1,i,a)&&(l|=1),l<<=1,this.readModule(3,a-1,i,a)&&(l|=1),l}readCorner2(i,a){let l=0;return this.readModule(i-3,0,i,a)&&(l|=1),l<<=1,this.readModule(i-2,0,i,a)&&(l|=1),l<<=1,this.readModule(i-1,0,i,a)&&(l|=1),l<<=1,this.readModule(0,a-4,i,a)&&(l|=1),l<<=1,this.readModule(0,a-3,i,a)&&(l|=1),l<<=1,this.readModule(0,a-2,i,a)&&(l|=1),l<<=1,this.readModule(0,a-1,i,a)&&(l|=1),l<<=1,this.readModule(1,a-1,i,a)&&(l|=1),l}readCorner3(i,a){let l=0;return this.readModule(i-1,0,i,a)&&(l|=1),l<<=1,this.readModule(i-1,a-1,i,a)&&(l|=1),l<<=1,this.readModule(0,a-3,i,a)&&(l|=1),l<<=1,this.readModule(0,a-2,i,a)&&(l|=1),l<<=1,this.readModule(0,a-1,i,a)&&(l|=1),l<<=1,this.readModule(1,a-3,i,a)&&(l|=1),l<<=1,this.readModule(1,a-2,i,a)&&(l|=1),l<<=1,this.readModule(1,a-1,i,a)&&(l|=1),l}readCorner4(i,a){let l=0;return this.readModule(i-3,0,i,a)&&(l|=1),l<<=1,this.readModule(i-2,0,i,a)&&(l|=1),l<<=1,this.readModule(i-1,0,i,a)&&(l|=1),l<<=1,this.readModule(0,a-2,i,a)&&(l|=1),l<<=1,this.readModule(0,a-1,i,a)&&(l|=1),l<<=1,this.readModule(1,a-1,i,a)&&(l|=1),l<<=1,this.readModule(2,a-1,i,a)&&(l|=1),l<<=1,this.readModule(3,a-1,i,a)&&(l|=1),l}extractDataRegion(i){const a=this.version.getSymbolSizeRows(),l=this.version.getSymbolSizeColumns();if(i.getHeight()!==a)throw new A("Dimension of bitMatrix must match the version size");const d=this.version.getDataRegionSizeRows(),f=this.version.getDataRegionSizeColumns(),g=a/d|0,v=l/f|0,S=g*d,T=v*f,O=new je(T,S);for(let B=0;B<g;++B){const V=B*d;for(let Z=0;Z<v;++Z){const J=Z*f;for(let ee=0;ee<d;++ee){const se=B*(d+2)+1+ee,he=V+ee;for(let Re=0;Re<f;++Re){const Te=Z*(f+2)+1+Re;if(i.get(Te,se)){const Ne=J+Re;O.set(Ne,he)}}}}}return O}}class Ps{constructor(i,a){this.numDataCodewords=i,this.codewords=a}static getDataBlocks(i,a){const l=a.getECBlocks();let d=0;const f=l.getECBlocks();for(let ee of f)d+=ee.getCount();const g=new Array(d);let v=0;for(let ee of f)for(let se=0;se<ee.getCount();se++){const he=ee.getDataCodewords(),Re=l.getECCodewords()+he;g[v++]=new Ps(he,new Uint8Array(Re))}const T=g[0].codewords.length-l.getECCodewords(),O=T-1;let B=0;for(let ee=0;ee<O;ee++)for(let se=0;se<v;se++)g[se].codewords[ee]=i[B++];const V=a.getVersionNumber()===24,Z=V?8:v;for(let ee=0;ee<Z;ee++)g[ee].codewords[T-1]=i[B++];const J=g[0].codewords.length;for(let ee=T;ee<J;ee++)for(let se=0;se<v;se++){const he=V?(se+8)%v:se,Re=V&&he>7?ee-1:ee;g[he].codewords[Re]=i[B++]}if(B!==i.length)throw new A;return g}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Bi{constructor(i){this.bytes=i,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(i){if(i<1||i>32||i>this.available())throw new A(""+i);let a=0,l=this.bitOffset,d=this.byteOffset;const f=this.bytes;if(l>0){const g=8-l,v=i<g?i:g,S=g-v,T=255>>8-v<<S;a=(f[d]&T)>>S,i-=v,l+=v,l===8&&(l=0,d++)}if(i>0){for(;i>=8;)a=a<<8|f[d]&255,d++,i-=8;if(i>0){const g=8-i,v=255>>g<<g;a=a<<i|(f[d]&v)>>g,l+=i}}return this.bitOffset=l,this.byteOffset=d,a}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Et;(function(L){L[L.PAD_ENCODE=0]="PAD_ENCODE",L[L.ASCII_ENCODE=1]="ASCII_ENCODE",L[L.C40_ENCODE=2]="C40_ENCODE",L[L.TEXT_ENCODE=3]="TEXT_ENCODE",L[L.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",L[L.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",L[L.BASE256_ENCODE=6]="BASE256_ENCODE"})(Et||(Et={}));class wr{static decode(i){const a=new Bi(i),l=new me,d=new me,f=new Array;let g=Et.ASCII_ENCODE;do if(g===Et.ASCII_ENCODE)g=this.decodeAsciiSegment(a,l,d);else{switch(g){case Et.C40_ENCODE:this.decodeC40Segment(a,l);break;case Et.TEXT_ENCODE:this.decodeTextSegment(a,l);break;case Et.ANSIX12_ENCODE:this.decodeAnsiX12Segment(a,l);break;case Et.EDIFACT_ENCODE:this.decodeEdifactSegment(a,l);break;case Et.BASE256_ENCODE:this.decodeBase256Segment(a,l,f);break;default:throw new z}g=Et.ASCII_ENCODE}while(g!==Et.PAD_ENCODE&&a.available()>0);return d.length()>0&&l.append(d.toString()),new Ht(i,l.toString(),f.length===0?null:f,null)}static decodeAsciiSegment(i,a,l){let d=!1;do{let f=i.readBits(8);if(f===0)throw new z;if(f<=128)return d&&(f+=128),a.append(String.fromCharCode(f-1)),Et.ASCII_ENCODE;if(f===129)return Et.PAD_ENCODE;if(f<=229){const g=f-130;g<10&&a.append("0"),a.append(""+g)}else switch(f){case 230:return Et.C40_ENCODE;case 231:return Et.BASE256_ENCODE;case 232:a.append("");break;case 233:case 234:break;case 235:d=!0;break;case 236:a.append("[)>05"),l.insert(0,"");break;case 237:a.append("[)>06"),l.insert(0,"");break;case 238:return Et.ANSIX12_ENCODE;case 239:return Et.TEXT_ENCODE;case 240:return Et.EDIFACT_ENCODE;case 241:break;default:if(f!==254||i.available()!==0)throw new z;break}}while(i.available()>0);return Et.ASCII_ENCODE}static decodeC40Segment(i,a){let l=!1;const d=[];let f=0;do{if(i.available()===8)return;const g=i.readBits(8);if(g===254)return;this.parseTwoBytes(g,i.readBits(8),d);for(let v=0;v<3;v++){const S=d[v];switch(f){case 0:if(S<3)f=S+1;else if(S<this.C40_BASIC_SET_CHARS.length){const T=this.C40_BASIC_SET_CHARS[S];l?(a.append(String.fromCharCode(T.charCodeAt(0)+128)),l=!1):a.append(T)}else throw new z;break;case 1:l?(a.append(String.fromCharCode(S+128)),l=!1):a.append(String.fromCharCode(S)),f=0;break;case 2:if(S<this.C40_SHIFT2_SET_CHARS.length){const T=this.C40_SHIFT2_SET_CHARS[S];l?(a.append(String.fromCharCode(T.charCodeAt(0)+128)),l=!1):a.append(T)}else switch(S){case 27:a.append("");break;case 30:l=!0;break;default:throw new z}f=0;break;case 3:l?(a.append(String.fromCharCode(S+224)),l=!1):a.append(String.fromCharCode(S+96)),f=0;break;default:throw new z}}}while(i.available()>0)}static decodeTextSegment(i,a){let l=!1,d=[],f=0;do{if(i.available()===8)return;const g=i.readBits(8);if(g===254)return;this.parseTwoBytes(g,i.readBits(8),d);for(let v=0;v<3;v++){const S=d[v];switch(f){case 0:if(S<3)f=S+1;else if(S<this.TEXT_BASIC_SET_CHARS.length){const T=this.TEXT_BASIC_SET_CHARS[S];l?(a.append(String.fromCharCode(T.charCodeAt(0)+128)),l=!1):a.append(T)}else throw new z;break;case 1:l?(a.append(String.fromCharCode(S+128)),l=!1):a.append(String.fromCharCode(S)),f=0;break;case 2:if(S<this.TEXT_SHIFT2_SET_CHARS.length){const T=this.TEXT_SHIFT2_SET_CHARS[S];l?(a.append(String.fromCharCode(T.charCodeAt(0)+128)),l=!1):a.append(T)}else switch(S){case 27:a.append("");break;case 30:l=!0;break;default:throw new z}f=0;break;case 3:if(S<this.TEXT_SHIFT3_SET_CHARS.length){const T=this.TEXT_SHIFT3_SET_CHARS[S];l?(a.append(String.fromCharCode(T.charCodeAt(0)+128)),l=!1):a.append(T),f=0}else throw new z;break;default:throw new z}}}while(i.available()>0)}static decodeAnsiX12Segment(i,a){const l=[];do{if(i.available()===8)return;const d=i.readBits(8);if(d===254)return;this.parseTwoBytes(d,i.readBits(8),l);for(let f=0;f<3;f++){const g=l[f];switch(g){case 0:a.append("\r");break;case 1:a.append("*");break;case 2:a.append(">");break;case 3:a.append(" ");break;default:if(g<14)a.append(String.fromCharCode(g+44));else if(g<40)a.append(String.fromCharCode(g+51));else throw new z;break}}}while(i.available()>0)}static parseTwoBytes(i,a,l){let d=(i<<8)+a-1,f=Math.floor(d/1600);l[0]=f,d-=f*1600,f=Math.floor(d/40),l[1]=f,l[2]=d-f*40}static decodeEdifactSegment(i,a){do{if(i.available()<=16)return;for(let l=0;l<4;l++){let d=i.readBits(6);if(d===31){const f=8-i.getBitOffset();f!==8&&i.readBits(f);return}(d&32)===0&&(d|=64),a.append(String.fromCharCode(d))}}while(i.available()>0)}static decodeBase256Segment(i,a,l){let d=1+i.getByteOffset();const f=this.unrandomize255State(i.readBits(8),d++);let g;if(f===0?g=i.available()/8|0:f<250?g=f:g=250*(f-249)+this.unrandomize255State(i.readBits(8),d++),g<0)throw new z;const v=new Uint8Array(g);for(let S=0;S<g;S++){if(i.available()<8)throw new z;v[S]=this.unrandomize255State(i.readBits(8),d++)}l.push(v);try{a.append(ae.decode(v,ve.ISO88591))}catch(S){throw new bi("Platform does not support required encoding: "+S.message)}}static unrandomize255State(i,a){const l=149*a%255+1,d=i-l;return d>=0?d:d+256}}wr.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],wr.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],wr.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],wr.TEXT_SHIFT2_SET_CHARS=wr.C40_SHIFT2_SET_CHARS,wr.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class Lh{constructor(){this.rsDecoder=new ns(vt.DATA_MATRIX_FIELD_256)}decode(i){const a=new ks(i),l=a.getVersion(),d=a.readCodewords(),f=Ps.getDataBlocks(d,l);let g=0;for(let T of f)g+=T.getNumDataCodewords();const v=new Uint8Array(g),S=f.length;for(let T=0;T<S;T++){const O=f[T],B=O.getCodewords(),V=O.getNumDataCodewords();this.correctErrors(B,V);for(let Z=0;Z<V;Z++)v[Z*S+T]=B[Z]}return wr.decode(v)}correctErrors(i,a){const l=new Int32Array(i);try{this.rsDecoder.decode(l,i.length-a)}catch{throw new D}for(let d=0;d<a;d++)i[d]=l[d]}}class Zt{constructor(i){this.image=i,this.rectangleDetector=new sn(this.image)}detect(){const i=this.rectangleDetector.detect();let a=this.detectSolid1(i);if(a=this.detectSolid2(a),a[3]=this.correctTopRight(a),!a[3])throw new ne;a=this.shiftToModuleCenter(a);const l=a[0],d=a[1],f=a[2],g=a[3];let v=this.transitionsBetween(l,g)+1,S=this.transitionsBetween(f,g)+1;(v&1)===1&&(v+=1),(S&1)===1&&(S+=1),4*v<7*S&&4*S<7*v&&(v=S=Math.max(v,S));let T=Zt.sampleGrid(this.image,l,d,f,g,v,S);return new bo(T,[l,d,f,g])}static shiftPoint(i,a,l){let d=(a.getX()-i.getX())/(l+1),f=(a.getY()-i.getY())/(l+1);return new Pe(i.getX()+d,i.getY()+f)}static moveAway(i,a,l){let d=i.getX(),f=i.getY();return d<a?d-=1:d+=1,f<l?f-=1:f+=1,new Pe(d,f)}detectSolid1(i){let a=i[0],l=i[1],d=i[3],f=i[2],g=this.transitionsBetween(a,l),v=this.transitionsBetween(l,d),S=this.transitionsBetween(d,f),T=this.transitionsBetween(f,a),O=g,B=[f,a,l,d];return O>v&&(O=v,B[0]=a,B[1]=l,B[2]=d,B[3]=f),O>S&&(O=S,B[0]=l,B[1]=d,B[2]=f,B[3]=a),O>T&&(B[0]=d,B[1]=f,B[2]=a,B[3]=l),B}detectSolid2(i){let a=i[0],l=i[1],d=i[2],f=i[3],g=this.transitionsBetween(a,f),v=Zt.shiftPoint(l,d,(g+1)*4),S=Zt.shiftPoint(d,l,(g+1)*4),T=this.transitionsBetween(v,a),O=this.transitionsBetween(S,f);return T<O?(i[0]=a,i[1]=l,i[2]=d,i[3]=f):(i[0]=l,i[1]=d,i[2]=f,i[3]=a),i}correctTopRight(i){let a=i[0],l=i[1],d=i[2],f=i[3],g=this.transitionsBetween(a,f),v=this.transitionsBetween(l,f),S=Zt.shiftPoint(a,l,(v+1)*4),T=Zt.shiftPoint(d,l,(g+1)*4);g=this.transitionsBetween(S,f),v=this.transitionsBetween(T,f);let O=new Pe(f.getX()+(d.getX()-l.getX())/(g+1),f.getY()+(d.getY()-l.getY())/(g+1)),B=new Pe(f.getX()+(a.getX()-l.getX())/(v+1),f.getY()+(a.getY()-l.getY())/(v+1));if(!this.isValid(O))return this.isValid(B)?B:null;if(!this.isValid(B))return O;let V=this.transitionsBetween(S,O)+this.transitionsBetween(T,O),Z=this.transitionsBetween(S,B)+this.transitionsBetween(T,B);return V>Z?O:B}shiftToModuleCenter(i){let a=i[0],l=i[1],d=i[2],f=i[3],g=this.transitionsBetween(a,f)+1,v=this.transitionsBetween(d,f)+1,S=Zt.shiftPoint(a,l,v*4),T=Zt.shiftPoint(d,l,g*4);g=this.transitionsBetween(S,f)+1,v=this.transitionsBetween(T,f)+1,(g&1)===1&&(g+=1),(v&1)===1&&(v+=1);let O=(a.getX()+l.getX()+d.getX()+f.getX())/4,B=(a.getY()+l.getY()+d.getY()+f.getY())/4;a=Zt.moveAway(a,O,B),l=Zt.moveAway(l,O,B),d=Zt.moveAway(d,O,B),f=Zt.moveAway(f,O,B);let V,Z;return S=Zt.shiftPoint(a,l,v*4),S=Zt.shiftPoint(S,f,g*4),V=Zt.shiftPoint(l,a,v*4),V=Zt.shiftPoint(V,d,g*4),T=Zt.shiftPoint(d,f,v*4),T=Zt.shiftPoint(T,l,g*4),Z=Zt.shiftPoint(f,d,v*4),Z=Zt.shiftPoint(Z,a,g*4),[S,V,T,Z]}isValid(i){return i.getX()>=0&&i.getX()<this.image.getWidth()&&i.getY()>0&&i.getY()<this.image.getHeight()}static sampleGrid(i,a,l,d,f,g,v){return Di.getInstance().sampleGrid(i,g,v,.5,.5,g-.5,.5,g-.5,v-.5,.5,v-.5,a.getX(),a.getY(),f.getX(),f.getY(),d.getX(),d.getY(),l.getX(),l.getY())}transitionsBetween(i,a){let l=Math.trunc(i.getX()),d=Math.trunc(i.getY()),f=Math.trunc(a.getX()),g=Math.trunc(a.getY()),v=Math.abs(g-d)>Math.abs(f-l);if(v){let ee=l;l=d,d=ee,ee=f,f=g,g=ee}let S=Math.abs(f-l),T=Math.abs(g-d),O=-S/2,B=d<g?1:-1,V=l<f?1:-1,Z=0,J=this.image.get(v?d:l,v?l:d);for(let ee=l,se=d;ee!==f;ee+=V){let he=this.image.get(v?se:ee,v?ee:se);if(he!==J&&(Z++,J=he),O+=T,O>0){if(se===g)break;se+=B,O-=S}}return Z}}class xr{constructor(){this.decoder=new Lh}decode(i,a=null){let l,d;if(a!=null&&a.has(X.PURE_BARCODE)){const T=xr.extractPureBits(i.getBlackMatrix());l=this.decoder.decode(T),d=xr.NO_POINTS}else{const T=new Zt(i.getBlackMatrix()).detect();l=this.decoder.decode(T.getBits()),d=T.getPoints()}const f=l.getRawBytes(),g=new _e(l.getText(),f,8*f.length,d,Ie.DATA_MATRIX,k.currentTimeMillis()),v=l.getByteSegments();v!=null&&g.putMetadata(bt.BYTE_SEGMENTS,v);const S=l.getECLevel();return S!=null&&g.putMetadata(bt.ERROR_CORRECTION_LEVEL,S),g}reset(){}static extractPureBits(i){const a=i.getTopLeftOnBit(),l=i.getBottomRightOnBit();if(a==null||l==null)throw new ne;const d=this.moduleSize(a,i);let f=a[1];const g=l[1];let v=a[0];const T=(l[0]-v+1)/d,O=(g-f+1)/d;if(T<=0||O<=0)throw new ne;const B=d/2;f+=B,v+=B;const V=new je(T,O);for(let Z=0;Z<O;Z++){const J=f+Z*d;for(let ee=0;ee<T;ee++)i.get(v+ee*d,J)&&V.set(ee,Z)}return V}static moduleSize(i,a){const l=a.getWidth();let d=i[0];const f=i[1];for(;d<l&&a.get(d,f);)d++;if(d===l)throw new ne;const g=d-i[0];if(g===0)throw new ne;return g}}xr.NO_POINTS=[];class Eo extends Me{constructor(i=500){super(new xr,i)}}var Us;(function(L){L[L.L=0]="L",L[L.M=1]="M",L[L.Q=2]="Q",L[L.H=3]="H"})(Us||(Us={}));class at{constructor(i,a,l){this.value=i,this.stringValue=a,this.bits=l,at.FOR_BITS.set(l,this),at.FOR_VALUE.set(i,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(i){switch(i){case"L":return at.L;case"M":return at.M;case"Q":return at.Q;case"H":return at.H;default:throw new E(i+"not available")}}toString(){return this.stringValue}equals(i){if(!(i instanceof at))return!1;const a=i;return this.value===a.value}static forBits(i){if(i<0||i>=at.FOR_BITS.size)throw new A;return at.FOR_BITS.get(i)}}at.FOR_BITS=new Map,at.FOR_VALUE=new Map,at.L=new at(Us.L,"L",1),at.M=new at(Us.M,"M",0),at.Q=new at(Us.Q,"Q",3),at.H=new at(Us.H,"H",2);class Sn{constructor(i){this.errorCorrectionLevel=at.forBits(i>>3&3),this.dataMask=i&7}static numBitsDiffering(i,a){return U.bitCount(i^a)}static decodeFormatInformation(i,a){const l=Sn.doDecodeFormatInformation(i,a);return l!==null?l:Sn.doDecodeFormatInformation(i^Sn.FORMAT_INFO_MASK_QR,a^Sn.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(i,a){let l=Number.MAX_SAFE_INTEGER,d=0;for(const f of Sn.FORMAT_INFO_DECODE_LOOKUP){const g=f[0];if(g===i||g===a)return new Sn(f[1]);let v=Sn.numBitsDiffering(i,g);v<l&&(d=f[1],l=v),i!==a&&(v=Sn.numBitsDiffering(a,g),v<l&&(d=f[1],l=v))}return l<=3?new Sn(d):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(i){if(!(i instanceof Sn))return!1;const a=i;return this.errorCorrectionLevel===a.errorCorrectionLevel&&this.dataMask===a.dataMask}}Sn.FORMAT_INFO_MASK_QR=21522,Sn.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class oe{constructor(i,...a){this.ecCodewordsPerBlock=i,this.ecBlocks=a}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let i=0;const a=this.ecBlocks;for(const l of a)i+=l.getCount();return i}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class W{constructor(i,a){this.count=i,this.dataCodewords=a}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Ve{constructor(i,a,...l){this.versionNumber=i,this.alignmentPatternCenters=a,this.ecBlocks=l;let d=0;const f=l[0].getECCodewordsPerBlock(),g=l[0].getECBlocks();for(const v of g)d+=v.getCount()*(v.getDataCodewords()+f);this.totalCodewords=d}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(i){return this.ecBlocks[i.getValue()]}static getProvisionalVersionForDimension(i){if(i%4!==1)throw new z;try{return this.getVersionForNumber((i-17)/4)}catch{throw new z}}static getVersionForNumber(i){if(i<1||i>40)throw new A;return Ve.VERSIONS[i-1]}static decodeVersionInformation(i){let a=Number.MAX_SAFE_INTEGER,l=0;for(let d=0;d<Ve.VERSION_DECODE_INFO.length;d++){const f=Ve.VERSION_DECODE_INFO[d];if(f===i)return Ve.getVersionForNumber(d+7);const g=Sn.numBitsDiffering(i,f);g<a&&(l=d+7,a=g)}return a<=3?Ve.getVersionForNumber(l):null}buildFunctionPattern(){const i=this.getDimensionForVersion(),a=new je(i);a.setRegion(0,0,9,9),a.setRegion(i-8,0,8,9),a.setRegion(0,i-8,9,8);const l=this.alignmentPatternCenters.length;for(let d=0;d<l;d++){const f=this.alignmentPatternCenters[d]-2;for(let g=0;g<l;g++)d===0&&(g===0||g===l-1)||d===l-1&&g===0||a.setRegion(this.alignmentPatternCenters[g]-2,f,5,5)}return a.setRegion(6,9,1,i-17),a.setRegion(9,6,i-17,1),this.versionNumber>6&&(a.setRegion(i-11,0,3,6),a.setRegion(0,i-11,6,3)),a}toString(){return""+this.versionNumber}}Ve.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),Ve.VERSIONS=[new Ve(1,new Int32Array(0),new oe(7,new W(1,19)),new oe(10,new W(1,16)),new oe(13,new W(1,13)),new oe(17,new W(1,9))),new Ve(2,Int32Array.from([6,18]),new oe(10,new W(1,34)),new oe(16,new W(1,28)),new oe(22,new W(1,22)),new oe(28,new W(1,16))),new Ve(3,Int32Array.from([6,22]),new oe(15,new W(1,55)),new oe(26,new W(1,44)),new oe(18,new W(2,17)),new oe(22,new W(2,13))),new Ve(4,Int32Array.from([6,26]),new oe(20,new W(1,80)),new oe(18,new W(2,32)),new oe(26,new W(2,24)),new oe(16,new W(4,9))),new Ve(5,Int32Array.from([6,30]),new oe(26,new W(1,108)),new oe(24,new W(2,43)),new oe(18,new W(2,15),new W(2,16)),new oe(22,new W(2,11),new W(2,12))),new Ve(6,Int32Array.from([6,34]),new oe(18,new W(2,68)),new oe(16,new W(4,27)),new oe(24,new W(4,19)),new oe(28,new W(4,15))),new Ve(7,Int32Array.from([6,22,38]),new oe(20,new W(2,78)),new oe(18,new W(4,31)),new oe(18,new W(2,14),new W(4,15)),new oe(26,new W(4,13),new W(1,14))),new Ve(8,Int32Array.from([6,24,42]),new oe(24,new W(2,97)),new oe(22,new W(2,38),new W(2,39)),new oe(22,new W(4,18),new W(2,19)),new oe(26,new W(4,14),new W(2,15))),new Ve(9,Int32Array.from([6,26,46]),new oe(30,new W(2,116)),new oe(22,new W(3,36),new W(2,37)),new oe(20,new W(4,16),new W(4,17)),new oe(24,new W(4,12),new W(4,13))),new Ve(10,Int32Array.from([6,28,50]),new oe(18,new W(2,68),new W(2,69)),new oe(26,new W(4,43),new W(1,44)),new oe(24,new W(6,19),new W(2,20)),new oe(28,new W(6,15),new W(2,16))),new Ve(11,Int32Array.from([6,30,54]),new oe(20,new W(4,81)),new oe(30,new W(1,50),new W(4,51)),new oe(28,new W(4,22),new W(4,23)),new oe(24,new W(3,12),new W(8,13))),new Ve(12,Int32Array.from([6,32,58]),new oe(24,new W(2,92),new W(2,93)),new oe(22,new W(6,36),new W(2,37)),new oe(26,new W(4,20),new W(6,21)),new oe(28,new W(7,14),new W(4,15))),new Ve(13,Int32Array.from([6,34,62]),new oe(26,new W(4,107)),new oe(22,new W(8,37),new W(1,38)),new oe(24,new W(8,20),new W(4,21)),new oe(22,new W(12,11),new W(4,12))),new Ve(14,Int32Array.from([6,26,46,66]),new oe(30,new W(3,115),new W(1,116)),new oe(24,new W(4,40),new W(5,41)),new oe(20,new W(11,16),new W(5,17)),new oe(24,new W(11,12),new W(5,13))),new Ve(15,Int32Array.from([6,26,48,70]),new oe(22,new W(5,87),new W(1,88)),new oe(24,new W(5,41),new W(5,42)),new oe(30,new W(5,24),new W(7,25)),new oe(24,new W(11,12),new W(7,13))),new Ve(16,Int32Array.from([6,26,50,74]),new oe(24,new W(5,98),new W(1,99)),new oe(28,new W(7,45),new W(3,46)),new oe(24,new W(15,19),new W(2,20)),new oe(30,new W(3,15),new W(13,16))),new Ve(17,Int32Array.from([6,30,54,78]),new oe(28,new W(1,107),new W(5,108)),new oe(28,new W(10,46),new W(1,47)),new oe(28,new W(1,22),new W(15,23)),new oe(28,new W(2,14),new W(17,15))),new Ve(18,Int32Array.from([6,30,56,82]),new oe(30,new W(5,120),new W(1,121)),new oe(26,new W(9,43),new W(4,44)),new oe(28,new W(17,22),new W(1,23)),new oe(28,new W(2,14),new W(19,15))),new Ve(19,Int32Array.from([6,30,58,86]),new oe(28,new W(3,113),new W(4,114)),new oe(26,new W(3,44),new W(11,45)),new oe(26,new W(17,21),new W(4,22)),new oe(26,new W(9,13),new W(16,14))),new Ve(20,Int32Array.from([6,34,62,90]),new oe(28,new W(3,107),new W(5,108)),new oe(26,new W(3,41),new W(13,42)),new oe(30,new W(15,24),new W(5,25)),new oe(28,new W(15,15),new W(10,16))),new Ve(21,Int32Array.from([6,28,50,72,94]),new oe(28,new W(4,116),new W(4,117)),new oe(26,new W(17,42)),new oe(28,new W(17,22),new W(6,23)),new oe(30,new W(19,16),new W(6,17))),new Ve(22,Int32Array.from([6,26,50,74,98]),new oe(28,new W(2,111),new W(7,112)),new oe(28,new W(17,46)),new oe(30,new W(7,24),new W(16,25)),new oe(24,new W(34,13))),new Ve(23,Int32Array.from([6,30,54,78,102]),new oe(30,new W(4,121),new W(5,122)),new oe(28,new W(4,47),new W(14,48)),new oe(30,new W(11,24),new W(14,25)),new oe(30,new W(16,15),new W(14,16))),new Ve(24,Int32Array.from([6,28,54,80,106]),new oe(30,new W(6,117),new W(4,118)),new oe(28,new W(6,45),new W(14,46)),new oe(30,new W(11,24),new W(16,25)),new oe(30,new W(30,16),new W(2,17))),new Ve(25,Int32Array.from([6,32,58,84,110]),new oe(26,new W(8,106),new W(4,107)),new oe(28,new W(8,47),new W(13,48)),new oe(30,new W(7,24),new W(22,25)),new oe(30,new W(22,15),new W(13,16))),new Ve(26,Int32Array.from([6,30,58,86,114]),new oe(28,new W(10,114),new W(2,115)),new oe(28,new W(19,46),new W(4,47)),new oe(28,new W(28,22),new W(6,23)),new oe(30,new W(33,16),new W(4,17))),new Ve(27,Int32Array.from([6,34,62,90,118]),new oe(30,new W(8,122),new W(4,123)),new oe(28,new W(22,45),new W(3,46)),new oe(30,new W(8,23),new W(26,24)),new oe(30,new W(12,15),new W(28,16))),new Ve(28,Int32Array.from([6,26,50,74,98,122]),new oe(30,new W(3,117),new W(10,118)),new oe(28,new W(3,45),new W(23,46)),new oe(30,new W(4,24),new W(31,25)),new oe(30,new W(11,15),new W(31,16))),new Ve(29,Int32Array.from([6,30,54,78,102,126]),new oe(30,new W(7,116),new W(7,117)),new oe(28,new W(21,45),new W(7,46)),new oe(30,new W(1,23),new W(37,24)),new oe(30,new W(19,15),new W(26,16))),new Ve(30,Int32Array.from([6,26,52,78,104,130]),new oe(30,new W(5,115),new W(10,116)),new oe(28,new W(19,47),new W(10,48)),new oe(30,new W(15,24),new W(25,25)),new oe(30,new W(23,15),new W(25,16))),new Ve(31,Int32Array.from([6,30,56,82,108,134]),new oe(30,new W(13,115),new W(3,116)),new oe(28,new W(2,46),new W(29,47)),new oe(30,new W(42,24),new W(1,25)),new oe(30,new W(23,15),new W(28,16))),new Ve(32,Int32Array.from([6,34,60,86,112,138]),new oe(30,new W(17,115)),new oe(28,new W(10,46),new W(23,47)),new oe(30,new W(10,24),new W(35,25)),new oe(30,new W(19,15),new W(35,16))),new Ve(33,Int32Array.from([6,30,58,86,114,142]),new oe(30,new W(17,115),new W(1,116)),new oe(28,new W(14,46),new W(21,47)),new oe(30,new W(29,24),new W(19,25)),new oe(30,new W(11,15),new W(46,16))),new Ve(34,Int32Array.from([6,34,62,90,118,146]),new oe(30,new W(13,115),new W(6,116)),new oe(28,new W(14,46),new W(23,47)),new oe(30,new W(44,24),new W(7,25)),new oe(30,new W(59,16),new W(1,17))),new Ve(35,Int32Array.from([6,30,54,78,102,126,150]),new oe(30,new W(12,121),new W(7,122)),new oe(28,new W(12,47),new W(26,48)),new oe(30,new W(39,24),new W(14,25)),new oe(30,new W(22,15),new W(41,16))),new Ve(36,Int32Array.from([6,24,50,76,102,128,154]),new oe(30,new W(6,121),new W(14,122)),new oe(28,new W(6,47),new W(34,48)),new oe(30,new W(46,24),new W(10,25)),new oe(30,new W(2,15),new W(64,16))),new Ve(37,Int32Array.from([6,28,54,80,106,132,158]),new oe(30,new W(17,122),new W(4,123)),new oe(28,new W(29,46),new W(14,47)),new oe(30,new W(49,24),new W(10,25)),new oe(30,new W(24,15),new W(46,16))),new Ve(38,Int32Array.from([6,32,58,84,110,136,162]),new oe(30,new W(4,122),new W(18,123)),new oe(28,new W(13,46),new W(32,47)),new oe(30,new W(48,24),new W(14,25)),new oe(30,new W(42,15),new W(32,16))),new Ve(39,Int32Array.from([6,26,54,82,110,138,166]),new oe(30,new W(20,117),new W(4,118)),new oe(28,new W(40,47),new W(7,48)),new oe(30,new W(43,24),new W(22,25)),new oe(30,new W(10,15),new W(67,16))),new Ve(40,Int32Array.from([6,30,58,86,114,142,170]),new oe(30,new W(19,118),new W(6,119)),new oe(28,new W(18,47),new W(31,48)),new oe(30,new W(34,24),new W(34,25)),new oe(30,new W(20,15),new W(61,16)))];var vn;(function(L){L[L.DATA_MASK_000=0]="DATA_MASK_000",L[L.DATA_MASK_001=1]="DATA_MASK_001",L[L.DATA_MASK_010=2]="DATA_MASK_010",L[L.DATA_MASK_011=3]="DATA_MASK_011",L[L.DATA_MASK_100=4]="DATA_MASK_100",L[L.DATA_MASK_101=5]="DATA_MASK_101",L[L.DATA_MASK_110=6]="DATA_MASK_110",L[L.DATA_MASK_111=7]="DATA_MASK_111"})(vn||(vn={}));class ci{constructor(i,a){this.value=i,this.isMasked=a}unmaskBitMatrix(i,a){for(let l=0;l<a;l++)for(let d=0;d<a;d++)this.isMasked(l,d)&&i.flip(d,l)}}ci.values=new Map([[vn.DATA_MASK_000,new ci(vn.DATA_MASK_000,(L,i)=>(L+i&1)===0)],[vn.DATA_MASK_001,new ci(vn.DATA_MASK_001,(L,i)=>(L&1)===0)],[vn.DATA_MASK_010,new ci(vn.DATA_MASK_010,(L,i)=>i%3===0)],[vn.DATA_MASK_011,new ci(vn.DATA_MASK_011,(L,i)=>(L+i)%3===0)],[vn.DATA_MASK_100,new ci(vn.DATA_MASK_100,(L,i)=>(Math.floor(L/2)+Math.floor(i/3)&1)===0)],[vn.DATA_MASK_101,new ci(vn.DATA_MASK_101,(L,i)=>L*i%6===0)],[vn.DATA_MASK_110,new ci(vn.DATA_MASK_110,(L,i)=>L*i%6<3)],[vn.DATA_MASK_111,new ci(vn.DATA_MASK_111,(L,i)=>(L+i+L*i%3&1)===0)]]);class zs{constructor(i){const a=i.getHeight();if(a<21||(a&3)!==1)throw new z;this.bitMatrix=i}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let i=0;for(let f=0;f<6;f++)i=this.copyBit(f,8,i);i=this.copyBit(7,8,i),i=this.copyBit(8,8,i),i=this.copyBit(8,7,i);for(let f=5;f>=0;f--)i=this.copyBit(8,f,i);const a=this.bitMatrix.getHeight();let l=0;const d=a-7;for(let f=a-1;f>=d;f--)l=this.copyBit(8,f,l);for(let f=a-8;f<a;f++)l=this.copyBit(f,8,l);if(this.parsedFormatInfo=Sn.decodeFormatInformation(i,l),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new z}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const i=this.bitMatrix.getHeight(),a=Math.floor((i-17)/4);if(a<=6)return Ve.getVersionForNumber(a);let l=0;const d=i-11;for(let g=5;g>=0;g--)for(let v=i-9;v>=d;v--)l=this.copyBit(v,g,l);let f=Ve.decodeVersionInformation(l);if(f!==null&&f.getDimensionForVersion()===i)return this.parsedVersion=f,f;l=0;for(let g=5;g>=0;g--)for(let v=i-9;v>=d;v--)l=this.copyBit(g,v,l);if(f=Ve.decodeVersionInformation(l),f!==null&&f.getDimensionForVersion()===i)return this.parsedVersion=f,f;throw new z}copyBit(i,a,l){return(this.isMirror?this.bitMatrix.get(a,i):this.bitMatrix.get(i,a))?l<<1|1:l<<1}readCodewords(){const i=this.readFormatInformation(),a=this.readVersion(),l=ci.values.get(i.getDataMask()),d=this.bitMatrix.getHeight();l.unmaskBitMatrix(this.bitMatrix,d);const f=a.buildFunctionPattern();let g=!0;const v=new Uint8Array(a.getTotalCodewords());let S=0,T=0,O=0;for(let B=d-1;B>0;B-=2){B===6&&B--;for(let V=0;V<d;V++){const Z=g?d-1-V:V;for(let J=0;J<2;J++)f.get(B-J,Z)||(O++,T<<=1,this.bitMatrix.get(B-J,Z)&&(T|=1),O===8&&(v[S++]=T,O=0,T=0))}g=!g}if(S!==a.getTotalCodewords())throw new z;return v}remask(){if(this.parsedFormatInfo===null)return;const i=ci.values[this.parsedFormatInfo.getDataMask()],a=this.bitMatrix.getHeight();i.unmaskBitMatrix(this.bitMatrix,a)}setMirror(i){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=i}mirror(){const i=this.bitMatrix;for(let a=0,l=i.getWidth();a<l;a++)for(let d=a+1,f=i.getHeight();d<f;d++)i.get(a,d)!==i.get(d,a)&&(i.flip(d,a),i.flip(a,d))}}class _l{constructor(i,a){this.numDataCodewords=i,this.codewords=a}static getDataBlocks(i,a,l){if(i.length!==a.getTotalCodewords())throw new A;const d=a.getECBlocksForLevel(l);let f=0;const g=d.getECBlocks();for(const J of g)f+=J.getCount();const v=new Array(f);let S=0;for(const J of g)for(let ee=0;ee<J.getCount();ee++){const se=J.getDataCodewords(),he=d.getECCodewordsPerBlock()+se;v[S++]=new _l(se,new Uint8Array(he))}const T=v[0].codewords.length;let O=v.length-1;for(;O>=0&&v[O].codewords.length!==T;)O--;O++;const B=T-d.getECCodewordsPerBlock();let V=0;for(let J=0;J<B;J++)for(let ee=0;ee<S;ee++)v[ee].codewords[J]=i[V++];for(let J=O;J<S;J++)v[J].codewords[B]=i[V++];const Z=v[0].codewords.length;for(let J=B;J<Z;J++)for(let ee=0;ee<S;ee++){const se=ee<O?J:J+1;v[ee].codewords[se]=i[V++]}return v}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var ui;(function(L){L[L.TERMINATOR=0]="TERMINATOR",L[L.NUMERIC=1]="NUMERIC",L[L.ALPHANUMERIC=2]="ALPHANUMERIC",L[L.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",L[L.BYTE=4]="BYTE",L[L.ECI=5]="ECI",L[L.KANJI=6]="KANJI",L[L.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",L[L.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",L[L.HANZI=9]="HANZI"})(ui||(ui={}));class Ge{constructor(i,a,l,d){this.value=i,this.stringValue=a,this.characterCountBitsForVersions=l,this.bits=d,Ge.FOR_BITS.set(d,this),Ge.FOR_VALUE.set(i,this)}static forBits(i){const a=Ge.FOR_BITS.get(i);if(a===void 0)throw new A;return a}getCharacterCountBits(i){const a=i.getVersionNumber();let l;return a<=9?l=0:a<=26?l=1:l=2,this.characterCountBitsForVersions[l]}getValue(){return this.value}getBits(){return this.bits}equals(i){if(!(i instanceof Ge))return!1;const a=i;return this.value===a.value}toString(){return this.stringValue}}Ge.FOR_BITS=new Map,Ge.FOR_VALUE=new Map,Ge.TERMINATOR=new Ge(ui.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Ge.NUMERIC=new Ge(ui.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Ge.ALPHANUMERIC=new Ge(ui.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Ge.STRUCTURED_APPEND=new Ge(ui.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Ge.BYTE=new Ge(ui.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Ge.ECI=new Ge(ui.ECI,"ECI",Int32Array.from([0,0,0]),7),Ge.KANJI=new Ge(ui.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Ge.FNC1_FIRST_POSITION=new Ge(ui.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Ge.FNC1_SECOND_POSITION=new Ge(ui.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Ge.HANZI=new Ge(ui.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class qt{static decode(i,a,l,d){const f=new Bi(i);let g=new me;const v=new Array;let S=-1,T=-1;try{let O=null,B=!1,V;do{if(f.available()<4)V=Ge.TERMINATOR;else{const Z=f.readBits(4);V=Ge.forBits(Z)}switch(V){case Ge.TERMINATOR:break;case Ge.FNC1_FIRST_POSITION:case Ge.FNC1_SECOND_POSITION:B=!0;break;case Ge.STRUCTURED_APPEND:if(f.available()<16)throw new z;S=f.readBits(8),T=f.readBits(8);break;case Ge.ECI:const Z=qt.parseECIValue(f);if(O=Q.getCharacterSetECIByValue(Z),O===null)throw new z;break;case Ge.HANZI:const J=f.readBits(4),ee=f.readBits(V.getCharacterCountBits(a));J===qt.GB2312_SUBSET&&qt.decodeHanziSegment(f,g,ee);break;default:const se=f.readBits(V.getCharacterCountBits(a));switch(V){case Ge.NUMERIC:qt.decodeNumericSegment(f,g,se);break;case Ge.ALPHANUMERIC:qt.decodeAlphanumericSegment(f,g,se,B);break;case Ge.BYTE:qt.decodeByteSegment(f,g,se,O,v,d);break;case Ge.KANJI:qt.decodeKanjiSegment(f,g,se);break;default:throw new z}break}}while(V!==Ge.TERMINATOR)}catch{throw new z}return new Ht(i,g.toString(),v.length===0?null:v,l===null?null:l.toString(),S,T)}static decodeHanziSegment(i,a,l){if(l*13>i.available())throw new z;const d=new Uint8Array(2*l);let f=0;for(;l>0;){const g=i.readBits(13);let v=g/96<<8&4294967295|g%96;v<959?v+=41377:v+=42657,d[f]=v>>8&255,d[f+1]=v&255,f+=2,l--}try{a.append(ae.decode(d,ve.GB2312))}catch(g){throw new z(g)}}static decodeKanjiSegment(i,a,l){if(l*13>i.available())throw new z;const d=new Uint8Array(2*l);let f=0;for(;l>0;){const g=i.readBits(13);let v=g/192<<8&4294967295|g%192;v<7936?v+=33088:v+=49472,d[f]=v>>8,d[f+1]=v,f+=2,l--}try{a.append(ae.decode(d,ve.SHIFT_JIS))}catch(g){throw new z(g)}}static decodeByteSegment(i,a,l,d,f,g){if(8*l>i.available())throw new z;const v=new Uint8Array(l);for(let T=0;T<l;T++)v[T]=i.readBits(8);let S;d===null?S=ve.guessEncoding(v,g):S=d.getName();try{a.append(ae.decode(v,S))}catch(T){throw new z(T)}f.push(v)}static toAlphaNumericChar(i){if(i>=qt.ALPHANUMERIC_CHARS.length)throw new z;return qt.ALPHANUMERIC_CHARS[i]}static decodeAlphanumericSegment(i,a,l,d){const f=a.length();for(;l>1;){if(i.available()<11)throw new z;const g=i.readBits(11);a.append(qt.toAlphaNumericChar(Math.floor(g/45))),a.append(qt.toAlphaNumericChar(g%45)),l-=2}if(l===1){if(i.available()<6)throw new z;a.append(qt.toAlphaNumericChar(i.readBits(6)))}if(d)for(let g=f;g<a.length();g++)a.charAt(g)==="%"&&(g<a.length()-1&&a.charAt(g+1)==="%"?a.deleteCharAt(g+1):a.setCharAt(g,""))}static decodeNumericSegment(i,a,l){for(;l>=3;){if(i.available()<10)throw new z;const d=i.readBits(10);if(d>=1e3)throw new z;a.append(qt.toAlphaNumericChar(Math.floor(d/100))),a.append(qt.toAlphaNumericChar(Math.floor(d/10)%10)),a.append(qt.toAlphaNumericChar(d%10)),l-=3}if(l===2){if(i.available()<7)throw new z;const d=i.readBits(7);if(d>=100)throw new z;a.append(qt.toAlphaNumericChar(Math.floor(d/10))),a.append(qt.toAlphaNumericChar(d%10))}else if(l===1){if(i.available()<4)throw new z;const d=i.readBits(4);if(d>=10)throw new z;a.append(qt.toAlphaNumericChar(d))}}static parseECIValue(i){const a=i.readBits(8);if((a&128)===0)return a&127;if((a&192)===128){const l=i.readBits(8);return(a&63)<<8&4294967295|l}if((a&224)===192){const l=i.readBits(16);return(a&31)<<16&4294967295|l}throw new z}}qt.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",qt.GB2312_SUBSET=1;class lu{constructor(i){this.mirrored=i}isMirrored(){return this.mirrored}applyMirroredCorrection(i){if(!this.mirrored||i===null||i.length<3)return;const a=i[0];i[0]=i[2],i[2]=a}}class Bh{constructor(){this.rsDecoder=new ns(vt.QR_CODE_FIELD_256)}decodeBooleanArray(i,a){return this.decodeBitMatrix(je.parseFromBooleanArray(i),a)}decodeBitMatrix(i,a){const l=new zs(i);let d=null;try{return this.decodeBitMatrixParser(l,a)}catch(f){d=f}try{l.remask(),l.setMirror(!0),l.readVersion(),l.readFormatInformation(),l.mirror();const f=this.decodeBitMatrixParser(l,a);return f.setOther(new lu(!0)),f}catch(f){throw d!==null?d:f}}decodeBitMatrixParser(i,a){const l=i.readVersion(),d=i.readFormatInformation().getErrorCorrectionLevel(),f=i.readCodewords(),g=_l.getDataBlocks(f,l,d);let v=0;for(const O of g)v+=O.getNumDataCodewords();const S=new Uint8Array(v);let T=0;for(const O of g){const B=O.getCodewords(),V=O.getNumDataCodewords();this.correctErrors(B,V);for(let Z=0;Z<V;Z++)S[T++]=B[Z]}return qt.decode(S,l,d,a)}correctErrors(i,a){const l=new Int32Array(i);try{this.rsDecoder.decode(l,i.length-a)}catch{throw new D}for(let d=0;d<a;d++)i[d]=l[d]}}class Fs extends Pe{constructor(i,a,l){super(i,a),this.estimatedModuleSize=l}aboutEquals(i,a,l){if(Math.abs(a-this.getY())<=i&&Math.abs(l-this.getX())<=i){const d=Math.abs(i-this.estimatedModuleSize);return d<=1||d<=this.estimatedModuleSize}return!1}combineEstimate(i,a,l){const d=(this.getX()+a)/2,f=(this.getY()+i)/2,g=(this.estimatedModuleSize+l)/2;return new Fs(d,f,g)}}class xi{constructor(i,a,l,d,f,g,v){this.image=i,this.startX=a,this.startY=l,this.width=d,this.height=f,this.moduleSize=g,this.resultPointCallback=v,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const i=this.startX,a=this.height,l=this.width,d=i+l,f=this.startY+a/2,g=new Int32Array(3),v=this.image;for(let S=0;S<a;S++){const T=f+((S&1)===0?Math.floor((S+1)/2):-Math.floor((S+1)/2));g[0]=0,g[1]=0,g[2]=0;let O=i;for(;O<d&&!v.get(O,T);)O++;let B=0;for(;O<d;){if(v.get(O,T))if(B===1)g[1]++;else if(B===2){if(this.foundPatternCross(g)){const V=this.handlePossibleCenter(g,T,O);if(V!==null)return V}g[0]=g[2],g[1]=1,g[2]=0,B=1}else g[++B]++;else B===1&&B++,g[B]++;O++}if(this.foundPatternCross(g)){const V=this.handlePossibleCenter(g,T,d);if(V!==null)return V}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new ne}static centerFromEnd(i,a){return a-i[2]-i[1]/2}foundPatternCross(i){const a=this.moduleSize,l=a/2;for(let d=0;d<3;d++)if(Math.abs(a-i[d])>=l)return!1;return!0}crossCheckVertical(i,a,l,d){const f=this.image,g=f.getHeight(),v=this.crossCheckStateCount;v[0]=0,v[1]=0,v[2]=0;let S=i;for(;S>=0&&f.get(a,S)&&v[1]<=l;)v[1]++,S--;if(S<0||v[1]>l)return NaN;for(;S>=0&&!f.get(a,S)&&v[0]<=l;)v[0]++,S--;if(v[0]>l)return NaN;for(S=i+1;S<g&&f.get(a,S)&&v[1]<=l;)v[1]++,S++;if(S===g||v[1]>l)return NaN;for(;S<g&&!f.get(a,S)&&v[2]<=l;)v[2]++,S++;if(v[2]>l)return NaN;const T=v[0]+v[1]+v[2];return 5*Math.abs(T-d)>=2*d?NaN:this.foundPatternCross(v)?xi.centerFromEnd(v,S):NaN}handlePossibleCenter(i,a,l){const d=i[0]+i[1]+i[2],f=xi.centerFromEnd(i,l),g=this.crossCheckVertical(a,f,2*i[1],d);if(!isNaN(g)){const v=(i[0]+i[1]+i[2])/3;for(const T of this.possibleCenters)if(T.aboutEquals(v,g,f))return T.combineEstimate(g,f,v);const S=new Fs(f,g,v);this.possibleCenters.push(S),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(S)}return null}}class La extends Pe{constructor(i,a,l,d){super(i,a),this.estimatedModuleSize=l,this.count=d,d===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(i,a,l){if(Math.abs(a-this.getY())<=i&&Math.abs(l-this.getX())<=i){const d=Math.abs(i-this.estimatedModuleSize);return d<=1||d<=this.estimatedModuleSize}return!1}combineEstimate(i,a,l){const d=this.count+1,f=(this.count*this.getX()+a)/d,g=(this.count*this.getY()+i)/d,v=(this.count*this.estimatedModuleSize+l)/d;return new La(f,g,v,d)}}class Dl{constructor(i){this.bottomLeft=i[0],this.topLeft=i[1],this.topRight=i[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Kt{constructor(i,a){this.image=i,this.resultPointCallback=a,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=a}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(i){const a=i!=null&&i.get(X.TRY_HARDER)!==void 0,l=i!=null&&i.get(X.PURE_BARCODE)!==void 0,d=this.image,f=d.getHeight(),g=d.getWidth();let v=Math.floor(3*f/(4*Kt.MAX_MODULES));(v<Kt.MIN_SKIP||a)&&(v=Kt.MIN_SKIP);let S=!1;const T=new Int32Array(5);for(let B=v-1;B<f&&!S;B+=v){T[0]=0,T[1]=0,T[2]=0,T[3]=0,T[4]=0;let V=0;for(let Z=0;Z<g;Z++)if(d.get(Z,B))(V&1)===1&&V++,T[V]++;else if((V&1)===0)if(V===4)if(Kt.foundPatternCross(T)){if(this.handlePossibleCenter(T,B,Z,l)===!0)if(v=2,this.hasSkipped===!0)S=this.haveMultiplyConfirmedCenters();else{const ee=this.findRowSkip();ee>T[2]&&(B+=ee-T[2]-v,Z=g-1)}else{T[0]=T[2],T[1]=T[3],T[2]=T[4],T[3]=1,T[4]=0,V=3;continue}V=0,T[0]=0,T[1]=0,T[2]=0,T[3]=0,T[4]=0}else T[0]=T[2],T[1]=T[3],T[2]=T[4],T[3]=1,T[4]=0,V=3;else T[++V]++;else T[V]++;Kt.foundPatternCross(T)&&this.handlePossibleCenter(T,B,g,l)===!0&&(v=T[0],this.hasSkipped&&(S=this.haveMultiplyConfirmedCenters()))}const O=this.selectBestPatterns();return Pe.orderBestPatterns(O),new Dl(O)}static centerFromEnd(i,a){return a-i[4]-i[3]-i[2]/2}static foundPatternCross(i){let a=0;for(let f=0;f<5;f++){const g=i[f];if(g===0)return!1;a+=g}if(a<7)return!1;const l=a/7,d=l/2;return Math.abs(l-i[0])<d&&Math.abs(l-i[1])<d&&Math.abs(3*l-i[2])<3*d&&Math.abs(l-i[3])<d&&Math.abs(l-i[4])<d}getCrossCheckStateCount(){const i=this.crossCheckStateCount;return i[0]=0,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i}crossCheckDiagonal(i,a,l,d){const f=this.getCrossCheckStateCount();let g=0;const v=this.image;for(;i>=g&&a>=g&&v.get(a-g,i-g);)f[2]++,g++;if(i<g||a<g)return!1;for(;i>=g&&a>=g&&!v.get(a-g,i-g)&&f[1]<=l;)f[1]++,g++;if(i<g||a<g||f[1]>l)return!1;for(;i>=g&&a>=g&&v.get(a-g,i-g)&&f[0]<=l;)f[0]++,g++;if(f[0]>l)return!1;const S=v.getHeight(),T=v.getWidth();for(g=1;i+g<S&&a+g<T&&v.get(a+g,i+g);)f[2]++,g++;if(i+g>=S||a+g>=T)return!1;for(;i+g<S&&a+g<T&&!v.get(a+g,i+g)&&f[3]<l;)f[3]++,g++;if(i+g>=S||a+g>=T||f[3]>=l)return!1;for(;i+g<S&&a+g<T&&v.get(a+g,i+g)&&f[4]<l;)f[4]++,g++;if(f[4]>=l)return!1;const O=f[0]+f[1]+f[2]+f[3]+f[4];return Math.abs(O-d)<2*d&&Kt.foundPatternCross(f)}crossCheckVertical(i,a,l,d){const f=this.image,g=f.getHeight(),v=this.getCrossCheckStateCount();let S=i;for(;S>=0&&f.get(a,S);)v[2]++,S--;if(S<0)return NaN;for(;S>=0&&!f.get(a,S)&&v[1]<=l;)v[1]++,S--;if(S<0||v[1]>l)return NaN;for(;S>=0&&f.get(a,S)&&v[0]<=l;)v[0]++,S--;if(v[0]>l)return NaN;for(S=i+1;S<g&&f.get(a,S);)v[2]++,S++;if(S===g)return NaN;for(;S<g&&!f.get(a,S)&&v[3]<l;)v[3]++,S++;if(S===g||v[3]>=l)return NaN;for(;S<g&&f.get(a,S)&&v[4]<l;)v[4]++,S++;if(v[4]>=l)return NaN;const T=v[0]+v[1]+v[2]+v[3]+v[4];return 5*Math.abs(T-d)>=2*d?NaN:Kt.foundPatternCross(v)?Kt.centerFromEnd(v,S):NaN}crossCheckHorizontal(i,a,l,d){const f=this.image,g=f.getWidth(),v=this.getCrossCheckStateCount();let S=i;for(;S>=0&&f.get(S,a);)v[2]++,S--;if(S<0)return NaN;for(;S>=0&&!f.get(S,a)&&v[1]<=l;)v[1]++,S--;if(S<0||v[1]>l)return NaN;for(;S>=0&&f.get(S,a)&&v[0]<=l;)v[0]++,S--;if(v[0]>l)return NaN;for(S=i+1;S<g&&f.get(S,a);)v[2]++,S++;if(S===g)return NaN;for(;S<g&&!f.get(S,a)&&v[3]<l;)v[3]++,S++;if(S===g||v[3]>=l)return NaN;for(;S<g&&f.get(S,a)&&v[4]<l;)v[4]++,S++;if(v[4]>=l)return NaN;const T=v[0]+v[1]+v[2]+v[3]+v[4];return 5*Math.abs(T-d)>=d?NaN:Kt.foundPatternCross(v)?Kt.centerFromEnd(v,S):NaN}handlePossibleCenter(i,a,l,d){const f=i[0]+i[1]+i[2]+i[3]+i[4];let g=Kt.centerFromEnd(i,l),v=this.crossCheckVertical(a,Math.floor(g),i[2],f);if(!isNaN(v)&&(g=this.crossCheckHorizontal(Math.floor(g),Math.floor(v),i[2],f),!isNaN(g)&&(!d||this.crossCheckDiagonal(Math.floor(v),Math.floor(g),i[2],f)))){const S=f/7;let T=!1;const O=this.possibleCenters;for(let B=0,V=O.length;B<V;B++){const Z=O[B];if(Z.aboutEquals(S,v,g)){O[B]=Z.combineEstimate(v,g,S),T=!0;break}}if(!T){const B=new La(g,v,S);O.push(B),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(B)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let a=null;for(const l of this.possibleCenters)if(l.getCount()>=Kt.CENTER_QUORUM)if(a==null)a=l;else return this.hasSkipped=!0,Math.floor((Math.abs(a.getX()-l.getX())-Math.abs(a.getY()-l.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let i=0,a=0;const l=this.possibleCenters.length;for(const g of this.possibleCenters)g.getCount()>=Kt.CENTER_QUORUM&&(i++,a+=g.getEstimatedModuleSize());if(i<3)return!1;const d=a/l;let f=0;for(const g of this.possibleCenters)f+=Math.abs(g.getEstimatedModuleSize()-d);return f<=.05*a}selectBestPatterns(){const i=this.possibleCenters.length;if(i<3)throw new ne;const a=this.possibleCenters;let l;if(i>3){let d=0,f=0;for(const S of this.possibleCenters){const T=S.getEstimatedModuleSize();d+=T,f+=T*T}l=d/i;let g=Math.sqrt(f/i-l*l);a.sort((S,T)=>{const O=Math.abs(T.getEstimatedModuleSize()-l),B=Math.abs(S.getEstimatedModuleSize()-l);return O<B?-1:O>B?1:0});const v=Math.max(.2*l,g);for(let S=0;S<a.length&&a.length>3;S++){const T=a[S];Math.abs(T.getEstimatedModuleSize()-l)>v&&(a.splice(S,1),S--)}}if(a.length>3){let d=0;for(const f of a)d+=f.getEstimatedModuleSize();l=d/a.length,a.sort((f,g)=>{if(g.getCount()===f.getCount()){const v=Math.abs(g.getEstimatedModuleSize()-l),S=Math.abs(f.getEstimatedModuleSize()-l);return v<S?1:v>S?-1:0}else return g.getCount()-f.getCount()}),a.splice(3)}return[a[0],a[1],a[2]]}}Kt.CENTER_QUORUM=2,Kt.MIN_SKIP=3,Kt.MAX_MODULES=57;class tr{constructor(i){this.image=i}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(i){this.resultPointCallback=i==null?null:i.get(X.NEED_RESULT_POINT_CALLBACK);const l=new Kt(this.image,this.resultPointCallback).find(i);return this.processFinderPatternInfo(l)}processFinderPatternInfo(i){const a=i.getTopLeft(),l=i.getTopRight(),d=i.getBottomLeft(),f=this.calculateModuleSize(a,l,d);if(f<1)throw new ne("No pattern found in proccess finder.");const g=tr.computeDimension(a,l,d,f),v=Ve.getProvisionalVersionForDimension(g),S=v.getDimensionForVersion()-7;let T=null;if(v.getAlignmentPatternCenters().length>0){const Z=l.getX()-a.getX()+d.getX(),J=l.getY()-a.getY()+d.getY(),ee=1-3/S,se=Math.floor(a.getX()+ee*(Z-a.getX())),he=Math.floor(a.getY()+ee*(J-a.getY()));for(let Re=4;Re<=16;Re<<=1)try{T=this.findAlignmentInRegion(f,se,he,Re);break}catch(Te){if(!(Te instanceof ne))throw Te}}const O=tr.createTransform(a,l,d,T,g),B=tr.sampleGrid(this.image,O,g);let V;return T===null?V=[d,a,l]:V=[d,a,l,T],new bo(B,V)}static createTransform(i,a,l,d,f){const g=f-3.5;let v,S,T,O;return d!==null?(v=d.getX(),S=d.getY(),T=g-3,O=T):(v=a.getX()-i.getX()+l.getX(),S=a.getY()-i.getY()+l.getY(),T=g,O=g),vi.quadrilateralToQuadrilateral(3.5,3.5,g,3.5,T,O,3.5,g,i.getX(),i.getY(),a.getX(),a.getY(),v,S,l.getX(),l.getY())}static sampleGrid(i,a,l){return Di.getInstance().sampleGridWithTransform(i,l,l,a)}static computeDimension(i,a,l,d){const f=ot.round(Pe.distance(i,a)/d),g=ot.round(Pe.distance(i,l)/d);let v=Math.floor((f+g)/2)+7;switch(v&3){case 0:v++;break;case 2:v--;break;case 3:throw new ne("Dimensions could be not found.")}return v}calculateModuleSize(i,a,l){return(this.calculateModuleSizeOneWay(i,a)+this.calculateModuleSizeOneWay(i,l))/2}calculateModuleSizeOneWay(i,a){const l=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(i.getX()),Math.floor(i.getY()),Math.floor(a.getX()),Math.floor(a.getY())),d=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(a.getX()),Math.floor(a.getY()),Math.floor(i.getX()),Math.floor(i.getY()));return isNaN(l)?d/7:isNaN(d)?l/7:(l+d)/14}sizeOfBlackWhiteBlackRunBothWays(i,a,l,d){let f=this.sizeOfBlackWhiteBlackRun(i,a,l,d),g=1,v=i-(l-i);v<0?(g=i/(i-v),v=0):v>=this.image.getWidth()&&(g=(this.image.getWidth()-1-i)/(v-i),v=this.image.getWidth()-1);let S=Math.floor(a-(d-a)*g);return g=1,S<0?(g=a/(a-S),S=0):S>=this.image.getHeight()&&(g=(this.image.getHeight()-1-a)/(S-a),S=this.image.getHeight()-1),v=Math.floor(i+(v-i)*g),f+=this.sizeOfBlackWhiteBlackRun(i,a,v,S),f-1}sizeOfBlackWhiteBlackRun(i,a,l,d){const f=Math.abs(d-a)>Math.abs(l-i);if(f){let Z=i;i=a,a=Z,Z=l,l=d,d=Z}const g=Math.abs(l-i),v=Math.abs(d-a);let S=-g/2;const T=i<l?1:-1,O=a<d?1:-1;let B=0;const V=l+T;for(let Z=i,J=a;Z!==V;Z+=T){const ee=f?J:Z,se=f?Z:J;if(B===1===this.image.get(ee,se)){if(B===2)return ot.distance(Z,J,i,a);B++}if(S+=v,S>0){if(J===d)break;J+=O,S-=g}}return B===2?ot.distance(l+T,d,i,a):NaN}findAlignmentInRegion(i,a,l,d){const f=Math.floor(d*i),g=Math.max(0,a-f),v=Math.min(this.image.getWidth()-1,a+f);if(v-g<i*3)throw new ne("Alignment top exceeds estimated module size.");const S=Math.max(0,l-f),T=Math.min(this.image.getHeight()-1,l+f);if(T-S<i*3)throw new ne("Alignment bottom exceeds estimated module size.");return new xi(this.image,g,S,v-g,T-S,i,this.resultPointCallback).find()}}class Er{constructor(){this.decoder=new Bh}getDecoder(){return this.decoder}decode(i,a){let l,d;if(a!=null&&a.get(X.PURE_BARCODE)!==void 0){const S=Er.extractPureBits(i.getBlackMatrix());l=this.decoder.decodeBitMatrix(S,a),d=Er.NO_POINTS}else{const S=new tr(i.getBlackMatrix()).detect(a);l=this.decoder.decodeBitMatrix(S.getBits(),a),d=S.getPoints()}l.getOther()instanceof lu&&l.getOther().applyMirroredCorrection(d);const f=new _e(l.getText(),l.getRawBytes(),void 0,d,Ie.QR_CODE,void 0),g=l.getByteSegments();g!==null&&f.putMetadata(bt.BYTE_SEGMENTS,g);const v=l.getECLevel();return v!==null&&f.putMetadata(bt.ERROR_CORRECTION_LEVEL,v),l.hasStructuredAppend()&&(f.putMetadata(bt.STRUCTURED_APPEND_SEQUENCE,l.getStructuredAppendSequenceNumber()),f.putMetadata(bt.STRUCTURED_APPEND_PARITY,l.getStructuredAppendParity())),f}reset(){}static extractPureBits(i){const a=i.getTopLeftOnBit(),l=i.getBottomRightOnBit();if(a===null||l===null)throw new ne;const d=this.moduleSize(a,i);let f=a[1],g=l[1],v=a[0],S=l[0];if(v>=S||f>=g)throw new ne;if(g-f!==S-v&&(S=v+(g-f),S>=i.getWidth()))throw new ne;const T=Math.round((S-v+1)/d),O=Math.round((g-f+1)/d);if(T<=0||O<=0)throw new ne;if(O!==T)throw new ne;const B=Math.floor(d/2);f+=B,v+=B;const V=v+Math.floor((T-1)*d)-S;if(V>0){if(V>B)throw new ne;v-=V}const Z=f+Math.floor((O-1)*d)-g;if(Z>0){if(Z>B)throw new ne;f-=Z}const J=new je(T,O);for(let ee=0;ee<O;ee++){const se=f+Math.floor(ee*d);for(let he=0;he<T;he++)i.get(v+Math.floor(he*d),se)&&J.set(he,ee)}return J}static moduleSize(i,a){const l=a.getHeight(),d=a.getWidth();let f=i[0],g=i[1],v=!0,S=0;for(;f<d&&g<l;){if(v!==a.get(f,g)){if(++S===5)break;v=!v}f++,g++}if(f===d||g===l)throw new ne;return(f-i[0])/7}}Er.NO_POINTS=new Array;class Xe{PDF417Common(){}static getBitCountSum(i){return ot.sum(i)}static toIntArray(i){if(i==null||!i.length)return Xe.EMPTY_INT_ARRAY;const a=new Int32Array(i.length);let l=0;for(const d of i)a[l++]=d;return a}static getCodeword(i){const a=j.binarySearch(Xe.SYMBOL_TABLE,i&262143);return a<0?-1:(Xe.CODEWORD_TABLE[a]-1)%Xe.NUMBER_OF_CODEWORDS}}Xe.NUMBER_OF_CODEWORDS=929,Xe.MAX_CODEWORDS_IN_BARCODE=Xe.NUMBER_OF_CODEWORDS-1,Xe.MIN_ROWS_IN_BARCODE=3,Xe.MAX_ROWS_IN_BARCODE=90,Xe.MODULES_IN_CODEWORD=17,Xe.MODULES_IN_STOP_PATTERN=18,Xe.BARS_IN_MODULE=8,Xe.EMPTY_INT_ARRAY=new Int32Array([]),Xe.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Xe.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class cu{constructor(i,a){this.bits=i,this.points=a}getBits(){return this.bits}getPoints(){return this.points}}class $e{static detectMultiple(i,a,l){let d=i.getBlackMatrix(),f=$e.detect(l,d);return f.length||(d=d.clone(),d.rotate180(),f=$e.detect(l,d)),new cu(d,f)}static detect(i,a){const l=new Array;let d=0,f=0,g=!1;for(;d<a.getHeight();){const v=$e.findVertices(a,d,f);if(v[0]==null&&v[3]==null){if(!g)break;g=!1,f=0;for(const S of l)S[1]!=null&&(d=Math.trunc(Math.max(d,S[1].getY()))),S[3]!=null&&(d=Math.max(d,Math.trunc(S[3].getY())));d+=$e.ROW_STEP;continue}if(g=!0,l.push(v),!i)break;v[2]!=null?(f=Math.trunc(v[2].getX()),d=Math.trunc(v[2].getY())):(f=Math.trunc(v[4].getX()),d=Math.trunc(v[4].getY()))}return l}static findVertices(i,a,l){const d=i.getHeight(),f=i.getWidth(),g=new Array(8);return $e.copyToResult(g,$e.findRowsWithPattern(i,d,f,a,l,$e.START_PATTERN),$e.INDEXES_START_PATTERN),g[4]!=null&&(l=Math.trunc(g[4].getX()),a=Math.trunc(g[4].getY())),$e.copyToResult(g,$e.findRowsWithPattern(i,d,f,a,l,$e.STOP_PATTERN),$e.INDEXES_STOP_PATTERN),g}static copyToResult(i,a,l){for(let d=0;d<l.length;d++)i[l[d]]=a[d]}static findRowsWithPattern(i,a,l,d,f,g){const v=new Array(4);let S=!1;const T=new Int32Array(g.length);for(;d<a;d+=$e.ROW_STEP){let B=$e.findGuardPattern(i,f,d,l,!1,g,T);if(B!=null){for(;d>0;){const V=$e.findGuardPattern(i,f,--d,l,!1,g,T);if(V!=null)B=V;else{d++;break}}v[0]=new Pe(B[0],d),v[1]=new Pe(B[1],d),S=!0;break}}let O=d+1;if(S){let B=0,V=Int32Array.from([Math.trunc(v[0].getX()),Math.trunc(v[1].getX())]);for(;O<a;O++){const Z=$e.findGuardPattern(i,V[0],O,l,!1,g,T);if(Z!=null&&Math.abs(V[0]-Z[0])<$e.MAX_PATTERN_DRIFT&&Math.abs(V[1]-Z[1])<$e.MAX_PATTERN_DRIFT)V=Z,B=0;else{if(B>$e.SKIPPED_ROW_COUNT_MAX)break;B++}}O-=B+1,v[2]=new Pe(V[0],O),v[3]=new Pe(V[1],O)}return O-d<$e.BARCODE_MIN_HEIGHT&&j.fill(v,null),v}static findGuardPattern(i,a,l,d,f,g,v){j.fillWithin(v,0,v.length,0);let S=a,T=0;for(;i.get(S,l)&&S>0&&T++<$e.MAX_PIXEL_DRIFT;)S--;let O=S,B=0,V=g.length;for(let Z=f;O<d;O++)if(i.get(O,l)!==Z)v[B]++;else{if(B===V-1){if($e.patternMatchVariance(v,g,$e.MAX_INDIVIDUAL_VARIANCE)<$e.MAX_AVG_VARIANCE)return new Int32Array([S,O]);S+=v[0]+v[1],k.arraycopy(v,2,v,0,B-1),v[B-1]=0,v[B]=0,B--}else B++;v[B]=1,Z=!Z}return B===V-1&&$e.patternMatchVariance(v,g,$e.MAX_INDIVIDUAL_VARIANCE)<$e.MAX_AVG_VARIANCE?new Int32Array([S,O-1]):null}static patternMatchVariance(i,a,l){let d=i.length,f=0,g=0;for(let T=0;T<d;T++)f+=i[T],g+=a[T];if(f<g)return 1/0;let v=f/g;l*=v;let S=0;for(let T=0;T<d;T++){let O=i[T],B=a[T]*v,V=O>B?O-B:B-O;if(V>l)return 1/0;S+=V}return S/f}}$e.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),$e.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),$e.MAX_AVG_VARIANCE=.42,$e.MAX_INDIVIDUAL_VARIANCE=.8,$e.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),$e.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),$e.MAX_PIXEL_DRIFT=3,$e.MAX_PATTERN_DRIFT=5,$e.SKIPPED_ROW_COUNT_MAX=25,$e.ROW_STEP=5,$e.BARCODE_MIN_HEIGHT=10;class Gt{constructor(i,a){if(a.length===0)throw new A;this.field=i;let l=a.length;if(l>1&&a[0]===0){let d=1;for(;d<l&&a[d]===0;)d++;d===l?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(l-d),k.arraycopy(a,d,this.coefficients,0,this.coefficients.length))}else this.coefficients=a}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(i){return this.coefficients[this.coefficients.length-1-i]}evaluateAt(i){if(i===0)return this.getCoefficient(0);if(i===1){let d=0;for(let f of this.coefficients)d=this.field.add(d,f);return d}let a=this.coefficients[0],l=this.coefficients.length;for(let d=1;d<l;d++)a=this.field.add(this.field.multiply(i,a),this.coefficients[d]);return a}add(i){if(!this.field.equals(i.field))throw new A("ModulusPolys do not have same ModulusGF field");if(this.isZero())return i;if(i.isZero())return this;let a=this.coefficients,l=i.coefficients;if(a.length>l.length){let g=a;a=l,l=g}let d=new Int32Array(l.length),f=l.length-a.length;k.arraycopy(l,0,d,0,f);for(let g=f;g<l.length;g++)d[g]=this.field.add(a[g-f],l[g]);return new Gt(this.field,d)}subtract(i){if(!this.field.equals(i.field))throw new A("ModulusPolys do not have same ModulusGF field");return i.isZero()?this:this.add(i.negative())}multiply(i){return i instanceof Gt?this.multiplyOther(i):this.multiplyScalar(i)}multiplyOther(i){if(!this.field.equals(i.field))throw new A("ModulusPolys do not have same ModulusGF field");if(this.isZero()||i.isZero())return new Gt(this.field,new Int32Array([0]));let a=this.coefficients,l=a.length,d=i.coefficients,f=d.length,g=new Int32Array(l+f-1);for(let v=0;v<l;v++){let S=a[v];for(let T=0;T<f;T++)g[v+T]=this.field.add(g[v+T],this.field.multiply(S,d[T]))}return new Gt(this.field,g)}negative(){let i=this.coefficients.length,a=new Int32Array(i);for(let l=0;l<i;l++)a[l]=this.field.subtract(0,this.coefficients[l]);return new Gt(this.field,a)}multiplyScalar(i){if(i===0)return new Gt(this.field,new Int32Array([0]));if(i===1)return this;let a=this.coefficients.length,l=new Int32Array(a);for(let d=0;d<a;d++)l[d]=this.field.multiply(this.coefficients[d],i);return new Gt(this.field,l)}multiplyByMonomial(i,a){if(i<0)throw new A;if(a===0)return new Gt(this.field,new Int32Array([0]));let l=this.coefficients.length,d=new Int32Array(l+i);for(let f=0;f<l;f++)d[f]=this.field.multiply(this.coefficients[f],a);return new Gt(this.field,d)}toString(){let i=new me;for(let a=this.getDegree();a>=0;a--){let l=this.getCoefficient(a);l!==0&&(l<0?(i.append(" - "),l=-l):i.length()>0&&i.append(" + "),(a===0||l!==1)&&i.append(l),a!==0&&(a===1?i.append("x"):(i.append("x^"),i.append(a))))}return i.toString()}}class jl{add(i,a){return(i+a)%this.modulus}subtract(i,a){return(this.modulus+i-a)%this.modulus}exp(i){return this.expTable[i]}log(i){if(i===0)throw new A;return this.logTable[i]}inverse(i){if(i===0)throw new Ds;return this.expTable[this.modulus-this.logTable[i]-1]}multiply(i,a){return i===0||a===0?0:this.expTable[(this.logTable[i]+this.logTable[a])%(this.modulus-1)]}getSize(){return this.modulus}equals(i){return i===this}}class is extends jl{constructor(i,a){super(),this.modulus=i,this.expTable=new Int32Array(i),this.logTable=new Int32Array(i);let l=1;for(let d=0;d<i;d++)this.expTable[d]=l,l=l*a%i;for(let d=0;d<i-1;d++)this.logTable[this.expTable[d]]=d;this.zero=new Gt(this,new Int32Array([0])),this.one=new Gt(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(i,a){if(i<0)throw new A;if(a===0)return this.zero;let l=new Int32Array(i+1);return l[0]=a,new Gt(this,l)}}is.PDF417_GF=new is(Xe.NUMBER_OF_CODEWORDS,3);class Cr{constructor(){this.field=is.PDF417_GF}decode(i,a,l){let d=new Gt(this.field,i),f=new Int32Array(a),g=!1;for(let J=a;J>0;J--){let ee=d.evaluateAt(this.field.exp(J));f[a-J]=ee,ee!==0&&(g=!0)}if(!g)return 0;let v=this.field.getOne();if(l!=null)for(const J of l){let ee=this.field.exp(i.length-1-J),se=new Gt(this.field,new Int32Array([this.field.subtract(0,ee),1]));v=v.multiply(se)}let S=new Gt(this.field,f),T=this.runEuclideanAlgorithm(this.field.buildMonomial(a,1),S,a),O=T[0],B=T[1],V=this.findErrorLocations(O),Z=this.findErrorMagnitudes(B,O,V);for(let J=0;J<V.length;J++){let ee=i.length-1-this.field.log(V[J]);if(ee<0)throw D.getChecksumInstance();i[ee]=this.field.subtract(i[ee],Z[J])}return V.length}runEuclideanAlgorithm(i,a,l){if(i.getDegree()<a.getDegree()){let V=i;i=a,a=V}let d=i,f=a,g=this.field.getZero(),v=this.field.getOne();for(;f.getDegree()>=Math.round(l/2);){let V=d,Z=g;if(d=f,g=v,d.isZero())throw D.getChecksumInstance();f=V;let J=this.field.getZero(),ee=d.getCoefficient(d.getDegree()),se=this.field.inverse(ee);for(;f.getDegree()>=d.getDegree()&&!f.isZero();){let he=f.getDegree()-d.getDegree(),Re=this.field.multiply(f.getCoefficient(f.getDegree()),se);J=J.add(this.field.buildMonomial(he,Re)),f=f.subtract(d.multiplyByMonomial(he,Re))}v=J.multiply(g).subtract(Z).negative()}let S=v.getCoefficient(0);if(S===0)throw D.getChecksumInstance();let T=this.field.inverse(S),O=v.multiply(T),B=f.multiply(T);return[O,B]}findErrorLocations(i){let a=i.getDegree(),l=new Int32Array(a),d=0;for(let f=1;f<this.field.getSize()&&d<a;f++)i.evaluateAt(f)===0&&(l[d]=this.field.inverse(f),d++);if(d!==a)throw D.getChecksumInstance();return l}findErrorMagnitudes(i,a,l){let d=a.getDegree(),f=new Int32Array(d);for(let T=1;T<=d;T++)f[d-T]=this.field.multiply(T,a.getCoefficient(T));let g=new Gt(this.field,f),v=l.length,S=new Int32Array(v);for(let T=0;T<v;T++){let O=this.field.inverse(l[T]),B=this.field.subtract(0,i.evaluateAt(O)),V=this.field.inverse(g.evaluateAt(O));S[T]=this.field.multiply(B,V)}return S}}class Sr{constructor(i,a,l,d,f){i instanceof Sr?this.constructor_2(i):this.constructor_1(i,a,l,d,f)}constructor_1(i,a,l,d,f){const g=a==null||l==null,v=d==null||f==null;if(g&&v)throw new ne;g?(a=new Pe(0,d.getY()),l=new Pe(0,f.getY())):v&&(d=new Pe(i.getWidth()-1,a.getY()),f=new Pe(i.getWidth()-1,l.getY())),this.image=i,this.topLeft=a,this.bottomLeft=l,this.topRight=d,this.bottomRight=f,this.minX=Math.trunc(Math.min(a.getX(),l.getX())),this.maxX=Math.trunc(Math.max(d.getX(),f.getX())),this.minY=Math.trunc(Math.min(a.getY(),d.getY())),this.maxY=Math.trunc(Math.max(l.getY(),f.getY()))}constructor_2(i){this.image=i.image,this.topLeft=i.getTopLeft(),this.bottomLeft=i.getBottomLeft(),this.topRight=i.getTopRight(),this.bottomRight=i.getBottomRight(),this.minX=i.getMinX(),this.maxX=i.getMaxX(),this.minY=i.getMinY(),this.maxY=i.getMaxY()}static merge(i,a){return i==null?a:a==null?i:new Sr(i.image,i.topLeft,i.bottomLeft,a.topRight,a.bottomRight)}addMissingRows(i,a,l){let d=this.topLeft,f=this.bottomLeft,g=this.topRight,v=this.bottomRight;if(i>0){let S=l?this.topLeft:this.topRight,T=Math.trunc(S.getY()-i);T<0&&(T=0);let O=new Pe(S.getX(),T);l?d=O:g=O}if(a>0){let S=l?this.bottomLeft:this.bottomRight,T=Math.trunc(S.getY()+a);T>=this.image.getHeight()&&(T=this.image.getHeight()-1);let O=new Pe(S.getX(),T);l?f=O:v=O}return new Sr(this.image,d,f,g,v)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class Co{constructor(i,a,l,d){this.columnCount=i,this.errorCorrectionLevel=d,this.rowCountUpperPart=a,this.rowCountLowerPart=l,this.rowCount=a+l}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Vs{constructor(){this.buffer=""}static form(i,a){let l=-1;function d(g,v,S,T,O,B){if(g==="%%")return"%";if(a[++l]===void 0)return;g=T?parseInt(T.substr(1)):void 0;let V=O?parseInt(O.substr(1)):void 0,Z;switch(B){case"s":Z=a[l];break;case"c":Z=a[l][0];break;case"f":Z=parseFloat(a[l]).toFixed(g);break;case"p":Z=parseFloat(a[l]).toPrecision(g);break;case"e":Z=parseFloat(a[l]).toExponential(g);break;case"x":Z=parseInt(a[l]).toString(V||16);break;case"d":Z=parseFloat(parseInt(a[l],V||10).toPrecision(g)).toFixed(0);break}Z=typeof Z=="object"?JSON.stringify(Z):(+Z).toString(V);let J=parseInt(S),ee=S&&S[0]+""=="0"?"0":" ";for(;Z.length<J;)Z=v!==void 0?Z+ee:ee+Z;return Z}let f=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return i.replace(f,d)}format(i,...a){this.buffer+=Vs.form(i,a)}toString(){return this.buffer}}class Pr{constructor(i){this.boundingBox=new Sr(i),this.codewords=new Array(i.getMaxY()-i.getMinY()+1)}getCodewordNearby(i){let a=this.getCodeword(i);if(a!=null)return a;for(let l=1;l<Pr.MAX_NEARBY_DISTANCE;l++){let d=this.imageRowToCodewordIndex(i)-l;if(d>=0&&(a=this.codewords[d],a!=null)||(d=this.imageRowToCodewordIndex(i)+l,d<this.codewords.length&&(a=this.codewords[d],a!=null)))return a}return null}imageRowToCodewordIndex(i){return i-this.boundingBox.getMinY()}setCodeword(i,a){this.codewords[this.imageRowToCodewordIndex(i)]=a}getCodeword(i){return this.codewords[this.imageRowToCodewordIndex(i)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const i=new Vs;let a=0;for(const l of this.codewords){if(l==null){i.format("%3d:    |   %n",a++);continue}i.format("%3d: %3d|%3d%n",a++,l.getRowNumber(),l.getValue())}return i.toString()}}Pr.MAX_NEARBY_DISTANCE=5;class Ur{constructor(){this.values=new Map}setValue(i){i=Math.trunc(i);let a=this.values.get(i);a==null&&(a=0),a++,this.values.set(i,a)}getValue(){let i=-1,a=new Array;for(const[l,d]of this.values.entries()){const f={getKey:()=>l,getValue:()=>d};f.getValue()>i?(i=f.getValue(),a=[],a.push(f.getKey())):f.getValue()===i&&a.push(f.getKey())}return Xe.toIntArray(a)}getConfidence(i){return this.values.get(i)}}class Ll extends Pr{constructor(i,a){super(i),this._isLeft=a}setRowNumbers(){for(let i of this.getCodewords())i?.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(i){let a=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(a,i);let l=this.getBoundingBox(),d=this._isLeft?l.getTopLeft():l.getTopRight(),f=this._isLeft?l.getBottomLeft():l.getBottomRight(),g=this.imageRowToCodewordIndex(Math.trunc(d.getY())),v=this.imageRowToCodewordIndex(Math.trunc(f.getY())),S=-1,T=1,O=0;for(let B=g;B<v;B++){if(a[B]==null)continue;let V=a[B],Z=V.getRowNumber()-S;if(Z===0)O++;else if(Z===1)T=Math.max(T,O),O=1,S=V.getRowNumber();else if(Z<0||V.getRowNumber()>=i.getRowCount()||Z>B)a[B]=null;else{let J;T>2?J=(T-2)*Z:J=Z;let ee=J>=B;for(let se=1;se<=J&&!ee;se++)ee=a[B-se]!=null;ee?a[B]=null:(S=V.getRowNumber(),O=1)}}}getRowHeights(){let i=this.getBarcodeMetadata();if(i==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(i);let a=new Int32Array(i.getRowCount());for(let l of this.getCodewords())if(l!=null){let d=l.getRowNumber();if(d>=a.length)continue;a[d]++}return a}adjustIncompleteIndicatorColumnRowNumbers(i){let a=this.getBoundingBox(),l=this._isLeft?a.getTopLeft():a.getTopRight(),d=this._isLeft?a.getBottomLeft():a.getBottomRight(),f=this.imageRowToCodewordIndex(Math.trunc(l.getY())),g=this.imageRowToCodewordIndex(Math.trunc(d.getY())),v=this.getCodewords(),S=-1;for(let T=f;T<g;T++){if(v[T]==null)continue;let O=v[T];O.setRowNumberAsRowIndicatorColumn();let B=O.getRowNumber()-S;B===0||(B===1?S=O.getRowNumber():O.getRowNumber()>=i.getRowCount()?v[T]=null:S=O.getRowNumber())}}getBarcodeMetadata(){let i=this.getCodewords(),a=new Ur,l=new Ur,d=new Ur,f=new Ur;for(let v of i){if(v==null)continue;v.setRowNumberAsRowIndicatorColumn();let S=v.getValue()%30,T=v.getRowNumber();switch(this._isLeft||(T+=2),T%3){case 0:l.setValue(S*3+1);break;case 1:f.setValue(S/3),d.setValue(S%3);break;case 2:a.setValue(S+1);break}}if(a.getValue().length===0||l.getValue().length===0||d.getValue().length===0||f.getValue().length===0||a.getValue()[0]<1||l.getValue()[0]+d.getValue()[0]<Xe.MIN_ROWS_IN_BARCODE||l.getValue()[0]+d.getValue()[0]>Xe.MAX_ROWS_IN_BARCODE)return null;let g=new Co(a.getValue()[0],l.getValue()[0],d.getValue()[0],f.getValue()[0]);return this.removeIncorrectCodewords(i,g),g}removeIncorrectCodewords(i,a){for(let l=0;l<i.length;l++){let d=i[l];if(i[l]==null)continue;let f=d.getValue()%30,g=d.getRowNumber();if(g>a.getRowCount()){i[l]=null;continue}switch(this._isLeft||(g+=2),g%3){case 0:f*3+1!==a.getRowCountUpperPart()&&(i[l]=null);break;case 1:(Math.trunc(f/3)!==a.getErrorCorrectionLevel()||f%3!==a.getRowCountLowerPart())&&(i[l]=null);break;case 2:f+1!==a.getColumnCount()&&(i[l]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class An{constructor(i,a){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=i,this.barcodeColumnCount=i.getColumnCount(),this.boundingBox=a,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let i=Xe.MAX_CODEWORDS_IN_BARCODE,a;do a=i,i=this.adjustRowNumbersAndGetCount();while(i>0&&i<a);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(i){i?.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let i=this.adjustRowNumbersByRow();if(i===0)return 0;for(let a=1;a<this.barcodeColumnCount+1;a++){let l=this.detectionResultColumns[a].getCodewords();for(let d=0;d<l.length;d++)l[d]!=null&&(l[d].hasValidRowNumber()||this.adjustRowNumbers(a,d,l))}return i}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let i=this.detectionResultColumns[0].getCodewords(),a=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let l=0;l<i.length;l++)if(i[l]!=null&&a[l]!=null&&i[l].getRowNumber()===a[l].getRowNumber())for(let d=1;d<=this.barcodeColumnCount;d++){let f=this.detectionResultColumns[d].getCodewords()[l];f!=null&&(f.setRowNumber(i[l].getRowNumber()),f.hasValidRowNumber()||(this.detectionResultColumns[d].getCodewords()[l]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let i=0,a=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let l=0;l<a.length;l++){if(a[l]==null)continue;let d=a[l].getRowNumber(),f=0;for(let g=this.barcodeColumnCount+1;g>0&&f<this.ADJUST_ROW_NUMBER_SKIP;g--){let v=this.detectionResultColumns[g].getCodewords()[l];v!=null&&(f=An.adjustRowNumberIfValid(d,f,v),v.hasValidRowNumber()||i++)}}return i}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let i=0,a=this.detectionResultColumns[0].getCodewords();for(let l=0;l<a.length;l++){if(a[l]==null)continue;let d=a[l].getRowNumber(),f=0;for(let g=1;g<this.barcodeColumnCount+1&&f<this.ADJUST_ROW_NUMBER_SKIP;g++){let v=this.detectionResultColumns[g].getCodewords()[l];v!=null&&(f=An.adjustRowNumberIfValid(d,f,v),v.hasValidRowNumber()||i++)}}return i}static adjustRowNumberIfValid(i,a,l){return l==null||l.hasValidRowNumber()||(l.isValidRowNumber(i)?(l.setRowNumber(i),a=0):++a),a}adjustRowNumbers(i,a,l){if(!this.detectionResultColumns[i-1])return;let d=l[a],f=this.detectionResultColumns[i-1].getCodewords(),g=f;this.detectionResultColumns[i+1]!=null&&(g=this.detectionResultColumns[i+1].getCodewords());let v=new Array(14);v[2]=f[a],v[3]=g[a],a>0&&(v[0]=l[a-1],v[4]=f[a-1],v[5]=g[a-1]),a>1&&(v[8]=l[a-2],v[10]=f[a-2],v[11]=g[a-2]),a<l.length-1&&(v[1]=l[a+1],v[6]=f[a+1],v[7]=g[a+1]),a<l.length-2&&(v[9]=l[a+2],v[12]=f[a+2],v[13]=g[a+2]);for(let S of v)if(An.adjustRowNumber(d,S))return}static adjustRowNumber(i,a){return a==null?!1:a.hasValidRowNumber()&&a.getBucket()===i.getBucket()?(i.setRowNumber(a.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(i){this.boundingBox=i}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(i,a){this.detectionResultColumns[i]=a}getDetectionResultColumn(i){return this.detectionResultColumns[i]}toString(){let i=this.detectionResultColumns[0];i==null&&(i=this.detectionResultColumns[this.barcodeColumnCount+1]);let a=new Vs;for(let l=0;l<i.getCodewords().length;l++){a.format("CW %3d:",l);for(let d=0;d<this.barcodeColumnCount+2;d++){if(this.detectionResultColumns[d]==null){a.format("    |   ");continue}let f=this.detectionResultColumns[d].getCodewords()[l];if(f==null){a.format("    |   ");continue}a.format(" %3d|%3d",f.getRowNumber(),f.getValue())}a.format("%n")}return a.toString()}}class ki{constructor(i,a,l,d){this.rowNumber=ki.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(i),this.endX=Math.trunc(a),this.bucket=Math.trunc(l),this.value=Math.trunc(d)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(i){return i!==ki.BARCODE_ROW_UNKNOWN&&this.bucket===i%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(i){this.rowNumber=i}toString(){return this.rowNumber+"|"+this.value}}ki.BARCODE_ROW_UNKNOWN=-1;class Ln{static initialize(){for(let i=0;i<Xe.SYMBOL_TABLE.length;i++){let a=Xe.SYMBOL_TABLE[i],l=a&1;for(let d=0;d<Xe.BARS_IN_MODULE;d++){let f=0;for(;(a&1)===l;)f+=1,a>>=1;l=a&1,Ln.RATIOS_TABLE[i]||(Ln.RATIOS_TABLE[i]=new Array(Xe.BARS_IN_MODULE)),Ln.RATIOS_TABLE[i][Xe.BARS_IN_MODULE-d-1]=Math.fround(f/Xe.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(i){let a=Ln.getDecodedCodewordValue(Ln.sampleBitCounts(i));return a!==-1?a:Ln.getClosestDecodedValue(i)}static sampleBitCounts(i){let a=ot.sum(i),l=new Int32Array(Xe.BARS_IN_MODULE),d=0,f=0;for(let g=0;g<Xe.MODULES_IN_CODEWORD;g++){let v=a/(2*Xe.MODULES_IN_CODEWORD)+g*a/Xe.MODULES_IN_CODEWORD;f+i[d]<=v&&(f+=i[d],d++),l[d]++}return l}static getDecodedCodewordValue(i){let a=Ln.getBitValue(i);return Xe.getCodeword(a)===-1?-1:a}static getBitValue(i){let a=0;for(let l=0;l<i.length;l++)for(let d=0;d<i[l];d++)a=a<<1|(l%2===0?1:0);return Math.trunc(a)}static getClosestDecodedValue(i){let a=ot.sum(i),l=new Array(Xe.BARS_IN_MODULE);if(a>1)for(let g=0;g<l.length;g++)l[g]=Math.fround(i[g]/a);let d=js.MAX_VALUE,f=-1;this.bSymbolTableReady||Ln.initialize();for(let g=0;g<Ln.RATIOS_TABLE.length;g++){let v=0,S=Ln.RATIOS_TABLE[g];for(let T=0;T<Xe.BARS_IN_MODULE;T++){let O=Math.fround(S[T]-l[T]);if(v+=Math.fround(O*O),v>=d)break}v<d&&(d=v,f=Xe.SYMBOL_TABLE[g])}return f}}Ln.bSymbolTableReady=!1,Ln.RATIOS_TABLE=new Array(Xe.SYMBOL_TABLE.length).map(L=>new Array(Xe.BARS_IN_MODULE));class Hs{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(i){this.segmentIndex=i}getFileId(){return this.fileId}setFileId(i){this.fileId=i}getOptionalData(){return this.optionalData}setOptionalData(i){this.optionalData=i}isLastSegment(){return this.lastSegment}setLastSegment(i){this.lastSegment=i}getSegmentCount(){return this.segmentCount}setSegmentCount(i){this.segmentCount=i}getSender(){return this.sender||null}setSender(i){this.sender=i}getAddressee(){return this.addressee||null}setAddressee(i){this.addressee=i}getFileName(){return this.fileName}setFileName(i){this.fileName=i}getFileSize(){return this.fileSize}setFileSize(i){this.fileSize=i}getChecksum(){return this.checksum}setChecksum(i){this.checksum=i}getTimestamp(){return this.timestamp}setTimestamp(i){this.timestamp=i}}class uu{static parseLong(i,a=void 0){return parseInt(i,a)}}class So extends b{}So.kind="NullPointerException";class Bl{writeBytes(i){this.writeBytesOffset(i,0,i.length)}writeBytesOffset(i,a,l){if(i==null)throw new So;if(a<0||a>i.length||l<0||a+l>i.length||a+l<0)throw new P;if(l===0)return;for(let d=0;d<l;d++)this.write(i[a+d])}flush(){}close(){}}class Ba extends b{}class Ao extends Bl{constructor(i=32){if(super(),this.count=0,i<0)throw new A("Negative initial size: "+i);this.buf=new Uint8Array(i)}ensureCapacity(i){i-this.buf.length>0&&this.grow(i)}grow(i){let l=this.buf.length<<1;if(l-i<0&&(l=i),l<0){if(i<0)throw new Ba;l=U.MAX_VALUE}this.buf=j.copyOfUint8Array(this.buf,l)}write(i){this.ensureCapacity(this.count+1),this.buf[this.count]=i,this.count+=1}writeBytesOffset(i,a,l){if(a<0||a>i.length||l<0||a+l-i.length>0)throw new P;this.ensureCapacity(this.count+l),k.arraycopy(i,a,this.buf,this.count,l),this.count+=l}writeTo(i){i.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return j.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(i){return i?typeof i=="string"?this.toString_string(i):this.toString_number(i):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(i){return new String(this.buf).toString()}toString_number(i){return new String(this.buf).toString()}close(){}}var Tt;(function(L){L[L.ALPHA=0]="ALPHA",L[L.LOWER=1]="LOWER",L[L.MIXED=2]="MIXED",L[L.PUNCT=3]="PUNCT",L[L.ALPHA_SHIFT=4]="ALPHA_SHIFT",L[L.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Tt||(Tt={}));function du(){if(typeof window<"u")return window.BigInt||null;if(typeof globalThis<"u")return globalThis.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let No;function zr(L){if(typeof No>"u"&&(No=du()),No===null)throw new Error("BigInt is not supported!");return No(L)}function kl(){let L=[];L[0]=zr(1);let i=zr(900);L[1]=i;for(let a=2;a<16;a++)L[a]=L[a-1]*i;return L}class fe{static decode(i,a){let l=new me(""),d=Q.ISO8859_1;l.enableDecoding(d);let f=1,g=i[f++],v=new Hs;for(;f<i[0];){switch(g){case fe.TEXT_COMPACTION_MODE_LATCH:f=fe.textCompaction(i,f,l);break;case fe.BYTE_COMPACTION_MODE_LATCH:case fe.BYTE_COMPACTION_MODE_LATCH_6:f=fe.byteCompaction(g,i,d,f,l);break;case fe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(i[f++]);break;case fe.NUMERIC_COMPACTION_MODE_LATCH:f=fe.numericCompaction(i,f,l);break;case fe.ECI_CHARSET:Q.getCharacterSetECIByValue(i[f++]);break;case fe.ECI_GENERAL_PURPOSE:f+=2;break;case fe.ECI_USER_DEFINED:f++;break;case fe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:f=fe.decodeMacroBlock(i,f,v);break;case fe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case fe.MACRO_PDF417_TERMINATOR:throw new z;default:f--,f=fe.textCompaction(i,f,l);break}if(f<i.length)g=i[f++];else throw z.getFormatInstance()}if(l.length()===0)throw z.getFormatInstance();let S=new Ht(null,l.toString(),null,a);return S.setOther(v),S}static decodeMacroBlock(i,a,l){if(a+fe.NUMBER_OF_SEQUENCE_CODEWORDS>i[0])throw z.getFormatInstance();let d=new Int32Array(fe.NUMBER_OF_SEQUENCE_CODEWORDS);for(let v=0;v<fe.NUMBER_OF_SEQUENCE_CODEWORDS;v++,a++)d[v]=i[a];l.setSegmentIndex(U.parseInt(fe.decodeBase900toBase10(d,fe.NUMBER_OF_SEQUENCE_CODEWORDS)));let f=new me;a=fe.textCompaction(i,a,f),l.setFileId(f.toString());let g=-1;for(i[a]===fe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(g=a+1);a<i[0];)switch(i[a]){case fe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(a++,i[a]){case fe.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let v=new me;a=fe.textCompaction(i,a+1,v),l.setFileName(v.toString());break;case fe.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let S=new me;a=fe.textCompaction(i,a+1,S),l.setSender(S.toString());break;case fe.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let T=new me;a=fe.textCompaction(i,a+1,T),l.setAddressee(T.toString());break;case fe.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let O=new me;a=fe.numericCompaction(i,a+1,O),l.setSegmentCount(U.parseInt(O.toString()));break;case fe.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let B=new me;a=fe.numericCompaction(i,a+1,B),l.setTimestamp(uu.parseLong(B.toString()));break;case fe.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let V=new me;a=fe.numericCompaction(i,a+1,V),l.setChecksum(U.parseInt(V.toString()));break;case fe.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let Z=new me;a=fe.numericCompaction(i,a+1,Z),l.setFileSize(uu.parseLong(Z.toString()));break;default:throw z.getFormatInstance()}break;case fe.MACRO_PDF417_TERMINATOR:a++,l.setLastSegment(!0);break;default:throw z.getFormatInstance()}if(g!==-1){let v=a-g;l.isLastSegment()&&v--,l.setOptionalData(j.copyOfRange(i,g,g+v))}return a}static textCompaction(i,a,l){let d=new Int32Array((i[0]-a)*2),f=new Int32Array((i[0]-a)*2),g=0,v=!1;for(;a<i[0]&&!v;){let S=i[a++];if(S<fe.TEXT_COMPACTION_MODE_LATCH)d[g]=S/30,d[g+1]=S%30,g+=2;else switch(S){case fe.TEXT_COMPACTION_MODE_LATCH:d[g++]=fe.TEXT_COMPACTION_MODE_LATCH;break;case fe.BYTE_COMPACTION_MODE_LATCH:case fe.BYTE_COMPACTION_MODE_LATCH_6:case fe.NUMERIC_COMPACTION_MODE_LATCH:case fe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case fe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case fe.MACRO_PDF417_TERMINATOR:a--,v=!0;break;case fe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:d[g]=fe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,S=i[a++],f[g]=S,g++;break}}return fe.decodeTextCompaction(d,f,g,l),a}static decodeTextCompaction(i,a,l,d){let f=Tt.ALPHA,g=Tt.ALPHA,v=0;for(;v<l;){let S=i[v],T="";switch(f){case Tt.ALPHA:if(S<26)T=String.fromCharCode(65+S);else switch(S){case 26:T=" ";break;case fe.LL:f=Tt.LOWER;break;case fe.ML:f=Tt.MIXED;break;case fe.PS:g=f,f=Tt.PUNCT_SHIFT;break;case fe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:d.append(a[v]);break;case fe.TEXT_COMPACTION_MODE_LATCH:f=Tt.ALPHA;break}break;case Tt.LOWER:if(S<26)T=String.fromCharCode(97+S);else switch(S){case 26:T=" ";break;case fe.AS:g=f,f=Tt.ALPHA_SHIFT;break;case fe.ML:f=Tt.MIXED;break;case fe.PS:g=f,f=Tt.PUNCT_SHIFT;break;case fe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:d.append(a[v]);break;case fe.TEXT_COMPACTION_MODE_LATCH:f=Tt.ALPHA;break}break;case Tt.MIXED:if(S<fe.PL)T=fe.MIXED_CHARS[S];else switch(S){case fe.PL:f=Tt.PUNCT;break;case 26:T=" ";break;case fe.LL:f=Tt.LOWER;break;case fe.AL:f=Tt.ALPHA;break;case fe.PS:g=f,f=Tt.PUNCT_SHIFT;break;case fe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:d.append(a[v]);break;case fe.TEXT_COMPACTION_MODE_LATCH:f=Tt.ALPHA;break}break;case Tt.PUNCT:if(S<fe.PAL)T=fe.PUNCT_CHARS[S];else switch(S){case fe.PAL:f=Tt.ALPHA;break;case fe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:d.append(a[v]);break;case fe.TEXT_COMPACTION_MODE_LATCH:f=Tt.ALPHA;break}break;case Tt.ALPHA_SHIFT:if(f=g,S<26)T=String.fromCharCode(65+S);else switch(S){case 26:T=" ";break;case fe.TEXT_COMPACTION_MODE_LATCH:f=Tt.ALPHA;break}break;case Tt.PUNCT_SHIFT:if(f=g,S<fe.PAL)T=fe.PUNCT_CHARS[S];else switch(S){case fe.PAL:f=Tt.ALPHA;break;case fe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:d.append(a[v]);break;case fe.TEXT_COMPACTION_MODE_LATCH:f=Tt.ALPHA;break}break}T!==""&&d.append(T),v++}}static byteCompaction(i,a,l,d,f){let g=new Ao,v=0,S=0,T=!1;switch(i){case fe.BYTE_COMPACTION_MODE_LATCH:let O=new Int32Array(6),B=a[d++];for(;d<a[0]&&!T;)switch(O[v++]=B,S=900*S+B,B=a[d++],B){case fe.TEXT_COMPACTION_MODE_LATCH:case fe.BYTE_COMPACTION_MODE_LATCH:case fe.NUMERIC_COMPACTION_MODE_LATCH:case fe.BYTE_COMPACTION_MODE_LATCH_6:case fe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case fe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case fe.MACRO_PDF417_TERMINATOR:d--,T=!0;break;default:if(v%5===0&&v>0){for(let V=0;V<6;++V)g.write(Number(zr(S)>>zr(8*(5-V))));S=0,v=0}break}d===a[0]&&B<fe.TEXT_COMPACTION_MODE_LATCH&&(O[v++]=B);for(let V=0;V<v;V++)g.write(O[V]);break;case fe.BYTE_COMPACTION_MODE_LATCH_6:for(;d<a[0]&&!T;){let V=a[d++];if(V<fe.TEXT_COMPACTION_MODE_LATCH)v++,S=900*S+V;else switch(V){case fe.TEXT_COMPACTION_MODE_LATCH:case fe.BYTE_COMPACTION_MODE_LATCH:case fe.NUMERIC_COMPACTION_MODE_LATCH:case fe.BYTE_COMPACTION_MODE_LATCH_6:case fe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case fe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case fe.MACRO_PDF417_TERMINATOR:d--,T=!0;break}if(v%5===0&&v>0){for(let Z=0;Z<6;++Z)g.write(Number(zr(S)>>zr(8*(5-Z))));S=0,v=0}}break}return f.append(ae.decode(g.toByteArray(),l)),d}static numericCompaction(i,a,l){let d=0,f=!1,g=new Int32Array(fe.MAX_NUMERIC_CODEWORDS);for(;a<i[0]&&!f;){let v=i[a++];if(a===i[0]&&(f=!0),v<fe.TEXT_COMPACTION_MODE_LATCH)g[d]=v,d++;else switch(v){case fe.TEXT_COMPACTION_MODE_LATCH:case fe.BYTE_COMPACTION_MODE_LATCH:case fe.BYTE_COMPACTION_MODE_LATCH_6:case fe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case fe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case fe.MACRO_PDF417_TERMINATOR:a--,f=!0;break}(d%fe.MAX_NUMERIC_CODEWORDS===0||v===fe.NUMERIC_COMPACTION_MODE_LATCH||f)&&d>0&&(l.append(fe.decodeBase900toBase10(g,d)),d=0)}return a}static decodeBase900toBase10(i,a){let l=zr(0);for(let f=0;f<a;f++)l+=fe.EXP900[a-f-1]*zr(i[f]);let d=l.toString();if(d.charAt(0)!=="1")throw new z;return d.substring(1)}}fe.TEXT_COMPACTION_MODE_LATCH=900,fe.BYTE_COMPACTION_MODE_LATCH=901,fe.NUMERIC_COMPACTION_MODE_LATCH=902,fe.BYTE_COMPACTION_MODE_LATCH_6=924,fe.ECI_USER_DEFINED=925,fe.ECI_GENERAL_PURPOSE=926,fe.ECI_CHARSET=927,fe.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,fe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,fe.MACRO_PDF417_TERMINATOR=922,fe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,fe.MAX_NUMERIC_CODEWORDS=15,fe.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,fe.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,fe.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,fe.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,fe.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,fe.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,fe.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,fe.PL=25,fe.LL=27,fe.AS=27,fe.ML=28,fe.AL=28,fe.PS=29,fe.PAL=29,fe.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,fe.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",fe.EXP900=du()?kl():[],fe.NUMBER_OF_SEQUENCE_CODEWORDS=2;class it{constructor(){}static decode(i,a,l,d,f,g,v){let S=new Sr(i,a,l,d,f),T=null,O=null,B;for(let J=!0;;J=!1){if(a!=null&&(T=it.getRowIndicatorColumn(i,S,a,!0,g,v)),d!=null&&(O=it.getRowIndicatorColumn(i,S,d,!1,g,v)),B=it.merge(T,O),B==null)throw ne.getNotFoundInstance();let ee=B.getBoundingBox();if(J&&ee!=null&&(ee.getMinY()<S.getMinY()||ee.getMaxY()>S.getMaxY()))S=ee;else break}B.setBoundingBox(S);let V=B.getBarcodeColumnCount()+1;B.setDetectionResultColumn(0,T),B.setDetectionResultColumn(V,O);let Z=T!=null;for(let J=1;J<=V;J++){let ee=Z?J:V-J;if(B.getDetectionResultColumn(ee)!==void 0)continue;let se;ee===0||ee===V?se=new Ll(S,ee===0):se=new Pr(S),B.setDetectionResultColumn(ee,se);let he=-1,Re=he;for(let Te=S.getMinY();Te<=S.getMaxY();Te++){if(he=it.getStartColumn(B,ee,Te,Z),he<0||he>S.getMaxX()){if(Re===-1)continue;he=Re}let Ne=it.detectCodeword(i,S.getMinX(),S.getMaxX(),Z,he,Te,g,v);Ne!=null&&(se.setCodeword(Te,Ne),Re=he,g=Math.min(g,Ne.getWidth()),v=Math.max(v,Ne.getWidth()))}}return it.createDecoderResult(B)}static merge(i,a){if(i==null&&a==null)return null;let l=it.getBarcodeMetadata(i,a);if(l==null)return null;let d=Sr.merge(it.adjustBoundingBox(i),it.adjustBoundingBox(a));return new An(l,d)}static adjustBoundingBox(i){if(i==null)return null;let a=i.getRowHeights();if(a==null)return null;let l=it.getMax(a),d=0;for(let v of a)if(d+=l-v,v>0)break;let f=i.getCodewords();for(let v=0;d>0&&f[v]==null;v++)d--;let g=0;for(let v=a.length-1;v>=0&&(g+=l-a[v],!(a[v]>0));v--);for(let v=f.length-1;g>0&&f[v]==null;v--)g--;return i.getBoundingBox().addMissingRows(d,g,i.isLeft())}static getMax(i){let a=-1;for(let l of i)a=Math.max(a,l);return a}static getBarcodeMetadata(i,a){let l;if(i==null||(l=i.getBarcodeMetadata())==null)return a==null?null:a.getBarcodeMetadata();let d;return a==null||(d=a.getBarcodeMetadata())==null?l:l.getColumnCount()!==d.getColumnCount()&&l.getErrorCorrectionLevel()!==d.getErrorCorrectionLevel()&&l.getRowCount()!==d.getRowCount()?null:l}static getRowIndicatorColumn(i,a,l,d,f,g){let v=new Ll(a,d);for(let S=0;S<2;S++){let T=S===0?1:-1,O=Math.trunc(Math.trunc(l.getX()));for(let B=Math.trunc(Math.trunc(l.getY()));B<=a.getMaxY()&&B>=a.getMinY();B+=T){let V=it.detectCodeword(i,0,i.getWidth(),d,O,B,f,g);V!=null&&(v.setCodeword(B,V),d?O=V.getStartX():O=V.getEndX())}}return v}static adjustCodewordCount(i,a){let l=a[0][1],d=l.getValue(),f=i.getBarcodeColumnCount()*i.getBarcodeRowCount()-it.getNumberOfECCodeWords(i.getBarcodeECLevel());if(d.length===0){if(f<1||f>Xe.MAX_CODEWORDS_IN_BARCODE)throw ne.getNotFoundInstance();l.setValue(f)}else d[0]!==f&&l.setValue(f)}static createDecoderResult(i){let a=it.createBarcodeMatrix(i);it.adjustCodewordCount(i,a);let l=new Array,d=new Int32Array(i.getBarcodeRowCount()*i.getBarcodeColumnCount()),f=[],g=new Array;for(let S=0;S<i.getBarcodeRowCount();S++)for(let T=0;T<i.getBarcodeColumnCount();T++){let O=a[S][T+1].getValue(),B=S*i.getBarcodeColumnCount()+T;O.length===0?l.push(B):O.length===1?d[B]=O[0]:(g.push(B),f.push(O))}let v=new Array(f.length);for(let S=0;S<v.length;S++)v[S]=f[S];return it.createDecoderResultFromAmbiguousValues(i.getBarcodeECLevel(),d,Xe.toIntArray(l),Xe.toIntArray(g),v)}static createDecoderResultFromAmbiguousValues(i,a,l,d,f){let g=new Int32Array(d.length),v=100;for(;v-- >0;){for(let S=0;S<g.length;S++)a[d[S]]=f[S][g[S]];try{return it.decodeCodewords(a,i,l)}catch(S){if(!(S instanceof D))throw S}if(g.length===0)throw D.getChecksumInstance();for(let S=0;S<g.length;S++)if(g[S]<f[S].length-1){g[S]++;break}else if(g[S]=0,S===g.length-1)throw D.getChecksumInstance()}throw D.getChecksumInstance()}static createBarcodeMatrix(i){let a=Array.from({length:i.getBarcodeRowCount()},()=>new Array(i.getBarcodeColumnCount()+2));for(let d=0;d<a.length;d++)for(let f=0;f<a[d].length;f++)a[d][f]=new Ur;let l=0;for(let d of i.getDetectionResultColumns()){if(d!=null){for(let f of d.getCodewords())if(f!=null){let g=f.getRowNumber();if(g>=0){if(g>=a.length)continue;a[g][l].setValue(f.getValue())}}}l++}return a}static isValidBarcodeColumn(i,a){return a>=0&&a<=i.getBarcodeColumnCount()+1}static getStartColumn(i,a,l,d){let f=d?1:-1,g=null;if(it.isValidBarcodeColumn(i,a-f)&&(g=i.getDetectionResultColumn(a-f).getCodeword(l)),g!=null)return d?g.getEndX():g.getStartX();if(g=i.getDetectionResultColumn(a).getCodewordNearby(l),g!=null)return d?g.getStartX():g.getEndX();if(it.isValidBarcodeColumn(i,a-f)&&(g=i.getDetectionResultColumn(a-f).getCodewordNearby(l)),g!=null)return d?g.getEndX():g.getStartX();let v=0;for(;it.isValidBarcodeColumn(i,a-f);){a-=f;for(let S of i.getDetectionResultColumn(a).getCodewords())if(S!=null)return(d?S.getEndX():S.getStartX())+f*v*(S.getEndX()-S.getStartX());v++}return d?i.getBoundingBox().getMinX():i.getBoundingBox().getMaxX()}static detectCodeword(i,a,l,d,f,g,v,S){f=it.adjustCodewordStartColumn(i,a,l,d,f,g);let T=it.getModuleBitCount(i,a,l,d,f,g);if(T==null)return null;let O,B=ot.sum(T);if(d)O=f+B;else{for(let J=0;J<T.length/2;J++){let ee=T[J];T[J]=T[T.length-1-J],T[T.length-1-J]=ee}O=f,f=O-B}if(!it.checkCodewordSkew(B,v,S))return null;let V=Ln.getDecodedValue(T),Z=Xe.getCodeword(V);return Z===-1?null:new ki(f,O,it.getCodewordBucketNumber(V),Z)}static getModuleBitCount(i,a,l,d,f,g){let v=f,S=new Int32Array(8),T=0,O=d?1:-1,B=d;for(;(d?v<l:v>=a)&&T<S.length;)i.get(v,g)===B?(S[T]++,v+=O):(T++,B=!B);return T===S.length||v===(d?l:a)&&T===S.length-1?S:null}static getNumberOfECCodeWords(i){return 2<<i}static adjustCodewordStartColumn(i,a,l,d,f,g){let v=f,S=d?-1:1;for(let T=0;T<2;T++){for(;(d?v>=a:v<l)&&d===i.get(v,g);){if(Math.abs(f-v)>it.CODEWORD_SKEW_SIZE)return f;v+=S}S=-S,d=!d}return v}static checkCodewordSkew(i,a,l){return a-it.CODEWORD_SKEW_SIZE<=i&&i<=l+it.CODEWORD_SKEW_SIZE}static decodeCodewords(i,a,l){if(i.length===0)throw z.getFormatInstance();let d=1<<a+1,f=it.correctErrors(i,l,d);it.verifyCodewordCount(i,d);let g=fe.decode(i,""+a);return g.setErrorsCorrected(f),g.setErasures(l.length),g}static correctErrors(i,a,l){if(a!=null&&a.length>l/2+it.MAX_ERRORS||l<0||l>it.MAX_EC_CODEWORDS)throw D.getChecksumInstance();return it.errorCorrection.decode(i,l,a)}static verifyCodewordCount(i,a){if(i.length<4)throw z.getFormatInstance();let l=i[0];if(l>i.length)throw z.getFormatInstance();if(l===0)if(a<i.length)i[0]=i.length-a;else throw z.getFormatInstance()}static getBitCountForCodeword(i){let a=new Int32Array(8),l=0,d=a.length-1;for(;!((i&1)!==l&&(l=i&1,d--,d<0));)a[d]++,i>>=1;return a}static getCodewordBucketNumber(i){return i instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(i):this.getCodewordBucketNumber_number(i)}static getCodewordBucketNumber_number(i){return it.getCodewordBucketNumber(it.getBitCountForCodeword(i))}static getCodewordBucketNumber_Int32Array(i){return(i[0]-i[2]+i[4]-i[6]+9)%9}static toString(i){let a=new Vs;for(let l=0;l<i.length;l++){a.format("Row %2d: ",l);for(let d=0;d<i[l].length;d++){let f=i[l][d];f.getValue().length===0?a.format("        ",null):a.format("%4d(%2d)",f.getValue()[0],f.getConfidence(f.getValue()[0]))}a.format("%n")}return a.toString()}}it.CODEWORD_SKEW_SIZE=2,it.MAX_ERRORS=3,it.MAX_EC_CODEWORDS=512,it.errorCorrection=new Cr;class Bn{decode(i,a=null){let l=Bn.decode(i,a,!1);if(l==null||l.length===0||l[0]==null)throw ne.getNotFoundInstance();return l[0]}decodeMultiple(i,a=null){try{return Bn.decode(i,a,!0)}catch(l){throw l instanceof z||l instanceof D?ne.getNotFoundInstance():l}}static decode(i,a,l){const d=new Array,f=$e.detectMultiple(i,a,l);for(const g of f.getPoints()){const v=it.decode(f.getBits(),g[4],g[5],g[6],g[7],Bn.getMinCodewordWidth(g),Bn.getMaxCodewordWidth(g)),S=new _e(v.getText(),v.getRawBytes(),void 0,g,Ie.PDF_417);S.putMetadata(bt.ERROR_CORRECTION_LEVEL,v.getECLevel());const T=v.getOther();T!=null&&S.putMetadata(bt.PDF417_EXTRA_METADATA,T),d.push(S)}return d.map(g=>g)}static getMaxWidth(i,a){return i==null||a==null?0:Math.trunc(Math.abs(i.getX()-a.getX()))}static getMinWidth(i,a){return i==null||a==null?U.MAX_VALUE:Math.trunc(Math.abs(i.getX()-a.getX()))}static getMaxCodewordWidth(i){return Math.floor(Math.max(Math.max(Bn.getMaxWidth(i[0],i[4]),Bn.getMaxWidth(i[6],i[2])*Xe.MODULES_IN_CODEWORD/Xe.MODULES_IN_STOP_PATTERN),Math.max(Bn.getMaxWidth(i[1],i[5]),Bn.getMaxWidth(i[7],i[3])*Xe.MODULES_IN_CODEWORD/Xe.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(i){return Math.floor(Math.min(Math.min(Bn.getMinWidth(i[0],i[4]),Bn.getMinWidth(i[6],i[2])*Xe.MODULES_IN_CODEWORD/Xe.MODULES_IN_STOP_PATTERN),Math.min(Bn.getMinWidth(i[1],i[5]),Bn.getMinWidth(i[7],i[3])*Xe.MODULES_IN_CODEWORD/Xe.MODULES_IN_STOP_PATTERN)))}reset(){}}class To extends b{}To.kind="ReaderException";class hu{constructor(i,a){this.verbose=i===!0,a&&this.setHints(a)}decode(i,a){return a&&this.setHints(a),this.decodeInternal(i)}decodeWithState(i){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(i)}setHints(i){this.hints=i;const a=!o(i)&&i.get(X.TRY_HARDER)===!0,l=o(i)?null:i.get(X.POSSIBLE_FORMATS),d=new Array;if(!o(l)){const f=l.some(g=>g===Ie.UPC_A||g===Ie.UPC_E||g===Ie.EAN_13||g===Ie.EAN_8||g===Ie.CODABAR||g===Ie.CODE_39||g===Ie.CODE_93||g===Ie.CODE_128||g===Ie.ITF||g===Ie.RSS_14||g===Ie.RSS_EXPANDED);f&&!a&&d.push(new Li(i,this.verbose)),l.includes(Ie.QR_CODE)&&d.push(new Er),l.includes(Ie.DATA_MATRIX)&&d.push(new xr),l.includes(Ie.AZTEC)&&d.push(new vo),l.includes(Ie.PDF_417)&&d.push(new Bn),f&&a&&d.push(new Li(i,this.verbose))}d.length===0&&(a||d.push(new Li(i,this.verbose)),d.push(new Er),d.push(new xr),d.push(new vo),d.push(new Bn),a&&d.push(new Li(i,this.verbose))),this.readers=d}reset(){if(this.readers!==null)for(const i of this.readers)i.reset()}decodeInternal(i){if(this.readers===null)throw new To("No readers where selected, nothing can be read.");for(const a of this.readers)try{return a.decode(i,this.hints)}catch(l){if(l instanceof To)continue}throw new ne("No MultiFormat Readers were able to detect the code.")}}class fu extends Me{constructor(i=null,a=500){const l=new hu;l.setHints(i),super(l,a)}decodeBitmap(i){return this.reader.decodeWithState(i)}}class kh extends Me{constructor(i=500){super(new Bn,i)}}class Ph extends Me{constructor(i=500){super(new Er,i)}}var Pl;(function(L){L[L.ERROR_CORRECTION=0]="ERROR_CORRECTION",L[L.CHARACTER_SET=1]="CHARACTER_SET",L[L.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",L[L.MIN_SIZE=3]="MIN_SIZE",L[L.MAX_SIZE=4]="MAX_SIZE",L[L.MARGIN=5]="MARGIN",L[L.PDF417_COMPACT=6]="PDF417_COMPACT",L[L.PDF417_COMPACTION=7]="PDF417_COMPACTION",L[L.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",L[L.AZTEC_LAYERS=9]="AZTEC_LAYERS",L[L.QR_VERSION=10]="QR_VERSION"})(Pl||(Pl={}));var wn=Pl;class ka{constructor(i){this.field=i,this.cachedGenerators=[],this.cachedGenerators.push(new _n(i,Int32Array.from([1])))}buildGenerator(i){const a=this.cachedGenerators;if(i>=a.length){let l=a[a.length-1];const d=this.field;for(let f=a.length;f<=i;f++){const g=l.multiply(new _n(d,Int32Array.from([1,d.exp(f-1+d.getGeneratorBase())])));a.push(g),l=g}}return a[i]}encode(i,a){if(a===0)throw new A("No error correction bytes");const l=i.length-a;if(l<=0)throw new A("No data bytes provided");const d=this.buildGenerator(a),f=new Int32Array(l);k.arraycopy(i,0,f,0,l);let g=new _n(this.field,f);g=g.multiplyByMonomial(a,1);const S=g.divide(d)[1].getCoefficients(),T=a-S.length;for(let O=0;O<T;O++)i[l+O]=0;k.arraycopy(S,0,i,l+T,S.length)}}class tn{constructor(){}static applyMaskPenaltyRule1(i){return tn.applyMaskPenaltyRule1Internal(i,!0)+tn.applyMaskPenaltyRule1Internal(i,!1)}static applyMaskPenaltyRule2(i){let a=0;const l=i.getArray(),d=i.getWidth(),f=i.getHeight();for(let g=0;g<f-1;g++){const v=l[g];for(let S=0;S<d-1;S++){const T=v[S];T===v[S+1]&&T===l[g+1][S]&&T===l[g+1][S+1]&&a++}}return tn.N2*a}static applyMaskPenaltyRule3(i){let a=0;const l=i.getArray(),d=i.getWidth(),f=i.getHeight();for(let g=0;g<f;g++)for(let v=0;v<d;v++){const S=l[g];v+6<d&&S[v]===1&&S[v+1]===0&&S[v+2]===1&&S[v+3]===1&&S[v+4]===1&&S[v+5]===0&&S[v+6]===1&&(tn.isWhiteHorizontal(S,v-4,v)||tn.isWhiteHorizontal(S,v+7,v+11))&&a++,g+6<f&&l[g][v]===1&&l[g+1][v]===0&&l[g+2][v]===1&&l[g+3][v]===1&&l[g+4][v]===1&&l[g+5][v]===0&&l[g+6][v]===1&&(tn.isWhiteVertical(l,v,g-4,g)||tn.isWhiteVertical(l,v,g+7,g+11))&&a++}return a*tn.N3}static isWhiteHorizontal(i,a,l){a=Math.max(a,0),l=Math.min(l,i.length);for(let d=a;d<l;d++)if(i[d]===1)return!1;return!0}static isWhiteVertical(i,a,l,d){l=Math.max(l,0),d=Math.min(d,i.length);for(let f=l;f<d;f++)if(i[f][a]===1)return!1;return!0}static applyMaskPenaltyRule4(i){let a=0;const l=i.getArray(),d=i.getWidth(),f=i.getHeight();for(let S=0;S<f;S++){const T=l[S];for(let O=0;O<d;O++)T[O]===1&&a++}const g=i.getHeight()*i.getWidth();return Math.floor(Math.abs(a*2-g)*10/g)*tn.N4}static getDataMaskBit(i,a,l){let d,f;switch(i){case 0:d=l+a&1;break;case 1:d=l&1;break;case 2:d=a%3;break;case 3:d=(l+a)%3;break;case 4:d=Math.floor(l/2)+Math.floor(a/3)&1;break;case 5:f=l*a,d=(f&1)+f%3;break;case 6:f=l*a,d=(f&1)+f%3&1;break;case 7:f=l*a,d=f%3+(l+a&1)&1;break;default:throw new A("Invalid mask pattern: "+i)}return d===0}static applyMaskPenaltyRule1Internal(i,a){let l=0;const d=a?i.getHeight():i.getWidth(),f=a?i.getWidth():i.getHeight(),g=i.getArray();for(let v=0;v<d;v++){let S=0,T=-1;for(let O=0;O<f;O++){const B=a?g[v][O]:g[O][v];B===T?S++:(S>=5&&(l+=tn.N1+(S-5)),S=1,T=B)}S>=5&&(l+=tn.N1+(S-5))}return l}}tn.N1=3,tn.N2=3,tn.N3=40,tn.N4=10;class Ro{constructor(i,a){this.width=i,this.height=a;const l=new Array(a);for(let d=0;d!==a;d++)l[d]=new Uint8Array(i);this.bytes=l}getHeight(){return this.height}getWidth(){return this.width}get(i,a){return this.bytes[a][i]}getArray(){return this.bytes}setNumber(i,a,l){this.bytes[a][i]=l}setBoolean(i,a,l){this.bytes[a][i]=l?1:0}clear(i){for(const a of this.bytes)j.fill(a,i)}equals(i){if(!(i instanceof Ro))return!1;const a=i;if(this.width!==a.width||this.height!==a.height)return!1;for(let l=0,d=this.height;l<d;++l){const f=this.bytes[l],g=a.bytes[l];for(let v=0,S=this.width;v<S;++v)if(f[v]!==g[v])return!1}return!0}toString(){const i=new me;for(let a=0,l=this.height;a<l;++a){const d=this.bytes[a];for(let f=0,g=this.width;f<g;++f)switch(d[f]){case 0:i.append(" 0");break;case 1:i.append(" 1");break;default:i.append("  ");break}i.append(`
`)}return i.toString()}}class rs{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const i=new me;return i.append(`<<
`),i.append(" mode: "),i.append(this.mode?this.mode.toString():"null"),i.append(`
 ecLevel: `),i.append(this.ecLevel?this.ecLevel.toString():"null"),i.append(`
 version: `),i.append(this.version?this.version.toString():"null"),i.append(`
 maskPattern: `),i.append(this.maskPattern.toString()),this.matrix?(i.append(`
 matrix:
`),i.append(this.matrix.toString())):i.append(`
 matrix: null
`),i.append(`>>
`),i.toString()}setMode(i){this.mode=i}setECLevel(i){this.ecLevel=i}setVersion(i){this.version=i}setMaskPattern(i){this.maskPattern=i}setMatrix(i){this.matrix=i}static isValidMaskPattern(i){return i>=0&&i<rs.NUM_MASK_PATTERNS}}rs.NUM_MASK_PATTERNS=8;class It extends b{}It.kind="WriterException";class We{constructor(){}static clearMatrix(i){i.clear(255)}static buildMatrix(i,a,l,d,f){We.clearMatrix(f),We.embedBasicPatterns(l,f),We.embedTypeInfo(a,d,f),We.maybeEmbedVersionInfo(l,f),We.embedDataBits(i,d,f)}static embedBasicPatterns(i,a){We.embedPositionDetectionPatternsAndSeparators(a),We.embedDarkDotAtLeftBottomCorner(a),We.maybeEmbedPositionAdjustmentPatterns(i,a),We.embedTimingPatterns(a)}static embedTypeInfo(i,a,l){const d=new F;We.makeTypeInfoBits(i,a,d);for(let f=0,g=d.getSize();f<g;++f){const v=d.get(d.getSize()-1-f),S=We.TYPE_INFO_COORDINATES[f],T=S[0],O=S[1];if(l.setBoolean(T,O,v),f<8){const B=l.getWidth()-f-1;l.setBoolean(B,8,v)}else{const V=l.getHeight()-7+(f-8);l.setBoolean(8,V,v)}}}static maybeEmbedVersionInfo(i,a){if(i.getVersionNumber()<7)return;const l=new F;We.makeVersionInfoBits(i,l);let d=17;for(let f=0;f<6;++f)for(let g=0;g<3;++g){const v=l.get(d);d--,a.setBoolean(f,a.getHeight()-11+g,v),a.setBoolean(a.getHeight()-11+g,f,v)}}static embedDataBits(i,a,l){let d=0,f=-1,g=l.getWidth()-1,v=l.getHeight()-1;for(;g>0;){for(g===6&&(g-=1);v>=0&&v<l.getHeight();){for(let S=0;S<2;++S){const T=g-S;if(!We.isEmpty(l.get(T,v)))continue;let O;d<i.getSize()?(O=i.get(d),++d):O=!1,a!==255&&tn.getDataMaskBit(a,T,v)&&(O=!O),l.setBoolean(T,v,O)}v+=f}f=-f,v+=f,g-=2}if(d!==i.getSize())throw new It("Not all bits consumed: "+d+"/"+i.getSize())}static findMSBSet(i){return 32-U.numberOfLeadingZeros(i)}static calculateBCHCode(i,a){if(a===0)throw new A("0 polynomial");const l=We.findMSBSet(a);for(i<<=l-1;We.findMSBSet(i)>=l;)i^=a<<We.findMSBSet(i)-l;return i}static makeTypeInfoBits(i,a,l){if(!rs.isValidMaskPattern(a))throw new It("Invalid mask pattern");const d=i.getBits()<<3|a;l.appendBits(d,5);const f=We.calculateBCHCode(d,We.TYPE_INFO_POLY);l.appendBits(f,10);const g=new F;if(g.appendBits(We.TYPE_INFO_MASK_PATTERN,15),l.xor(g),l.getSize()!==15)throw new It("should not happen but we got: "+l.getSize())}static makeVersionInfoBits(i,a){a.appendBits(i.getVersionNumber(),6);const l=We.calculateBCHCode(i.getVersionNumber(),We.VERSION_INFO_POLY);if(a.appendBits(l,12),a.getSize()!==18)throw new It("should not happen but we got: "+a.getSize())}static isEmpty(i){return i===255}static embedTimingPatterns(i){for(let a=8;a<i.getWidth()-8;++a){const l=(a+1)%2;We.isEmpty(i.get(a,6))&&i.setNumber(a,6,l),We.isEmpty(i.get(6,a))&&i.setNumber(6,a,l)}}static embedDarkDotAtLeftBottomCorner(i){if(i.get(8,i.getHeight()-8)===0)throw new It;i.setNumber(8,i.getHeight()-8,1)}static embedHorizontalSeparationPattern(i,a,l){for(let d=0;d<8;++d){if(!We.isEmpty(l.get(i+d,a)))throw new It;l.setNumber(i+d,a,0)}}static embedVerticalSeparationPattern(i,a,l){for(let d=0;d<7;++d){if(!We.isEmpty(l.get(i,a+d)))throw new It;l.setNumber(i,a+d,0)}}static embedPositionAdjustmentPattern(i,a,l){for(let d=0;d<5;++d){const f=We.POSITION_ADJUSTMENT_PATTERN[d];for(let g=0;g<5;++g)l.setNumber(i+g,a+d,f[g])}}static embedPositionDetectionPattern(i,a,l){for(let d=0;d<7;++d){const f=We.POSITION_DETECTION_PATTERN[d];for(let g=0;g<7;++g)l.setNumber(i+g,a+d,f[g])}}static embedPositionDetectionPatternsAndSeparators(i){const a=We.POSITION_DETECTION_PATTERN[0].length;We.embedPositionDetectionPattern(0,0,i),We.embedPositionDetectionPattern(i.getWidth()-a,0,i),We.embedPositionDetectionPattern(0,i.getWidth()-a,i);const l=8;We.embedHorizontalSeparationPattern(0,l-1,i),We.embedHorizontalSeparationPattern(i.getWidth()-l,l-1,i),We.embedHorizontalSeparationPattern(0,i.getWidth()-l,i);const d=7;We.embedVerticalSeparationPattern(d,0,i),We.embedVerticalSeparationPattern(i.getHeight()-d-1,0,i),We.embedVerticalSeparationPattern(d,i.getHeight()-d,i)}static maybeEmbedPositionAdjustmentPatterns(i,a){if(i.getVersionNumber()<2)return;const l=i.getVersionNumber()-1,d=We.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[l];for(let f=0,g=d.length;f!==g;f++){const v=d[f];if(v>=0)for(let S=0;S!==g;S++){const T=d[S];T>=0&&We.isEmpty(a.get(T,v))&&We.embedPositionAdjustmentPattern(T-2,v-2,a)}}}}We.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),We.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),We.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),We.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),We.VERSION_INFO_POLY=7973,We.TYPE_INFO_POLY=1335,We.TYPE_INFO_MASK_PATTERN=21522;class Uh{constructor(i,a){this.dataBytes=i,this.errorCorrectionBytes=a}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Yt{constructor(){}static calculateMaskPenalty(i){return tn.applyMaskPenaltyRule1(i)+tn.applyMaskPenaltyRule2(i)+tn.applyMaskPenaltyRule3(i)+tn.applyMaskPenaltyRule4(i)}static encode(i,a,l=null){let d=Yt.DEFAULT_BYTE_MODE_ENCODING;const f=l!==null&&l.get(wn.CHARACTER_SET)!==void 0;f&&(d=l.get(wn.CHARACTER_SET).toString());const g=this.chooseMode(i,d),v=new F;if(g===Ge.BYTE&&(f||Yt.DEFAULT_BYTE_MODE_ENCODING!==d)){const Te=Q.getCharacterSetECIByName(d);Te!==void 0&&this.appendECI(Te,v)}this.appendModeInfo(g,v);const S=new F;this.appendBytes(i,g,S,d);let T;if(l!==null&&l.get(wn.QR_VERSION)!==void 0){const Te=Number.parseInt(l.get(wn.QR_VERSION).toString(),10);T=Ve.getVersionForNumber(Te);const Ne=this.calculateBitsNeeded(g,v,S,T);if(!this.willFit(Ne,T,a))throw new It("Data too big for requested version")}else T=this.recommendVersion(a,g,v,S);const O=new F;O.appendBitArray(v);const B=g===Ge.BYTE?S.getSizeInBytes():i.length;this.appendLengthInfo(B,T,g,O),O.appendBitArray(S);const V=T.getECBlocksForLevel(a),Z=T.getTotalCodewords()-V.getTotalECCodewords();this.terminateBits(Z,O);const J=this.interleaveWithECBytes(O,T.getTotalCodewords(),Z,V.getNumBlocks()),ee=new rs;ee.setECLevel(a),ee.setMode(g),ee.setVersion(T);const se=T.getDimensionForVersion(),he=new Ro(se,se),Re=this.chooseMaskPattern(J,a,T,he);return ee.setMaskPattern(Re),We.buildMatrix(J,a,T,Re,he),ee.setMatrix(he),ee}static recommendVersion(i,a,l,d){const f=this.calculateBitsNeeded(a,l,d,Ve.getVersionForNumber(1)),g=this.chooseVersion(f,i),v=this.calculateBitsNeeded(a,l,d,g);return this.chooseVersion(v,i)}static calculateBitsNeeded(i,a,l,d){return a.getSize()+i.getCharacterCountBits(d)+l.getSize()}static getAlphanumericCode(i){return i<Yt.ALPHANUMERIC_TABLE.length?Yt.ALPHANUMERIC_TABLE[i]:-1}static chooseMode(i,a=null){if(Q.SJIS.getName()===a&&this.isOnlyDoubleByteKanji(i))return Ge.KANJI;let l=!1,d=!1;for(let f=0,g=i.length;f<g;++f){const v=i.charAt(f);if(Yt.isDigit(v))l=!0;else if(this.getAlphanumericCode(v.charCodeAt(0))!==-1)d=!0;else return Ge.BYTE}return d?Ge.ALPHANUMERIC:l?Ge.NUMERIC:Ge.BYTE}static isOnlyDoubleByteKanji(i){let a;try{a=ae.encode(i,Q.SJIS)}catch{return!1}const l=a.length;if(l%2!==0)return!1;for(let d=0;d<l;d+=2){const f=a[d]&255;if((f<129||f>159)&&(f<224||f>235))return!1}return!0}static chooseMaskPattern(i,a,l,d){let f=Number.MAX_SAFE_INTEGER,g=-1;for(let v=0;v<rs.NUM_MASK_PATTERNS;v++){We.buildMatrix(i,a,l,v,d);let S=this.calculateMaskPenalty(d);S<f&&(f=S,g=v)}return g}static chooseVersion(i,a){for(let l=1;l<=40;l++){const d=Ve.getVersionForNumber(l);if(Yt.willFit(i,d,a))return d}throw new It("Data too big")}static willFit(i,a,l){const d=a.getTotalCodewords(),g=a.getECBlocksForLevel(l).getTotalECCodewords(),v=d-g,S=(i+7)/8;return v>=S}static terminateBits(i,a){const l=i*8;if(a.getSize()>l)throw new It("data bits cannot fit in the QR Code"+a.getSize()+" > "+l);for(let g=0;g<4&&a.getSize()<l;++g)a.appendBit(!1);const d=a.getSize()&7;if(d>0)for(let g=d;g<8;g++)a.appendBit(!1);const f=i-a.getSizeInBytes();for(let g=0;g<f;++g)a.appendBits((g&1)===0?236:17,8);if(a.getSize()!==l)throw new It("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(i,a,l,d,f,g){if(d>=l)throw new It("Block ID too large");const v=i%l,S=l-v,T=Math.floor(i/l),O=T+1,B=Math.floor(a/l),V=B+1,Z=T-B,J=O-V;if(Z!==J)throw new It("EC bytes mismatch");if(l!==S+v)throw new It("RS blocks mismatch");if(i!==(B+Z)*S+(V+J)*v)throw new It("Total bytes mismatch");d<S?(f[0]=B,g[0]=Z):(f[0]=V,g[0]=J)}static interleaveWithECBytes(i,a,l,d){if(i.getSizeInBytes()!==l)throw new It("Number of bits and data bytes does not match");let f=0,g=0,v=0;const S=new Array;for(let O=0;O<d;++O){const B=new Int32Array(1),V=new Int32Array(1);Yt.getNumDataBytesAndNumECBytesForBlockID(a,l,d,O,B,V);const Z=B[0],J=new Uint8Array(Z);i.toBytes(8*f,J,0,Z);const ee=Yt.generateECBytes(J,V[0]);S.push(new Uh(J,ee)),g=Math.max(g,Z),v=Math.max(v,ee.length),f+=B[0]}if(l!==f)throw new It("Data bytes does not match offset");const T=new F;for(let O=0;O<g;++O)for(const B of S){const V=B.getDataBytes();O<V.length&&T.appendBits(V[O],8)}for(let O=0;O<v;++O)for(const B of S){const V=B.getErrorCorrectionBytes();O<V.length&&T.appendBits(V[O],8)}if(a!==T.getSizeInBytes())throw new It("Interleaving error: "+a+" and "+T.getSizeInBytes()+" differ.");return T}static generateECBytes(i,a){const l=i.length,d=new Int32Array(l+a);for(let g=0;g<l;g++)d[g]=i[g]&255;new ka(vt.QR_CODE_FIELD_256).encode(d,a);const f=new Uint8Array(a);for(let g=0;g<a;g++)f[g]=d[l+g];return f}static appendModeInfo(i,a){a.appendBits(i.getBits(),4)}static appendLengthInfo(i,a,l,d){const f=l.getCharacterCountBits(a);if(i>=1<<f)throw new It(i+" is bigger than "+((1<<f)-1));d.appendBits(i,f)}static appendBytes(i,a,l,d){switch(a){case Ge.NUMERIC:Yt.appendNumericBytes(i,l);break;case Ge.ALPHANUMERIC:Yt.appendAlphanumericBytes(i,l);break;case Ge.BYTE:Yt.append8BitBytes(i,l,d);break;case Ge.KANJI:Yt.appendKanjiBytes(i,l);break;default:throw new It("Invalid mode: "+a)}}static getDigit(i){return i.charCodeAt(0)-48}static isDigit(i){const a=Yt.getDigit(i);return a>=0&&a<=9}static appendNumericBytes(i,a){const l=i.length;let d=0;for(;d<l;){const f=Yt.getDigit(i.charAt(d));if(d+2<l){const g=Yt.getDigit(i.charAt(d+1)),v=Yt.getDigit(i.charAt(d+2));a.appendBits(f*100+g*10+v,10),d+=3}else if(d+1<l){const g=Yt.getDigit(i.charAt(d+1));a.appendBits(f*10+g,7),d+=2}else a.appendBits(f,4),d++}}static appendAlphanumericBytes(i,a){const l=i.length;let d=0;for(;d<l;){const f=Yt.getAlphanumericCode(i.charCodeAt(d));if(f===-1)throw new It;if(d+1<l){const g=Yt.getAlphanumericCode(i.charCodeAt(d+1));if(g===-1)throw new It;a.appendBits(f*45+g,11),d+=2}else a.appendBits(f,6),d++}}static append8BitBytes(i,a,l){let d;try{d=ae.encode(i,l)}catch(f){throw new It(f)}for(let f=0,g=d.length;f!==g;f++){const v=d[f];a.appendBits(v,8)}}static appendKanjiBytes(i,a){let l;try{l=ae.encode(i,Q.SJIS)}catch(f){throw new It(f)}const d=l.length;for(let f=0;f<d;f+=2){const g=l[f]&255,v=l[f+1]&255,S=g<<8&4294967295|v;let T=-1;if(S>=33088&&S<=40956?T=S-33088:S>=57408&&S<=60351&&(T=S-49472),T===-1)throw new It("Invalid byte sequence");const O=(T>>8)*192+(T&255);a.appendBits(O,13)}}static appendECI(i,a){a.appendBits(Ge.ECI.getBits(),4),a.appendBits(i.getValue(),8)}}Yt.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Yt.DEFAULT_BYTE_MODE_ENCODING=Q.UTF8.getName();class ss{write(i,a,l,d=null){if(i.length===0)throw new A("Found empty contents");if(a<0||l<0)throw new A("Requested dimensions are too small: "+a+"x"+l);let f=at.L,g=ss.QUIET_ZONE_SIZE;d!==null&&(d.get(wn.ERROR_CORRECTION)!==void 0&&(f=at.fromString(d.get(wn.ERROR_CORRECTION).toString())),d.get(wn.MARGIN)!==void 0&&(g=Number.parseInt(d.get(wn.MARGIN).toString(),10)));const v=Yt.encode(i,f,d);return this.renderResult(v,a,l,g)}writeToDom(i,a,l,d,f=null){typeof i=="string"&&(i=document.querySelector(i));const g=this.write(a,l,d,f);i&&i.appendChild(g)}renderResult(i,a,l,d){const f=i.getMatrix();if(f===null)throw new bi;const g=f.getWidth(),v=f.getHeight(),S=g+d*2,T=v+d*2,O=Math.max(a,S),B=Math.max(l,T),V=Math.min(Math.floor(O/S),Math.floor(B/T)),Z=Math.floor((O-g*V)/2),J=Math.floor((B-v*V)/2),ee=this.createSVGElement(O,B);for(let se=0,he=J;se<v;se++,he+=V)for(let Re=0,Te=Z;Re<g;Re++,Te+=V)if(f.get(Re,se)===1){const Ne=this.createSvgRectElement(Te,he,V,V);ee.appendChild(Ne)}return ee}createSVGElement(i,a){const l=document.createElementNS(ss.SVG_NS,"svg");return l.setAttributeNS(null,"height",i.toString()),l.setAttributeNS(null,"width",a.toString()),l}createSvgRectElement(i,a,l,d){const f=document.createElementNS(ss.SVG_NS,"rect");return f.setAttributeNS(null,"x",i.toString()),f.setAttributeNS(null,"y",a.toString()),f.setAttributeNS(null,"height",l.toString()),f.setAttributeNS(null,"width",d.toString()),f.setAttributeNS(null,"fill","#000000"),f}}ss.QUIET_ZONE_SIZE=4,ss.SVG_NS="http://www.w3.org/2000/svg";class qs{encode(i,a,l,d,f){if(i.length===0)throw new A("Found empty contents");if(a!==Ie.QR_CODE)throw new A("Can only encode QR_CODE, but got "+a);if(l<0||d<0)throw new A(`Requested dimensions are too small: ${l}x${d}`);let g=at.L,v=qs.QUIET_ZONE_SIZE;f!==null&&(f.get(wn.ERROR_CORRECTION)!==void 0&&(g=at.fromString(f.get(wn.ERROR_CORRECTION).toString())),f.get(wn.MARGIN)!==void 0&&(v=Number.parseInt(f.get(wn.MARGIN).toString(),10)));const S=Yt.encode(i,g,f);return qs.renderResult(S,l,d,v)}static renderResult(i,a,l,d){const f=i.getMatrix();if(f===null)throw new bi;const g=f.getWidth(),v=f.getHeight(),S=g+d*2,T=v+d*2,O=Math.max(a,S),B=Math.max(l,T),V=Math.min(Math.floor(O/S),Math.floor(B/T)),Z=Math.floor((O-g*V)/2),J=Math.floor((B-v*V)/2),ee=new je(O,B);for(let se=0,he=J;se<v;se++,he+=V)for(let Re=0,Te=Z;Re<g;Re++,Te+=V)f.get(Re,se)===1&&ee.setRegion(Te,he,V,V);return ee}}qs.QUIET_ZONE_SIZE=4;class zh{encode(i,a,l,d,f){let g;if(a===Ie.QR_CODE)g=new qs;else throw new A("No encoder available for format "+a);return g.encode(i,a,l,d,f)}}class nr extends we{constructor(i,a,l,d,f,g,v,S){if(super(g,v),this.yuvData=i,this.dataWidth=a,this.dataHeight=l,this.left=d,this.top=f,d+g>a||f+v>l)throw new A("Crop rectangle does not fit within image data.");S&&this.reverseHorizontal(g,v)}getRow(i,a){if(i<0||i>=this.getHeight())throw new A("Requested row is outside the image: "+i);const l=this.getWidth();(a==null||a.length<l)&&(a=new Uint8ClampedArray(l));const d=(i+this.top)*this.dataWidth+this.left;return k.arraycopy(this.yuvData,d,a,0,l),a}getMatrix(){const i=this.getWidth(),a=this.getHeight();if(i===this.dataWidth&&a===this.dataHeight)return this.yuvData;const l=i*a,d=new Uint8ClampedArray(l);let f=this.top*this.dataWidth+this.left;if(i===this.dataWidth)return k.arraycopy(this.yuvData,f,d,0,l),d;for(let g=0;g<a;g++){const v=g*i;k.arraycopy(this.yuvData,f,d,v,i),f+=this.dataWidth}return d}isCropSupported(){return!0}crop(i,a,l,d){return new nr(this.yuvData,this.dataWidth,this.dataHeight,this.left+i,this.top+a,l,d,!1)}renderThumbnail(){const i=this.getWidth()/nr.THUMBNAIL_SCALE_FACTOR,a=this.getHeight()/nr.THUMBNAIL_SCALE_FACTOR,l=new Int32Array(i*a),d=this.yuvData;let f=this.top*this.dataWidth+this.left;for(let g=0;g<a;g++){const v=g*i;for(let S=0;S<i;S++){const T=d[f+S*nr.THUMBNAIL_SCALE_FACTOR]&255;l[v+S]=4278190080|T*65793}f+=this.dataWidth*nr.THUMBNAIL_SCALE_FACTOR}return l}getThumbnailWidth(){return this.getWidth()/nr.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/nr.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(i,a){const l=this.yuvData;for(let d=0,f=this.top*this.dataWidth+this.left;d<a;d++,f+=this.dataWidth){const g=f+i/2;for(let v=f,S=f+i-1;v<g;v++,S--){const T=l[v];l[v]=l[S],l[S]=T}}}invert(){return new Be(this)}}nr.THUMBNAIL_SCALE_FACTOR=2;class Ul extends we{constructor(i,a,l,d,f,g,v){if(super(a,l),this.dataWidth=d,this.dataHeight=f,this.left=g,this.top=v,i.BYTES_PER_ELEMENT===4){const S=a*l,T=new Uint8ClampedArray(S);for(let O=0;O<S;O++){const B=i[O],V=B>>16&255,Z=B>>7&510,J=B&255;T[O]=(V+Z+J)/4&255}this.luminances=T}else this.luminances=i;if(d===void 0&&(this.dataWidth=a),f===void 0&&(this.dataHeight=l),g===void 0&&(this.left=0),v===void 0&&(this.top=0),this.left+a>this.dataWidth||this.top+l>this.dataHeight)throw new A("Crop rectangle does not fit within image data.")}getRow(i,a){if(i<0||i>=this.getHeight())throw new A("Requested row is outside the image: "+i);const l=this.getWidth();(a==null||a.length<l)&&(a=new Uint8ClampedArray(l));const d=(i+this.top)*this.dataWidth+this.left;return k.arraycopy(this.luminances,d,a,0,l),a}getMatrix(){const i=this.getWidth(),a=this.getHeight();if(i===this.dataWidth&&a===this.dataHeight)return this.luminances;const l=i*a,d=new Uint8ClampedArray(l);let f=this.top*this.dataWidth+this.left;if(i===this.dataWidth)return k.arraycopy(this.luminances,f,d,0,l),d;for(let g=0;g<a;g++){const v=g*i;k.arraycopy(this.luminances,f,d,v,i),f+=this.dataWidth}return d}isCropSupported(){return!0}crop(i,a,l,d){return new Ul(this.luminances,l,d,this.dataWidth,this.dataHeight,this.left+i,this.top+a)}invert(){return new Be(this)}}class mu extends Q{static forName(i){return this.getCharacterSetECIByName(i)}}class Pa{}Pa.ISO_8859_1=Q.ISO8859_1;class Gs{isCompact(){return this.compact}setCompact(i){this.compact=i}getSize(){return this.size}setSize(i){this.size=i}getLayers(){return this.layers}setLayers(i){this.layers=i}getCodeWords(){return this.codeWords}setCodeWords(i){this.codeWords=i}getMatrix(){return this.matrix}setMatrix(i){this.matrix=i}}class gu{static singletonList(i){return[i]}static min(i,a){return i.sort(a)[0]}}class pu{constructor(i){this.previous=i}getPrevious(){return this.previous}}class as extends pu{constructor(i,a,l){super(i),this.value=a,this.bitCount=l}appendTo(i,a){i.appendBits(this.value,this.bitCount)}add(i,a){return new as(this,i,a)}addBinaryShift(i,a){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new as(this,i,a)}toString(){let i=this.value&(1<<this.bitCount)-1;return i|=1<<this.bitCount,"<"+U.toBinaryString(i|1<<this.bitCount).substring(1)+">"}}class Oo extends as{constructor(i,a,l){super(i,0,0),this.binaryShiftStart=a,this.binaryShiftByteCount=l}appendTo(i,a){for(let l=0;l<this.binaryShiftByteCount;l++)(l===0||l===31&&this.binaryShiftByteCount<=62)&&(i.appendBits(31,5),this.binaryShiftByteCount>62?i.appendBits(this.binaryShiftByteCount-31,16):l===0?i.appendBits(Math.min(this.binaryShiftByteCount,31),5):i.appendBits(this.binaryShiftByteCount-31,5)),i.appendBits(a[this.binaryShiftStart+l],8)}addBinaryShift(i,a){return new Oo(this,i,a)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function yu(L,i,a){return new Oo(L,i,a)}function Ys(L,i,a){return new as(L,i,a)}const Xs=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Fr=0,Mo=1,Ei=2,zl=3,Pi=4,Ua=new as(null,0,0),os=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function Fh(L){for(let i of L)j.fill(i,-1);return L[Fr][Pi]=0,L[Mo][Pi]=0,L[Mo][Fr]=28,L[zl][Pi]=0,L[Ei][Pi]=0,L[Ei][Fr]=15,L}const za=Fh(j.createInt32Array(6,6));class Ui{constructor(i,a,l,d){this.token=i,this.mode=a,this.binaryShiftByteCount=l,this.bitCount=d}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(i,a){let l=this.bitCount,d=this.token;if(i!==this.mode){let g=os[this.mode][i];d=Ys(d,g&65535,g>>16),l+=g>>16}let f=i===Ei?4:5;return d=Ys(d,a,f),new Ui(d,i,0,l+f)}shiftAndAppend(i,a){let l=this.token,d=this.mode===Ei?4:5;return l=Ys(l,za[this.mode][i],d),l=Ys(l,a,5),new Ui(l,this.mode,0,this.bitCount+d+5)}addBinaryShiftChar(i){let a=this.token,l=this.mode,d=this.bitCount;if(this.mode===Pi||this.mode===Ei){let v=os[l][Fr];a=Ys(a,v&65535,v>>16),d+=v>>16,l=Fr}let f=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,g=new Ui(a,l,this.binaryShiftByteCount+1,d+f);return g.binaryShiftByteCount===2078&&(g=g.endBinaryShift(i+1)),g}endBinaryShift(i){if(this.binaryShiftByteCount===0)return this;let a=this.token;return a=yu(a,i-this.binaryShiftByteCount,this.binaryShiftByteCount),new Ui(a,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(i){let a=this.bitCount+(os[this.mode][i.mode]>>16);return this.binaryShiftByteCount<i.binaryShiftByteCount?a+=Ui.calculateBinaryShiftCost(i)-Ui.calculateBinaryShiftCost(this):this.binaryShiftByteCount>i.binaryShiftByteCount&&i.binaryShiftByteCount>0&&(a+=10),a<=i.bitCount}toBitArray(i){let a=[];for(let d=this.endBinaryShift(i.length).token;d!==null;d=d.getPrevious())a.unshift(d);let l=new F;for(const d of a)d.appendTo(l,i);return l}toString(){return ve.format("%s bits=%d bytes=%d",Xs[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(i){return i.binaryShiftByteCount>62?21:i.binaryShiftByteCount>31?20:i.binaryShiftByteCount>0?10:0}}Ui.INITIAL_STATE=new Ui(Ua,Fr,0,0);function bu(L){const i=ve.getCharCode(" "),a=ve.getCharCode("."),l=ve.getCharCode(",");L[Fr][i]=1;const d=ve.getCharCode("Z"),f=ve.getCharCode("A");for(let V=f;V<=d;V++)L[Fr][V]=V-f+2;L[Mo][i]=1;const g=ve.getCharCode("z"),v=ve.getCharCode("a");for(let V=v;V<=g;V++)L[Mo][V]=V-v+2;L[Ei][i]=1;const S=ve.getCharCode("9"),T=ve.getCharCode("0");for(let V=T;V<=S;V++)L[Ei][V]=V-T+2;L[Ei][l]=12,L[Ei][a]=13;const O=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let V=0;V<O.length;V++)L[zl][ve.getCharCode(O[V])]=V;const B=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let V=0;V<B.length;V++)ve.getCharCode(B[V])>0&&(L[Pi][ve.getCharCode(B[V])]=V);return L}const Fa=bu(j.createInt32Array(5,256));class ls{constructor(i){this.text=i}encode(){const i=ve.getCharCode(" "),a=ve.getCharCode(`
`);let l=gu.singletonList(Ui.INITIAL_STATE);for(let f=0;f<this.text.length;f++){let g,v=f+1<this.text.length?this.text[f+1]:0;switch(this.text[f]){case ve.getCharCode("\r"):g=v===a?2:0;break;case ve.getCharCode("."):g=v===i?3:0;break;case ve.getCharCode(","):g=v===i?4:0;break;case ve.getCharCode(":"):g=v===i?5:0;break;default:g=0}g>0?(l=ls.updateStateListForPair(l,f,g),f++):l=this.updateStateListForChar(l,f)}return gu.min(l,(f,g)=>f.getBitCount()-g.getBitCount()).toBitArray(this.text)}updateStateListForChar(i,a){const l=[];for(let d of i)this.updateStateForChar(d,a,l);return ls.simplifyStates(l)}updateStateForChar(i,a,l){let d=this.text[a]&255,f=Fa[i.getMode()][d]>0,g=null;for(let v=0;v<=Pi;v++){let S=Fa[v][d];if(S>0){if(g==null&&(g=i.endBinaryShift(a)),!f||v===i.getMode()||v===Ei){const T=g.latchAndAppend(v,S);l.push(T)}if(!f&&za[i.getMode()][v]>=0){const T=g.shiftAndAppend(v,S);l.push(T)}}}if(i.getBinaryShiftByteCount()>0||Fa[i.getMode()][d]===0){let v=i.addBinaryShiftChar(a);l.push(v)}}static updateStateListForPair(i,a,l){const d=[];for(let f of i)this.updateStateForPair(f,a,l,d);return this.simplifyStates(d)}static updateStateForPair(i,a,l,d){let f=i.endBinaryShift(a);if(d.push(f.latchAndAppend(Pi,l)),i.getMode()!==Pi&&d.push(f.shiftAndAppend(Pi,l)),l===3||l===4){let g=f.latchAndAppend(Ei,16-l).latchAndAppend(Ei,1);d.push(g)}if(i.getBinaryShiftByteCount()>0){let g=i.addBinaryShiftChar(a).addBinaryShiftChar(a+1);d.push(g)}}static simplifyStates(i){let a=[];for(const l of i){let d=!0;for(const f of a){if(f.isBetterThanOrEqualTo(l)){d=!1;break}l.isBetterThanOrEqualTo(f)&&(a=a.filter(g=>g!==f))}d&&a.push(l)}return a}}class ft{constructor(){}static encodeBytes(i){return ft.encode(i,ft.DEFAULT_EC_PERCENT,ft.DEFAULT_AZTEC_LAYERS)}static encode(i,a,l){let d=new ls(i).encode(),f=U.truncDivision(d.getSize()*a,100)+11,g=d.getSize()+f,v,S,T,O,B;if(l!==ft.DEFAULT_AZTEC_LAYERS){if(v=l<0,S=Math.abs(l),S>(v?ft.MAX_NB_BITS_COMPACT:ft.MAX_NB_BITS))throw new A(ve.format("Illegal value %s for layers",l));T=ft.totalBitsInLayer(S,v),O=ft.WORD_SIZE[S];let Ne=T-T%O;if(B=ft.stuffBits(d,O),B.getSize()+f>Ne)throw new A("Data to large for user specified layer");if(v&&B.getSize()>O*64)throw new A("Data to large for user specified layer")}else{O=0,B=null;for(let Ne=0;;Ne++){if(Ne>ft.MAX_NB_BITS)throw new A("Data too large for an Aztec code");if(v=Ne<=3,S=v?Ne+1:Ne,T=ft.totalBitsInLayer(S,v),g>T)continue;(B==null||O!==ft.WORD_SIZE[S])&&(O=ft.WORD_SIZE[S],B=ft.stuffBits(d,O));let st=T-T%O;if(!(v&&B.getSize()>O*64)&&B.getSize()+f<=st)break}}let V=ft.generateCheckWords(B,T,O),Z=B.getSize()/O,J=ft.generateModeMessage(v,S,Z),ee=(v?11:14)+S*4,se=new Int32Array(ee),he;if(v){he=ee;for(let Ne=0;Ne<se.length;Ne++)se[Ne]=Ne}else{he=ee+1+2*U.truncDivision(U.truncDivision(ee,2)-1,15);let Ne=U.truncDivision(ee,2),st=U.truncDivision(he,2);for(let Je=0;Je<Ne;Je++){let hn=Je+U.truncDivision(Je,15);se[Ne-Je-1]=st-hn-1,se[Ne+Je]=st+hn+1}}let Re=new je(he);for(let Ne=0,st=0;Ne<S;Ne++){let Je=(S-Ne)*4+(v?9:12);for(let hn=0;hn<Je;hn++){let Ci=hn*2;for(let Wn=0;Wn<2;Wn++)V.get(st+Ci+Wn)&&Re.set(se[Ne*2+Wn],se[Ne*2+hn]),V.get(st+Je*2+Ci+Wn)&&Re.set(se[Ne*2+hn],se[ee-1-Ne*2-Wn]),V.get(st+Je*4+Ci+Wn)&&Re.set(se[ee-1-Ne*2-Wn],se[ee-1-Ne*2-hn]),V.get(st+Je*6+Ci+Wn)&&Re.set(se[ee-1-Ne*2-hn],se[Ne*2+Wn])}st+=Je*8}if(ft.drawModeMessage(Re,v,he,J),v)ft.drawBullsEye(Re,U.truncDivision(he,2),5);else{ft.drawBullsEye(Re,U.truncDivision(he,2),7);for(let Ne=0,st=0;Ne<U.truncDivision(ee,2)-1;Ne+=15,st+=16)for(let Je=U.truncDivision(he,2)&1;Je<he;Je+=2)Re.set(U.truncDivision(he,2)-st,Je),Re.set(U.truncDivision(he,2)+st,Je),Re.set(Je,U.truncDivision(he,2)-st),Re.set(Je,U.truncDivision(he,2)+st)}let Te=new Gs;return Te.setCompact(v),Te.setSize(he),Te.setLayers(S),Te.setCodeWords(Z),Te.setMatrix(Re),Te}static drawBullsEye(i,a,l){for(let d=0;d<l;d+=2)for(let f=a-d;f<=a+d;f++)i.set(f,a-d),i.set(f,a+d),i.set(a-d,f),i.set(a+d,f);i.set(a-l,a-l),i.set(a-l+1,a-l),i.set(a-l,a-l+1),i.set(a+l,a-l),i.set(a+l,a-l+1),i.set(a+l,a+l-1)}static generateModeMessage(i,a,l){let d=new F;return i?(d.appendBits(a-1,2),d.appendBits(l-1,6),d=ft.generateCheckWords(d,28,4)):(d.appendBits(a-1,5),d.appendBits(l-1,11),d=ft.generateCheckWords(d,40,4)),d}static drawModeMessage(i,a,l,d){let f=U.truncDivision(l,2);if(a)for(let g=0;g<7;g++){let v=f-3+g;d.get(g)&&i.set(v,f-5),d.get(g+7)&&i.set(f+5,v),d.get(20-g)&&i.set(v,f+5),d.get(27-g)&&i.set(f-5,v)}else for(let g=0;g<10;g++){let v=f-5+g+U.truncDivision(g,5);d.get(g)&&i.set(v,f-7),d.get(g+10)&&i.set(f+7,v),d.get(29-g)&&i.set(v,f+7),d.get(39-g)&&i.set(f-7,v)}}static generateCheckWords(i,a,l){let d=i.getSize()/l,f=new ka(ft.getGF(l)),g=U.truncDivision(a,l),v=ft.bitsToWords(i,l,g);f.encode(v,g-d);let S=a%l,T=new F;T.appendBits(0,S);for(const O of Array.from(v))T.appendBits(O,l);return T}static bitsToWords(i,a,l){let d=new Int32Array(l),f,g;for(f=0,g=i.getSize()/a;f<g;f++){let v=0;for(let S=0;S<a;S++)v|=i.get(f*a+S)?1<<a-S-1:0;d[f]=v}return d}static getGF(i){switch(i){case 4:return vt.AZTEC_PARAM;case 6:return vt.AZTEC_DATA_6;case 8:return vt.AZTEC_DATA_8;case 10:return vt.AZTEC_DATA_10;case 12:return vt.AZTEC_DATA_12;default:throw new A("Unsupported word size "+i)}}static stuffBits(i,a){let l=new F,d=i.getSize(),f=(1<<a)-2;for(let g=0;g<d;g+=a){let v=0;for(let S=0;S<a;S++)(g+S>=d||i.get(g+S))&&(v|=1<<a-1-S);(v&f)===f?(l.appendBits(v&f,a),g--):(v&f)===0?(l.appendBits(v|1,a),g--):l.appendBits(v,a)}return l}static totalBitsInLayer(i,a){return((a?88:112)+16*i)*i}}ft.DEFAULT_EC_PERCENT=33,ft.DEFAULT_AZTEC_LAYERS=0,ft.MAX_NB_BITS=32,ft.MAX_NB_BITS_COMPACT=4,ft.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Va{encode(i,a,l,d){return this.encodeWithHints(i,a,l,d,null)}encodeWithHints(i,a,l,d,f){let g=Pa.ISO_8859_1,v=ft.DEFAULT_EC_PERCENT,S=ft.DEFAULT_AZTEC_LAYERS;return f!=null&&(f.has(wn.CHARACTER_SET)&&(g=mu.forName(f.get(wn.CHARACTER_SET).toString())),f.has(wn.ERROR_CORRECTION)&&(v=U.parseInt(f.get(wn.ERROR_CORRECTION).toString())),f.has(wn.AZTEC_LAYERS)&&(S=U.parseInt(f.get(wn.AZTEC_LAYERS).toString()))),Va.encodeLayers(i,a,l,d,g,v,S)}static encodeLayers(i,a,l,d,f,g,v){if(a!==Ie.AZTEC)throw new A("Can only encode AZTEC, but got "+a);let S=ft.encode(ve.getBytes(i,f),g,v);return Va.renderResult(S,l,d)}static renderResult(i,a,l){let d=i.getMatrix();if(d==null)throw new bi;let f=d.getWidth(),g=d.getHeight(),v=Math.max(a,f),S=Math.max(l,g),T=Math.min(v/f,S/g),O=(v-f*T)/2,B=(S-g*T)/2,V=new je(v,S);for(let Z=0,J=B;Z<g;Z++,J+=T)for(let ee=0,se=O;ee<f;ee++,se+=T)d.get(ee,Z)&&V.setRegion(se,J,T,T);return V}}r.AbstractExpandedDecoder=bn,r.ArgumentException=E,r.ArithmeticException=Ds,r.AztecCode=Gs,r.AztecCodeReader=vo,r.AztecCodeWriter=Va,r.AztecDecoder=Dt,r.AztecDetector=Ol,r.AztecDetectorResult=ru,r.AztecEncoder=ft,r.AztecHighLevelEncoder=ls,r.AztecPoint=Yn,r.BarcodeFormat=Ie,r.Binarizer=_,r.BinaryBitmap=R,r.BitArray=F,r.BitMatrix=je,r.BitSource=Bi,r.BrowserAztecCodeReader=Dh,r.BrowserBarcodeReader=jh,r.BrowserCodeReader=Me,r.BrowserDatamatrixCodeReader=Eo,r.BrowserMultiFormatReader=fu,r.BrowserPDF417Reader=kh,r.BrowserQRCodeReader=Ph,r.BrowserQRCodeSvgWriter=ss,r.CharacterSetECI=Q,r.ChecksumException=D,r.Code128Reader=Oe,r.Code39Reader=Ut,r.DataMatrixDecodedBitStreamParser=wr,r.DataMatrixReader=xr,r.DecodeHintType=X,r.DecoderResult=Ht,r.DefaultGridSampler=Rl,r.DetectorResult=bo,r.EAN13Reader=$i,r.EncodeHintType=wn,r.Exception=b,r.FormatException=z,r.GenericGF=vt,r.GenericGFPoly=_n,r.GlobalHistogramBinarizer=re,r.GridSampler=Tl,r.GridSamplerInstance=Di,r.HTMLCanvasElementLuminanceSource=ye,r.HybridBinarizer=ue,r.ITFReader=nt,r.IllegalArgumentException=A,r.IllegalStateException=bi,r.InvertedLuminanceSource=Be,r.LuminanceSource=we,r.MathUtils=ot,r.MultiFormatOneDReader=Li,r.MultiFormatReader=hu,r.MultiFormatWriter=zh,r.NotFoundException=ne,r.OneDReader=Wt,r.PDF417DecodedBitStreamParser=fe,r.PDF417DecoderErrorCorrection=Cr,r.PDF417Reader=Bn,r.PDF417ResultMetadata=Hs,r.PerspectiveTransform=vi,r.PlanarYUVLuminanceSource=nr,r.QRCodeByteMatrix=Ro,r.QRCodeDataMask=ci,r.QRCodeDecodedBitStreamParser=qt,r.QRCodeDecoderErrorCorrectionLevel=at,r.QRCodeDecoderFormatInformation=Sn,r.QRCodeEncoder=Yt,r.QRCodeEncoderQRCode=rs,r.QRCodeMaskUtil=tn,r.QRCodeMatrixUtil=We,r.QRCodeMode=Ge,r.QRCodeReader=Er,r.QRCodeVersion=Ve,r.QRCodeWriter=qs,r.RGBLuminanceSource=Ul,r.RSS14Reader=Mt,r.RSSExpandedReader=Ae,r.ReaderException=To,r.ReedSolomonDecoder=ns,r.ReedSolomonEncoder=ka,r.ReedSolomonException=yi,r.Result=_e,r.ResultMetadataType=bt,r.ResultPoint=Pe,r.StringUtils=ve,r.UnsupportedOperationException=Ee,r.VideoInputDevice=$,r.WhiteRectangleDetector=sn,r.WriterException=It,r.ZXingArrays=j,r.ZXingCharset=mu,r.ZXingInteger=U,r.ZXingStandardCharsets=Pa,r.ZXingStringBuilder=me,r.ZXingStringEncoding=ae,r.ZXingSystem=k,r.createAbstractExpandedDecoder=Bs,Object.defineProperty(r,"__esModule",{value:!0})}))})(Tc,Tc.exports)),Tc.exports}var an=R_();const O_=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));var jx=(function(){function e(t,r,o){if(this.formatMap=new Map([[ke.QR_CODE,an.BarcodeFormat.QR_CODE],[ke.AZTEC,an.BarcodeFormat.AZTEC],[ke.CODABAR,an.BarcodeFormat.CODABAR],[ke.CODE_39,an.BarcodeFormat.CODE_39],[ke.CODE_93,an.BarcodeFormat.CODE_93],[ke.CODE_128,an.BarcodeFormat.CODE_128],[ke.DATA_MATRIX,an.BarcodeFormat.DATA_MATRIX],[ke.MAXICODE,an.BarcodeFormat.MAXICODE],[ke.ITF,an.BarcodeFormat.ITF],[ke.EAN_13,an.BarcodeFormat.EAN_13],[ke.EAN_8,an.BarcodeFormat.EAN_8],[ke.PDF_417,an.BarcodeFormat.PDF_417],[ke.RSS_14,an.BarcodeFormat.RSS_14],[ke.RSS_EXPANDED,an.BarcodeFormat.RSS_EXPANDED],[ke.UPC_A,an.BarcodeFormat.UPC_A],[ke.UPC_E,an.BarcodeFormat.UPC_E],[ke.UPC_EAN_EXTENSION,an.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!O_)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=r,this.logger=o;var u=this.createZXingFormats(t),h=new Map;h.set(an.DecodeHintType.POSSIBLE_FORMATS,u),h.set(an.DecodeHintType.TRY_HARDER,!1),this.hints=h}return e.prototype.decodeAsync=function(t){var r=this;return new Promise(function(o,u){try{o(r.decode(t))}catch(h){u(h)}})},e.prototype.decode=function(t){var r=new an.MultiFormatReader(this.verbose,this.hints),o=new an.HTMLCanvasElementLuminanceSource(t),u=new an.BinaryBitmap(new an.HybridBinarizer(o)),h=r.decode(u);return{text:h.text,format:AC.create(this.toHtml5QrcodeSupportedFormats(h.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(r,o,u){t.set(r,o)}),t},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createZXingFormats=function(t){for(var r=[],o=0,u=t;o<u.length;o++){var h=u[o];this.formatMap.has(h)?r.push(this.formatMap.get(h)):this.logger.logError("".concat(h," is not supported by")+"ZXingHtml5QrcodeShim")}return r},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e})(),M_=function(e,t,r,o){function u(h){return h instanceof r?h:new r(function(p){p(h)})}return new(r||(r=Promise))(function(h,p){function w(E){try{b(o.next(E))}catch(A){p(A)}}function x(E){try{b(o.throw(E))}catch(A){p(A)}}function b(E){E.done?h(E.value):u(E.value).then(w,x)}b((o=o.apply(e,t||[])).next())})},I_=function(e,t){var r={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},o,u,h,p;return p={next:w(0),throw:w(1),return:w(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function w(b){return function(E){return x([b,E])}}function x(b){if(o)throw new TypeError("Generator is already executing.");for(;p&&(p=0,b[0]&&(r=0)),r;)try{if(o=1,u&&(h=b[0]&2?u.return:b[0]?u.throw||((h=u.return)&&h.call(u),0):u.next)&&!(h=h.call(u,b[1])).done)return h;switch(u=0,h&&(b=[b[0]&2,h.value]),b[0]){case 0:case 1:h=b;break;case 4:return r.label++,{value:b[1],done:!1};case 5:r.label++,u=b[1],b=[0];continue;case 7:b=r.ops.pop(),r.trys.pop();continue;default:if(h=r.trys,!(h=h.length>0&&h[h.length-1])&&(b[0]===6||b[0]===2)){r=0;continue}if(b[0]===3&&(!h||b[1]>h[0]&&b[1]<h[3])){r.label=b[1];break}if(b[0]===6&&r.label<h[1]){r.label=h[1],h=b;break}if(h&&r.label<h[2]){r.label=h[2],r.ops.push(b);break}h[2]&&r.ops.pop(),r.trys.pop();continue}b=t.call(e,r)}catch(E){b=[6,E],u=0}finally{o=h=0}if(b[0]&5)throw b[1];return{value:b[0]?b[1]:void 0,done:!0}}},Lx=(function(){function e(t,r,o){if(this.formatMap=new Map([[ke.QR_CODE,"qr_code"],[ke.AZTEC,"aztec"],[ke.CODABAR,"codabar"],[ke.CODE_39,"code_39"],[ke.CODE_93,"code_93"],[ke.CODE_128,"code_128"],[ke.DATA_MATRIX,"data_matrix"],[ke.ITF,"itf"],[ke.EAN_13,"ean_13"],[ke.EAN_8,"ean_8"],[ke.PDF_417,"pdf417"],[ke.UPC_A,"upc_a"],[ke.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=r,this.logger=o;var u=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(u),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var t=new BarcodeDetector({formats:["qr_code"]});return typeof t<"u"},e.prototype.decodeAsync=function(t){return M_(this,void 0,void 0,function(){var r,o;return I_(this,function(u){switch(u.label){case 0:return[4,this.detector.detect(t)];case 1:if(r=u.sent(),!r||r.length===0)throw"No barcode or QR code detected.";return o=this.selectLargestBarcode(r),[2,{text:o.rawValue,format:AC.create(this.toHtml5QrcodeSupportedFormats(o.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(t){for(var r=null,o=0,u=0,h=t;u<h.length;u++){var p=h[u],w=p.boundingBox.width*p.boundingBox.height;w>o&&(o=w,r=p)}if(!r)throw"No largest barcode found";return r},e.prototype.createBarcodeDetectorFormats=function(t){for(var r=[],o=0,u=t;o<u.length;o++){var h=u[o];this.formatMap.has(h)?r.push(this.formatMap.get(h)):this.logger.warn("".concat(h," is not supported by")+"BarcodeDetectorDelegate")}return{formats:r}},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(r,o,u){t.set(r,o)}),t},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e})(),Bx=function(e,t,r,o){function u(h){return h instanceof r?h:new r(function(p){p(h)})}return new(r||(r=Promise))(function(h,p){function w(E){try{b(o.next(E))}catch(A){p(A)}}function x(E){try{b(o.throw(E))}catch(A){p(A)}}function b(E){E.done?h(E.value):u(E.value).then(w,x)}b((o=o.apply(e,t||[])).next())})},kx=function(e,t){var r={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},o,u,h,p;return p={next:w(0),throw:w(1),return:w(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function w(b){return function(E){return x([b,E])}}function x(b){if(o)throw new TypeError("Generator is already executing.");for(;p&&(p=0,b[0]&&(r=0)),r;)try{if(o=1,u&&(h=b[0]&2?u.return:b[0]?u.throw||((h=u.return)&&h.call(u),0):u.next)&&!(h=h.call(u,b[1])).done)return h;switch(u=0,h&&(b=[b[0]&2,h.value]),b[0]){case 0:case 1:h=b;break;case 4:return r.label++,{value:b[1],done:!1};case 5:r.label++,u=b[1],b=[0];continue;case 7:b=r.ops.pop(),r.trys.pop();continue;default:if(h=r.trys,!(h=h.length>0&&h[h.length-1])&&(b[0]===6||b[0]===2)){r=0;continue}if(b[0]===3&&(!h||b[1]>h[0]&&b[1]<h[3])){r.label=b[1];break}if(b[0]===6&&r.label<h[1]){r.label=h[1],h=b;break}if(h&&r.label<h[2]){r.label=h[2],r.ops.push(b);break}h[2]&&r.ops.pop(),r.trys.pop();continue}b=t.call(e,r)}catch(E){b=[6,E],u=0}finally{o=h=0}if(b[0]&5)throw b[1];return{value:b[0]?b[1]:void 0,done:!0}}},__=(function(){function e(t,r,o,u){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=o,r&&Lx.isSupported()?(this.primaryDecoder=new Lx(t,o,u),this.secondaryDecoder=new jx(t,o,u)):this.primaryDecoder=new jx(t,o,u)}return e.prototype.decodeAsync=function(t){return Bx(this,void 0,void 0,function(){var r;return kx(this,function(o){switch(o.label){case 0:r=performance.now(),o.label=1;case 1:return o.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(t)];case 2:return[2,o.sent()];case 3:return this.possiblyLogPerformance(r),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(t){return Bx(this,void 0,void 0,function(){var r,o;return kx(this,function(u){switch(u.label){case 0:r=performance.now(),u.label=1;case 1:return u.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(t)];case 2:return[2,u.sent()];case 3:if(o=u.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(t)];throw o;case 4:return this.possiblyLogPerformance(r),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(t){if(this.verbose){var r=performance.now()-t;this.executionResults.push(r),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var t=0,r=0,o=this.executionResults;r<o.length;r++){var u=o[r];t+=u}var h=t/this.executionResults.length;console.log("".concat(h," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e})(),tp=(function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var h in u)Object.prototype.hasOwnProperty.call(u,h)&&(o[h]=u[h])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function o(){this.constructor=t}t.prototype=r===null?Object.create(r):(o.prototype=r.prototype,new o)}})(),mh=function(e,t,r,o){function u(h){return h instanceof r?h:new r(function(p){p(h)})}return new(r||(r=Promise))(function(h,p){function w(E){try{b(o.next(E))}catch(A){p(A)}}function x(E){try{b(o.throw(E))}catch(A){p(A)}}function b(E){E.done?h(E.value):u(E.value).then(w,x)}b((o=o.apply(e,t||[])).next())})},gh=function(e,t){var r={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},o,u,h,p;return p={next:w(0),throw:w(1),return:w(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function w(b){return function(E){return x([b,E])}}function x(b){if(o)throw new TypeError("Generator is already executing.");for(;p&&(p=0,b[0]&&(r=0)),r;)try{if(o=1,u&&(h=b[0]&2?u.return:b[0]?u.throw||((h=u.return)&&h.call(u),0):u.next)&&!(h=h.call(u,b[1])).done)return h;switch(u=0,h&&(b=[b[0]&2,h.value]),b[0]){case 0:case 1:h=b;break;case 4:return r.label++,{value:b[1],done:!1};case 5:r.label++,u=b[1],b=[0];continue;case 7:b=r.ops.pop(),r.trys.pop();continue;default:if(h=r.trys,!(h=h.length>0&&h[h.length-1])&&(b[0]===6||b[0]===2)){r=0;continue}if(b[0]===3&&(!h||b[1]>h[0]&&b[1]<h[3])){r.label=b[1];break}if(b[0]===6&&r.label<h[1]){r.label=h[1],h=b;break}if(h&&r.label<h[2]){r.label=h[2],r.ops.push(b);break}h[2]&&r.ops.pop(),r.trys.pop();continue}b=t.call(e,r)}catch(E){b=[6,E],u=0}finally{o=h=0}if(b[0]&5)throw b[1];return{value:b[0]?b[1]:void 0,done:!0}}},OC=(function(){function e(t,r){this.name=t,this.track=r}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(t){var r={};r[this.name]=t;var o={advanced:[r]};return this.track.applyConstraints(o)},e.prototype.value=function(){var t=this.track.getSettings();if(this.name in t){var r=t[this.name];return r}return null},e})(),D_=(function(e){tp(t,e);function t(r,o){return e.call(this,r,o)||this}return t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(r){var o={};o[this.name]=r;var u={advanced:[o]};return this.track.applyConstraints(u)},t.prototype.getCapabilities=function(){this.failIfNotSupported();var r=this.track.getCapabilities(),o=r[this.name];return{min:o.min,max:o.max,step:o.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t})(OC),j_=(function(e){tp(t,e);function t(r){return e.call(this,"zoom",r)||this}return t})(D_),L_=(function(e){tp(t,e);function t(r){return e.call(this,"torch",r)||this}return t})(OC),B_=(function(){function e(t){this.track=t}return e.prototype.zoomFeature=function(){return new j_(this.track)},e.prototype.torchFeature=function(){return new L_(this.track)},e})(),k_=(function(){function e(t,r,o){this.isClosed=!1,this.parentElement=t,this.mediaStream=r,this.callbacks=o,this.surface=this.createVideoElement(this.parentElement.clientWidth),t.append(this.surface)}return e.prototype.createVideoElement=function(t){var r=document.createElement("video");return r.style.width="".concat(t,"px"),r.style.display="block",r.muted=!0,r.setAttribute("muted","true"),r.playsInline=!0,r},e.prototype.setupSurface=function(){var t=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var r=function(){var o=t.surface.clientWidth,u=t.surface.clientHeight;t.callbacks.onRenderSurfaceReady(o,u),t.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(t,r,o,u){return mh(this,void 0,void 0,function(){var h,p;return gh(this,function(w){switch(w.label){case 0:return h=new e(t,r,u),o.aspectRatio?(p={aspectRatio:o.aspectRatio},[4,h.getFirstTrackOrFail().applyConstraints(p)]):[3,2];case 1:w.sent(),w.label=2;case 2:return h.setupSurface(),[2,h]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(t){this.failIfClosed();var r=this,o=function(){setTimeout(t,200),r.surface.removeEventListener("playing",o)};this.surface.addEventListener("playing",o),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(t){return mh(this,void 0,void 0,function(){return gh(this,function(r){if("aspectRatio"in t)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(t)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var t=this;return new Promise(function(r,o){var u=t.mediaStream.getVideoTracks(),h=u.length,p=0;t.mediaStream.getVideoTracks().forEach(function(w){t.mediaStream.removeTrack(w),w.stop(),++p,p>=h&&(t.isClosed=!0,t.parentElement.removeChild(t.surface),r())})})},e.prototype.getCapabilities=function(){return new B_(this.getFirstTrackOrFail())},e})(),P_=(function(){function e(t){this.mediaStream=t}return e.prototype.render=function(t,r,o){return mh(this,void 0,void 0,function(){return gh(this,function(u){return[2,k_.create(t,this.mediaStream,r,o)]})})},e.create=function(t){return mh(this,void 0,void 0,function(){var r,o;return gh(this,function(u){switch(u.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return r={audio:!1,video:t},[4,navigator.mediaDevices.getUserMedia(r)];case 1:return o=u.sent(),[2,new e(o)]}})})},e})(),Px=function(e,t,r,o){function u(h){return h instanceof r?h:new r(function(p){p(h)})}return new(r||(r=Promise))(function(h,p){function w(E){try{b(o.next(E))}catch(A){p(A)}}function x(E){try{b(o.throw(E))}catch(A){p(A)}}function b(E){E.done?h(E.value):u(E.value).then(w,x)}b((o=o.apply(e,t||[])).next())})},Ux=function(e,t){var r={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},o,u,h,p;return p={next:w(0),throw:w(1),return:w(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function w(b){return function(E){return x([b,E])}}function x(b){if(o)throw new TypeError("Generator is already executing.");for(;p&&(p=0,b[0]&&(r=0)),r;)try{if(o=1,u&&(h=b[0]&2?u.return:b[0]?u.throw||((h=u.return)&&h.call(u),0):u.next)&&!(h=h.call(u,b[1])).done)return h;switch(u=0,h&&(b=[b[0]&2,h.value]),b[0]){case 0:case 1:h=b;break;case 4:return r.label++,{value:b[1],done:!1};case 5:r.label++,u=b[1],b=[0];continue;case 7:b=r.ops.pop(),r.trys.pop();continue;default:if(h=r.trys,!(h=h.length>0&&h[h.length-1])&&(b[0]===6||b[0]===2)){r=0;continue}if(b[0]===3&&(!h||b[1]>h[0]&&b[1]<h[3])){r.label=b[1];break}if(b[0]===6&&r.label<h[1]){r.label=h[1],h=b;break}if(h&&r.label<h[2]){r.label=h[2],r.ops.push(b);break}h[2]&&r.ops.pop(),r.trys.pop();continue}b=t.call(e,r)}catch(E){b=[6,E],u=0}finally{o=h=0}if(b[0]&5)throw b[1];return{value:b[0]?b[1]:void 0,done:!0}}},U_=(function(){function e(){}return e.failIfNotSupported=function(){return Px(this,void 0,void 0,function(){return Ux(this,function(t){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(t){return Px(this,void 0,void 0,function(){return Ux(this,function(r){return[2,P_.create(t)]})})},e})(),z_=function(e,t,r,o){function u(h){return h instanceof r?h:new r(function(p){p(h)})}return new(r||(r=Promise))(function(h,p){function w(E){try{b(o.next(E))}catch(A){p(A)}}function x(E){try{b(o.throw(E))}catch(A){p(A)}}function b(E){E.done?h(E.value):u(E.value).then(w,x)}b((o=o.apply(e,t||[])).next())})},F_=function(e,t){var r={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},o,u,h,p;return p={next:w(0),throw:w(1),return:w(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function w(b){return function(E){return x([b,E])}}function x(b){if(o)throw new TypeError("Generator is already executing.");for(;p&&(p=0,b[0]&&(r=0)),r;)try{if(o=1,u&&(h=b[0]&2?u.return:b[0]?u.throw||((h=u.return)&&h.call(u),0):u.next)&&!(h=h.call(u,b[1])).done)return h;switch(u=0,h&&(b=[b[0]&2,h.value]),b[0]){case 0:case 1:h=b;break;case 4:return r.label++,{value:b[1],done:!1};case 5:r.label++,u=b[1],b=[0];continue;case 7:b=r.ops.pop(),r.trys.pop();continue;default:if(h=r.trys,!(h=h.length>0&&h[h.length-1])&&(b[0]===6||b[0]===2)){r=0;continue}if(b[0]===3&&(!h||b[1]>h[0]&&b[1]<h[3])){r.label=b[1];break}if(b[0]===6&&r.label<h[1]){r.label=h[1],h=b;break}if(h&&r.label<h[2]){r.label=h[2],r.ops.push(b);break}h[2]&&r.ops.pop(),r.trys.pop();continue}b=t.call(e,r)}catch(E){b=[6,E],u=0}finally{o=h=0}if(b[0]&5)throw b[1];return{value:b[0]?b[1]:void 0,done:!0}}},V_=(function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var t=MediaStreamTrack;return MediaStreamTrack&&t.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var t=ul.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(t=ul.insecureContextCameraQueryError()),Promise.reject(t)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var t=location.host.split(":")[0];return t==="127.0.0.1"||t==="localhost"},e.getCamerasFromMediaDevices=function(){return z_(this,void 0,void 0,function(){var t,r,o,u,h,p,w;return F_(this,function(x){switch(x.label){case 0:return t=function(b){for(var E=b.getVideoTracks(),A=0,R=E;A<R.length;A++){var D=R[A];D.enabled=!1,D.stop(),b.removeTrack(D)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return r=x.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(o=x.sent(),u=[],h=0,p=o;h<p.length;h++)w=p[h],w.kind==="videoinput"&&u.push({id:w.deviceId,label:w.label});return t(r),[2,u]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(t,r){var o=function(h){for(var p=[],w=0,x=h;w<x.length;w++){var b=x[w];b.kind==="video"&&p.push({id:b.id,label:b.label})}t(p)},u=MediaStreamTrack;u.getSources(o)})},e})(),pn;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})(pn||(pn={}));var H_=(function(){function e(){this.state=pn.NOT_STARTED,this.onGoingTransactionNewState=pn.UNKNOWN}return e.prototype.directTransition=function(t){this.failIfTransitionOngoing(),this.validateTransition(t),this.state=t},e.prototype.startTransition=function(t){return this.failIfTransitionOngoing(),this.validateTransition(t),this.onGoingTransactionNewState=t,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===pn.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var t=this.onGoingTransactionNewState;this.onGoingTransactionNewState=pn.UNKNOWN,this.directTransition(t)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===pn.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=pn.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==pn.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(t){switch(this.state){case pn.UNKNOWN:throw"Transition from unknown is not allowed";case pn.NOT_STARTED:this.failIfNewStateIs(t,[pn.PAUSED]);break;case pn.SCANNING:break;case pn.PAUSED:break}},e.prototype.failIfNewStateIs=function(t,r){for(var o=0,u=r;o<u.length;o++){var h=u[o];if(t===h)throw"Cannot transition from ".concat(this.state," to ").concat(t)}},e})(),q_=(function(){function e(t){this.stateManager=t}return e.prototype.startTransition=function(t){return this.stateManager.startTransition(t)},e.prototype.directTransition=function(t){this.stateManager.directTransition(t)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===pn.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==pn.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===pn.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===pn.PAUSED},e})(),G_=(function(){function e(){}return e.create=function(){return new q_(new H_)},e})(),Y_=(function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var h in u)Object.prototype.hasOwnProperty.call(u,h)&&(o[h]=u[h])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function o(){this.constructor=t}t.prototype=r===null?Object.create(r):(o.prototype=r.prototype,new o)}})(),Yi=(function(e){Y_(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t})(Mr),X_=(function(){function e(t,r){this.logger=r,this.fps=Yi.SCAN_DEFAULT_FPS,t?(t.fps&&(this.fps=t.fps),this.disableFlip=t.disableFlip===!0,this.qrbox=t.qrbox,this.aspectRatio=t.aspectRatio,this.videoConstraints=t.videoConstraints):this.disableFlip=Yi.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?RC.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!Qr(this.qrbox)},e.create=function(t,r){return new e(t,r)},e})(),zx=(function(){function e(t,r){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.elementId=t,this.verbose=!1;var o;typeof r=="boolean"?this.verbose=r===!0:r&&(o=r,this.verbose=o.verbose===!0,o.experimentalFeatures),this.logger=new TC(this.verbose),this.qrcode=new __(this.getSupportedFormats(r),this.getUseBarCodeDetectorIfSupported(o),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=G_.create()}return e.prototype.start=function(t,r,o,u){var h=this;if(!t)throw"cameraIdOrConfig is required";if(!o||typeof o!="function")throw"qrCodeSuccessCallback is required and should be a function.";var p;u?p=u:p=this.verbose?this.logger.log:function(){};var w=X_.create(r,this.logger);this.clearElement();var x=!1;w.videoConstraints&&(w.isMediaStreamConstraintsValid()?x=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var b=x,E=document.getElementById(this.elementId);E.clientWidth?E.clientWidth:Yi.DEFAULT_WIDTH,E.style.position="relative",this.shouldScan=!0,this.element=E;var A=this,R=this.stateManagerProxy.startTransition(pn.SCANNING);return new Promise(function(D,_){var k=b?w.videoConstraints:A.createVideoConstraints(t);if(!k){R.cancel(),_("videoConstraints should be defined");return}var P={};(!b||w.aspectRatio)&&(P.aspectRatio=w.aspectRatio);var Y={onRenderSurfaceReady:function(j,U){A.setupUi(j,U,w),A.isScanning=!0,A.foreverScan(w,o,p)}};U_.failIfNotSupported().then(function(j){j.create(k).then(function(U){return U.render(h.element,P,Y).then(function(F){A.renderedCamera=F,R.execute(),D(null)}).catch(function(F){R.cancel(),_(F)})}).catch(function(U){R.cancel(),_(ul.errorGettingUserMedia(U))})}).catch(function(j){R.cancel(),_(ul.cameraStreamingNotSupported())})})},e.prototype.pause=function(t){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(pn.PAUSED),this.showPausedState(),(Qr(t)||t!==!0)&&(t=!1),t&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var t=this,r=function(){t.stateManagerProxy.directTransition(pn.SCANNING),t.hidePausedState()};if(!this.renderedCamera.isPaused()){r();return}this.renderedCamera.resume(function(){r()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var t=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var r=this.stateManagerProxy.startTransition(pn.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var o=function(){if(t.element){var h=document.getElementById(Yi.SHADED_REGION_ELEMENT_ID);h&&t.element.removeChild(h)}},u=this;return this.renderedCamera.close().then(function(){return u.renderedCamera=null,u.element&&(u.element.removeChild(u.canvasElement),u.canvasElement=null),o(),u.qrRegion&&(u.qrRegion=null),u.context&&(u.context=null),r.execute(),u.hidePausedState(),u.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(t,r){return this.scanFileV2(t,r).then(function(o){return o.decodedText})},e.prototype.scanFileV2=function(t,r){var o=this;if(!t||!(t instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(Qr(r)&&(r=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(u,h){o.possiblyCloseLastScanImageFile(),o.clearElement(),o.lastScanImageFile=URL.createObjectURL(t);var p=new Image;p.onload=function(){var w=p.width,x=p.height,b=document.getElementById(o.elementId),E=b.clientWidth?b.clientWidth:Yi.DEFAULT_WIDTH,A=Math.max(b.clientHeight?b.clientHeight:x,Yi.FILE_SCAN_MIN_HEIGHT),R=o.computeCanvasDrawConfig(w,x,E,A);if(r){var D=o.createCanvasElement(E,A,"qr-canvas-visible");D.style.display="inline-block",b.appendChild(D);var _=D.getContext("2d");if(!_)throw"Unable to get 2d context from canvas";_.canvas.width=E,_.canvas.height=A,_.drawImage(p,0,0,w,x,R.x,R.y,R.width,R.height)}var k=Yi.FILE_SCAN_HIDDEN_CANVAS_PADDING,P=Math.max(p.width,R.width),Y=Math.max(p.height,R.height),j=P+2*k,U=Y+2*k,F=o.createCanvasElement(j,U);b.appendChild(F);var I=F.getContext("2d");if(!I)throw"Unable to get 2d context from canvas";I.canvas.width=j,I.canvas.height=U,I.drawImage(p,0,0,w,x,k,k,P,Y);try{o.qrcode.decodeRobustlyAsync(F).then(function(X){u(Ix.createFromQrcodeResult(X))}).catch(h)}catch(X){h("QR code parse error, error = ".concat(X))}},p.onerror=h,p.onabort=h,p.onstalled=h,p.onsuspend=h,p.src=URL.createObjectURL(t)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return V_.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(t){if(t){if(!RC.isMediaStreamConstraintsValid(t,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(t)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(t){var r=[ke.QR_CODE,ke.AZTEC,ke.CODABAR,ke.CODE_39,ke.CODE_93,ke.CODE_128,ke.DATA_MATRIX,ke.MAXICODE,ke.ITF,ke.EAN_13,ke.EAN_8,ke.PDF_417,ke.RSS_14,ke.RSS_EXPANDED,ke.UPC_A,ke.UPC_E,ke.UPC_EAN_EXTENSION];if(!t||typeof t=="boolean"||!t.formatsToSupport)return r;if(!Array.isArray(t.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(t.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var o=[],u=0,h=t.formatsToSupport;u<h.length;u++){var p=h[u];A_(p)?o.push(p):this.logger.warn("Invalid format: ".concat(p," passed in config, ignoring."))}if(o.length===0)throw"None of formatsToSupport match supported values.";return o},e.prototype.getUseBarCodeDetectorIfSupported=function(t){if(Qr(t))return!0;if(!Qr(t.useBarCodeDetectorIfSupported))return t.useBarCodeDetectorIfSupported!==!1;if(Qr(t.experimentalFeatures))return!0;var r=t.experimentalFeatures;return Qr(r.useBarCodeDetectorIfSupported)?!0:r.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(t,r,o){var u=this,h=o.qrbox;this.validateQrboxConfig(h);var p=this.toQrdimensions(t,r,h),w=function(b){if(b<Yi.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(Yi.MIN_QR_BOX_SIZE,"px.")},x=function(b){return b>t&&(u.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),b=t),b};w(p.width),w(p.height),p.width=x(p.width)},e.prototype.validateQrboxConfig=function(t){if(typeof t!="number"&&typeof t!="function"&&(t.width===void 0||t.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(t,r,o){if(typeof o=="number")return{width:o,height:o};if(typeof o=="function")try{return o(t,r)}catch(u){throw new Error("qrbox config was passed as a function but it failed with unknown error"+u)}return o},e.prototype.setupUi=function(t,r,o){o.isShadedBoxEnabled()&&this.validateQrboxSize(t,r,o);var u=Qr(o.qrbox)?{width:t,height:r}:o.qrbox;this.validateQrboxConfig(u);var h=this.toQrdimensions(t,r,u);h.height>r&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var p=o.isShadedBoxEnabled()&&h.height<=r,w={x:0,y:0,width:t,height:r},x=p?this.getShadedRegionBounds(t,r,h):w,b=this.createCanvasElement(x.width,x.height),E={willReadFrequently:!0},A=b.getContext("2d",E);A.canvas.width=x.width,A.canvas.height=x.height,this.element.append(b),p&&this.possiblyInsertShadingElement(this.element,t,r,h),this.createScannerPausedUiElement(this.element),this.qrRegion=x,this.context=A,this.canvasElement=b},e.prototype.createScannerPausedUiElement=function(t){var r=document.createElement("div");r.innerText=ul.scannerPaused(),r.style.display="none",r.style.position="absolute",r.style.top="0px",r.style.zIndex="1",r.style.background="rgba(9, 9, 9, 0.46)",r.style.color="#FFECEC",r.style.textAlign="center",r.style.width="100%",t.appendChild(r),this.scannerPausedUiElement=r},e.prototype.scanContext=function(t,r){var o=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(u){return t(u.text,Ix.createFromQrcodeResult(u)),o.possiblyUpdateShaders(!0),!0}).catch(function(u){o.possiblyUpdateShaders(!1);var h=ul.codeParseError(u);return r(h,NC.createFrom(h)),!1})},e.prototype.foreverScan=function(t,r,o){var u=this;if(this.shouldScan&&this.renderedCamera){var h=this.renderedCamera.getSurface(),p=h.videoWidth/h.clientWidth,w=h.videoHeight/h.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var x=this.qrRegion.width*p,b=this.qrRegion.height*w,E=this.qrRegion.x*p,A=this.qrRegion.y*w;this.context.drawImage(h,E,A,x,b,0,0,this.qrRegion.width,this.qrRegion.height);var R=function(){u.foreverScanTimeout=setTimeout(function(){u.foreverScan(t,r,o)},u.getTimeoutFps(t.fps))};this.scanContext(r,o).then(function(D){!D&&t.disableFlip!==!0?(u.context.translate(u.context.canvas.width,0),u.context.scale(-1,1),u.scanContext(r,o).finally(function(){R()})):R()}).catch(function(D){u.logger.logError("Error happend while scanning context",D),R()})}},e.prototype.createVideoConstraints=function(t){if(typeof t=="string")return{deviceId:{exact:t}};if(typeof t=="object"){var r="facingMode",o="deviceId",u={user:!0,environment:!0},h="exact",p=function(_){if(_ in u)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(_,"'")},w=Object.keys(t);if(w.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(w.length," keys");var x=Object.keys(t)[0];if(x!==r&&x!==o)throw"Only '".concat(r,"' and '").concat(o,"' ")+" are supported for 'cameraIdOrConfig'";if(x===r){var b=t.facingMode;if(typeof b=="string"){if(p(b))return{facingMode:b}}else if(typeof b=="object")if(h in b){if(p(b["".concat(h)]))return{facingMode:{exact:b["".concat(h)]}}}else throw"'facingMode' should be string or object with"+" ".concat(h," as key.");else{var E=typeof b;throw"Invalid type of 'facingMode' = ".concat(E)}}else{var A=t.deviceId;if(typeof A=="string")return{deviceId:A};if(typeof A=="object"){if(h in A)return{deviceId:{exact:A["".concat(h)]}};throw"'deviceId' should be string or object with"+" ".concat(h," as key.")}else{var R=typeof A;throw"Invalid type of 'deviceId' = ".concat(R)}}}var D=typeof t;throw"Invalid type of 'cameraIdOrConfig' = ".concat(D)},e.prototype.computeCanvasDrawConfig=function(t,r,o,u){if(t<=o&&r<=u){var h=(o-t)/2,p=(u-r)/2;return{x:h,y:p,width:t,height:r}}else{var w=t,x=r;return t>o&&(r=o/t*r,t=o),r>u&&(t=u/r*t,r=u),this.logger.log("Image downsampled from "+"".concat(w,"X").concat(x)+" to ".concat(t,"X").concat(r,".")),this.computeCanvasDrawConfig(t,r,o,u)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var t=document.getElementById(this.elementId);t&&(t.innerHTML="")},e.prototype.possiblyUpdateShaders=function(t){this.qrMatch!==t&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(r){r.style.backgroundColor=t?Yi.BORDER_SHADER_MATCH_COLOR:Yi.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=t)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(t,r,o){var u=t,h=r,p=document.createElement("canvas");return p.style.width="".concat(u,"px"),p.style.height="".concat(h,"px"),p.style.display="none",p.id=Qr(o)?"qr-canvas":o,p},e.prototype.getShadedRegionBounds=function(t,r,o){if(o.width>t||o.height>r)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(t-o.width)/2,y:(r-o.height)/2,width:o.width,height:o.height}},e.prototype.possiblyInsertShadingElement=function(t,r,o,u){if(!(r-u.width<1||o-u.height<1)){var h=document.createElement("div");h.style.position="absolute";var p=(r-u.width)/2,w=(o-u.height)/2;if(h.style.borderLeft="".concat(p,"px solid rgba(0, 0, 0, 0.48)"),h.style.borderRight="".concat(p,"px solid rgba(0, 0, 0, 0.48)"),h.style.borderTop="".concat(w,"px solid rgba(0, 0, 0, 0.48)"),h.style.borderBottom="".concat(w,"px solid rgba(0, 0, 0, 0.48)"),h.style.boxSizing="border-box",h.style.top="0px",h.style.bottom="0px",h.style.left="0px",h.style.right="0px",h.id="".concat(Yi.SHADED_REGION_ELEMENT_ID),r-u.width<11||o-u.height<11)this.hasBorderShaders=!1;else{var x=5,b=40;this.insertShaderBorders(h,b,x,-x,null,0,!0),this.insertShaderBorders(h,b,x,-x,null,0,!1),this.insertShaderBorders(h,b,x,null,-x,0,!0),this.insertShaderBorders(h,b,x,null,-x,0,!1),this.insertShaderBorders(h,x,b+x,-x,null,-x,!0),this.insertShaderBorders(h,x,b+x,null,-x,-x,!0),this.insertShaderBorders(h,x,b+x,-x,null,-x,!1),this.insertShaderBorders(h,x,b+x,null,-x,-x,!1),this.hasBorderShaders=!0}t.append(h)}},e.prototype.insertShaderBorders=function(t,r,o,u,h,p,w){var x=document.createElement("div");x.style.position="absolute",x.style.backgroundColor=Yi.BORDER_SHADER_DEFAULT_COLOR,x.style.width="".concat(r,"px"),x.style.height="".concat(o,"px"),u!==null&&(x.style.top="".concat(u,"px")),h!==null&&(x.style.bottom="".concat(h,"px")),w?x.style.left="".concat(p,"px"):x.style.right="".concat(p,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(x),t.appendChild(x)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(t){return 1e3/t},e})(),np="data:image/svg+xml;base64,",W_=np+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",Q_=np+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",Fx=np+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",Z_="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",Vx=(function(){function e(){}return e.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},e})(),K_=(function(){function e(){this.data=Vx.createDefault();var t=localStorage.getItem(e.LOCAL_STORAGE_KEY);t?this.data=JSON.parse(t):this.reset()}return e.prototype.hasCameraPermissions=function(){return this.data.hasPermission},e.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},e.prototype.setHasPermission=function(t){this.data.hasPermission=t,this.flush()},e.prototype.setLastUsedCameraId=function(t){this.data.lastUsedCameraId=t,this.flush()},e.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},e.prototype.reset=function(){this.data=Vx.createDefault(),this.flush()},e.prototype.flush=function(){localStorage.setItem(e.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},e.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",e})(),$_=(function(){function e(){this.infoDiv=document.createElement("div")}return e.prototype.renderInto=function(t){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=_x.poweredBy();var r=document.createElement("a");r.innerText="ScanApp",r.href="https://scanapp.org",r.target="new",r.style.color="white",this.infoDiv.appendChild(r);var o=document.createElement("br"),u=document.createElement("br");this.infoDiv.appendChild(o),this.infoDiv.appendChild(u);var h=document.createElement("a");h.innerText=_x.reportIssues(),h.href="https://github.com/mebjas/html5-qrcode/issues",h.target="new",h.style.color="white",this.infoDiv.appendChild(h),t.appendChild(this.infoDiv)},e.prototype.show=function(){this.infoDiv.style.display="block"},e.prototype.hide=function(){this.infoDiv.style.display="none"},e})(),J_=(function(){function e(t,r){this.isShowingInfoIcon=!0,this.onTapIn=t,this.onTapOut=r,this.infoIcon=document.createElement("img")}return e.prototype.renderInto=function(t){var r=this;this.infoIcon.alt="Info icon",this.infoIcon.src=Fx,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(o){return r.onHoverIn()},this.infoIcon.onmouseout=function(o){return r.onHoverOut()},this.infoIcon.onclick=function(o){return r.onClick()},t.appendChild(this.infoIcon)},e.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},e.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},e.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src=Z_,this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=Fx,this.infoIcon.style.opacity="0.6")},e})(),eD=(function(){function e(){var t=this;this.infoDiv=new $_,this.infoIcon=new J_(function(){t.infoDiv.show()},function(){t.infoDiv.hide()})}return e.prototype.renderInto=function(t){this.infoDiv.renderInto(t),this.infoIcon.renderInto(t)},e})(),tD=function(e,t,r,o){function u(h){return h instanceof r?h:new r(function(p){p(h)})}return new(r||(r=Promise))(function(h,p){function w(E){try{b(o.next(E))}catch(A){p(A)}}function x(E){try{b(o.throw(E))}catch(A){p(A)}}function b(E){E.done?h(E.value):u(E.value).then(w,x)}b((o=o.apply(e,t||[])).next())})},nD=function(e,t){var r={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},o,u,h,p;return p={next:w(0),throw:w(1),return:w(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function w(b){return function(E){return x([b,E])}}function x(b){if(o)throw new TypeError("Generator is already executing.");for(;p&&(p=0,b[0]&&(r=0)),r;)try{if(o=1,u&&(h=b[0]&2?u.return:b[0]?u.throw||((h=u.return)&&h.call(u),0):u.next)&&!(h=h.call(u,b[1])).done)return h;switch(u=0,h&&(b=[b[0]&2,h.value]),b[0]){case 0:case 1:h=b;break;case 4:return r.label++,{value:b[1],done:!1};case 5:r.label++,u=b[1],b=[0];continue;case 7:b=r.ops.pop(),r.trys.pop();continue;default:if(h=r.trys,!(h=h.length>0&&h[h.length-1])&&(b[0]===6||b[0]===2)){r=0;continue}if(b[0]===3&&(!h||b[1]>h[0]&&b[1]<h[3])){r.label=b[1];break}if(b[0]===6&&r.label<h[1]){r.label=h[1],h=b;break}if(h&&r.label<h[2]){r.label=h[2],r.ops.push(b);break}h[2]&&r.ops.pop(),r.trys.pop();continue}b=t.call(e,r)}catch(E){b=[6,E],u=0}finally{o=h=0}if(b[0]&5)throw b[1];return{value:b[0]?b[1]:void 0,done:!0}}},Hx=(function(){function e(){}return e.hasPermissions=function(){return tD(this,void 0,void 0,function(){var t,r,o,u;return nD(this,function(h){switch(h.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(t=h.sent(),r=0,o=t;r<o.length;r++)if(u=o[r],u.kind==="videoinput"&&u.label)return[2,!0];return[2,!1]}})})},e})(),ya=(function(){function e(t){this.supportedScanTypes=this.validateAndReturnScanTypes(t)}return e.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},e.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},e.prototype.isCameraScanRequired=function(){for(var t=0,r=this.supportedScanTypes;t<r.length;t++){var o=r[t];if(e.isCameraScanType(o))return!0}return!1},e.isCameraScanType=function(t){return t===Na.SCAN_TYPE_CAMERA},e.isFileScanType=function(t){return t===Na.SCAN_TYPE_FILE},e.prototype.validateAndReturnScanTypes=function(t){if(!t||t.length===0)return Mr.DEFAULT_SUPPORTED_SCAN_TYPE;var r=Mr.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(t.length>r)throw"Max ".concat(r," values expected for ")+"supportedScanTypes";for(var o=0,u=t;o<u.length;o++){var h=u[o];if(!Mr.DEFAULT_SUPPORTED_SCAN_TYPE.includes(h))throw"Unsupported scan type ".concat(h)}return t},e})(),Qi=(function(){function e(){}return e.ALL_ELEMENT_CLASS="html5-qrcode-element",e.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",e.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",e.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",e.TORCH_BUTTON_ID="html5-qrcode-button-torch",e.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",e.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",e.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",e.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",e.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",e.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",e})(),Ns=(function(){function e(){}return e.createElement=function(t,r){var o=document.createElement(t);return o.id=r,o.classList.add(Qi.ALL_ELEMENT_CLASS),t==="button"&&o.setAttribute("type","button"),o},e})(),MC=function(e,t,r,o){function u(h){return h instanceof r?h:new r(function(p){p(h)})}return new(r||(r=Promise))(function(h,p){function w(E){try{b(o.next(E))}catch(A){p(A)}}function x(E){try{b(o.throw(E))}catch(A){p(A)}}function b(E){E.done?h(E.value):u(E.value).then(w,x)}b((o=o.apply(e,t||[])).next())})},IC=function(e,t){var r={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},o,u,h,p;return p={next:w(0),throw:w(1),return:w(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function w(b){return function(E){return x([b,E])}}function x(b){if(o)throw new TypeError("Generator is already executing.");for(;p&&(p=0,b[0]&&(r=0)),r;)try{if(o=1,u&&(h=b[0]&2?u.return:b[0]?u.throw||((h=u.return)&&h.call(u),0):u.next)&&!(h=h.call(u,b[1])).done)return h;switch(u=0,h&&(b=[b[0]&2,h.value]),b[0]){case 0:case 1:h=b;break;case 4:return r.label++,{value:b[1],done:!1};case 5:r.label++,u=b[1],b=[0];continue;case 7:b=r.ops.pop(),r.trys.pop();continue;default:if(h=r.trys,!(h=h.length>0&&h[h.length-1])&&(b[0]===6||b[0]===2)){r=0;continue}if(b[0]===3&&(!h||b[1]>h[0]&&b[1]<h[3])){r.label=b[1];break}if(b[0]===6&&r.label<h[1]){r.label=h[1],h=b;break}if(h&&r.label<h[2]){r.label=h[2],r.ops.push(b);break}h[2]&&r.ops.pop(),r.trys.pop();continue}b=t.call(e,r)}catch(E){b=[6,E],u=0}finally{o=h=0}if(b[0]&5)throw b[1];return{value:b[0]?b[1]:void 0,done:!0}}},qx=(function(){function e(t,r,o){this.isTorchOn=!1,this.torchCapability=t,this.buttonController=r,this.onTorchActionFailureCallback=o}return e.prototype.isTorchEnabled=function(){return this.isTorchOn},e.prototype.flipState=function(){return MC(this,void 0,void 0,function(){var t,r;return IC(this,function(o){switch(o.label){case 0:this.buttonController.disable(),t=!this.isTorchOn,o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.torchCapability.apply(t)];case 2:return o.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),t),[3,4];case 3:return r=o.sent(),this.propagateFailure(t,r),this.buttonController.enable(),[3,4];case 4:return[2]}})})},e.prototype.updateUiBasedOnLatestSettings=function(t,r){t===r?(this.buttonController.setText(r?Pt.torchOffButton():Pt.torchOnButton()),this.isTorchOn=r):this.propagateFailure(r),this.buttonController.enable()},e.prototype.propagateFailure=function(t,r){var o=t?Pt.torchOnFailedMessage():Pt.torchOffFailedMessage();r&&(o+="; Error = "+r),this.onTorchActionFailureCallback(o)},e.prototype.reset=function(){this.isTorchOn=!1},e})(),iD=(function(){function e(t,r){this.onTorchActionFailureCallback=r,this.torchButton=Ns.createElement("button",Qi.TORCH_BUTTON_ID),this.torchController=new qx(t,this,r)}return e.prototype.render=function(t,r){var o=this;this.torchButton.innerText=Pt.torchOnButton(),this.torchButton.style.display=r.display,this.torchButton.style.marginLeft=r.marginLeft;var u=this;this.torchButton.addEventListener("click",function(h){return MC(o,void 0,void 0,function(){return IC(this,function(p){switch(p.label){case 0:return[4,u.torchController.flipState()];case 1:return p.sent(),u.torchController.isTorchEnabled()?(u.torchButton.classList.remove(Qi.TORCH_BUTTON_CLASS_TORCH_OFF),u.torchButton.classList.add(Qi.TORCH_BUTTON_CLASS_TORCH_ON)):(u.torchButton.classList.remove(Qi.TORCH_BUTTON_CLASS_TORCH_ON),u.torchButton.classList.add(Qi.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),t.appendChild(this.torchButton)},e.prototype.updateTorchCapability=function(t){this.torchController=new qx(t,this,this.onTorchActionFailureCallback)},e.prototype.getTorchButton=function(){return this.torchButton},e.prototype.hide=function(){this.torchButton.style.display="none"},e.prototype.show=function(){this.torchButton.style.display="inline-block"},e.prototype.disable=function(){this.torchButton.disabled=!0},e.prototype.enable=function(){this.torchButton.disabled=!1},e.prototype.setText=function(t){this.torchButton.innerText=t},e.prototype.reset=function(){this.torchButton.innerText=Pt.torchOnButton(),this.torchController.reset()},e.create=function(t,r,o,u){var h=new e(r,u);return h.render(t,o),h},e})(),rD=(function(){function e(t,r,o){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=r?"block":"none",t.appendChild(this.fileBasedScanRegion);var u=document.createElement("label");u.setAttribute("for",this.getFileScanInputId()),u.style.display="inline-block",this.fileBasedScanRegion.appendChild(u),this.fileSelectionButton=Ns.createElement("button",Qi.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(w){u.click()}),u.append(this.fileSelectionButton),this.fileScanInput=Ns.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",u.appendChild(this.fileScanInput);var h=this;this.fileScanInput.addEventListener("change",function(w){if(!(w==null||w.target==null)){var x=w.target;if(!(x.files&&x.files.length===0)){var b=x.files,E=b[0],A=E.name;h.setImageNameToButton(A),o(E)}}});var p=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(p),this.fileBasedScanRegion.addEventListener("dragenter",function(w){h.fileBasedScanRegion.style.border=h.fileBasedScanRegionActiveBorder(),w.stopPropagation(),w.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(w){h.fileBasedScanRegion.style.border=h.fileBasedScanRegionDefaultBorder(),w.stopPropagation(),w.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(w){h.fileBasedScanRegion.style.border=h.fileBasedScanRegionActiveBorder(),w.stopPropagation(),w.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(w){w.stopPropagation(),w.preventDefault(),h.fileBasedScanRegion.style.border=h.fileBasedScanRegionDefaultBorder();var x=w.dataTransfer;if(x){var b=x.files;if(!b||b.length===0)return;for(var E=!1,A=0;A<b.length;++A){var R=b.item(A);if(R){var D=/image.*/;if(R.type.match(D)){E=!0;var _=R.name;h.setImageNameToButton(_),o(R),p.innerText=Pt.dragAndDropMessage();break}}}E||(p.innerText=Pt.dragAndDropMessageOnlyImages())}})}return e.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},e.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},e.prototype.isShowing=function(){return this.fileBasedScanRegion.style.display==="block"},e.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},e.prototype.createFileBasedScanRegion=function(){var t=document.createElement("div");return t.style.textAlign="center",t.style.margin="auto",t.style.width="80%",t.style.maxWidth="600px",t.style.border=this.fileBasedScanRegionDefaultBorder(),t.style.padding="10px",t.style.marginBottom="10px",t},e.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},e.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},e.prototype.createDragAndDropMessage=function(){var t=document.createElement("div");return t.innerText=Pt.dragAndDropMessage(),t.style.fontWeight="400",t},e.prototype.setImageNameToButton=function(t){var r=20;if(t.length>r){var o=t.substring(0,8),u=t.length,h=t.substring(u-8,u);t="".concat(o,"....").concat(h)}var p=Pt.fileSelectionChooseAnother()+" - "+t;this.fileSelectionButton.innerText=p},e.prototype.setInitialValueToButton=function(){var t=Pt.fileSelectionChooseImage()+" - "+Pt.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=t},e.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},e.create=function(t,r,o){var u=new e(t,r,o);return u},e})(),sD=(function(){function e(t){this.selectElement=Ns.createElement("select",Qi.CAMERA_SELECTION_SELECT_ID),this.cameras=t,this.options=[]}return e.prototype.render=function(t){var r=document.createElement("span");r.style.marginRight="10px";var o=this.cameras.length;if(o===0)throw new Error("No cameras found");if(o===1)r.style.display="none";else{var u=Pt.selectCamera();r.innerText="".concat(u," (").concat(this.cameras.length,")  ")}for(var h=1,p=0,w=this.cameras;p<w.length;p++){var x=w[p],b=x.id,E=x.label==null?b:x.label;(!E||E==="")&&(E=[Pt.anonymousCameraPrefix(),h++].join(" "));var A=document.createElement("option");A.value=b,A.innerText=E,this.options.push(A),this.selectElement.appendChild(A)}r.appendChild(this.selectElement),t.appendChild(r)},e.prototype.disable=function(){this.selectElement.disabled=!0},e.prototype.isDisabled=function(){return this.selectElement.disabled===!0},e.prototype.enable=function(){this.selectElement.disabled=!1},e.prototype.getValue=function(){return this.selectElement.value},e.prototype.hasValue=function(t){for(var r=0,o=this.options;r<o.length;r++){var u=o[r];if(u.value===t)return!0}return!1},e.prototype.setValue=function(t){if(!this.hasValue(t))throw new Error("".concat(t," is not present in the camera list."));this.selectElement.value=t},e.prototype.hasSingleItem=function(){return this.cameras.length===1},e.prototype.numCameras=function(){return this.cameras.length},e.create=function(t,r){var o=new e(r);return o.render(t),o},e})(),aD=(function(){function e(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=Ns.createElement("input",Qi.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return e.prototype.render=function(t,r){this.zoomElementContainer.style.display=r?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",t.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var o=Pt.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(o),this.rangeText.style.marginRight="10px";var u=this;this.rangeInput.addEventListener("input",function(){return u.onValueChange()}),this.rangeInput.addEventListener("change",function(){return u.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},e.prototype.onValueChange=function(){var t=Pt.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(t),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},e.prototype.setValues=function(t,r,o,u){this.rangeInput.min=t.toString(),this.rangeInput.max=r.toString(),this.rangeInput.step=u.toString(),this.rangeInput.value=o.toString(),this.onValueChange()},e.prototype.show=function(){this.zoomElementContainer.style.display="block"},e.prototype.hide=function(){this.zoomElementContainer.style.display="none"},e.prototype.setOnCameraZoomValueChangeCallback=function(t){this.onChangeCallback=t},e.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},e.create=function(t,r){var o=new e;return o.render(t,r),o},e})(),Xi;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(Xi||(Xi={}));function oD(e){return{fps:e.fps,qrbox:e.qrbox,aspectRatio:e.aspectRatio,disableFlip:e.disableFlip,videoConstraints:e.videoConstraints}}function lD(e,t){return{formatsToSupport:e.formatsToSupport,useBarCodeDetectorIfSupported:e.useBarCodeDetectorIfSupported,experimentalFeatures:e.experimentalFeatures,verbose:t}}var cD=(function(){function e(t,r,o){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=t,this.config=this.createConfig(r),this.verbose=o===!0,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.scanTypeSelector=new ya(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new TC(this.verbose),this.persistedDataManager=new K_,r.rememberLastUsedCamera!==!0&&this.persistedDataManager.reset()}return e.prototype.render=function(t,r){var o=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(h,p){if(t)t(h,p);else{if(o.lastMatchFound===h)return;o.lastMatchFound=h,o.setHeaderMessage(Pt.lastMatch(h),Xi.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(h,p){r&&r(h,p)};var u=document.getElementById(this.elementId);if(!u)throw"HTML Element with id=".concat(this.elementId," not found");u.innerHTML="",this.createBasicLayout(u),this.html5Qrcode=new zx(this.getScanRegionId(),lD(this.config,this.verbose))},e.prototype.pause=function(t){(Qr(t)||t!==!0)&&(t=!1),this.getHtml5QrcodeOrFail().pause(t)},e.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},e.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},e.prototype.clear=function(){var t=this,r=function(){var o=document.getElementById(t.elementId);o&&(o.innerHTML="",t.resetBasicLayout(o))};return this.html5Qrcode?new Promise(function(o,u){if(!t.html5Qrcode){o();return}t.html5Qrcode.isScanning?t.html5Qrcode.stop().then(function(h){if(!t.html5Qrcode){o();return}t.html5Qrcode.clear(),r(),o()}).catch(function(h){t.verbose&&t.logger.logError("Unable to stop qrcode scanner",h),u(h)}):(t.html5Qrcode.clear(),r(),o())}):Promise.resolve()},e.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},e.prototype.applyVideoConstraints=function(t){return this.getHtml5QrcodeOrFail().applyVideoConstraints(t)},e.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},e.prototype.createConfig=function(t){return t?(t.fps||(t.fps=Mr.SCAN_DEFAULT_FPS),t.rememberLastUsedCamera!==!Mr.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(t.rememberLastUsedCamera=Mr.DEFAULT_REMEMBER_LAST_CAMERA_USED),t.supportedScanTypes||(t.supportedScanTypes=Mr.DEFAULT_SUPPORTED_SCAN_TYPE),t):{fps:Mr.SCAN_DEFAULT_FPS,rememberLastUsedCamera:Mr.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:Mr.DEFAULT_SUPPORTED_SCAN_TYPE}},e.prototype.createBasicLayout=function(t){t.style.position="relative",t.style.padding="0px",t.style.border="1px solid silver",this.createHeader(t);var r=document.createElement("div"),o=this.getScanRegionId();r.id=o,r.style.width="100%",r.style.minHeight="100px",r.style.textAlign="center",t.appendChild(r),ya.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var u=document.createElement("div"),h=this.getDashboardId();u.id=h,u.style.width="100%",t.appendChild(u),this.setupInitialDashboard(u)},e.prototype.resetBasicLayout=function(t){t.style.border="none"},e.prototype.setupInitialDashboard=function(t){this.createSection(t),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},e.prototype.createHeader=function(t){var r=document.createElement("div");r.style.textAlign="left",r.style.margin="0px",t.appendChild(r);var o=new eD;o.renderInto(r);var u=document.createElement("div");u.id=this.getHeaderMessageContainerId(),u.style.display="none",u.style.textAlign="center",u.style.fontSize="14px",u.style.padding="2px 10px",u.style.margin="4px",u.style.borderTop="1px solid #f6f6f6",r.appendChild(u)},e.prototype.createSection=function(t){var r=document.createElement("div");r.id=this.getDashboardSectionId(),r.style.width="100%",r.style.padding="10px 0px 10px 0px",r.style.textAlign="left",t.appendChild(r)},e.prototype.createCameraListUi=function(t,r,o){var u=this;u.showHideScanTypeSwapLink(!1),u.setHeaderMessage(Pt.cameraPermissionRequesting());var h=function(){o||u.createPermissionButton(t,r)};zx.getCameras().then(function(p){u.persistedDataManager.setHasPermission(!0),u.showHideScanTypeSwapLink(!0),u.resetHeaderMessage(),p&&p.length>0?(t.removeChild(r),u.renderCameraSelection(p)):(u.setHeaderMessage(Pt.noCameraFound(),Xi.STATUS_WARNING),h())}).catch(function(p){u.persistedDataManager.setHasPermission(!1),o?o.disabled=!1:h(),u.setHeaderMessage(p,Xi.STATUS_WARNING),u.showHideScanTypeSwapLink(!0)})},e.prototype.createPermissionButton=function(t,r){var o=this,u=Ns.createElement("button",this.getCameraPermissionButtonId());u.innerText=Pt.cameraPermissionTitle(),u.addEventListener("click",function(){u.disabled=!0,o.createCameraListUi(t,r,u)}),r.appendChild(u)},e.prototype.createPermissionsUi=function(t,r){var o=this;if(ya.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()){Hx.hasPermissions().then(function(u){u?o.createCameraListUi(t,r):(o.persistedDataManager.setHasPermission(!1),o.createPermissionButton(t,r))}).catch(function(u){o.persistedDataManager.setHasPermission(!1),o.createPermissionButton(t,r)});return}this.createPermissionButton(t,r)},e.prototype.createSectionControlPanel=function(){var t=document.getElementById(this.getDashboardSectionId()),r=document.createElement("div");t.appendChild(r);var o=document.createElement("div");o.id=this.getDashboardSectionCameraScanRegionId(),o.style.display=ya.isCameraScanType(this.currentScanType)?"block":"none",r.appendChild(o);var u=document.createElement("div");u.style.textAlign="center",o.appendChild(u),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(o,u),this.renderFileScanUi(r)},e.prototype.renderFileScanUi=function(t){var r=ya.isFileScanType(this.currentScanType),o=this,u=function(h){if(!o.html5Qrcode)throw"html5Qrcode not defined";ya.isFileScanType(o.currentScanType)&&(o.setHeaderMessage(Pt.loadingImage()),o.html5Qrcode.scanFileV2(h,!0).then(function(p){o.resetHeaderMessage(),o.qrCodeSuccessCallback(p.decodedText,p)}).catch(function(p){o.setHeaderMessage(p,Xi.STATUS_WARNING),o.qrCodeErrorCallback(p,NC.createFrom(p))}))};this.fileSelectionUi=rD.create(t,r,u)},e.prototype.renderCameraSelection=function(t){var r=this,o=this,u=document.getElementById(this.getDashboardSectionCameraScanRegionId());u.style.textAlign="center";var h=aD.create(u,!1),p=function(k){var P=k.zoomFeature();if(P.isSupported()){h.setOnCameraZoomValueChangeCallback(function(j){P.apply(j)});var Y=1;r.config.defaultZoomValueIfSupported&&(Y=r.config.defaultZoomValueIfSupported),Y=N_(Y,P.min(),P.max()),h.setValues(P.min(),P.max(),Y,P.step()),h.show()}},w=sD.create(u,t),x=document.createElement("span"),b=Ns.createElement("button",Qi.CAMERA_START_BUTTON_ID);b.innerText=Pt.scanButtonStartScanningText(),x.appendChild(b);var E=Ns.createElement("button",Qi.CAMERA_STOP_BUTTON_ID);E.innerText=Pt.scanButtonStopScanningText(),E.style.display="none",E.disabled=!0,x.appendChild(E);var A,R=function(k){if(!k.torchFeature().isSupported()){A&&A.hide();return}A?A.updateTorchCapability(k.torchFeature()):A=iD.create(x,k.torchFeature(),{display:"none",marginLeft:"5px"},function(P){o.setHeaderMessage(P,Xi.STATUS_WARNING)}),A.show()};u.appendChild(x);var D=function(k){k||(b.style.display="none"),b.innerText=Pt.scanButtonStartScanningText(),b.style.opacity="1",b.disabled=!1,k&&(b.style.display="inline-block")};if(b.addEventListener("click",function(k){b.innerText=Pt.scanButtonScanningStarting(),w.disable(),b.disabled=!0,b.style.opacity="0.5",r.scanTypeSelector.hasMoreThanOneScanType()&&o.showHideScanTypeSwapLink(!1),o.resetHeaderMessage();var P=w.getValue();o.persistedDataManager.setLastUsedCameraId(P),o.html5Qrcode.start(P,oD(o.config),o.qrCodeSuccessCallback,o.qrCodeErrorCallback).then(function(Y){E.disabled=!1,E.style.display="inline-block",D(!1);var j=o.html5Qrcode.getRunningTrackCameraCapabilities();r.config.showTorchButtonIfSupported===!0&&R(j),r.config.showZoomSliderIfSupported===!0&&p(j)}).catch(function(Y){o.showHideScanTypeSwapLink(!0),w.enable(),D(!0),o.setHeaderMessage(Y,Xi.STATUS_WARNING)})}),w.hasSingleItem()&&b.click(),E.addEventListener("click",function(k){if(!o.html5Qrcode)throw"html5Qrcode not defined";E.disabled=!0,o.html5Qrcode.stop().then(function(P){r.scanTypeSelector.hasMoreThanOneScanType()&&o.showHideScanTypeSwapLink(!0),w.enable(),b.disabled=!1,E.style.display="none",b.style.display="inline-block",A&&(A.reset(),A.hide()),h.removeOnCameraZoomValueChangeCallback(),h.hide(),o.insertCameraScanImageToScanRegion()}).catch(function(P){E.disabled=!1,o.setHeaderMessage(P,Xi.STATUS_WARNING)})}),o.persistedDataManager.getLastUsedCameraId()){var _=o.persistedDataManager.getLastUsedCameraId();w.hasValue(_)?(w.setValue(_),b.click()):o.persistedDataManager.resetLastUsedCameraId()}},e.prototype.createSectionSwap=function(){var t=this,r=Pt.textIfCameraScanSelected(),o=Pt.textIfFileScanSelected(),u=document.getElementById(this.getDashboardSectionId()),h=document.createElement("div");h.style.textAlign="center";var p=Ns.createElement("span",this.getDashboardSectionSwapLinkId());p.style.textDecoration="underline",p.style.cursor="pointer",p.innerText=ya.isCameraScanType(this.currentScanType)?r:o,p.addEventListener("click",function(){if(!t.sectionSwapAllowed){t.verbose&&t.logger.logError("Section swap called when not allowed");return}t.resetHeaderMessage(),t.fileSelectionUi.resetValue(),t.sectionSwapAllowed=!1,ya.isCameraScanType(t.currentScanType)?(t.clearScanRegion(),t.getCameraScanRegion().style.display="none",t.fileSelectionUi.show(),p.innerText=o,t.currentScanType=Na.SCAN_TYPE_FILE,t.insertFileScanImageToScanRegion()):(t.clearScanRegion(),t.getCameraScanRegion().style.display="block",t.fileSelectionUi.hide(),p.innerText=r,t.currentScanType=Na.SCAN_TYPE_CAMERA,t.insertCameraScanImageToScanRegion(),t.startCameraScanIfPermissionExistsOnSwap()),t.sectionSwapAllowed=!0}),h.appendChild(p),u.appendChild(h)},e.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var t=this,r=this;if(this.persistedDataManager.hasCameraPermissions()){Hx.hasPermissions().then(function(o){if(o){var u=document.getElementById(r.getCameraPermissionButtonId());if(!u)throw t.logger.logError("Permission button not found, fail;"),"Permission button not found";u.click()}else r.persistedDataManager.setHasPermission(!1)}).catch(function(o){r.persistedDataManager.setHasPermission(!1)});return}},e.prototype.resetHeaderMessage=function(){var t=document.getElementById(this.getHeaderMessageContainerId());t.style.display="none"},e.prototype.setHeaderMessage=function(t,r){r||(r=Xi.STATUS_DEFAULT);var o=this.getHeaderMessageDiv();switch(o.innerText=t,o.style.display="block",r){case Xi.STATUS_SUCCESS:o.style.background="rgba(106, 175, 80, 0.26)",o.style.color="#477735";break;case Xi.STATUS_WARNING:o.style.background="rgba(203, 36, 49, 0.14)",o.style.color="#cb2431";break;case Xi.STATUS_DEFAULT:default:o.style.background="rgba(0, 0, 0, 0)",o.style.color="rgb(17, 17, 17)";break}},e.prototype.showHideScanTypeSwapLink=function(t){this.scanTypeSelector.hasMoreThanOneScanType()&&(t!==!0&&(t=!1),this.sectionSwapAllowed=t,this.getDashboardSectionSwapLink().style.display=t?"inline-block":"none")},e.prototype.insertCameraScanImageToScanRegion=function(){var t=this,r=document.getElementById(this.getScanRegionId());if(this.cameraScanImage){r.innerHTML="<br>",r.appendChild(this.cameraScanImage);return}this.cameraScanImage=new Image,this.cameraScanImage.onload=function(o){r.innerHTML="<br>",r.appendChild(t.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=W_,this.cameraScanImage.alt=Pt.cameraScanAltText()},e.prototype.insertFileScanImageToScanRegion=function(){var t=this,r=document.getElementById(this.getScanRegionId());if(this.fileScanImage){r.innerHTML="<br>",r.appendChild(this.fileScanImage);return}this.fileScanImage=new Image,this.fileScanImage.onload=function(o){r.innerHTML="<br>",r.appendChild(t.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=Q_,this.fileScanImage.alt=Pt.fileScanAltText()},e.prototype.clearScanRegion=function(){var t=document.getElementById(this.getScanRegionId());t.innerHTML=""},e.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},e.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},e.prototype.getDashboardSectionSwapLinkId=function(){return Qi.SCAN_TYPE_CHANGE_ANCHOR_ID},e.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},e.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},e.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},e.prototype.getCameraPermissionButtonId=function(){return Qi.CAMERA_PERMISSION_BUTTON_ID},e.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},e.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},e.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},e})();function uD({onScan:e,onError:t}){const r=H.useRef(null),[o,u]=H.useState(!1),[h,p]=H.useState(null),[w,x]=H.useState(null);H.useEffect(()=>{if(o&&r.current){const A=new cD("qr-reader",{fps:10,qrbox:{width:250,height:250},aspectRatio:1},!1);return A.render(R=>{p(R),u(!1),ze.success("QR Code scanned successfully!"),e&&e(R),A.clear()},R=>{console.log("QR Scan error:",R)}),()=>{A.clear().catch(R=>console.log("Scanner cleanup error:",R))}}},[o,e]);const b=()=>{u(!0),p(null),x(null)},E=()=>{u(!1)};return y.jsxs("div",{className:"flex flex-col items-center gap-4 p-6 bg-white border border-gray-200 rounded-2xl shadow-sm",children:[y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:"flex items-center justify-center w-16 h-16 bg-orange-50 rounded-2xl mb-3 mx-auto",children:y.jsx($b,{className:"text-brand-primary",size:32})}),y.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Scan Order QR Code"}),y.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Position the QR code within the frame to scan"})]}),!o&&!h&&y.jsx("button",{onClick:b,className:"w-full px-6 py-4 bg-brand-primary hover:bg-brand-secondary text-white font-bold rounded-2xl transition-all shadow-lg shadow-orange-100 active:scale-95",children:y.jsxs("div",{className:"flex items-center justify-center gap-2",children:[y.jsx($b,{size:20}),"Start Scanning"]})}),o&&y.jsxs("div",{className:"w-full",children:[y.jsx("div",{id:"qr-reader",className:"w-full rounded-xl overflow-hidden"}),y.jsx("button",{onClick:E,className:"w-full mt-4 px-6 py-3 bg-red-50 text-red-600 hover:bg-red-100 font-medium rounded-xl transition-colors",children:"Stop Scanning"})]}),h&&y.jsxs("div",{className:"w-full p-4 bg-green-50 border border-green-200 rounded-xl",children:[y.jsxs("div",{className:"flex items-start gap-3",children:[y.jsx(Zc,{className:"text-green-600 flex-shrink-0 mt-0.5",size:20}),y.jsxs("div",{className:"flex-1",children:[y.jsx("p",{className:"font-medium text-green-900",children:"QR Code Scanned"}),y.jsxs("p",{className:"text-sm text-green-700 mt-1 break-all",children:[h.substring(0,50),"..."]})]})]}),y.jsx("button",{onClick:b,className:"w-full mt-3 px-4 py-2 bg-green-600 hover:bg-green-700 text-white font-medium rounded-lg transition-colors",children:"Scan Another"})]}),w&&y.jsx("div",{className:"w-full p-4 bg-red-50 border border-red-200 rounded-xl",children:y.jsxs("div",{className:"flex items-start gap-3",children:[y.jsx(s3,{className:"text-red-600 flex-shrink-0 mt-0.5",size:20}),y.jsxs("div",{className:"flex-1",children:[y.jsx("p",{className:"font-medium text-red-900",children:"Scan Failed"}),y.jsx("p",{className:"text-sm text-red-700 mt-1",children:w})]})]})}),y.jsxs("div",{className:"w-full p-4 bg-gray-50 rounded-xl",children:[y.jsx("p",{className:"text-xs text-gray-600 font-medium mb-2",children:"How to scan:"}),y.jsxs("ul",{className:"text-xs text-gray-600 space-y-1 list-disc list-inside",children:[y.jsx("li",{children:"Allow camera access when prompted"}),y.jsx("li",{children:"Hold the QR code steady within the frame"}),y.jsx("li",{children:"Ensure good lighting for best results"}),y.jsx("li",{children:"The order details will appear automatically"})]})]})]})}function dD(){const[e,t]=H.useState(null),[r,o]=H.useState(!1),u=async w=>{o(!0);try{const x=await cn.get(`/api/orders/qr/${w}`);x.data.success?(t(x.data.data),ze.success("Order details loaded successfully!")):(ze.error(x.data.message||"Failed to fetch order"),t(null))}catch(x){console.error("QR scan error:",x),ze.error(x.response?.data?.message||"Invalid QR code"),t(null)}finally{o(!1)}},h=async w=>{if(e)try{const x=await cn.put(`/api/orders/${e.id}/status?status=${w}`);x.data.success&&(t(x.data.data),ze.success(`Order status updated to ${w}`))}catch{ze.error("Failed to update order status")}},p=()=>{t(null)};return y.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:y.jsxs("div",{className:"max-w-2xl mx-auto",children:[y.jsxs("div",{className:"text-center mb-8",children:[y.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Order QR Scanner"}),y.jsx("p",{className:"text-gray-600",children:"Scan customer QR codes to verify and process orders"})]}),y.jsxs("div",{className:"grid gap-6",children:[!e&&y.jsx(Mi.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:y.jsx(uD,{onScan:u})}),r&&y.jsx("div",{className:"flex items-center justify-center p-12",children:y.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-brand-primary border-t-transparent"})}),e&&!r&&y.jsxs(Mi.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white border border-gray-200 rounded-2xl shadow-sm overflow-hidden",children:[y.jsx("div",{className:"p-6 bg-green-50 border-b border-green-100",children:y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx(Zc,{className:"text-green-600",size:24}),y.jsxs("div",{children:[y.jsx("h3",{className:"text-lg font-bold text-green-900",children:"Order Verified"}),y.jsxs("p",{className:"text-sm text-green-700",children:["Order #",e.orderNumber]})]})]})}),y.jsxs("div",{className:"p-6 space-y-6",children:[y.jsxs("div",{children:[y.jsxs("h4",{className:"text-sm font-semibold text-gray-700 mb-3 flex items-center gap-2",children:[y.jsx(yg,{size:18}),"Customer Information"]}),y.jsxs("div",{className:"p-4 bg-gray-50 rounded-xl space-y-2",children:[y.jsxs("div",{className:"flex justify-between text-sm",children:[y.jsx("span",{className:"text-gray-600",children:"Order Type:"}),y.jsx("span",{className:"font-medium text-gray-800",children:e.orderType||"DINE_IN"})]}),e.scheduledTime&&y.jsxs("div",{className:"flex justify-between text-sm",children:[y.jsx("span",{className:"text-gray-600",children:"Scheduled Time:"}),y.jsx("span",{className:"font-medium text-gray-800",children:new Date(e.scheduledTime).toLocaleString()})]})]})]}),e.specialInstructions&&y.jsxs("div",{children:[y.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Special Instructions"}),y.jsx("div",{className:"p-4 bg-blue-50 border border-blue-100 rounded-xl",children:y.jsx("p",{className:"text-sm text-blue-800",children:e.specialInstructions})})]}),y.jsxs("div",{children:[y.jsxs("h4",{className:"text-sm font-semibold text-gray-700 mb-3 flex items-center gap-2",children:[y.jsx(Ca,{size:18}),"Order Items"]}),y.jsx("div",{className:"space-y-2",children:e.orderItems?.map((w,x)=>y.jsxs("div",{className:"flex justify-between p-3 bg-gray-50 rounded-xl",children:[y.jsxs("div",{children:[y.jsxs("p",{className:"font-medium text-gray-800",children:[w.quantity,"x ",w.menuItemName]}),w.notes&&y.jsx("p",{className:"text-xs text-gray-500 mt-1",children:w.notes})]}),y.jsxs("span",{className:"font-semibold text-gray-900",children:["",(w.unitPrice*w.quantity).toFixed(2)]})]},x))}),y.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200 flex justify-between items-center",children:[y.jsx("span",{className:"font-semibold text-gray-800",children:"Total Amount"}),y.jsxs("span",{className:"text-2xl font-bold text-brand-primary",children:["",e.totalAmount]})]})]}),y.jsxs("div",{children:[y.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Update Order Status"}),y.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.status==="PENDING"&&y.jsxs(y.Fragment,{children:[y.jsx(At,{onClick:()=>h("CONFIRMED"),variant:"primary",children:"Confirm Order"}),y.jsx(At,{onClick:()=>h("CANCELLED"),variant:"danger",children:"Cancel"})]}),e.status==="CONFIRMED"&&y.jsx(At,{onClick:()=>h("PREPARING"),variant:"primary",className:"col-span-2",children:"Start Preparing"}),e.status==="PREPARING"&&y.jsx(At,{onClick:()=>h("READY"),variant:"primary",className:"col-span-2",children:"Mark as Ready"}),e.status==="READY"&&y.jsx(At,{onClick:()=>h("COMPLETED"),variant:"primary",className:"col-span-2",children:"Complete Order"})]})]}),y.jsx(At,{onClick:p,variant:"outline",className:"w-full",children:"Scan Another Order"})]})]})]})]})})}const hD=()=>{const{user:e}=_s(),t=[{icon:fl,title:"Browse Vendors",description:"Explore food options from various vendors",color:"bg-blue-50 text-blue-600"},{icon:Bc,title:"Place Orders",description:"Quick and easy food ordering",color:"bg-green-50 text-green-600"},{icon:Lc,title:"Track Orders",description:"Real-time order tracking",color:"bg-purple-50 text-purple-600"},{icon:f3,title:"Digital Wallet",description:"Manage your balance and transactions",color:"bg-orange-50 text-orange-600"}];return y.jsxs("div",{className:"min-h-screen bg-gray-50",children:[y.jsx("div",{className:"bg-gradient-to-r from-brand-primary to-brand-secondary text-white py-12 px-6",children:y.jsxs("div",{className:"max-w-7xl mx-auto",children:[y.jsxs("h1",{className:"text-4xl font-bold mb-2",children:["Welcome, ",e?.username||"Employee","!"]}),y.jsx("p",{className:"text-xl opacity-90",children:"Order delicious food from your workplace cafeteria"})]})}),y.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-12",children:[y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-12",children:t.map((r,o)=>y.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow",children:[y.jsx("div",{className:`w-12 h-12 rounded-lg ${r.color} flex items-center justify-center mb-4`,children:y.jsx(r.icon,{size:24})}),y.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:r.title}),y.jsx("p",{className:"text-gray-600 text-sm",children:r.description})]},o))}),y.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-12 text-center",children:y.jsxs("div",{className:"max-w-md mx-auto",children:[y.jsx("div",{className:"w-20 h-20 bg-brand-primary/10 rounded-full flex items-center justify-center mx-auto mb-4",children:y.jsx(fl,{className:"text-brand-primary",size:40})}),y.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Employee Portal Coming Soon"}),y.jsx("p",{className:"text-gray-600 mb-6",children:"We're building an amazing food ordering experience for you. Features like vendor browsing, cart management, and order tracking will be available soon!"}),y.jsxs("div",{className:"flex gap-4 justify-center",children:[y.jsx("button",{className:"px-6 py-2 bg-brand-primary text-white rounded-lg hover:bg-brand-secondary transition-colors",children:"Browse Vendors"}),y.jsx("button",{className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"View Cart"})]})]})})]})]})},ip={createOrder:async e=>await De.post("/orders",e),getMyOrders:async()=>await De.get("/orders/my-orders"),getOrderById:async e=>await De.get(`/orders/${e}`),getOrderHistory:async e=>await De.get(`/orders/${e}/history`),rateOrder:async(e,t)=>await De.post(`/orders/${e}/rate`,t),getOrderByQRCode:async e=>await De.get(`/orders/qr/${e}`)},fD={getMyWallet:async()=>await De.get("/wallet/my-wallet"),getWalletByUserId:async e=>await De.get(`/wallet/user/${e}`),getBalance:async()=>await De.get("/wallet/balance"),topup:async(e,t,r="Wallet Top-up",o=null,u="TOPUP")=>{const h=new URLSearchParams({userId:e.toString(),amount:t.toString(),description:r});return o&&h.append("referenceId",o.toString()),u&&h.append("referenceType",u),await De.post(`/wallet/credit?${h}`)},debit:async(e,t,r,o=null,u="ORDER")=>{const h=new URLSearchParams({userId:e.toString(),amount:t.toString(),description:r});return o&&h.append("referenceId",o.toString()),u&&h.append("referenceType",u),await De.post(`/wallet/debit?${h}`)},getTransactions:async()=>await De.get("/wallet/transactions"),getBalanceHistory:async(e=null,t=null)=>{let r="/wallet/balance-history";const o=new URLSearchParams;return e&&o.append("startDate",e),t&&o.append("endDate",t),o.toString()&&(r+=`?${o}`),await De.get(r)},getTotalCredits:async()=>await De.get("/wallet/total-credits"),getTotalDebits:async()=>await De.get("/wallet/total-debits"),initWallet:async e=>await De.post(`/wallet/init/${e}`)},mD=()=>{const e=Ki(),t=Ta(),[r,o]=H.useState(null),[u,h]=H.useState({});H.useEffect(()=>{const j=localStorage.getItem("current_cart");if(j){const U=JSON.parse(j);o(U),h(U.items||{})}},[]),H.useEffect(()=>{if(r&&Object.keys(u).length>0){const j={...r,items:u};localStorage.setItem("current_cart",JSON.stringify(j))}},[u,r]);const{data:p,isLoading:w}=si({queryKey:["wallet-balance"],queryFn:async()=>await fD.getBalance(),retry:1}),x=ni({mutationFn:async j=>await ip.createOrder(j),onSuccess:j=>{ze.success("Order placed successfully!"),localStorage.removeItem("current_cart"),r?.vendorId&&localStorage.removeItem(`cart_${r.vendorId}`),t.invalidateQueries(["wallet-balance"]),t.invalidateQueries(["my-orders"]),e("/employee/tracking")},onError:j=>{ze.error(j||"Failed to place order")}}),b=(j,U)=>{h(F=>{const X=(F[j]?.quantity||0)+U;if(X<=0){const{[j]:z,...G}=F;return G}return{...F,[j]:{...F[j],quantity:X}}})},E=j=>{h(U=>{const{[j]:F,...I}=U;return I}),ze.success("Item removed from cart")},A=()=>Object.values(u).reduce((j,U)=>j+U.price*U.quantity,0),R=()=>Object.values(u).reduce((j,U)=>j+U.quantity,0),D=()=>{const j=A();if(p<j){ze.error("Insufficient wallet balance. Please top up your wallet.");return}if(!r?.vendorId){ze.error("Vendor information missing");return}const U=Object.values(u).map(I=>({menuItemId:I.id,quantity:I.quantity,price:I.price})),F={vendorId:parseInt(r.vendorId),orderItems:U};x.mutate(F)},_=Object.values(u),k=A(),P=R(),Y=p>=k;return _.length===0?y.jsx("div",{className:"min-h-screen bg-surface-bg p-6",children:y.jsxs("div",{className:"max-w-4xl mx-auto",children:[y.jsxs("div",{className:"mb-8",children:[y.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Your Cart"}),y.jsx("p",{className:"text-gray-600 mt-2",children:"Review and checkout your items"})]}),y.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-12 text-center",children:y.jsxs("div",{className:"max-w-md mx-auto",children:[y.jsx("div",{className:"w-20 h-20 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:y.jsx(Bc,{className:"text-gray-400",size:40})}),y.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Your Cart is Empty"}),y.jsx("p",{className:"text-gray-600 mb-6",children:"Add items from vendors to get started with your order."}),y.jsx("button",{onClick:()=>e("/employee/home"),className:"px-6 py-3 bg-brand-primary text-white font-semibold rounded-xl hover:bg-brand-secondary transition-colors",children:"Browse Vendors"})]})})]})}):y.jsxs("div",{className:"min-h-screen bg-surface-bg pb-6",children:[y.jsx("div",{className:"bg-white border-b border-gray-200 sticky top-0 z-10",children:y.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-4",children:y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("button",{onClick:()=>e(-1),className:"flex items-center text-gray-600 hover:text-brand-primary transition-colors",children:[y.jsx(xl,{className:"mr-2",size:20}),"Back"]}),y.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Your Cart"}),y.jsx("div",{className:"w-20"})]})})}),y.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-6",children:y.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[y.jsx("div",{className:"lg:col-span-2 space-y-4",children:y.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6",children:[y.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:["Items (",P,")"]}),y.jsx("div",{className:"space-y-4",children:_.map(j=>y.jsxs("div",{className:"flex items-center gap-4 p-4 bg-gray-50 rounded-xl hover:bg-gray-100 transition-colors",children:[y.jsxs("div",{className:"flex-1",children:[y.jsx("h3",{className:"font-bold text-gray-900 mb-1",children:j.name}),j.description&&y.jsx("p",{className:"text-sm text-gray-600 line-clamp-1",children:j.description}),y.jsxs("div",{className:"flex items-center text-brand-primary font-bold mt-2",children:[y.jsx(Wi,{size:16}),j.price.toFixed(2)]})]}),y.jsxs("div",{className:"flex items-center gap-2 bg-white border border-gray-200 rounded-xl",children:[y.jsx("button",{onClick:()=>b(j.id,-1),className:"p-2 hover:bg-gray-100 rounded-l-xl transition-colors",children:y.jsx(o3,{size:16,className:"text-gray-600"})}),y.jsx("span",{className:"font-bold text-gray-900 min-w-[2rem] text-center",children:j.quantity}),y.jsx("button",{onClick:()=>b(j.id,1),className:"p-2 hover:bg-gray-100 rounded-r-xl transition-colors",children:y.jsx(gr,{size:16,className:"text-gray-600"})})]}),y.jsxs("div",{className:"flex items-center text-lg font-bold text-gray-900 min-w-[100px]",children:[y.jsx(Wi,{size:18}),(j.price*j.quantity).toFixed(2)]}),y.jsx("button",{onClick:()=>E(j.id),className:"p-2 text-red-500 hover:bg-red-50 rounded-xl transition-colors",title:"Remove item",children:y.jsx(ml,{size:20})})]},j.id))})]})}),y.jsx("div",{className:"lg:col-span-1",children:y.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6 sticky top-24",children:[y.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Order Summary"}),y.jsx("div",{className:"mb-6 p-4 bg-gradient-to-br from-brand-primary to-brand-secondary rounded-xl text-white",children:y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{className:"flex items-center",children:[y.jsx(f3,{size:20,className:"mr-2"}),y.jsx("span",{className:"font-semibold",children:"Wallet Balance"})]}),w?y.jsx(Gn,{className:"animate-spin",size:20}):y.jsxs("div",{className:"flex items-center font-bold text-lg",children:[y.jsx(Wi,{size:18}),p?.toFixed(2)||"0.00"]})]})}),y.jsxs("div",{className:"space-y-3 mb-6 pb-6 border-b border-gray-200",children:[y.jsxs("div",{className:"flex justify-between text-gray-600",children:[y.jsx("span",{children:"Subtotal"}),y.jsxs("div",{className:"flex items-center font-semibold",children:[y.jsx(Wi,{size:16}),k.toFixed(2)]})]}),y.jsxs("div",{className:"flex justify-between text-gray-600",children:[y.jsx("span",{children:"Tax & Fees"}),y.jsx("span",{className:"font-semibold",children:"0.00"})]})]}),y.jsxs("div",{className:"flex justify-between items-center mb-6 text-xl font-bold",children:[y.jsx("span",{children:"Total"}),y.jsxs("div",{className:"flex items-center text-brand-primary",children:[y.jsx(Wi,{size:22}),k.toFixed(2)]})]}),!Y&&y.jsxs("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-xl flex items-start",children:[y.jsx(rR,{className:"text-red-500 mr-3 flex-shrink-0 mt-0.5",size:20}),y.jsxs("div",{children:[y.jsx("p",{className:"text-sm font-semibold text-red-700 mb-1",children:"Insufficient Balance"}),y.jsx("p",{className:"text-xs text-red-600",children:"Please top up your wallet to complete this order."})]})]}),Y&&y.jsxs("div",{className:"mb-4 p-4 bg-green-50 border border-green-200 rounded-xl flex items-start",children:[y.jsx(Zc,{className:"text-green-500 mr-3 flex-shrink-0 mt-0.5",size:20}),y.jsx("div",{children:y.jsx("p",{className:"text-sm font-semibold text-green-700",children:"Ready to checkout!"})})]}),y.jsx("button",{onClick:D,disabled:!Y||x.isPending||w,className:"w-full py-3 bg-brand-primary text-white font-bold rounded-xl hover:bg-brand-secondary transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:x.isPending?y.jsxs(y.Fragment,{children:[y.jsx(Gn,{className:"animate-spin mr-2",size:20}),"Processing..."]}):"Proceed to Checkout"}),!Y&&y.jsx("button",{onClick:()=>e("/employee/wallet"),className:"w-full mt-3 py-3 bg-white border-2 border-brand-primary text-brand-primary font-bold rounded-xl hover:bg-orange-50 transition-colors",children:"Top Up Wallet"})]})})]})})]})},gD=({currentStatus:e})=>{const t=[{status:"PENDING",label:"Order Placed",icon:Lc,description:"Your order has been placed"},{status:"PREPARING",label:"Preparing",icon:n3,description:"Vendor is preparing your order"},{status:"READY",label:"Ready",icon:Ca,description:"Order is ready for pickup"},{status:"DELIVERED",label:"Delivered",icon:pg,description:"Order has been delivered"}],o=(p=>t.findIndex(w=>w.status===p))(e),u=p=>p<=o,h=p=>p===o;return y.jsx("div",{className:"w-full py-6",children:y.jsxs("div",{className:"flex items-center justify-between relative",children:[y.jsx("div",{className:"absolute top-6 left-0 right-0 h-1 bg-gray-200 -z-10",children:y.jsx("div",{className:"h-full bg-brand-primary transition-all duration-500",style:{width:`${o/(t.length-1)*100}%`}})}),t.map((p,w)=>{const x=p.icon,b=u(w),E=h(w);return y.jsxs("div",{className:"flex flex-col items-center flex-1",children:[y.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center mb-3 transition-all duration-300 ${b?"bg-brand-primary text-white shadow-lg":"bg-gray-200 text-gray-400"} ${E?"ring-4 ring-orange-200 scale-110":""}`,children:b&&!E?y.jsx(t3,{size:24,strokeWidth:3}):y.jsx(x,{size:24})}),y.jsxs("div",{className:"text-center",children:[y.jsx("p",{className:`font-semibold text-sm mb-1 transition-colors ${b?"text-brand-primary":"text-gray-500"}`,children:p.label}),y.jsx("p",{className:"text-xs text-gray-500 hidden sm:block max-w-[100px]",children:p.description})]})]},p.status)})]})})},pD=({isOpen:e,onClose:t,order:r})=>{const[o,u]=H.useState(0),[h,p]=H.useState(0),[w,x]=H.useState(""),b=Ta(),E=ni({mutationFn:async({orderId:k,ratingData:P})=>await ip.rateOrder(k,P),onSuccess:()=>{ze.success("Thank you for your feedback!"),b.invalidateQueries(["my-orders"]),b.invalidateQueries(["order",r?.id]),A()},onError:k=>{ze.error(k||"Failed to submit rating")}}),A=()=>{u(0),p(0),x(""),t()},R=k=>{if(k.preventDefault(),o===0){ze.error("Please select a rating");return}if(!r?.id){ze.error("Order information missing");return}E.mutate({orderId:r.id,ratingData:{rating:o,feedback:w.trim()||null}})},D=()=>y.jsx("div",{className:"flex gap-2 justify-center mb-6",children:[1,2,3,4,5].map(k=>y.jsx("button",{type:"button",onClick:()=>u(k),onMouseEnter:()=>p(k),onMouseLeave:()=>p(0),className:"focus:outline-none transition-transform hover:scale-110",children:y.jsx(nh,{size:40,className:`transition-colors ${k<=(h||o)?"text-yellow-400 fill-yellow-400":"text-gray-300"}`})},k))}),_=k=>({1:"Poor",2:"Fair",3:"Good",4:"Very Good",5:"Excellent"})[k]||"Select a rating";return y.jsx(po,{isOpen:e,onClose:A,title:"Rate Your Order",children:y.jsxs("form",{onSubmit:R,className:"space-y-6",children:[r&&y.jsxs("div",{className:"bg-gray-50 rounded-xl p-4",children:[y.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Order Number"}),y.jsx("p",{className:"font-semibold text-gray-900",children:r.orderNumber}),r.vendorName&&y.jsxs(y.Fragment,{children:[y.jsx("p",{className:"text-sm text-gray-600 mt-2 mb-1",children:"Vendor"}),y.jsx("p",{className:"font-semibold text-gray-900",children:r.vendorName})]})]}),y.jsxs("div",{className:"text-center",children:[y.jsx("p",{className:"text-gray-700 font-semibold mb-4",children:"How was your experience?"}),D(),y.jsx("p",{className:`text-lg font-semibold transition-colors ${o>0?"text-brand-primary":"text-gray-400"}`,children:_(h||o)})]}),y.jsxs("div",{children:[y.jsxs("label",{className:"flex items-center text-sm font-semibold text-gray-700 mb-2",children:[y.jsx(_5,{size:16,className:"mr-2"}),"Additional Feedback (Optional)"]}),y.jsx("textarea",{value:w,onChange:k=>x(k.target.value),placeholder:"Tell us more about your experience...",rows:4,maxLength:500,className:"w-full px-4 py-3 rounded-xl border border-gray-300 focus:border-brand-primary focus:ring-2 focus:ring-orange-200 outline-none transition-all resize-none"}),y.jsxs("p",{className:"text-xs text-gray-500 mt-1 text-right",children:[w.length,"/500 characters"]})]}),y.jsx("button",{type:"submit",disabled:o===0||E.isPending,className:"w-full py-3 bg-brand-primary text-white font-semibold rounded-xl hover:bg-brand-secondary transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:E.isPending?y.jsxs(y.Fragment,{children:[y.jsx(Gn,{className:"animate-spin mr-2",size:20}),"Submitting..."]}):"Submit Rating"})]})})},yD=()=>{const e=Ki(),{isConnected:t}=Eg(),[r,o]=H.useState({}),[u,h]=H.useState(!1),[p,w]=H.useState(null),[x,b]=H.useState(!0),{data:E,isLoading:A,error:R,refetch:D}=si({queryKey:["my-orders"],queryFn:async()=>await ip.getMyOrders(),refetchInterval:x?1e4:!1,retry:1}),_=j=>{o(U=>({...U,[j]:!U[j]}))},k=j=>{w(j),h(!0)},P=j=>new Date(j).toLocaleString("en-IN",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),Y=j=>({PENDING:"bg-yellow-100 text-yellow-700 border-yellow-200",PREPARING:"bg-blue-100 text-blue-700 border-blue-200",READY:"bg-green-100 text-green-700 border-green-200",DELIVERED:"bg-gray-100 text-gray-700 border-gray-200",CANCELLED:"bg-red-100 text-red-700 border-red-200"})[j]||"bg-gray-100 text-gray-700";return H.useEffect(()=>{t&&console.log("[OrderTracking] WebSocket connected - real-time updates enabled")},[t]),H.useEffect(()=>{const j=()=>{!document.hidden&&t&&D()};return document.addEventListener("visibilitychange",j),()=>document.removeEventListener("visibilitychange",j)},[t,D]),A?y.jsx("div",{className:"flex items-center justify-center min-h-screen",children:y.jsxs("div",{className:"text-center",children:[y.jsx(Gn,{className:"animate-spin text-brand-primary mx-auto mb-4",size:48}),y.jsx("p",{className:"text-gray-600",children:"Loading orders..."})]})}):R?y.jsx("div",{className:"min-h-screen bg-surface-bg p-6",children:y.jsx("div",{className:"max-w-4xl mx-auto",children:y.jsxs("div",{className:"text-center py-12",children:[y.jsx(Ah,{className:"text-red-500 mx-auto mb-4",size:48}),y.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Failed to Load Orders"}),y.jsx("p",{className:"text-gray-600 mb-4",children:R}),y.jsx("button",{onClick:()=>D(),className:"px-6 py-2 bg-brand-primary text-white rounded-xl hover:bg-brand-secondary transition-colors",children:"Try Again"})]})})}):!E||E.length===0?y.jsx("div",{className:"min-h-screen bg-surface-bg p-6",children:y.jsxs("div",{className:"max-w-4xl mx-auto",children:[y.jsxs("div",{className:"mb-8",children:[y.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Order Tracking"}),y.jsx("p",{className:"text-gray-600 mt-2",children:"Track your active orders in real-time"})]}),y.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-12 text-center",children:y.jsxs("div",{className:"max-w-md mx-auto",children:[y.jsx("div",{className:"w-20 h-20 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:y.jsx(Ca,{className:"text-gray-400",size:40})}),y.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"No Orders Yet"}),y.jsx("p",{className:"text-gray-600 mb-6",children:"When you place an order, you can track it here in real-time."}),y.jsx("button",{onClick:()=>e("/employee/home"),className:"px-6 py-3 bg-brand-primary text-white font-semibold rounded-xl hover:bg-brand-secondary transition-colors",children:"Browse Vendors"})]})})]})}):y.jsxs("div",{className:"min-h-screen bg-surface-bg pb-6",children:[y.jsx("div",{className:"bg-white border-b border-gray-200 sticky top-0 z-10",children:y.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-4",children:y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{children:[y.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Order Tracking"}),y.jsxs("p",{className:"text-gray-600 text-sm mt-1",children:[E.length," ",E.length===1?"order":"orders"]})]}),y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx("div",{className:"flex items-center gap-2 text-sm",children:t?y.jsxs(y.Fragment,{children:[y.jsx(g3,{className:"text-green-500",size:16}),y.jsx("span",{className:"text-green-600 font-medium",children:"Live"})]}):y.jsxs(y.Fragment,{children:[y.jsx(m3,{className:"text-gray-400",size:16}),y.jsx("span",{className:"text-gray-500 font-medium",children:"Offline"})]})}),y.jsxs("label",{className:"flex items-center cursor-pointer",children:[y.jsx("input",{type:"checkbox",checked:x,onChange:j=>b(j.target.checked),className:"sr-only peer"}),y.jsx("div",{className:"relative w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-orange-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-brand-primary"}),y.jsx("span",{className:"ml-3 text-sm font-medium text-gray-700",children:"Auto-refresh"})]}),y.jsx("button",{onClick:()=>D(),className:"p-2 hover:bg-gray-100 rounded-xl transition-colors",title:"Refresh orders",children:y.jsx(c3,{className:"text-gray-600",size:20})})]})]})})}),y.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-6",children:y.jsx("div",{className:"space-y-4",children:E.sort((j,U)=>new Date(U.createdAt)-new Date(j.createdAt)).map(j=>{const U=r[j.id],F=j.status==="DELIVERED"&&!j.rating;return y.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden hover:shadow-md transition-shadow",children:[y.jsxs("div",{className:"p-6",children:[y.jsxs("div",{className:"flex items-start justify-between mb-4",children:[y.jsxs("div",{className:"flex items-start",children:[y.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-brand-primary to-brand-secondary rounded-xl flex items-center justify-center mr-4",children:y.jsx(fl,{className:"text-white",size:24})}),y.jsxs("div",{children:[y.jsxs("h3",{className:"font-bold text-gray-900 text-lg mb-1",children:["Order #",j.orderNumber]}),y.jsxs("div",{className:"flex items-center text-sm text-gray-500 gap-2",children:[y.jsx(Lc,{size:14}),P(j.createdAt)]})]})]}),y.jsxs("div",{className:"text-right",children:[y.jsxs("div",{className:"flex items-center text-xl font-bold text-gray-900 mb-2",children:[y.jsx(Wi,{size:20}),j.totalAmount?.toFixed(2)]}),y.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-xs font-semibold border ${Y(j.status)}`,children:j.status})]})]}),j.status!=="CANCELLED"&&y.jsx(gD,{currentStatus:j.status}),y.jsxs("div",{className:"flex gap-3 mt-4",children:[y.jsx("button",{onClick:()=>_(j.id),className:"flex-1 py-2 px-4 border-2 border-gray-200 text-gray-700 font-semibold rounded-xl hover:border-brand-primary hover:text-brand-primary transition-colors flex items-center justify-center",children:U?y.jsxs(y.Fragment,{children:["Hide Details ",y.jsx(r3,{className:"ml-2",size:16})]}):y.jsxs(y.Fragment,{children:["View Details ",y.jsx(i3,{className:"ml-2",size:16})]})}),F&&y.jsxs("button",{onClick:()=>k(j),className:"py-2 px-4 bg-brand-primary text-white font-semibold rounded-xl hover:bg-brand-secondary transition-colors flex items-center",children:[y.jsx(nh,{className:"mr-2",size:16}),"Rate Order"]}),j.rating&&y.jsxs("div",{className:"flex items-center px-4 py-2 bg-yellow-50 rounded-xl border border-yellow-200",children:[y.jsx(nh,{className:"text-yellow-400 fill-yellow-400 mr-1",size:16}),y.jsx("span",{className:"font-semibold text-yellow-700",children:j.rating})]})]})]}),U&&y.jsxs("div",{className:"border-t border-gray-200 bg-gray-50 p-6",children:[y.jsx("h4",{className:"font-bold text-gray-900 mb-4",children:"Order Items"}),y.jsx("div",{className:"space-y-3",children:j.orderItems?.map((I,X)=>y.jsxs("div",{className:"bg-white rounded-xl p-4 flex items-center justify-between",children:[y.jsxs("div",{className:"flex-1",children:[y.jsx("p",{className:"font-semibold text-gray-900",children:I.menuItemName||"Menu Item"}),y.jsxs("p",{className:"text-sm text-gray-500",children:["Quantity: ",I.quantity]})]}),y.jsxs("div",{className:"flex items-center text-lg font-bold text-gray-900",children:[y.jsx(Wi,{size:18}),(I.price*I.quantity).toFixed(2)]})]},X))}),j.feedback&&y.jsxs("div",{className:"mt-4 p-4 bg-blue-50 rounded-xl border border-blue-200",children:[y.jsx("p",{className:"text-sm font-semibold text-blue-700 mb-1",children:"Your Feedback"}),y.jsx("p",{className:"text-sm text-blue-600",children:j.feedback})]})]})]},j.id)})})}),y.jsx(pD,{isOpen:u,onClose:()=>{h(!1),w(null)},order:p})]})},Gx={getPromotedItems:async()=>await De.get("/menu/promoted"),getPopularItems:async()=>await De.get("/menu/popular"),searchMenuItems:async e=>await De.get(`/menu/search?keyword=${encodeURIComponent(e)}`),getMenuItemById:async e=>await De.get(`/menu/items/${e}`),getVendorMenuItems:async e=>await De.get(`/menu/vendor/${e}`),getVendorCategories:async(e,t=!0)=>await De.get(`/menu/categories/vendor/${e}?includeItems=${t}`),getCategoryById:async(e,t=!0)=>await De.get(`/menu/categories/${e}?includeItems=${t}`),getVendorRating:async e=>await De.get(`/orders/vendor/${e}/rating`)},bD=()=>{const{vendorId:e}=rE(),t=Ki(),[r,o]=H.useState({}),[u,h]=H.useState(null);H.useEffect(()=>{const P=localStorage.getItem(`cart_${e}`);P&&o(JSON.parse(P))},[e]),H.useEffect(()=>{Object.keys(r).length>0?localStorage.setItem(`cart_${e}`,JSON.stringify(r)):localStorage.removeItem(`cart_${e}`)},[r,e]);const{data:p}=si({queryKey:["vendor-rating",e],queryFn:async()=>{try{return await Gx.getVendorRating(e)}catch{return null}},retry:1}),{data:w,isLoading:x,error:b}=si({queryKey:["vendor-categories",e],queryFn:async()=>await Gx.getVendorCategories(e,!0),retry:1}),E=P=>{o(Y=>({...Y,[P.id]:{...P,quantity:(Y[P.id]?.quantity||0)+1}})),ze.success(`Added ${P.name} to cart`)},A=(P,Y)=>{o(j=>{const F=(j[P]?.quantity||0)+Y;if(F<=0){const{[P]:I,...X}=j;return X}return{...j,[P]:{...j[P],quantity:F}}})},R=()=>Object.values(r).reduce((P,Y)=>P+Y.price*Y.quantity,0),D=()=>Object.values(r).reduce((P,Y)=>P+Y.quantity,0),_=()=>{const P={vendorId:e,items:r,timestamp:new Date().toISOString()};localStorage.setItem("current_cart",JSON.stringify(P)),t("/employee/cart")};if(x)return y.jsx("div",{className:"flex items-center justify-center min-h-screen",children:y.jsxs("div",{className:"text-center",children:[y.jsx(Gn,{className:"animate-spin text-brand-primary mx-auto mb-4",size:48}),y.jsx("p",{className:"text-gray-600",children:"Loading menu..."})]})});if(b)return y.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:y.jsx("div",{className:"max-w-4xl mx-auto",children:y.jsxs("div",{className:"text-center py-12",children:[y.jsx(Ah,{className:"text-red-500 mx-auto mb-4",size:48}),y.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Failed to Load Menu"}),y.jsx("p",{className:"text-gray-600 mb-4",children:b}),y.jsx("button",{onClick:()=>t(-1),className:"px-6 py-2 bg-brand-primary text-white rounded-lg hover:bg-brand-secondary transition-colors",children:"Go Back"})]})})});const k=w?.reduce((P,Y)=>P+(Y.menuItems?.length||0),0)||0;return y.jsxs("div",{className:"min-h-screen bg-surface-bg pb-24",children:[y.jsx("div",{className:"bg-white border-b border-gray-200 sticky top-0 z-10",children:y.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-4",children:y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("button",{onClick:()=>t(-1),className:"flex items-center text-gray-600 hover:text-brand-primary transition-colors",children:[y.jsx(xl,{className:"mr-2",size:20}),"Back"]}),y.jsxs("div",{className:"flex items-center",children:[y.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-brand-primary to-brand-secondary rounded-xl flex items-center justify-center mr-3",children:y.jsx(fl,{className:"text-white",size:24})}),y.jsxs("div",{children:[y.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Vendor Menu"}),p&&y.jsxs("div",{className:"flex items-center text-sm",children:[y.jsx(nh,{className:"text-yellow-400 fill-yellow-400 mr-1",size:14}),y.jsx("span",{className:"font-semibold",children:p.averageRating?.toFixed(1)}),y.jsxs("span",{className:"text-gray-500 ml-1",children:["(",p.totalOrders," orders)"]})]})]})]})]})})}),y.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-6",children:[w&&w.length>0&&y.jsxs("div",{className:"mb-6 flex gap-2 overflow-x-auto pb-2",children:[y.jsxs("button",{onClick:()=>h(null),className:`px-4 py-2 rounded-xl font-semibold whitespace-nowrap transition-colors ${u===null?"bg-brand-primary text-white":"bg-white text-gray-700 border border-gray-200 hover:border-brand-primary"}`,children:["All (",k,")"]}),w.map(P=>y.jsxs("button",{onClick:()=>h(P.id),className:`px-4 py-2 rounded-xl font-semibold whitespace-nowrap transition-colors ${u===P.id?"bg-brand-primary text-white":"bg-white text-gray-700 border border-gray-200 hover:border-brand-primary"}`,children:[P.name," (",P.menuItems?.length||0,")"]},P.id))]}),!w||w.length===0?y.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-12 text-center",children:[y.jsx(Ca,{className:"text-gray-400 mx-auto mb-4",size:48}),y.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No Menu Items"}),y.jsx("p",{className:"text-gray-600",children:"This vendor hasn't added any items yet."})]}):y.jsx("div",{className:"space-y-8",children:w.filter(P=>u===null||P.id===u).map(P=>y.jsxs("div",{className:"space-y-4",children:[y.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:P.name}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:P.menuItems?.map(Y=>{const j=r[Y.id],U=!!j;return y.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-4 hover:shadow-md transition-all",children:[y.jsx("div",{className:"flex justify-between items-start mb-3",children:y.jsxs("div",{className:"flex-1",children:[y.jsx("h3",{className:"font-bold text-gray-900 mb-1",children:Y.name}),Y.description&&y.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:Y.description})]})}),y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{className:"flex items-center text-brand-primary font-bold text-lg",children:[y.jsx(Wi,{size:18}),Y.price.toFixed(2)]}),Y.available?U?y.jsxs("div",{className:"flex items-center gap-2 bg-brand-primary text-white rounded-xl",children:[y.jsx("button",{onClick:()=>A(Y.id,-1),className:"p-2 hover:bg-brand-secondary rounded-l-xl transition-colors",children:y.jsx(o3,{size:16})}),y.jsx("span",{className:"font-bold min-w-[2rem] text-center",children:j.quantity}),y.jsx("button",{onClick:()=>A(Y.id,1),className:"p-2 hover:bg-brand-secondary rounded-r-xl transition-colors",children:y.jsx(gr,{size:16})})]}):y.jsxs("button",{onClick:()=>E(Y),className:"px-4 py-2 bg-brand-primary text-white rounded-xl hover:bg-brand-secondary transition-colors flex items-center font-semibold",children:[y.jsx(gr,{size:16,className:"mr-1"}),"Add"]}):y.jsx("span",{className:"text-sm text-gray-500 font-semibold",children:"Unavailable"})]})]},Y.id)})})]},P.id))})]}),D()>0&&y.jsx("div",{className:"fixed bottom-6 left-0 right-0 px-4 sm:px-6 z-20",children:y.jsx("div",{className:"max-w-7xl mx-auto",children:y.jsxs("button",{onClick:_,className:"w-full bg-brand-primary hover:bg-brand-secondary text-white font-bold py-4 px-6 rounded-2xl shadow-2xl transition-all flex items-center justify-between",children:[y.jsxs("div",{className:"flex items-center",children:[y.jsx("div",{className:"bg-white/20 rounded-xl p-2 mr-3",children:y.jsx(Bc,{size:24})}),y.jsxs("span",{className:"text-lg",children:["View Cart (",D()," items)"]})]}),y.jsxs("div",{className:"flex items-center text-lg",children:[y.jsx(Wi,{size:20}),R().toFixed(2)]})]})})})]})},vD=()=>{const e=[{label:"Dashboard",path:"/admin/dashboard",icon:y.jsx(F1,{size:20})},{label:"Organizations",path:"/admin/organizations",icon:y.jsx(Jr,{size:20})}],t=[{label:"Dashboard",path:"/org-admin/dashboard",icon:y.jsx(F1,{size:20})},{label:"Locations",path:"/org-admin/locations",icon:y.jsx(Rs,{size:20})},{label:"Pending Approvals",path:"/org-admin/approvals",icon:y.jsx(Zc,{size:20})}],r=[{label:"Dashboard",path:"/vendor/dashboard",icon:y.jsx(F1,{size:20})},{label:"Live Orders",path:"/vendor/orders",icon:y.jsx(Bc,{size:20})},{label:"Menu",path:"/vendor/menu",icon:y.jsx(Ea,{size:20})},{label:"QR Scanner",path:"/vendor/qr-scanner",icon:y.jsx(Ca,{size:20})}],o=[{label:"Home",path:"/employee/home",icon:y.jsx(fl,{size:20})},{label:"Cart",path:"/employee/cart",icon:y.jsx(Bc,{size:20})},{label:"Track Order",path:"/employee/tracking",icon:y.jsx(Rs,{size:20})}];return y.jsxs(iA,{children:[y.jsx(kt,{path:"/",element:y.jsx(t_,{})}),y.jsx(kt,{element:y.jsx(Td,{allowedRoles:[qn.SUPER_ADMIN]}),children:y.jsxs(kt,{element:y.jsx(_d,{navigationLinks:e,brandName:"BiteDash Super"}),children:[y.jsx(kt,{path:"admin/dashboard",element:y.jsx(i_,{})}),y.jsx(kt,{path:"admin/organizations",element:y.jsx(r_,{})}),y.jsx(kt,{path:"admin",element:y.jsx(ro,{to:"/admin/dashboard",replace:!0})})]})}),y.jsx(kt,{element:y.jsx(Td,{allowedRoles:[qn.ORG_ADMIN]}),children:y.jsxs(kt,{element:y.jsx(_d,{navigationLinks:t,brandName:"BiteDash Org"}),children:[y.jsx(kt,{path:"org-admin/dashboard",element:y.jsx(o_,{})}),y.jsx(kt,{path:"org-admin/locations",element:y.jsx(l_,{})}),y.jsx(kt,{path:"org-admin/locations/:locationId",element:y.jsx(u_,{})}),y.jsx(kt,{path:"org-admin/approvals",element:y.jsx(a_,{})}),y.jsx(kt,{path:"org-admin",element:y.jsx(ro,{to:"/org-admin/dashboard",replace:!0})})]})}),y.jsx(kt,{element:y.jsx(Td,{allowedRoles:[qn.VENDOR]}),children:y.jsxs(kt,{element:y.jsx(_d,{navigationLinks:r,brandName:"BiteDash Vendor"}),children:[y.jsx(kt,{path:"vendor/dashboard",element:y.jsx(h_,{})}),y.jsx(kt,{path:"vendor/orders",element:y.jsx(C_,{})}),y.jsx(kt,{path:"vendor/menu",element:y.jsx(S_,{})}),y.jsx(kt,{path:"vendor/qr-scanner",element:y.jsx(dD,{})}),y.jsx(kt,{path:"vendor",element:y.jsx(ro,{to:"/vendor/dashboard",replace:!0})})]})}),y.jsx(kt,{element:y.jsx(Td,{allowedRoles:[qn.EMPLOYEE]}),children:y.jsxs(kt,{element:y.jsx(_d,{navigationLinks:o,brandName:"BiteDash"}),children:[y.jsx(kt,{path:"employee/home",element:y.jsx(hD,{})}),y.jsx(kt,{path:"employee/cart",element:y.jsx(mD,{})}),y.jsx(kt,{path:"employee/tracking",element:y.jsx(yD,{})}),y.jsx(kt,{path:"employee/vendor/:vendorId",element:y.jsx(bD,{})}),y.jsx(kt,{path:"employee",element:y.jsx(ro,{to:"/employee/home",replace:!0})})]})}),y.jsx(kt,{path:"*",element:y.jsx(ro,{to:"/",replace:!0})})]})},wD="modulepreload",xD=function(e){return"/"+e},Yx={},ED=function(t,r,o){let u=Promise.resolve();if(r&&r.length>0){let b=function(E){return Promise.all(E.map(A=>Promise.resolve(A).then(R=>({status:"fulfilled",value:R}),R=>({status:"rejected",reason:R}))))};var p=b;document.getElementsByTagName("link");const w=document.querySelector("meta[property=csp-nonce]"),x=w?.nonce||w?.getAttribute("nonce");u=b(r.map(E=>{if(E=xD(E),E in Yx)return;Yx[E]=!0;const A=E.endsWith(".css"),R=A?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${E}"]${R}`))return;const D=document.createElement("link");if(D.rel=A?"stylesheet":wD,A||(D.as="script"),D.crossOrigin="",D.href=E,x&&D.setAttribute("nonce",x),document.head.appendChild(D),A)return new Promise((_,k)=>{D.addEventListener("load",_),D.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${E}`)))})}))}function h(w){const x=new Event("vite:preloadError",{cancelable:!0});if(x.payload=w,window.dispatchEvent(x),!x.defaultPrevented)throw w}return u.then(w=>{for(const x of w||[])x.status==="rejected"&&h(x.reason);return t().catch(h)})};function CD(e={}){const{immediate:t=!1,onNeedRefresh:r,onOfflineReady:o,onRegistered:u,onRegisteredSW:h,onRegisterError:p}=e;let w,x;const b=async(A=!0)=>{await x};async function E(){if("serviceWorker"in navigator){if(w=await ED(async()=>{const{Workbox:A}=await import("./workbox-window.prod.es5-BIl4cyR9.js");return{Workbox:A}},[]).then(({Workbox:A})=>new A("/sw.js",{scope:"/",type:"classic"})).catch(A=>{p?.(A)}),!w)return;w.addEventListener("activated",A=>{(A.isUpdate||A.isExternal)&&window.location.reload()}),w.addEventListener("installed",A=>{A.isUpdate||o?.()}),w.register({immediate:t}).then(A=>{h?h("/sw.js",A):u?.(A)}).catch(A=>{p?.(A)})}}return x=E(),b}function SD(e={}){const{immediate:t=!0,onNeedRefresh:r,onOfflineReady:o,onRegistered:u,onRegisteredSW:h,onRegisterError:p}=e,[w,x]=H.useState(!1),[b,E]=H.useState(!1),[A]=H.useState(()=>CD({immediate:t,onOfflineReady(){E(!0),o?.()},onNeedRefresh(){x(!0),r?.()},onRegistered:u,onRegisteredSW:h,onRegisterError:p}));return{needRefresh:[w,x],offlineReady:[b,E],updateServiceWorker:A}}function AD(){const{offlineReady:[e,t],needRefresh:[r,o],updateServiceWorker:u}=SD(),h=()=>{t(!1),o(!1)};return y.jsx("div",{className:"fixed bottom-0 right-0 m-6 z-[100]",children:(e||r)&&y.jsxs("div",{className:"bg-white border border-brand-primary p-4 rounded-hb shadow-2xl flex flex-col gap-2",children:[y.jsx("p",{className:"font-bold text-gray-800",children:e?"App ready to work offline":"New version available!"}),y.jsxs("div",{className:"flex gap-2",children:[r&&y.jsx("button",{className:"bg-brand-primary text-white px-4 py-2 rounded-full text-sm",onClick:()=>u(!0),children:"Update Now"}),y.jsx("button",{className:"border border-gray-200 px-4 py-2 rounded-full text-sm",onClick:h,children:"Close"})]})]})})}const Oi={isSupported:()=>"Notification"in window&&"serviceWorker"in navigator,getPermission:()=>Oi.isSupported()?Notification.permission:"unsupported",requestPermission:async()=>{if(!Oi.isSupported())return console.warn("Notifications not supported in this browser"),"unsupported";try{const e=await Notification.requestPermission();return console.log("Notification permission:",e),e}catch(e){return console.error("Error requesting notification permission:",e),"denied"}},showNotification:(e,t={})=>{if(!Oi.isSupported())return console.warn("Notifications not supported"),null;if(Notification.permission!=="granted")return console.warn("Notification permission not granted"),null;const r={icon:"/logo.svg",badge:"/favicon.svg",vibrate:[200,100,200],requireInteraction:!1,...t};try{return new Notification(e,r)}catch(o){return console.error("Error showing notification:",o),null}},showServiceWorkerNotification:async(e,t={})=>{if(Oi.isSupported())try{const r=await navigator.serviceWorker.ready,o={body:"You have a new notification",icon:"/logo.svg",badge:"/favicon.svg",vibrate:[200,100,200],data:{},actions:[{action:"view",title:"View"},{action:"close",title:"Close"}],...t};await r.showNotification(e,o)}catch(r){console.error("Error showing service worker notification:",r)}},isDocumentVisible:()=>document.visibilityState==="visible",smartNotify:(e,t={},r=null)=>{Oi.isDocumentVisible()?r&&typeof r=="function"&&r(t.body||e):Oi.showNotification(e,t)},notifyOrderUpdate:e=>{const{orderNumber:t,status:r,message:o}=e;Oi.showNotification("Order Update",{body:o||`Order ${t} is now ${r}`,tag:`order-${t}`,data:{orderNumber:t,status:r,url:"/orders"},requireInteraction:r==="READY"})},test:async()=>{if(console.log("Testing notification service..."),console.log("Supported:",Oi.isSupported()),console.log("Permission:",Oi.getPermission()),Notification.permission!=="granted"){const e=await Oi.requestPermission();console.log("Permission after request:",e)}Notification.permission==="granted"&&Oi.showNotification("Test Notification",{body:"This is a test notification from BiteDash!",requireInteraction:!1})}};function ND(){return H.useEffect(()=>{(async()=>Oi.isSupported()&&Oi.getPermission()==="default"&&setTimeout(async()=>{const t=await Oi.requestPermission();console.log("Notification permission:",t)},2e3))()},[]),y.jsx(BT,{children:y.jsxs(ZR,{children:[y.jsx(vD,{}),y.jsx(LT,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#333",color:"#fff",borderRadius:"1rem",padding:"16px"},success:{iconTheme:{primary:"#ff5200",secondary:"#fff"}}}}),y.jsx(AD,{})]})})}const TD=new a8;r6.createRoot(document.getElementById("root")).render(y.jsx(H.StrictMode,{children:y.jsx(o8,{client:TD,children:y.jsx(TA,{children:y.jsx(ND,{})})})}));
